function Q4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K4(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Lm={exports:{}},K0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J4=Symbol.for("react.transitional.element"),$4=Symbol.for("react.fragment");function Mm(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:J4,type:e,key:r,ref:t!==void 0?t:null,props:n}}K0.Fragment=$4;K0.jsx=Mm;K0.jsxs=Mm;Lm.exports=K0;var y=Lm.exports,Om={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=Symbol.for("react.transitional.element"),ey=Symbol.for("react.portal"),ty=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),ry=Symbol.for("react.consumer"),ay=Symbol.for("react.context"),sy=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),ly=Symbol.for("react.memo"),Rm=Symbol.for("react.lazy"),bg=Symbol.iterator;function cy(e){return e===null||typeof e!="object"?null:(e=bg&&e[bg]||e["@@iterator"],typeof e=="function"?e:null)}var jm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bm=Object.assign,km={};function Bc(e,t,n){this.props=e,this.context=t,this.refs=km,this.updater=n||jm}Bc.prototype.isReactComponent={};Bc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pm(){}Pm.prototype=Bc.prototype;function Fd(e,t,n){this.props=e,this.context=t,this.refs=km,this.updater=n||jm}var Ud=Fd.prototype=new Pm;Ud.constructor=Fd;Bm(Ud,Bc.prototype);Ud.isPureReactComponent=!0;var wg=Array.isArray,ri={H:null,A:null,T:null,S:null,V:null},Fm=Object.prototype.hasOwnProperty;function zd(e,t,n,r,s,o){return n=o.ref,{$$typeof:Pd,type:e,key:t,ref:n!==void 0?n:null,props:o}}function uy(e,t){return zd(e.type,t,void 0,void 0,void 0,e.props)}function Hd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pd}function fy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ag=/\/+/g;function P1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fy(""+e.key):t.toString(36)}function Sg(){}function hy(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Sg,Sg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Kl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(o){case"bigint":case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Pd:case ey:f=!0;break;case Rm:return f=e._init,Kl(f(e._payload),t,n,r,s)}}if(f)return s=s(e),f=r===""?"."+P1(e,0):r,wg(s)?(n="",f!=null&&(n=f.replace(Ag,"$&/")+"/"),Kl(s,t,n,"",function(x){return x})):s!=null&&(Hd(s)&&(s=uy(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Ag,"$&/")+"/")+f)),t.push(s)),1;f=0;var d=r===""?".":r+":";if(wg(e))for(var p=0;p<e.length;p++)r=e[p],o=d+P1(r,p),f+=Kl(r,t,n,o,s);else if(p=cy(e),typeof p=="function")for(e=p.call(e),p=0;!(r=e.next()).done;)r=r.value,o=d+P1(r,p++),f+=Kl(r,t,n,o,s);else if(o==="object"){if(typeof e.then=="function")return Kl(hy(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return f}function kf(e,t,n){if(e==null)return e;var r=[],s=0;return Kl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function dy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ng=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gy(){}Zt.Children={map:kf,forEach:function(e,t,n){kf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kf(e,function(){t++}),t},toArray:function(e){return kf(e,function(t){return t})||[]},only:function(e){if(!Hd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=Bc;Zt.Fragment=ty;Zt.Profiler=iy;Zt.PureComponent=Fd;Zt.StrictMode=ny;Zt.Suspense=oy;Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ri;Zt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ri.H.useMemoCache(e)}};Zt.cache=function(e){return function(){return e.apply(null,arguments)}};Zt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Bm({},e.props),s=e.key,o=void 0;if(t!=null)for(f in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(s=""+t.key),t)!Fm.call(t,f)||f==="key"||f==="__self"||f==="__source"||f==="ref"&&t.ref===void 0||(r[f]=t[f]);var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){for(var d=Array(f),p=0;p<f;p++)d[p]=arguments[p+2];r.children=d}return zd(e.type,s,void 0,void 0,o,r)};Zt.createContext=function(e){return e={$$typeof:ay,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ry,_context:e},e};Zt.createElement=function(e,t,n){var r,s={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)Fm.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=t[r]);var f=arguments.length-2;if(f===1)s.children=n;else if(1<f){for(var d=Array(f),p=0;p<f;p++)d[p]=arguments[p+2];s.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)s[r]===void 0&&(s[r]=f[r]);return zd(e,o,void 0,void 0,null,s)};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:sy,render:e}};Zt.isValidElement=Hd;Zt.lazy=function(e){return{$$typeof:Rm,_payload:{_status:-1,_result:e},_init:dy}};Zt.memo=function(e,t){return{$$typeof:ly,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=ri.T,n={};ri.T=n;try{var r=e(),s=ri.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(gy,Ng)}catch(o){Ng(o)}finally{ri.T=t}};Zt.unstable_useCacheRefresh=function(){return ri.H.useCacheRefresh()};Zt.use=function(e){return ri.H.use(e)};Zt.useActionState=function(e,t,n){return ri.H.useActionState(e,t,n)};Zt.useCallback=function(e,t){return ri.H.useCallback(e,t)};Zt.useContext=function(e){return ri.H.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e,t){return ri.H.useDeferredValue(e,t)};Zt.useEffect=function(e,t,n){var r=ri.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};Zt.useId=function(){return ri.H.useId()};Zt.useImperativeHandle=function(e,t,n){return ri.H.useImperativeHandle(e,t,n)};Zt.useInsertionEffect=function(e,t){return ri.H.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return ri.H.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return ri.H.useMemo(e,t)};Zt.useOptimistic=function(e,t){return ri.H.useOptimistic(e,t)};Zt.useReducer=function(e,t,n){return ri.H.useReducer(e,t,n)};Zt.useRef=function(e){return ri.H.useRef(e)};Zt.useState=function(e){return ri.H.useState(e)};Zt.useSyncExternalStore=function(e,t,n){return ri.H.useSyncExternalStore(e,t,n)};Zt.useTransition=function(){return ri.H.useTransition()};Zt.version="19.1.0";Om.exports=Zt;var Ke=Om.exports;const kc=kd(Ke);var Um={exports:{}},J0={},zm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,$){var ce=J.length;J.push($);e:for(;0<ce;){var de=ce-1>>>1,be=J[de];if(0<s(be,$))J[de]=$,J[ce]=be,ce=de;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var $=J[0],ce=J.pop();if(ce!==$){J[0]=ce;e:for(var de=0,be=J.length,Pe=be>>>1;de<Pe;){var F=2*(de+1)-1,te=J[F],re=F+1,me=J[re];if(0>s(te,ce))re<be&&0>s(me,te)?(J[de]=me,J[re]=ce,de=re):(J[de]=te,J[F]=ce,de=F);else if(re<be&&0>s(me,ce))J[de]=me,J[re]=ce,de=re;else break e}}return $}function s(J,$){var ce=J.sortIndex-$.sortIndex;return ce!==0?ce:J.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var f=Date,d=f.now();e.unstable_now=function(){return f.now()-d}}var p=[],x=[],N=1,S=null,E=3,w=!1,j=!1,L=!1,P=!1,I=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(J){for(var $=n(x);$!==null;){if($.callback===null)r(x);else if($.startTime<=J)r(x),$.sortIndex=$.expirationTime,t(p,$);else break;$=n(x)}}function Y(J){if(L=!1,M(J),!j)if(n(p)!==null)j=!0,X||(X=!0,B());else{var $=n(x);$!==null&&ae(Y,$.startTime-J)}}var X=!1,k=-1,q=5,K=-1;function ge(){return P?!0:!(e.unstable_now()-K<q)}function U(){if(P=!1,X){var J=e.unstable_now();K=J;var $=!0;try{e:{j=!1,L&&(L=!1,_(k),k=-1),w=!0;var ce=E;try{t:{for(M(J),S=n(p);S!==null&&!(S.expirationTime>J&&ge());){var de=S.callback;if(typeof de=="function"){S.callback=null,E=S.priorityLevel;var be=de(S.expirationTime<=J);if(J=e.unstable_now(),typeof be=="function"){S.callback=be,M(J),$=!0;break t}S===n(p)&&r(p),M(J)}else r(p);S=n(p)}if(S!==null)$=!0;else{var Pe=n(x);Pe!==null&&ae(Y,Pe.startTime-J),$=!1}}break e}finally{S=null,E=ce,w=!1}$=void 0}}finally{$?B():X=!1}}}var B;if(typeof D=="function")B=function(){D(U)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,se=ie.port2;ie.port1.onmessage=U,B=function(){se.postMessage(null)}}else B=function(){I(U,0)};function ae(J,$){k=I(function(){J(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(J){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var ce=E;E=$;try{return J()}finally{E=ce}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(J,$){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=E;E=J;try{return $()}finally{E=ce}},e.unstable_scheduleCallback=function(J,$,ce){var de=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?de+ce:de):ce=de,J){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ce+be,J={id:N++,callback:$,priorityLevel:J,startTime:ce,expirationTime:be,sortIndex:-1},ce>de?(J.sortIndex=ce,t(x,J),n(p)===null&&J===n(x)&&(L?(_(k),k=-1):L=!0,ae(Y,ce-de))):(J.sortIndex=be,t(p,J),j||w||(j=!0,X||(X=!0,B()))),J},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(J){var $=E;return function(){var ce=E;E=$;try{return J.apply(this,arguments)}finally{E=ce}}}})(Hm);zm.exports=Hm;var py=zm.exports,qm={exports:{}},Or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=Ke;function Gm(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function co(){}var Mr={d:{f:co,r:function(){throw Error(Gm(522))},D:co,C:co,L:co,m:co,X:co,S:co,M:co},p:0,findDOMNode:null},xy=Symbol.for("react.portal");function yy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xy,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var gu=my.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function $0(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Mr;Or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Gm(299));return yy(e,t,null,n)};Or.flushSync=function(e){var t=gu.T,n=Mr.p;try{if(gu.T=null,Mr.p=2,e)return e()}finally{gu.T=t,Mr.p=n,Mr.d.f()}};Or.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Mr.d.C(e,t))};Or.prefetchDNS=function(e){typeof e=="string"&&Mr.d.D(e)};Or.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=$0(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Mr.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):n==="script"&&Mr.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Or.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=$0(t.as,t.crossOrigin);Mr.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Mr.d.M(e)};Or.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=$0(n,t.crossOrigin);Mr.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Or.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=$0(t.as,t.crossOrigin);Mr.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Mr.d.m(e)};Or.requestFormReset=function(e){Mr.d.r(e)};Or.unstable_batchedUpdates=function(e,t){return e(t)};Or.useFormState=function(e,t,n){return gu.H.useFormState(e,t,n)};Or.useFormStatus=function(){return gu.H.useHostTransitionStatus()};Or.version="19.1.0";function Vm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vm)}catch(e){console.error(e)}}Vm(),qm.exports=Or;var vy=qm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=py,Ym=Ke,by=vy;function Je(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Wm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ef(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cg(e){if(ef(e)!==e)throw Error(Je(188))}function wy(e){var t=e.alternate;if(!t){if(t=ef(e),t===null)throw Error(Je(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Cg(s),e;if(o===r)return Cg(s),t;o=o.sibling}throw Error(Je(188))}if(n.return!==r.return)n=s,r=o;else{for(var f=!1,d=s.child;d;){if(d===n){f=!0,n=s,r=o;break}if(d===r){f=!0,r=s,n=o;break}d=d.sibling}if(!f){for(d=o.child;d;){if(d===n){f=!0,n=o,r=s;break}if(d===r){f=!0,r=o,n=s;break}d=d.sibling}if(!f)throw Error(Je(189))}}if(n.alternate!==r)throw Error(Je(190))}if(n.tag!==3)throw Error(Je(188));return n.stateNode.current===n?e:t}function Zm(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Zm(e),t!==null)return t;e=e.sibling}return null}var Kn=Object.assign,Ay=Symbol.for("react.element"),Pf=Symbol.for("react.transitional.element"),uu=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),Sy=Symbol.for("react.provider"),Km=Symbol.for("react.consumer"),Ms=Symbol.for("react.context"),qd=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),Gd=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),Lh=Symbol.for("react.activity"),Ny=Symbol.for("react.memo_cache_sentinel"),Eg=Symbol.iterator;function eu(e){return e===null||typeof e!="object"?null:(e=Eg&&e[Eg]||e["@@iterator"],typeof e=="function"?e:null)}var Cy=Symbol.for("react.client.reference");function Mh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Cy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ic:return"Fragment";case _h:return"Profiler";case Qm:return"StrictMode";case Ih:return"Suspense";case Dh:return"SuspenseList";case Lh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case uu:return"Portal";case Ms:return(e.displayName||"Context")+".Provider";case Km:return(e._context.displayName||"Context")+".Consumer";case qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gd:return t=e.displayName||null,t!==null?t:Mh(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return Mh(e(t))}catch{}}return null}var fu=Array.isArray,Rt=Ym.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wn=by.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yl={pending:!1,data:null,method:null,action:null},Oh=[],rc=-1;function gs(e){return{current:e}}function tr(e){0>rc||(e.current=Oh[rc],Oh[rc]=null,rc--)}function ai(e,t){rc++,Oh[rc]=e.current,e.current=t}var cs=gs(null),Ru=gs(null),Do=gs(null),m0=gs(null);function x0(e,t){switch(ai(Do,t),ai(Ru,e),ai(cs,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lp(t),e=g3(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tr(cs),ai(cs,e)}function Nc(){tr(cs),tr(Ru),tr(Do)}function Rh(e){e.memoizedState!==null&&ai(m0,e);var t=cs.current,n=g3(t,e.type);t!==n&&(ai(Ru,e),ai(cs,n))}function y0(e){Ru.current===e&&(tr(cs),tr(Ru)),m0.current===e&&(tr(m0),Gu._currentValue=yl)}var jh=Object.prototype.hasOwnProperty,Vd=Gi.unstable_scheduleCallback,F1=Gi.unstable_cancelCallback,Ey=Gi.unstable_shouldYield,Ty=Gi.unstable_requestPaint,us=Gi.unstable_now,_y=Gi.unstable_getCurrentPriorityLevel,Jm=Gi.unstable_ImmediatePriority,$m=Gi.unstable_UserBlockingPriority,v0=Gi.unstable_NormalPriority,Iy=Gi.unstable_LowPriority,e5=Gi.unstable_IdlePriority,Dy=Gi.log,Ly=Gi.unstable_setDisableYieldValue,tf=null,la=null;function No(e){if(typeof Dy=="function"&&Ly(e),la&&typeof la.setStrictMode=="function")try{la.setStrictMode(tf,e)}catch{}}var ca=Math.clz32?Math.clz32:Ry,My=Math.log,Oy=Math.LN2;function Ry(e){return e>>>=0,e===0?32:31-(My(e)/Oy|0)|0}var Ff=256,Uf=4194304;function dl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function e1(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var d=r&134217727;return d!==0?(r=d&~o,r!==0?s=dl(r):(f&=d,f!==0?s=dl(f):n||(n=d&~e,n!==0&&(s=dl(n))))):(d=r&~o,d!==0?s=dl(d):f!==0?s=dl(f):n||(n=r&~e,n!==0&&(s=dl(n)))),s===0?0:t!==0&&t!==s&&!(t&o)&&(o=s&-s,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:s}function nf(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t5(){var e=Ff;return Ff<<=1,!(Ff&4194048)&&(Ff=256),e}function n5(){var e=Uf;return Uf<<=1,!(Uf&62914560)&&(Uf=4194304),e}function U1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rf(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function By(e,t,n,r,s,o){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,p=e.expirationTimes,x=e.hiddenUpdates;for(n=f&~n;0<n;){var N=31-ca(n),S=1<<N;d[N]=0,p[N]=-1;var E=x[N];if(E!==null)for(x[N]=null,N=0;N<E.length;N++){var w=E[N];w!==null&&(w.lane&=-536870913)}n&=~S}r!==0&&i5(e,r,0),o!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function i5(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ca(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function r5(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ca(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Yd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function a5(){var e=wn.p;return e!==0?e:(e=window.event,e===void 0?32:N3(e.type))}function ky(e,t){var n=wn.p;try{return wn.p=e,t()}finally{wn.p=n}}var Yo=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Yo,qr="__reactProps$"+Yo,Pc="__reactContainer$"+Yo,Bh="__reactEvents$"+Yo,Py="__reactListeners$"+Yo,Fy="__reactHandles$"+Yo,Tg="__reactResources$"+Yo,af="__reactMarker$"+Yo;function Xd(e){delete e[Ar],delete e[qr],delete e[Bh],delete e[Py],delete e[Fy]}function ac(e){var t=e[Ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pc]||n[Ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rp(e);e!==null;){if(n=e[Ar])return n;e=Rp(e)}return t}e=n,n=e.parentNode}return null}function Fc(e){if(e=e[Ar]||e[Pc]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function hu(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Je(33))}function mc(e){var t=e[Tg];return t||(t=e[Tg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $i(e){e[af]=!0}var s5=new Set,o5={};function Ol(e,t){Cc(e,t),Cc(e+"Capture",t)}function Cc(e,t){for(o5[e]=t,e=0;e<t.length;e++)s5.add(t[e])}var Uy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_g={},Ig={};function zy(e){return jh.call(Ig,e)?!0:jh.call(_g,e)?!1:Uy.test(e)?Ig[e]=!0:(_g[e]=!0,!1)}function i0(e,t,n){if(zy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function zf(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ts(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var z1,Dg;function Jl(e){if(z1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z1=t&&t[1]||"",Dg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z1+e+Dg}var H1=!1;function q1(e,t){if(!e||H1)return"";H1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var S=function(){throw Error()};if(Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(w){var E=w}Reflect.construct(e,[],S)}else{try{S.call()}catch(w){E=w}e.call(S.prototype)}}else{try{throw Error()}catch(w){E=w}(S=e())&&typeof S.catch=="function"&&S.catch(function(){})}}catch(w){if(w&&E&&typeof w.stack=="string")return[w.stack,E.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),f=o[0],d=o[1];if(f&&d){var p=f.split(`
`),x=d.split(`
`);for(s=r=0;r<p.length&&!p[r].includes("DetermineComponentFrameRoot");)r++;for(;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;if(r===p.length||s===x.length)for(r=p.length-1,s=x.length-1;1<=r&&0<=s&&p[r]!==x[s];)s--;for(;1<=r&&0<=s;r--,s--)if(p[r]!==x[s]){if(r!==1||s!==1)do if(r--,s--,0>s||p[r]!==x[s]){var N=`
`+p[r].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=r&&0<=s);break}}}finally{H1=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Jl(n):""}function Hy(e){switch(e.tag){case 26:case 27:case 5:return Jl(e.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 15:return q1(e.type,!1);case 11:return q1(e.type.render,!1);case 1:return q1(e.type,!0);case 31:return Jl("Activity");default:return""}}function Lg(e){try{var t="";do t+=Hy(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Na(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qy(e){var t=l5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){r=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function b0(e){e._valueTracker||(e._valueTracker=qy(e))}function c5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=l5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function w0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gy=/[\n"\\]/g;function Ta(e){return e.replace(Gy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function kh(e,t,n,r,s,o,f,d){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Na(t)):e.value!==""+Na(t)&&(e.value=""+Na(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Ph(e,f,Na(t)):n!=null?Ph(e,f,Na(n)):r!=null&&e.removeAttribute("value"),s==null&&o!=null&&(e.defaultChecked=!!o),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Na(d):e.removeAttribute("name")}function u5(e,t,n,r,s,o,f,d){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Na(n):"",t=t!=null?""+Na(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=d?e.checked:!!r,e.defaultChecked=!!r,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function Ph(e,t,n){t==="number"&&w0(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Na(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function f5(e,t,n){if(t!=null&&(t=""+Na(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Na(n):""}function h5(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(Je(92));if(fu(r)){if(1<r.length)throw Error(Je(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Na(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Ec(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mg(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Vy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function d5(e,t,n){if(t!=null&&typeof t!="object")throw Error(Je(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Mg(e,s,r)}else for(var o in t)t.hasOwnProperty(o)&&Mg(e,o,t[o])}function Zd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function r0(e){return Wy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fh=null;function Qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sc=null,yc=null;function Og(e){var t=Fc(e);if(t&&(e=t.stateNode)){var n=e[qr]||null;e:switch(e=t.stateNode,t.type){case"input":if(kh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ta(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[qr]||null;if(!s)throw Error(Je(90));kh(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&c5(r)}break e;case"textarea":f5(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xc(e,!!n.multiple,t,!1)}}}var G1=!1;function g5(e,t,n){if(G1)return e(t,n);G1=!0;try{var r=e(t);return r}finally{if(G1=!1,(sc!==null||yc!==null)&&(u1(),sc&&(t=sc,e=yc,yc=sc=null,Og(t),e)))for(t=0;t<e.length;t++)Og(e[t])}}function ju(e,t){var n=e.stateNode;if(n===null)return null;var r=n[qr]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Je(231,t,typeof n));return n}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=!1;if(zs)try{var tu={};Object.defineProperty(tu,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{Uh=!1}var Co=null,Kd=null,a0=null;function p5(){if(a0)return a0;var e,t=Kd,n=t.length,r,s="value"in Co?Co.value:Co.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===s[o-r];r++);return a0=s.slice(e,1<r?1-r:void 0)}function s0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hf(){return!0}function Rg(){return!1}function Gr(e){function t(n,r,s,o,f){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hf:Rg,this.isPropagationStopped=Rg,this}return Kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hf)},persist:function(){},isPersistent:Hf}),t}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t1=Gr(Rl),sf=Kn({},Rl,{view:0,detail:0}),Xy=Gr(sf),V1,Y1,nu,n1=Kn({},sf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nu&&(nu&&e.type==="mousemove"?(V1=e.screenX-nu.screenX,Y1=e.screenY-nu.screenY):Y1=V1=0,nu=e),V1)},movementY:function(e){return"movementY"in e?e.movementY:Y1}}),jg=Gr(n1),Zy=Kn({},n1,{dataTransfer:0}),Qy=Gr(Zy),Ky=Kn({},sf,{relatedTarget:0}),W1=Gr(Ky),Jy=Kn({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=Gr(Jy),ev=Kn({},Rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tv=Gr(ev),nv=Kn({},Rl,{data:0}),Bg=Gr(nv),iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=av[e])?!!t[e]:!1}function Jd(){return sv}var ov=Kn({},sf,{key:function(e){if(e.key){var t=iv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=s0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(e){return e.type==="keypress"?s0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?s0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lv=Gr(ov),cv=Kn({},n1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kg=Gr(cv),uv=Kn({},sf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),fv=Gr(uv),hv=Kn({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dv=Gr(hv),gv=Kn({},n1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pv=Gr(gv),mv=Kn({},Rl,{newState:0,oldState:0}),xv=Gr(mv),yv=[9,13,27,32],$d=zs&&"CompositionEvent"in window,pu=null;zs&&"documentMode"in document&&(pu=document.documentMode);var vv=zs&&"TextEvent"in window&&!pu,m5=zs&&(!$d||pu&&8<pu&&11>=pu),Pg=" ",Fg=!1;function x5(e,t){switch(e){case"keyup":return yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oc=!1;function bv(e,t){switch(e){case"compositionend":return y5(t);case"keypress":return t.which!==32?null:(Fg=!0,Pg);case"textInput":return e=t.data,e===Pg&&Fg?null:e;default:return null}}function wv(e,t){if(oc)return e==="compositionend"||!$d&&x5(e,t)?(e=p5(),a0=Kd=Co=null,oc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m5&&t.locale!=="ko"?null:t.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Av[e.type]:t==="textarea"}function v5(e,t,n,r){sc?yc?yc.push(r):yc=[r]:sc=r,t=F0(t,"onChange"),0<t.length&&(n=new t1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mu=null,Bu=null;function Sv(e){f3(e,0)}function i1(e){var t=hu(e);if(c5(t))return e}function zg(e,t){if(e==="change")return t}var b5=!1;if(zs){var X1;if(zs){var Z1="oninput"in document;if(!Z1){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Z1=typeof Hg.oninput=="function"}X1=Z1}else X1=!1;b5=X1&&(!document.documentMode||9<document.documentMode)}function qg(){mu&&(mu.detachEvent("onpropertychange",w5),Bu=mu=null)}function w5(e){if(e.propertyName==="value"&&i1(Bu)){var t=[];v5(t,Bu,e,Qd(e)),g5(Sv,t)}}function Nv(e,t,n){e==="focusin"?(qg(),mu=t,Bu=n,mu.attachEvent("onpropertychange",w5)):e==="focusout"&&qg()}function Cv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return i1(Bu)}function Ev(e,t){if(e==="click")return i1(t)}function Tv(e,t){if(e==="input"||e==="change")return i1(t)}function _v(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ha=typeof Object.is=="function"?Object.is:_v;function ku(e,t){if(ha(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jh.call(t,s)||!ha(e[s],t[s]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,t){var n=Gg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gg(n)}}function A5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S5(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=w0(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=w0(e.document)}return t}function e2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Iv=zs&&"documentMode"in document&&11>=document.documentMode,lc=null,zh=null,xu=null,Hh=!1;function Yg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||lc==null||lc!==w0(r)||(r=lc,"selectionStart"in r&&e2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xu&&ku(xu,r)||(xu=r,r=F0(zh,"onSelect"),0<r.length&&(t=new t1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lc)))}function hl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cc={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionrun:hl("Transition","TransitionRun"),transitionstart:hl("Transition","TransitionStart"),transitioncancel:hl("Transition","TransitionCancel"),transitionend:hl("Transition","TransitionEnd")},Q1={},N5={};zs&&(N5=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function jl(e){if(Q1[e])return Q1[e];if(!cc[e])return e;var t=cc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in N5)return Q1[e]=t[n];return e}var C5=jl("animationend"),E5=jl("animationiteration"),T5=jl("animationstart"),Dv=jl("transitionrun"),Lv=jl("transitionstart"),Mv=jl("transitioncancel"),_5=jl("transitionend"),I5=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Ya(e,t){I5.set(e,t),Ol(t,[e])}var Wg=new WeakMap;function _a(e,t){if(typeof e=="object"&&e!==null){var n=Wg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lg(t)},Wg.set(e,t),t)}return{value:e,source:t,stack:Lg(t)}}var Sa=[],uc=0,t2=0;function r1(){for(var e=uc,t=t2=uc=0;t<e;){var n=Sa[t];Sa[t++]=null;var r=Sa[t];Sa[t++]=null;var s=Sa[t];Sa[t++]=null;var o=Sa[t];if(Sa[t++]=null,r!==null&&s!==null){var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}o!==0&&D5(n,s,o)}}function a1(e,t,n,r){Sa[uc++]=e,Sa[uc++]=t,Sa[uc++]=n,Sa[uc++]=r,t2|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function n2(e,t,n,r){return a1(e,t,n,r),A0(e)}function Uc(e,t){return a1(e,null,null,t),A0(e)}function D5(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var s=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(s=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,s&&t!==null&&(s=31-ca(n),e=o.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=n|536870912),o):null}function A0(e){if(50<Tu)throw Tu=0,ud=null,Error(Je(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fc={};function Ov(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(e,t,n,r){return new Ov(e,t,n,r)}function i2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fs(e,t){var n=e.alternate;return n===null?(n=ra(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function L5(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function o0(e,t,n,r,s,o){var f=0;if(r=e,typeof e=="function")i2(e)&&(f=1);else if(typeof e=="string")f=jb(e,n,cs.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Lh:return e=ra(31,n,t,s),e.elementType=Lh,e.lanes=o,e;case ic:return vl(n.children,s,o,t);case Qm:f=8,s|=24;break;case _h:return e=ra(12,n,t,s|2),e.elementType=_h,e.lanes=o,e;case Ih:return e=ra(13,n,t,s),e.elementType=Ih,e.lanes=o,e;case Dh:return e=ra(19,n,t,s),e.elementType=Dh,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sy:case Ms:f=10;break e;case Km:f=9;break e;case qd:f=11;break e;case Gd:f=14;break e;case mo:f=16,r=null;break e}f=29,n=Error(Je(130,e===null?"null":typeof e,"")),r=null}return t=ra(f,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function vl(e,t,n,r){return e=ra(7,e,r,t),e.lanes=n,e}function K1(e,t,n){return e=ra(6,e,null,t),e.lanes=n,e}function J1(e,t,n){return t=ra(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hc=[],dc=0,S0=null,N0=0,Ca=[],Ea=0,bl=null,Os=1,Rs="";function gl(e,t){hc[dc++]=N0,hc[dc++]=S0,S0=e,N0=t}function M5(e,t,n){Ca[Ea++]=Os,Ca[Ea++]=Rs,Ca[Ea++]=bl,bl=e;var r=Os;e=Rs;var s=32-ca(r)-1;r&=~(1<<s),n+=1;var o=32-ca(t)+s;if(30<o){var f=s-s%5;o=(r&(1<<f)-1).toString(32),r>>=f,s-=f,Os=1<<32-ca(t)+s|n<<s|r,Rs=o+e}else Os=1<<o|n<<s|r,Rs=e}function r2(e){e.return!==null&&(gl(e,1),M5(e,1,0))}function a2(e){for(;e===S0;)S0=hc[--dc],hc[dc]=null,N0=hc[--dc],hc[dc]=null;for(;e===bl;)bl=Ca[--Ea],Ca[Ea]=null,Rs=Ca[--Ea],Ca[Ea]=null,Os=Ca[--Ea],Ca[Ea]=null}var Lr=null,yi=null,bn=!1,wl=null,as=!1,Gh=Error(Je(519));function Il(e){var t=Error(Je(418,""));throw Pu(_a(t,e)),Gh}function Xg(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ar]=e,t[qr]=r,n){case"dialog":tn("cancel",t),tn("close",t);break;case"iframe":case"object":case"embed":tn("load",t);break;case"video":case"audio":for(n=0;n<zu.length;n++)tn(zu[n],t);break;case"source":tn("error",t);break;case"img":case"image":case"link":tn("error",t),tn("load",t);break;case"details":tn("toggle",t);break;case"input":tn("invalid",t),u5(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),b0(t);break;case"select":tn("invalid",t);break;case"textarea":tn("invalid",t),h5(t,r.value,r.defaultValue,r.children),b0(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||d3(t.textContent,n)?(r.popover!=null&&(tn("beforetoggle",t),tn("toggle",t)),r.onScroll!=null&&tn("scroll",t),r.onScrollEnd!=null&&tn("scrollend",t),r.onClick!=null&&(t.onclick=d1),t=!0):t=!1,t||Il(e)}function Zg(e){for(Lr=e.return;Lr;)switch(Lr.tag){case 5:case 13:as=!1;return;case 27:case 3:as=!0;return;default:Lr=Lr.return}}function iu(e){if(e!==Lr)return!1;if(!bn)return Zg(e),bn=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||md(e.type,e.memoizedProps)),n=!n),n&&yi&&Il(e),Zg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){yi=Va(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}yi=null}}else t===27?(t=yi,Wo(e.type)?(e=vd,vd=null,yi=e):yi=t):yi=Lr?Va(e.stateNode.nextSibling):null;return!0}function of(){yi=Lr=null,bn=!1}function Qg(){var e=wl;return e!==null&&(Hr===null?Hr=e:Hr.push.apply(Hr,e),wl=null),e}function Pu(e){wl===null?wl=[e]:wl.push(e)}var Vh=gs(null),Bl=null,js=null;function vo(e,t,n){ai(Vh,t._currentValue),t._currentValue=n}function Us(e){e._currentValue=Vh.current,tr(Vh)}function Yh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wh(e,t,n,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){var f=s.child;o=o.firstContext;e:for(;o!==null;){var d=o;o=s;for(var p=0;p<t.length;p++)if(d.context===t[p]){o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Yh(o.return,n,e),r||(f=null);break e}o=d.next}}else if(s.tag===18){if(f=s.return,f===null)throw Error(Je(341));f.lanes|=n,o=f.alternate,o!==null&&(o.lanes|=n),Yh(f,n,e),f=null}else f=s.child;if(f!==null)f.return=s;else for(f=s;f!==null;){if(f===e){f=null;break}if(s=f.sibling,s!==null){s.return=f.return,f=s;break}f=f.return}s=f}}function lf(e,t,n,r){e=null;for(var s=t,o=!1;s!==null;){if(!o){if(s.flags&524288)o=!0;else if(s.flags&262144)break}if(s.tag===10){var f=s.alternate;if(f===null)throw Error(Je(387));if(f=f.memoizedProps,f!==null){var d=s.type;ha(s.pendingProps.value,f.value)||(e!==null?e.push(d):e=[d])}}else if(s===m0.current){if(f=s.alternate,f===null)throw Error(Je(387));f.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Gu):e=[Gu])}s=s.return}e!==null&&Wh(t,e,n,r),t.flags|=262144}function C0(e){for(e=e.firstContext;e!==null;){if(!ha(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dl(e){Bl=e,js=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sr(e){return O5(Bl,e)}function qf(e,t){return Bl===null&&Dl(e),O5(e,t)}function O5(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},js===null){if(e===null)throw Error(Je(308));js=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else js=js.next=t;return n}var Rv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},jv=Gi.unstable_scheduleCallback,Bv=Gi.unstable_NormalPriority,Hi={$$typeof:Ms,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s2(){return{controller:new Rv,data:new Map,refCount:0}}function cf(e){e.refCount--,e.refCount===0&&jv(Bv,function(){e.controller.abort()})}var yu=null,Xh=0,Tc=0,vc=null;function kv(e,t){if(yu===null){var n=yu=[];Xh=0,Tc=I2(),vc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Xh++,t.then(Kg,Kg),t}function Kg(){if(--Xh===0&&yu!==null){vc!==null&&(vc.status="fulfilled");var e=yu;yu=null,Tc=0,vc=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Pv(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var Jg=Rt.S;Rt.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&kv(e,t),Jg!==null&&Jg(e,t)};var Al=gs(null);function o2(){var e=Al.current;return e!==null?e:qn.pooledCache}function l0(e,t){t===null?ai(Al,Al.current):ai(Al,t.pool)}function R5(){var e=o2();return e===null?null:{parent:Hi._currentValue,pool:e}}var uf=Error(Je(460)),j5=Error(Je(474)),s1=Error(Je(542)),Zh={then:function(){}};function $g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gf(){}function B5(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Gf,Gf),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tp(e),e;default:if(typeof t.status=="string")t.then(Gf,Gf);else{if(e=qn,e!==null&&100<e.shellSuspendCounter)throw Error(Je(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tp(e),e}throw vu=t,uf}}var vu=null;function ep(){if(vu===null)throw Error(Je(459));var e=vu;return vu=null,e}function tp(e){if(e===uf||e===s1)throw Error(Je(483))}var xo=!1;function l2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=A0(e),D5(e,null,n),t}return a1(e,r,t,n),A0(e)}function bu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,r5(e,n)}}function $1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?s=o=f:o=o.next=f,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Kh=!1;function wu(){if(Kh){var e=vc;if(e!==null)throw e}}function Au(e,t,n,r){Kh=!1;var s=e.updateQueue;xo=!1;var o=s.firstBaseUpdate,f=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var p=d,x=p.next;p.next=null,f===null?o=x:f.next=x,f=p;var N=e.alternate;N!==null&&(N=N.updateQueue,d=N.lastBaseUpdate,d!==f&&(d===null?N.firstBaseUpdate=x:d.next=x,N.lastBaseUpdate=p))}if(o!==null){var S=s.baseState;f=0,N=x=p=null,d=o;do{var E=d.lane&-536870913,w=E!==d.lane;if(w?(hn&E)===E:(r&E)===E){E!==0&&E===Tc&&(Kh=!0),N!==null&&(N=N.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var j=e,L=d;E=t;var P=n;switch(L.tag){case 1:if(j=L.payload,typeof j=="function"){S=j.call(P,S,E);break e}S=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=L.payload,E=typeof j=="function"?j.call(P,S,E):j,E==null)break e;S=Kn({},S,E);break e;case 2:xo=!0}}E=d.callback,E!==null&&(e.flags|=64,w&&(e.flags|=8192),w=s.callbacks,w===null?s.callbacks=[E]:w.push(E))}else w={lane:E,tag:d.tag,payload:d.payload,callback:d.callback,next:null},N===null?(x=N=w,p=S):N=N.next=w,f|=E;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;w=d,d=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);N===null&&(p=S),s.baseState=p,s.firstBaseUpdate=x,s.lastBaseUpdate=N,o===null&&(s.shared.lanes=0),Ho|=f,e.lanes=f,e.memoizedState=S}}function k5(e,t){if(typeof e!="function")throw Error(Je(191,e));e.call(t)}function P5(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)k5(n[e],t)}var _c=gs(null),E0=gs(0);function np(e,t){e=Gs,ai(E0,e),ai(_c,t),Gs=e|t.baseLanes}function Jh(){ai(E0,Gs),ai(_c,_c.current)}function c2(){Gs=E0.current,tr(_c),tr(E0)}var Uo=0,Kt=null,Rn=null,ji=null,T0=!1,bc=!1,Ll=!1,_0=0,Fu=0,wc=null,Fv=0;function Ti(){throw Error(Je(321))}function u2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ha(e[n],t[n]))return!1;return!0}function f2(e,t,n,r,s,o){return Uo=o,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rt.H=e===null||e.memoizedState===null?px:mx,Ll=!1,o=n(r,s),Ll=!1,bc&&(o=U5(t,n,r,s)),F5(e),o}function F5(e){Rt.H=I0;var t=Rn!==null&&Rn.next!==null;if(Uo=0,ji=Rn=Kt=null,T0=!1,Fu=0,wc=null,t)throw Error(Je(300));e===null||er||(e=e.dependencies,e!==null&&C0(e)&&(er=!0))}function U5(e,t,n,r){Kt=e;var s=0;do{if(bc&&(wc=null),Fu=0,bc=!1,25<=s)throw Error(Je(301));if(s+=1,ji=Rn=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Rt.H=Yv,o=t(n,r)}while(bc);return o}function Uv(){var e=Rt.H,t=e.useState()[0];return t=typeof t.then=="function"?ff(t):t,e=e.useState()[0],(Rn!==null?Rn.memoizedState:null)!==e&&(Kt.flags|=1024),t}function h2(){var e=_0!==0;return _0=0,e}function d2(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function g2(e){if(T0){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}T0=!1}Uo=0,ji=Rn=Kt=null,bc=!1,Fu=_0=0,wc=null}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?Kt.memoizedState=ji=e:ji=ji.next=e,ji}function Bi(){if(Rn===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=ji===null?Kt.memoizedState:ji.next;if(t!==null)ji=t,Rn=e;else{if(e===null)throw Kt.alternate===null?Error(Je(467)):Error(Je(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},ji===null?Kt.memoizedState=ji=e:ji=ji.next=e}return ji}function p2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ff(e){var t=Fu;return Fu+=1,wc===null&&(wc=[]),e=B5(wc,e,t),t=Kt,(ji===null?t.memoizedState:ji.next)===null&&(t=t.alternate,Rt.H=t===null||t.memoizedState===null?px:mx),e}function o1(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ff(e);if(e.$$typeof===Ms)return Sr(e)}throw Error(Je(438,String(e)))}function m2(e){var t=null,n=Kt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Kt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=p2(),Kt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=Ny;return t.index++,n}function Hs(e,t){return typeof t=="function"?t(e):t}function c0(e){var t=Bi();return x2(t,Rn,e)}function x2(e,t,n){var r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=n;var s=e.baseQueue,o=r.pending;if(o!==null){if(s!==null){var f=s.next;s.next=o.next,o.next=f}t.baseQueue=s=o,r.pending=null}if(o=e.baseState,s===null)e.memoizedState=o;else{t=s.next;var d=f=null,p=null,x=t,N=!1;do{var S=x.lane&-536870913;if(S!==x.lane?(hn&S)===S:(Uo&S)===S){var E=x.revertLane;if(E===0)p!==null&&(p=p.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),S===Tc&&(N=!0);else if((Uo&E)===E){x=x.next,E===Tc&&(N=!0);continue}else S={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},p===null?(d=p=S,f=o):p=p.next=S,Kt.lanes|=E,Ho|=E;S=x.action,Ll&&n(o,S),o=x.hasEagerState?x.eagerState:n(o,S)}else E={lane:S,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},p===null?(d=p=E,f=o):p=p.next=E,Kt.lanes|=S,Ho|=S;x=x.next}while(x!==null&&x!==t);if(p===null?f=o:p.next=d,!ha(o,e.memoizedState)&&(er=!0,N&&(n=vc,n!==null)))throw n;e.memoizedState=o,e.baseState=f,e.baseQueue=p,r.lastRenderedState=o}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function eh(e){var t=Bi(),n=t.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var f=s=s.next;do o=e(o,f.action),f=f.next;while(f!==s);ha(o,t.memoizedState)||(er=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function z5(e,t,n){var r=Kt,s=Bi(),o=bn;if(o){if(n===void 0)throw Error(Je(407));n=n()}else n=t();var f=!ha((Rn||s).memoizedState,n);f&&(s.memoizedState=n,er=!0),s=s.queue;var d=G5.bind(null,r,s,e);if(hf(2048,8,d,[e]),s.getSnapshot!==t||f||ji!==null&&ji.memoizedState.tag&1){if(r.flags|=2048,Ic(9,l1(),q5.bind(null,r,s,n,t),null),qn===null)throw Error(Je(349));o||Uo&124||H5(r,t,n)}return n}function H5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Kt.updateQueue,t===null?(t=p2(),Kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function q5(e,t,n,r){t.value=n,t.getSnapshot=r,V5(t)&&Y5(e)}function G5(e,t,n){return n(function(){V5(t)&&Y5(e)})}function V5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ha(e,n)}catch{return!0}}function Y5(e){var t=Uc(e,2);t!==null&&fa(t,e,2)}function $h(e){var t=Ur();if(typeof e=="function"){var n=e;if(e=n(),Ll){No(!0);try{n()}finally{No(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function W5(e,t,n,r){return e.baseState=n,x2(e,Rn,typeof r=="function"?r:Hs)}function zv(e,t,n,r,s){if(c1(e))throw Error(Je(485));if(e=t.action,e!==null){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};Rt.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,X5(t,o)):(o.next=n.next,t.pending=n.next=o)}}function X5(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var o=Rt.T,f={};Rt.T=f;try{var d=n(s,r),p=Rt.S;p!==null&&p(f,d),ip(e,t,d)}catch(x){ed(e,t,x)}finally{Rt.T=o}}else try{o=n(s,r),ip(e,t,o)}catch(x){ed(e,t,x)}}function ip(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){rp(e,t,r)},function(r){return ed(e,t,r)}):rp(e,t,n)}function rp(e,t,n){t.status="fulfilled",t.value=n,Z5(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,X5(e,n)))}function ed(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Z5(t),t=t.next;while(t!==r)}e.action=null}function Z5(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Q5(e,t){return t}function ap(e,t){if(bn){var n=qn.formState;if(n!==null){e:{var r=Kt;if(bn){if(yi){t:{for(var s=yi,o=as;s.nodeType!==8;){if(!o){s=null;break t}if(s=Va(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){yi=Va(s.nextSibling),r=s.data==="F!";break e}}Il(r)}r=!1}r&&(t=n[0])}}return n=Ur(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q5,lastRenderedState:t},n.queue=r,n=hx.bind(null,Kt,r),r.dispatch=n,r=$h(!1),o=w2.bind(null,Kt,!1,r.queue),r=Ur(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,n=zv.bind(null,Kt,s,o,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function sp(e){var t=Bi();return K5(t,Rn,e)}function K5(e,t,n){if(t=x2(e,t,Q5)[0],e=c0(Hs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ff(t)}catch(f){throw f===uf?s1:f}else r=t;t=Bi();var s=t.queue,o=s.dispatch;return n!==t.memoizedState&&(Kt.flags|=2048,Ic(9,l1(),Hv.bind(null,s,n),null)),[r,o,e]}function Hv(e,t){e.action=t}function op(e){var t=Bi(),n=Rn;if(n!==null)return K5(t,n,e);Bi(),t=t.memoizedState,n=Bi();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ic(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Kt.updateQueue,t===null&&(t=p2(),Kt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function l1(){return{destroy:void 0,resource:void 0}}function J5(){return Bi().memoizedState}function u0(e,t,n,r){var s=Ur();r=r===void 0?null:r,Kt.flags|=e,s.memoizedState=Ic(1|t,l1(),n,r)}function hf(e,t,n,r){var s=Bi();r=r===void 0?null:r;var o=s.memoizedState.inst;Rn!==null&&r!==null&&u2(r,Rn.memoizedState.deps)?s.memoizedState=Ic(t,o,n,r):(Kt.flags|=e,s.memoizedState=Ic(1|t,o,n,r))}function lp(e,t){u0(8390656,8,e,t)}function $5(e,t){hf(2048,8,e,t)}function ex(e,t){return hf(4,2,e,t)}function tx(e,t){return hf(4,4,e,t)}function nx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ix(e,t,n){n=n!=null?n.concat([e]):null,hf(4,4,nx.bind(null,t,e),n)}function y2(){}function rx(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&u2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ax(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&u2(t,r[1]))return r[0];if(r=e(),Ll){No(!0);try{e()}finally{No(!1)}}return n.memoizedState=[r,t],r}function v2(e,t,n){return n===void 0||Uo&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Zx(),Kt.lanes|=e,Ho|=e,n)}function sx(e,t,n,r){return ha(n,t)?n:_c.current!==null?(e=v2(e,n,r),ha(e,t)||(er=!0),e):Uo&42?(e=Zx(),Kt.lanes|=e,Ho|=e,t):(er=!0,e.memoizedState=n)}function ox(e,t,n,r,s){var o=wn.p;wn.p=o!==0&&8>o?o:8;var f=Rt.T,d={};Rt.T=d,w2(e,!1,t,n);try{var p=s(),x=Rt.S;if(x!==null&&x(d,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var N=Pv(p,r);Su(e,t,N,ua(e))}else Su(e,t,r,ua(e))}catch(S){Su(e,t,{then:function(){},status:"rejected",reason:S},ua())}finally{wn.p=o,Rt.T=f}}function qv(){}function td(e,t,n,r){if(e.tag!==5)throw Error(Je(476));var s=lx(e).queue;ox(e,s,t,yl,n===null?qv:function(){return cx(e),n(r)})}function lx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:yl,baseState:yl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:yl},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cx(e){var t=lx(e).next.queue;Su(e,t,{},ua())}function b2(){return Sr(Gu)}function ux(){return Bi().memoizedState}function fx(){return Bi().memoizedState}function Gv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ua();e=Lo(n);var r=Mo(t,e,n);r!==null&&(fa(r,t,n),bu(r,t,n)),t={cache:s2()},e.payload=t;return}t=t.return}}function Vv(e,t,n){var r=ua();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},c1(e)?dx(t,n):(n=n2(e,t,n,r),n!==null&&(fa(n,e,r),gx(n,t,r)))}function hx(e,t,n){var r=ua();Su(e,t,n,r)}function Su(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(c1(e))dx(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,d=o(f,n);if(s.hasEagerState=!0,s.eagerState=d,ha(d,f))return a1(e,t,s,0),qn===null&&r1(),!1}catch{}finally{}if(n=n2(e,t,s,r),n!==null)return fa(n,e,r),gx(n,t,r),!0}return!1}function w2(e,t,n,r){if(r={lane:2,revertLane:I2(),action:r,hasEagerState:!1,eagerState:null,next:null},c1(e)){if(t)throw Error(Je(479))}else t=n2(e,n,r,2),t!==null&&fa(t,e,2)}function c1(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function dx(e,t){bc=T0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gx(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,r5(e,n)}}var I0={readContext:Sr,use:o1,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useLayoutEffect:Ti,useInsertionEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useSyncExternalStore:Ti,useId:Ti,useHostTransitionStatus:Ti,useFormState:Ti,useActionState:Ti,useOptimistic:Ti,useMemoCache:Ti,useCacheRefresh:Ti},px={readContext:Sr,use:o1,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:Sr,useEffect:lp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,u0(4194308,4,nx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return u0(4194308,4,e,t)},useInsertionEffect:function(e,t){u0(4,2,e,t)},useMemo:function(e,t){var n=Ur();t=t===void 0?null:t;var r=e();if(Ll){No(!0);try{e()}finally{No(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ur();if(n!==void 0){var s=n(t);if(Ll){No(!0);try{n(t)}finally{No(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Vv.bind(null,Kt,e),[r.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:function(e){e=$h(e);var t=e.queue,n=hx.bind(null,Kt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:y2,useDeferredValue:function(e,t){var n=Ur();return v2(n,e,t)},useTransition:function(){var e=$h(!1);return e=ox.bind(null,Kt,e.queue,!0,!1),Ur().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Kt,s=Ur();if(bn){if(n===void 0)throw Error(Je(407));n=n()}else{if(n=t(),qn===null)throw Error(Je(349));hn&124||H5(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,lp(G5.bind(null,r,o,e),[e]),r.flags|=2048,Ic(9,l1(),q5.bind(null,r,o,n,t),null),n},useId:function(){var e=Ur(),t=qn.identifierPrefix;if(bn){var n=Rs,r=Os;n=(r&~(1<<32-ca(r)-1)).toString(32)+n,t="«"+t+"R"+n,n=_0++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Fv++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:b2,useFormState:ap,useActionState:ap,useOptimistic:function(e){var t=Ur();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=w2.bind(null,Kt,!0,n),n.dispatch=t,[e,t]},useMemoCache:m2,useCacheRefresh:function(){return Ur().memoizedState=Gv.bind(null,Kt)}},mx={readContext:Sr,use:o1,useCallback:rx,useContext:Sr,useEffect:$5,useImperativeHandle:ix,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ax,useReducer:c0,useRef:J5,useState:function(){return c0(Hs)},useDebugValue:y2,useDeferredValue:function(e,t){var n=Bi();return sx(n,Rn.memoizedState,e,t)},useTransition:function(){var e=c0(Hs)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:ff(e),t]},useSyncExternalStore:z5,useId:ux,useHostTransitionStatus:b2,useFormState:sp,useActionState:sp,useOptimistic:function(e,t){var n=Bi();return W5(n,Rn,e,t)},useMemoCache:m2,useCacheRefresh:fx},Yv={readContext:Sr,use:o1,useCallback:rx,useContext:Sr,useEffect:$5,useImperativeHandle:ix,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ax,useReducer:eh,useRef:J5,useState:function(){return eh(Hs)},useDebugValue:y2,useDeferredValue:function(e,t){var n=Bi();return Rn===null?v2(n,e,t):sx(n,Rn.memoizedState,e,t)},useTransition:function(){var e=eh(Hs)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:ff(e),t]},useSyncExternalStore:z5,useId:ux,useHostTransitionStatus:b2,useFormState:op,useActionState:op,useOptimistic:function(e,t){var n=Bi();return Rn!==null?W5(n,Rn,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:m2,useCacheRefresh:fx},Ac=null,Uu=0;function Vf(e){var t=Uu;return Uu+=1,Ac===null&&(Ac=[]),B5(Ac,e,t)}function ru(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yf(e,t){throw t.$$typeof===Ay?Error(Je(525)):(e=Object.prototype.toString.call(t),Error(Je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cp(e){var t=e._init;return t(e._payload)}function xx(e){function t(I,_){if(e){var D=I.deletions;D===null?(I.deletions=[_],I.flags|=16):D.push(_)}}function n(I,_){if(!e)return null;for(;_!==null;)t(I,_),_=_.sibling;return null}function r(I){for(var _=new Map;I!==null;)I.key!==null?_.set(I.key,I):_.set(I.index,I),I=I.sibling;return _}function s(I,_){return I=Fs(I,_),I.index=0,I.sibling=null,I}function o(I,_,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<_?(I.flags|=67108866,_):D):(I.flags|=67108866,_)):(I.flags|=1048576,_)}function f(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function d(I,_,D,M){return _===null||_.tag!==6?(_=K1(D,I.mode,M),_.return=I,_):(_=s(_,D),_.return=I,_)}function p(I,_,D,M){var Y=D.type;return Y===ic?N(I,_,D.props.children,M,D.key):_!==null&&(_.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===mo&&cp(Y)===_.type)?(_=s(_,D.props),ru(_,D),_.return=I,_):(_=o0(D.type,D.key,D.props,null,I.mode,M),ru(_,D),_.return=I,_)}function x(I,_,D,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==D.containerInfo||_.stateNode.implementation!==D.implementation?(_=J1(D,I.mode,M),_.return=I,_):(_=s(_,D.children||[]),_.return=I,_)}function N(I,_,D,M,Y){return _===null||_.tag!==7?(_=vl(D,I.mode,M,Y),_.return=I,_):(_=s(_,D),_.return=I,_)}function S(I,_,D){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=K1(""+_,I.mode,D),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pf:return D=o0(_.type,_.key,_.props,null,I.mode,D),ru(D,_),D.return=I,D;case uu:return _=J1(_,I.mode,D),_.return=I,_;case mo:var M=_._init;return _=M(_._payload),S(I,_,D)}if(fu(_)||eu(_))return _=vl(_,I.mode,D,null),_.return=I,_;if(typeof _.then=="function")return S(I,Vf(_),D);if(_.$$typeof===Ms)return S(I,qf(I,_),D);Yf(I,_)}return null}function E(I,_,D,M){var Y=_!==null?_.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Y!==null?null:d(I,_,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Pf:return D.key===Y?p(I,_,D,M):null;case uu:return D.key===Y?x(I,_,D,M):null;case mo:return Y=D._init,D=Y(D._payload),E(I,_,D,M)}if(fu(D)||eu(D))return Y!==null?null:N(I,_,D,M,null);if(typeof D.then=="function")return E(I,_,Vf(D),M);if(D.$$typeof===Ms)return E(I,_,qf(I,D),M);Yf(I,D)}return null}function w(I,_,D,M,Y){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return I=I.get(D)||null,d(_,I,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Pf:return I=I.get(M.key===null?D:M.key)||null,p(_,I,M,Y);case uu:return I=I.get(M.key===null?D:M.key)||null,x(_,I,M,Y);case mo:var X=M._init;return M=X(M._payload),w(I,_,D,M,Y)}if(fu(M)||eu(M))return I=I.get(D)||null,N(_,I,M,Y,null);if(typeof M.then=="function")return w(I,_,D,Vf(M),Y);if(M.$$typeof===Ms)return w(I,_,D,qf(_,M),Y);Yf(_,M)}return null}function j(I,_,D,M){for(var Y=null,X=null,k=_,q=_=0,K=null;k!==null&&q<D.length;q++){k.index>q?(K=k,k=null):K=k.sibling;var ge=E(I,k,D[q],M);if(ge===null){k===null&&(k=K);break}e&&k&&ge.alternate===null&&t(I,k),_=o(ge,_,q),X===null?Y=ge:X.sibling=ge,X=ge,k=K}if(q===D.length)return n(I,k),bn&&gl(I,q),Y;if(k===null){for(;q<D.length;q++)k=S(I,D[q],M),k!==null&&(_=o(k,_,q),X===null?Y=k:X.sibling=k,X=k);return bn&&gl(I,q),Y}for(k=r(k);q<D.length;q++)K=w(k,I,q,D[q],M),K!==null&&(e&&K.alternate!==null&&k.delete(K.key===null?q:K.key),_=o(K,_,q),X===null?Y=K:X.sibling=K,X=K);return e&&k.forEach(function(U){return t(I,U)}),bn&&gl(I,q),Y}function L(I,_,D,M){if(D==null)throw Error(Je(151));for(var Y=null,X=null,k=_,q=_=0,K=null,ge=D.next();k!==null&&!ge.done;q++,ge=D.next()){k.index>q?(K=k,k=null):K=k.sibling;var U=E(I,k,ge.value,M);if(U===null){k===null&&(k=K);break}e&&k&&U.alternate===null&&t(I,k),_=o(U,_,q),X===null?Y=U:X.sibling=U,X=U,k=K}if(ge.done)return n(I,k),bn&&gl(I,q),Y;if(k===null){for(;!ge.done;q++,ge=D.next())ge=S(I,ge.value,M),ge!==null&&(_=o(ge,_,q),X===null?Y=ge:X.sibling=ge,X=ge);return bn&&gl(I,q),Y}for(k=r(k);!ge.done;q++,ge=D.next())ge=w(k,I,q,ge.value,M),ge!==null&&(e&&ge.alternate!==null&&k.delete(ge.key===null?q:ge.key),_=o(ge,_,q),X===null?Y=ge:X.sibling=ge,X=ge);return e&&k.forEach(function(B){return t(I,B)}),bn&&gl(I,q),Y}function P(I,_,D,M){if(typeof D=="object"&&D!==null&&D.type===ic&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Pf:e:{for(var Y=D.key;_!==null;){if(_.key===Y){if(Y=D.type,Y===ic){if(_.tag===7){n(I,_.sibling),M=s(_,D.props.children),M.return=I,I=M;break e}}else if(_.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===mo&&cp(Y)===_.type){n(I,_.sibling),M=s(_,D.props),ru(M,D),M.return=I,I=M;break e}n(I,_);break}else t(I,_);_=_.sibling}D.type===ic?(M=vl(D.props.children,I.mode,M,D.key),M.return=I,I=M):(M=o0(D.type,D.key,D.props,null,I.mode,M),ru(M,D),M.return=I,I=M)}return f(I);case uu:e:{for(Y=D.key;_!==null;){if(_.key===Y)if(_.tag===4&&_.stateNode.containerInfo===D.containerInfo&&_.stateNode.implementation===D.implementation){n(I,_.sibling),M=s(_,D.children||[]),M.return=I,I=M;break e}else{n(I,_);break}else t(I,_);_=_.sibling}M=J1(D,I.mode,M),M.return=I,I=M}return f(I);case mo:return Y=D._init,D=Y(D._payload),P(I,_,D,M)}if(fu(D))return j(I,_,D,M);if(eu(D)){if(Y=eu(D),typeof Y!="function")throw Error(Je(150));return D=Y.call(D),L(I,_,D,M)}if(typeof D.then=="function")return P(I,_,Vf(D),M);if(D.$$typeof===Ms)return P(I,_,qf(I,D),M);Yf(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,_!==null&&_.tag===6?(n(I,_.sibling),M=s(_,D),M.return=I,I=M):(n(I,_),M=K1(D,I.mode,M),M.return=I,I=M),f(I)):n(I,_)}return function(I,_,D,M){try{Uu=0;var Y=P(I,_,D,M);return Ac=null,Y}catch(k){if(k===uf||k===s1)throw k;var X=ra(29,k,null,I.mode);return X.lanes=M,X.return=I,X}finally{}}}var Dc=xx(!0),yx=xx(!1),Da=gs(null),fs=null;function bo(e){var t=e.alternate;ai(qi,qi.current&1),ai(Da,e),fs===null&&(t===null||_c.current!==null||t.memoizedState!==null)&&(fs=e)}function vx(e){if(e.tag===22){if(ai(qi,qi.current),ai(Da,e),fs===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(fs=e)}}else wo()}function wo(){ai(qi,qi.current),ai(Da,Da.current)}function Bs(e){tr(Da),fs===e&&(fs=null),tr(qi)}var qi=gs(0);function D0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||yd(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function th(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Kn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nd={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ua(),s=Lo(r);s.payload=t,n!=null&&(s.callback=n),t=Mo(e,s,r),t!==null&&(fa(t,e,r),bu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ua(),s=Lo(r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Mo(e,s,r),t!==null&&(fa(t,e,r),bu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ua(),r=Lo(n);r.tag=2,t!=null&&(r.callback=t),t=Mo(e,r,n),t!==null&&(fa(t,e,n),bu(t,e,n))}};function up(e,t,n,r,s,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,f):t.prototype&&t.prototype.isPureReactComponent?!ku(n,r)||!ku(s,o):!0}function fp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nd.enqueueReplaceState(t,t.state,null)}function Ml(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Kn({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var L0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function bx(e){L0(e)}function wx(e){console.error(e)}function Ax(e){L0(e)}function M0(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function hp(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function id(e,t,n){return n=Lo(n),n.tag=3,n.payload={element:null},n.callback=function(){M0(e,t)},n}function Sx(e){return e=Lo(e),e.tag=3,e}function Nx(e,t,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var o=r.value;e.payload=function(){return s(o)},e.callback=function(){hp(t,n,r)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){hp(t,n,r),typeof s!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var d=r.stack;this.componentDidCatch(r.value,{componentStack:d!==null?d:""})})}function Wv(e,t,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&lf(t,n,s,!0),n=Da.current,n!==null){switch(n.tag){case 13:return fs===null?fd():n.alternate===null&&vi===0&&(vi=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Zh?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),hh(e,r,s)),!1;case 22:return n.flags|=65536,r===Zh?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),hh(e,r,s)),!1}throw Error(Je(435,n.tag))}return hh(e,r,s),fd(),!1}if(bn)return t=Da.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==Gh&&(e=Error(Je(422),{cause:r}),Pu(_a(e,n)))):(r!==Gh&&(t=Error(Je(423),{cause:r}),Pu(_a(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=_a(r,n),s=id(e.stateNode,r,s),$1(e,s),vi!==4&&(vi=2)),!1;var o=Error(Je(520),{cause:r});if(o=_a(o,n),Eu===null?Eu=[o]:Eu.push(o),vi!==4&&(vi=2),t===null)return!0;r=_a(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=id(n.stateNode,r,e),$1(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Oo===null||!Oo.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Sx(s),Nx(s,e,n,r),$1(n,s),!1}n=n.return}while(n!==null);return!1}var Cx=Error(Je(461)),er=!1;function lr(e,t,n,r){t.child=e===null?yx(t,null,n,r):Dc(t,e.child,n,r)}function dp(e,t,n,r,s){n=n.render;var o=t.ref;if("ref"in r){var f={};for(var d in r)d!=="ref"&&(f[d]=r[d])}else f=r;return Dl(t),r=f2(e,t,n,f,o,s),d=h2(),e!==null&&!er?(d2(e,t,s),qs(e,t,s)):(bn&&d&&r2(t),t.flags|=1,lr(e,t,r,s),t.child)}function gp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!i2(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Ex(e,t,o,r,s)):(e=o0(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!A2(e,s)){var f=o.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(f,r)&&e.ref===t.ref)return qs(e,t,s)}return t.flags|=1,e=Fs(o,r),e.ref=t.ref,e.return=t,t.child=e}function Ex(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ku(o,r)&&e.ref===t.ref)if(er=!1,t.pendingProps=r=o,A2(e,s))e.flags&131072&&(er=!0);else return t.lanes=e.lanes,qs(e,t,s)}return rd(e,t,n,r,s)}function Tx(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return pp(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&l0(t,o!==null?o.cachePool:null),o!==null?np(t,o):Jh(),vx(t);else return t.lanes=t.childLanes=536870912,pp(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(l0(t,o.cachePool),np(t,o),wo(),t.memoizedState=null):(e!==null&&l0(t,null),Jh(),wo());return lr(e,t,s,n),t.child}function pp(e,t,n,r){var s=o2();return s=s===null?null:{parent:Hi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&l0(t,null),Jh(),vx(t),e!==null&&lf(e,t,r,!0),null}function f0(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Je(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rd(e,t,n,r,s){return Dl(t),n=f2(e,t,n,r,void 0,s),r=h2(),e!==null&&!er?(d2(e,t,s),qs(e,t,s)):(bn&&r&&r2(t),t.flags|=1,lr(e,t,n,s),t.child)}function mp(e,t,n,r,s,o){return Dl(t),t.updateQueue=null,n=U5(t,r,n,s),F5(e),r=h2(),e!==null&&!er?(d2(e,t,o),qs(e,t,o)):(bn&&r&&r2(t),t.flags|=1,lr(e,t,n,o),t.child)}function xp(e,t,n,r,s){if(Dl(t),t.stateNode===null){var o=fc,f=n.contextType;typeof f=="object"&&f!==null&&(o=Sr(f)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nd,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},l2(t),f=n.contextType,o.context=typeof f=="object"&&f!==null?Sr(f):fc,o.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(th(t,n,f,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&nd.enqueueReplaceState(o,o.state,null),Au(t,r,o,s),wu(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var d=t.memoizedProps,p=Ml(n,d);o.props=p;var x=o.context,N=n.contextType;f=fc,typeof N=="object"&&N!==null&&(f=Sr(N));var S=n.getDerivedStateFromProps;N=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,N||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d||x!==f)&&fp(t,o,r,f),xo=!1;var E=t.memoizedState;o.state=E,Au(t,r,o,s),wu(),x=t.memoizedState,d||E!==x||xo?(typeof S=="function"&&(th(t,n,S,r),x=t.memoizedState),(p=xo||up(t,n,p,r,E,x,f))?(N||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=f,r=p):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Qh(e,t),f=t.memoizedProps,N=Ml(n,f),o.props=N,S=t.pendingProps,E=o.context,x=n.contextType,p=fc,typeof x=="object"&&x!==null&&(p=Sr(x)),d=n.getDerivedStateFromProps,(x=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==S||E!==p)&&fp(t,o,r,p),xo=!1,E=t.memoizedState,o.state=E,Au(t,r,o,s),wu();var w=t.memoizedState;f!==S||E!==w||xo||e!==null&&e.dependencies!==null&&C0(e.dependencies)?(typeof d=="function"&&(th(t,n,d,r),w=t.memoizedState),(N=xo||up(t,n,N,r,E,w,p)||e!==null&&e.dependencies!==null&&C0(e.dependencies))?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,p),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,p)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=p,r=N):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,f0(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Dc(t,e.child,null,s),t.child=Dc(t,null,n,s)):lr(e,t,n,s),t.memoizedState=o.state,e=t.child):e=qs(e,t,s),e}function yp(e,t,n,r){return of(),t.flags|=256,lr(e,t,n,r),t.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ih(e){return{baseLanes:e,cachePool:R5()}}function rh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ia),e}function _x(e,t,n){var r=t.pendingProps,s=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(qi.current&2)!==0),f&&(s=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(bn){if(s?bo(t):wo(),bn){var d=yi,p;if(p=d){e:{for(p=d,d=as;p.nodeType!==8;){if(!d){d=null;break e}if(p=Va(p.nextSibling),p===null){d=null;break e}}d=p}d!==null?(t.memoizedState={dehydrated:d,treeContext:bl!==null?{id:Os,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},p=ra(18,null,null,0),p.stateNode=d,p.return=t,t.child=p,Lr=t,yi=null,p=!0):p=!1}p||Il(t)}if(d=t.memoizedState,d!==null&&(d=d.dehydrated,d!==null))return yd(d)?t.lanes=32:t.lanes=536870912,null;Bs(t)}return d=r.children,r=r.fallback,s?(wo(),s=t.mode,d=O0({mode:"hidden",children:d},s),r=vl(r,s,n,null),d.return=t,r.return=t,d.sibling=r,t.child=d,s=t.child,s.memoizedState=ih(n),s.childLanes=rh(e,f,n),t.memoizedState=nh,r):(bo(t),ad(t,d))}if(p=e.memoizedState,p!==null&&(d=p.dehydrated,d!==null)){if(o)t.flags&256?(bo(t),t.flags&=-257,t=ah(e,t,n)):t.memoizedState!==null?(wo(),t.child=e.child,t.flags|=128,t=null):(wo(),s=r.fallback,d=t.mode,r=O0({mode:"visible",children:r.children},d),s=vl(s,d,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,Dc(t,e.child,null,n),r=t.child,r.memoizedState=ih(n),r.childLanes=rh(e,f,n),t.memoizedState=nh,t=s);else if(bo(t),yd(d)){if(f=d.nextSibling&&d.nextSibling.dataset,f)var x=f.dgst;f=x,r=Error(Je(419)),r.stack="",r.digest=f,Pu({value:r,source:null,stack:null}),t=ah(e,t,n)}else if(er||lf(e,t,n,!1),f=(n&e.childLanes)!==0,er||f){if(f=qn,f!==null&&(r=n&-n,r=r&42?1:Yd(r),r=r&(f.suspendedLanes|n)?0:r,r!==0&&r!==p.retryLane))throw p.retryLane=r,Uc(e,r),fa(f,e,r),Cx;d.data==="$?"||fd(),t=ah(e,t,n)}else d.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,yi=Va(d.nextSibling),Lr=t,bn=!0,wl=null,as=!1,e!==null&&(Ca[Ea++]=Os,Ca[Ea++]=Rs,Ca[Ea++]=bl,Os=e.id,Rs=e.overflow,bl=t),t=ad(t,r.children),t.flags|=4096);return t}return s?(wo(),s=r.fallback,d=t.mode,p=e.child,x=p.sibling,r=Fs(p,{mode:"hidden",children:r.children}),r.subtreeFlags=p.subtreeFlags&65011712,x!==null?s=Fs(x,s):(s=vl(s,d,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,d=e.child.memoizedState,d===null?d=ih(n):(p=d.cachePool,p!==null?(x=Hi._currentValue,p=p.parent!==x?{parent:x,pool:x}:p):p=R5(),d={baseLanes:d.baseLanes|n,cachePool:p}),s.memoizedState=d,s.childLanes=rh(e,f,n),t.memoizedState=nh,r):(bo(t),n=e.child,e=n.sibling,n=Fs(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function ad(e,t){return t=O0({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function O0(e,t){return e=ra(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ah(e,t,n){return Dc(t,e.child,null,n),e=ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yh(e.return,t,n)}function sh(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ix(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(lr(e,t,r.children,n),r=qi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,n,t);else if(e.tag===19)vp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(ai(qi,r),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&D0(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),sh(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&D0(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}sh(t,!0,n,null,o);break;case"together":sh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ho|=t.lanes,!(n&t.childLanes))if(e!==null){if(lf(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Je(153));if(t.child!==null){for(e=t.child,n=Fs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A2(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&C0(e)))}function Xv(e,t,n){switch(t.tag){case 3:x0(t,t.stateNode.containerInfo),vo(t,Hi,e.memoizedState.cache),of();break;case 27:case 5:Rh(t);break;case 4:x0(t,t.stateNode.containerInfo);break;case 10:vo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(bo(t),t.flags|=128,null):n&t.child.childLanes?_x(e,t,n):(bo(t),e=qs(e,t,n),e!==null?e.sibling:null);bo(t);break;case 19:var s=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(lf(e,t,n,!1),r=(n&t.childLanes)!==0),s){if(r)return Ix(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ai(qi,qi.current),r)break;return null;case 22:case 23:return t.lanes=0,Tx(e,t,n);case 24:vo(t,Hi,e.memoizedState.cache)}return qs(e,t,n)}function Dx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)er=!0;else{if(!A2(e,n)&&!(t.flags&128))return er=!1,Xv(e,t,n);er=!!(e.flags&131072)}else er=!1,bn&&t.flags&1048576&&M5(t,N0,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,typeof r=="function")i2(r)?(e=Ml(r,e),t.tag=1,t=xp(null,t,r,e,n)):(t.tag=0,t=rd(null,t,r,e,n));else{if(r!=null){if(s=r.$$typeof,s===qd){t.tag=11,t=dp(null,t,r,e,n);break e}else if(s===Gd){t.tag=14,t=gp(null,t,r,e,n);break e}}throw t=Mh(r)||r,Error(Je(306,t,""))}}return t;case 0:return rd(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,s=Ml(r,t.pendingProps),xp(e,t,r,s,n);case 3:e:{if(x0(t,t.stateNode.containerInfo),e===null)throw Error(Je(387));r=t.pendingProps;var o=t.memoizedState;s=o.element,Qh(e,t),Au(t,r,null,n);var f=t.memoizedState;if(r=f.cache,vo(t,Hi,r),r!==o.cache&&Wh(t,[Hi],n,!0),wu(),r=f.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=yp(e,t,r,n);break e}else if(r!==s){s=_a(Error(Je(424)),t),Pu(s),t=yp(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(yi=Va(e.firstChild),Lr=t,bn=!0,wl=null,as=!0,n=yx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(of(),r===s){t=qs(e,t,n);break e}lr(e,t,r,n)}t=t.child}return t;case 26:return f0(e,t),e===null?(n=Bp(t.type,null,t.pendingProps,null))?t.memoizedState=n:bn||(n=t.type,e=t.pendingProps,r=U0(Do.current).createElement(n),r[Ar]=t,r[qr]=e,ur(r,n,e),$i(r),t.stateNode=r):t.memoizedState=Bp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Rh(t),e===null&&bn&&(r=t.stateNode=m3(t.type,t.pendingProps,Do.current),Lr=t,as=!0,s=yi,Wo(t.type)?(vd=s,yi=Va(r.firstChild)):yi=s),lr(e,t,t.pendingProps.children,n),f0(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&bn&&((s=r=yi)&&(r=Ab(r,t.type,t.pendingProps,as),r!==null?(t.stateNode=r,Lr=t,yi=Va(r.firstChild),as=!1,s=!0):s=!1),s||Il(t)),Rh(t),s=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,r=o.children,md(s,o)?r=null:f!==null&&md(s,f)&&(t.flags|=32),t.memoizedState!==null&&(s=f2(e,t,Uv,null,null,n),Gu._currentValue=s),f0(e,t),lr(e,t,r,n),t.child;case 6:return e===null&&bn&&((e=n=yi)&&(n=Sb(n,t.pendingProps,as),n!==null?(t.stateNode=n,Lr=t,yi=null,e=!0):e=!1),e||Il(t)),null;case 13:return _x(e,t,n);case 4:return x0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dc(t,null,r,n):lr(e,t,r,n),t.child;case 11:return dp(e,t,t.type,t.pendingProps,n);case 7:return lr(e,t,t.pendingProps,n),t.child;case 8:return lr(e,t,t.pendingProps.children,n),t.child;case 12:return lr(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,vo(t,t.type,r.value),lr(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Dl(t),s=Sr(s),r=r(s),t.flags|=1,lr(e,t,r,n),t.child;case 14:return gp(e,t,t.type,t.pendingProps,n);case 15:return Ex(e,t,t.type,t.pendingProps,n);case 19:return Ix(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=O0(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Fs(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Tx(e,t,n);case 24:return Dl(t),r=Sr(Hi),e===null?(s=o2(),s===null&&(s=qn,o=s2(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:r,cache:s},l2(t),vo(t,Hi,s)):(e.lanes&n&&(Qh(e,t),Au(t,null,null,n),wu()),s=e.memoizedState,o=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),vo(t,Hi,r)):(r=o.cache,vo(t,Hi,r),r!==s.cache&&Wh(t,[Hi],n,!0))),lr(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Je(156,t.tag))}function _s(e){e.flags|=4}function bp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!v3(t)){if(t=Da.current,t!==null&&((hn&4194048)===hn?fs!==null:(hn&62914560)!==hn&&!(hn&536870912)||t!==fs))throw vu=Zh,j5;e.flags|=8192}}function Wf(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?n5():536870912,e.lanes|=t,Lc|=t)}function au(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zv(e,t,n){var r=t.pendingProps;switch(a2(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return ui(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Us(Hi),Nc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(iu(t)?_s(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qg())),ui(t),null;case 26:return n=t.memoizedState,e===null?(_s(t),n!==null?(ui(t),bp(t,n)):(ui(t),t.flags&=-16777217)):n?n!==e.memoizedState?(_s(t),ui(t),bp(t,n)):(ui(t),t.flags&=-16777217):(e.memoizedProps!==r&&_s(t),ui(t),t.flags&=-16777217),null;case 27:y0(t),n=Do.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_s(t);else{if(!r){if(t.stateNode===null)throw Error(Je(166));return ui(t),null}e=cs.current,iu(t)?Xg(t):(e=m3(s,r,n),t.stateNode=e,_s(t))}return ui(t),null;case 5:if(y0(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_s(t);else{if(!r){if(t.stateNode===null)throw Error(Je(166));return ui(t),null}if(e=cs.current,iu(t))Xg(t);else{switch(s=U0(Do.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Ar]=t,e[qr]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ur(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_s(t)}}return ui(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&_s(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Je(166));if(e=Do.current,iu(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,s=Lr,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Ar]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||d3(e.nodeValue,n)),e||Il(t)}else e=U0(e).createTextNode(r),e[Ar]=t,t.stateNode=e}return ui(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=iu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Je(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Je(317));s[Ar]=t}else of(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),s=!1}else s=Qg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Bs(t),t):(Bs(t),null)}if(Bs(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wf(t,t.updateQueue),ui(t),null;case 4:return Nc(),e===null&&D2(t.stateNode.containerInfo),ui(t),null;case 10:return Us(t.type),ui(t),null;case 19:if(tr(qi),s=t.memoizedState,s===null)return ui(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)au(s,!1);else{if(vi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=D0(e),o!==null){for(t.flags|=128,au(s,!1),e=o.updateQueue,t.updateQueue=e,Wf(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)L5(n,e),n=n.sibling;return ai(qi,qi.current&1|2),t.child}e=e.sibling}s.tail!==null&&us()>j0&&(t.flags|=128,r=!0,au(s,!1),t.lanes=4194304)}else{if(!r)if(e=D0(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wf(t,e),au(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bn)return ui(t),null}else 2*us()-s.renderingStartTime>j0&&n!==536870912&&(t.flags|=128,r=!0,au(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=us(),t.sibling=null,e=qi.current,ai(qi,r?e&1|2:e&1),t):(ui(t),null);case 22:case 23:return Bs(t),c2(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),n=t.updateQueue,n!==null&&Wf(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&tr(Al),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Us(Hi),ui(t),null;case 25:return null;case 30:return null}throw Error(Je(156,t.tag))}function Qv(e,t){switch(a2(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Us(Hi),Nc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return y0(t),null;case 13:if(Bs(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Je(340));of()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(qi),null;case 4:return Nc(),null;case 10:return Us(t.type),null;case 22:case 23:return Bs(t),c2(),e!==null&&tr(Al),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Us(Hi),null;case 25:return null;default:return null}}function Lx(e,t){switch(a2(t),t.tag){case 3:Us(Hi),Nc();break;case 26:case 27:case 5:y0(t);break;case 4:Nc();break;case 13:Bs(t);break;case 19:tr(qi);break;case 10:Us(t.type);break;case 22:case 23:Bs(t),c2(),e!==null&&tr(Al);break;case 24:Us(Hi)}}function df(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var o=n.create,f=n.inst;r=o(),f.destroy=r}n=n.next}while(n!==s)}}catch(d){kn(t,t.return,d)}}function zo(e,t,n){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var o=s.next;r=o;do{if((r.tag&e)===e){var f=r.inst,d=f.destroy;if(d!==void 0){f.destroy=void 0,s=t;var p=n,x=d;try{x()}catch(N){kn(s,p,N)}}}r=r.next}while(r!==o)}}catch(N){kn(t,t.return,N)}}function Mx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{P5(t,n)}catch(r){kn(e,e.return,r)}}}function Ox(e,t,n){n.props=Ml(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){kn(e,t,r)}}function Nu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(s){kn(e,t,s)}}function ss(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){kn(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){kn(e,t,s)}else n.current=null}function Rx(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){kn(e,e.return,s)}}function oh(e,t,n){try{var r=e.stateNode;xb(r,e.type,n,t),r[qr]=t}catch(s){kn(e,e.return,s)}}function jx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wo(e.type)||e.tag===4}function lh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=d1));else if(r!==4&&(r===27&&Wo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(sd(e,t,n),e=e.sibling;e!==null;)sd(e,t,n),e=e.sibling}function R0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Wo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(R0(e,t,n),e=e.sibling;e!==null;)R0(e,t,n),e=e.sibling}function Bx(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ur(t,r,n),t[Ar]=e,t[qr]=n}catch(o){kn(e,e.return,o)}}var Ls=!1,_i=!1,ch=!1,wp=typeof WeakSet=="function"?WeakSet:Set,Ji=null;function Kv(e,t){if(e=e.containerInfo,gd=G0,e=S5(e),e2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var f=0,d=-1,p=-1,x=0,N=0,S=e,E=null;t:for(;;){for(var w;S!==n||s!==0&&S.nodeType!==3||(d=f+s),S!==o||r!==0&&S.nodeType!==3||(p=f+r),S.nodeType===3&&(f+=S.nodeValue.length),(w=S.firstChild)!==null;)E=S,S=w;for(;;){if(S===e)break t;if(E===n&&++x===s&&(d=f),E===o&&++N===r&&(p=f),(w=S.nextSibling)!==null)break;S=E,E=S.parentNode}S=w}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:e,selectionRange:n},G0=!1,Ji=t;Ji!==null;)if(t=Ji,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ji=e;else for(;Ji!==null;){switch(t=Ji,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var j=Ml(n.type,s,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(j,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(L){kn(n,n.return,L)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)xd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Je(163))}if(e=t.sibling,e!==null){e.return=t.return,Ji=e;break}Ji=t.return}}function kx(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:uo(e,n),r&4&&df(5,n);break;case 1:if(uo(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){kn(n,n.return,f)}else{var s=Ml(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){kn(n,n.return,f)}}r&64&&Mx(n),r&512&&Nu(n,n.return);break;case 3:if(uo(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{P5(e,t)}catch(f){kn(n,n.return,f)}}break;case 27:t===null&&r&4&&Bx(n);case 26:case 5:uo(e,n),t===null&&r&4&&Rx(n),r&512&&Nu(n,n.return);break;case 12:uo(e,n);break;case 13:uo(e,n),r&4&&Ux(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=sb.bind(null,n),Nb(e,n))));break;case 22:if(r=n.memoizedState!==null||Ls,!r){t=t!==null&&t.memoizedState!==null||_i,s=Ls;var o=_i;Ls=r,(_i=t)&&!o?po(e,n,(n.subtreeFlags&8772)!==0):uo(e,n),Ls=s,_i=o}break;case 30:break;default:uo(e,n)}}function Px(e){var t=e.alternate;t!==null&&(e.alternate=null,Px(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ii=null,zr=!1;function Is(e,t,n){for(n=n.child;n!==null;)Fx(e,t,n),n=n.sibling}function Fx(e,t,n){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 26:_i||ss(n,t),Is(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_i||ss(n,t);var r=ii,s=zr;Wo(n.type)&&(ii=n.stateNode,zr=!1),Is(e,t,n),_u(n.stateNode),ii=r,zr=s;break;case 5:_i||ss(n,t);case 6:if(r=ii,s=zr,ii=null,Is(e,t,n),ii=r,zr=s,ii!==null)if(zr)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(n.stateNode)}catch(o){kn(n,t,o)}else try{ii.removeChild(n.stateNode)}catch(o){kn(n,t,o)}break;case 18:ii!==null&&(zr?(e=ii,Op(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Wu(e)):Op(ii,n.stateNode));break;case 4:r=ii,s=zr,ii=n.stateNode.containerInfo,zr=!0,Is(e,t,n),ii=r,zr=s;break;case 0:case 11:case 14:case 15:_i||zo(2,n,t),_i||zo(4,n,t),Is(e,t,n);break;case 1:_i||(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Ox(n,t,r)),Is(e,t,n);break;case 21:Is(e,t,n);break;case 22:_i=(r=_i)||n.memoizedState!==null,Is(e,t,n),_i=r;break;default:Is(e,t,n)}}function Ux(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wu(e)}catch(n){kn(t,t.return,n)}}function Jv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wp),t;default:throw Error(Je(435,e.tag))}}function uh(e,t){var n=Jv(e);t.forEach(function(r){var s=ob.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}function $r(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],o=e,f=t,d=f;e:for(;d!==null;){switch(d.tag){case 27:if(Wo(d.type)){ii=d.stateNode,zr=!1;break e}break;case 5:ii=d.stateNode,zr=!1;break e;case 3:case 4:ii=d.stateNode.containerInfo,zr=!0;break e}d=d.return}if(ii===null)throw Error(Je(160));Fx(o,f,s),ii=null,zr=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)zx(t,e),t=t.sibling}var Ha=null;function zx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$r(t,e),ea(e),r&4&&(zo(3,e,e.return),df(3,e),zo(5,e,e.return));break;case 1:$r(t,e),ea(e),r&512&&(_i||n===null||ss(n,n.return)),r&64&&Ls&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Ha;if($r(t,e),ea(e),r&512&&(_i||n===null||ss(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":o=s.getElementsByTagName("title")[0],(!o||o[af]||o[Ar]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),ur(o,r,n),o[Ar]=e,$i(o),r=o;break e;case"link":var f=Pp("link","href",s).get(r+(n.href||""));if(f){for(var d=0;d<f.length;d++)if(o=f[d],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(d,1);break t}}o=s.createElement(r),ur(o,r,n),s.head.appendChild(o);break;case"meta":if(f=Pp("meta","content",s).get(r+(n.content||""))){for(d=0;d<f.length;d++)if(o=f[d],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(d,1);break t}}o=s.createElement(r),ur(o,r,n),s.head.appendChild(o);break;default:throw Error(Je(468,r))}o[Ar]=e,$i(o),r=o}e.stateNode=r}else Fp(s,e.type,e.stateNode);else e.stateNode=kp(s,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Fp(s,e.type,e.stateNode):kp(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&oh(e,e.memoizedProps,n.memoizedProps)}break;case 27:$r(t,e),ea(e),r&512&&(_i||n===null||ss(n,n.return)),n!==null&&r&4&&oh(e,e.memoizedProps,n.memoizedProps);break;case 5:if($r(t,e),ea(e),r&512&&(_i||n===null||ss(n,n.return)),e.flags&32){s=e.stateNode;try{Ec(s,"")}catch(w){kn(e,e.return,w)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,oh(e,s,n!==null?n.memoizedProps:s)),r&1024&&(ch=!0);break;case 6:if($r(t,e),ea(e),r&4){if(e.stateNode===null)throw Error(Je(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(w){kn(e,e.return,w)}}break;case 3:if(g0=null,s=Ha,Ha=z0(t.containerInfo),$r(t,e),Ha=s,ea(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wu(t.containerInfo)}catch(w){kn(e,e.return,w)}ch&&(ch=!1,Hx(e));break;case 4:r=Ha,Ha=z0(e.stateNode.containerInfo),$r(t,e),ea(e),Ha=r;break;case 12:$r(t,e),ea(e);break;case 13:$r(t,e),ea(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(T2=us()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,uh(e,r)));break;case 22:s=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,x=Ls,N=_i;if(Ls=x||s,_i=N||p,$r(t,e),_i=N,Ls=x,ea(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||p||Ls||_i||pl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(o=p.stateNode,s)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{d=p.stateNode;var S=p.memoizedProps.style,E=S!=null&&S.hasOwnProperty("display")?S.display:null;d.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(w){kn(p,p.return,w)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=s?"":p.memoizedProps}catch(w){kn(p,p.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,uh(e,n))));break;case 19:$r(t,e),ea(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,uh(e,r)));break;case 30:break;case 21:break;default:$r(t,e),ea(e)}}function ea(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(jx(r)){n=r;break}r=r.return}if(n==null)throw Error(Je(160));switch(n.tag){case 27:var s=n.stateNode,o=lh(e);R0(e,o,s);break;case 5:var f=n.stateNode;n.flags&32&&(Ec(f,""),n.flags&=-33);var d=lh(e);R0(e,d,f);break;case 3:case 4:var p=n.stateNode.containerInfo,x=lh(e);sd(e,x,p);break;default:throw Error(Je(161))}}catch(N){kn(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function uo(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kx(e,t.alternate,t),t=t.sibling}function pl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zo(4,t,t.return),pl(t);break;case 1:ss(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ox(t,t.return,n),pl(t);break;case 27:_u(t.stateNode);case 26:case 5:ss(t,t.return),pl(t);break;case 22:t.memoizedState===null&&pl(t);break;case 30:pl(t);break;default:pl(t)}e=e.sibling}}function po(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:po(s,o,n),df(4,o);break;case 1:if(po(s,o,n),r=o,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(x){kn(r,r.return,x)}if(r=o,s=r.updateQueue,s!==null){var d=r.stateNode;try{var p=s.shared.hiddenCallbacks;if(p!==null)for(s.shared.hiddenCallbacks=null,s=0;s<p.length;s++)k5(p[s],d)}catch(x){kn(r,r.return,x)}}n&&f&64&&Mx(o),Nu(o,o.return);break;case 27:Bx(o);case 26:case 5:po(s,o,n),n&&r===null&&f&4&&Rx(o),Nu(o,o.return);break;case 12:po(s,o,n);break;case 13:po(s,o,n),n&&f&4&&Ux(s,o);break;case 22:o.memoizedState===null&&po(s,o,n),Nu(o,o.return);break;case 30:break;default:po(s,o,n)}t=t.sibling}}function S2(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cf(n))}function N2(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cf(e))}function ns(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qx(e,t,n,r),t=t.sibling}function qx(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ns(e,t,n,r),s&2048&&df(9,t);break;case 1:ns(e,t,n,r);break;case 3:ns(e,t,n,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cf(e)));break;case 12:if(s&2048){ns(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,d=o.onPostCommit;typeof d=="function"&&d(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){kn(t,t.return,p)}}else ns(e,t,n,r);break;case 13:ns(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?ns(e,t,n,r):Cu(e,t):o._visibility&2?ns(e,t,n,r):(o._visibility|=2,$l(e,t,n,r,(t.subtreeFlags&10256)!==0)),s&2048&&S2(f,t);break;case 24:ns(e,t,n,r),s&2048&&N2(t.alternate,t);break;default:ns(e,t,n,r)}}function $l(e,t,n,r,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,f=t,d=n,p=r,x=f.flags;switch(f.tag){case 0:case 11:case 15:$l(o,f,d,p,s),df(8,f);break;case 23:break;case 22:var N=f.stateNode;f.memoizedState!==null?N._visibility&2?$l(o,f,d,p,s):Cu(o,f):(N._visibility|=2,$l(o,f,d,p,s)),s&&x&2048&&S2(f.alternate,f);break;case 24:$l(o,f,d,p,s),s&&x&2048&&N2(f.alternate,f);break;default:$l(o,f,d,p,s)}t=t.sibling}}function Cu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Cu(n,r),s&2048&&S2(r.alternate,r);break;case 24:Cu(n,r),s&2048&&N2(r.alternate,r);break;default:Cu(n,r)}t=t.sibling}}var du=8192;function Wl(e){if(e.subtreeFlags&du)for(e=e.child;e!==null;)Gx(e),e=e.sibling}function Gx(e){switch(e.tag){case 26:Wl(e),e.flags&du&&e.memoizedState!==null&&kb(Ha,e.memoizedState,e.memoizedProps);break;case 5:Wl(e);break;case 3:case 4:var t=Ha;Ha=z0(e.stateNode.containerInfo),Wl(e),Ha=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=du,du=16777216,Wl(e),du=t):Wl(e));break;default:Wl(e)}}function Vx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function su(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ji=r,Wx(r,e)}Vx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yx(e),e=e.sibling}function Yx(e){switch(e.tag){case 0:case 11:case 15:su(e),e.flags&2048&&zo(9,e,e.return);break;case 3:su(e);break;case 12:su(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,h0(e)):su(e);break;default:su(e)}}function h0(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ji=r,Wx(r,e)}Vx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zo(8,t,t.return),h0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,h0(t));break;default:h0(t)}e=e.sibling}}function Wx(e,t){for(;Ji!==null;){var n=Ji;switch(n.tag){case 0:case 11:case 15:zo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:cf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ji=r;else e:for(n=e;Ji!==null;){r=Ji;var s=r.sibling,o=r.return;if(Px(r),r===n){Ji=null;break e}if(s!==null){s.return=o,Ji=s;break e}Ji=o}}}var $v={getCacheForType:function(e){var t=Sr(Hi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},eb=typeof WeakMap=="function"?WeakMap:Map,_n=0,qn=null,nn=null,hn=0,En=0,ia=null,Eo=!1,zc=!1,C2=!1,Gs=0,vi=0,Ho=0,Sl=0,E2=0,Ia=0,Lc=0,Eu=null,Hr=null,od=!1,T2=0,j0=1/0,B0=null,Oo=null,cr=0,Ro=null,Mc=null,Sc=0,ld=0,cd=null,Xx=null,Tu=0,ud=null;function ua(){if(_n&2&&hn!==0)return hn&-hn;if(Rt.T!==null){var e=Tc;return e!==0?e:I2()}return a5()}function Zx(){Ia===0&&(Ia=!(hn&536870912)||bn?t5():536870912);var e=Da.current;return e!==null&&(e.flags|=32),Ia}function fa(e,t,n){(e===qn&&(En===2||En===9)||e.cancelPendingCommit!==null)&&(Oc(e,0),To(e,hn,Ia,!1)),rf(e,n),(!(_n&2)||e!==qn)&&(e===qn&&(!(_n&2)&&(Sl|=n),vi===4&&To(e,hn,Ia,!1)),ps(e))}function Qx(e,t,n){if(_n&6)throw Error(Je(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||nf(e,t),s=r?ib(e,t):fh(e,t,!0),o=r;do{if(s===0){zc&&!r&&To(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!tb(n)){s=fh(e,t,!1),o=!1;continue}if(s===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var d=e;s=Eu;var p=d.current.memoizedState.isDehydrated;if(p&&(Oc(d,f).flags|=256),f=fh(d,f,!1),f!==2){if(C2&&!p){d.errorRecoveryDisabledLanes|=o,Sl|=o,s=4;break e}o=Hr,Hr=s,o!==null&&(Hr===null?Hr=o:Hr.push.apply(Hr,o))}s=f}if(o=!1,s!==2)continue}}if(s===1){Oc(e,0),To(e,t,0,!0);break}e:{switch(r=e,o=s,o){case 0:case 1:throw Error(Je(345));case 4:if((t&4194048)!==t)break;case 6:To(r,t,Ia,!Eo);break e;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(Je(329))}if((t&62914560)===t&&(s=T2+300-us(),10<s)){if(To(r,t,Ia,!Eo),e1(r,0,!0)!==0)break e;r.timeoutHandle=p3(Ap.bind(null,r,n,Hr,B0,od,t,Ia,Sl,Lc,Eo,o,2,-0,0),s);break e}Ap(r,n,Hr,B0,od,t,Ia,Sl,Lc,Eo,o,0,-0,0)}}break}while(!0);ps(e)}function Ap(e,t,n,r,s,o,f,d,p,x,N,S,E,w){if(e.timeoutHandle=-1,S=t.subtreeFlags,(S&8192||(S&16785408)===16785408)&&(qu={stylesheets:null,count:0,unsuspend:Bb},Gx(t),S=Pb(),S!==null)){e.cancelPendingCommit=S(Np.bind(null,e,t,o,n,r,s,f,d,p,N,1,E,w)),To(e,o,f,!x);return}Np(e,t,o,n,r,s,f,d,p)}function tb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ha(o(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function To(e,t,n,r){t&=~E2,t&=~Sl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var o=31-ca(s),f=1<<o;r[o]=-1,s&=~f}n!==0&&i5(e,n,t)}function u1(){return _n&6?!0:(gf(0),!1)}function _2(){if(nn!==null){if(En===0)var e=nn.return;else e=nn,js=Bl=null,g2(e),Ac=null,Uu=0,e=nn;for(;e!==null;)Lx(e.alternate,e),e=e.return;nn=null}}function Oc(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,vb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_2(),qn=e,nn=n=Fs(e.current,null),hn=t,En=0,ia=null,Eo=!1,zc=nf(e,t),C2=!1,Lc=Ia=E2=Sl=Ho=vi=0,Hr=Eu=null,od=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-ca(r),o=1<<s;t|=e[s],r&=~o}return Gs=t,r1(),n}function Kx(e,t){Kt=null,Rt.H=I0,t===uf||t===s1?(t=ep(),En=3):t===j5?(t=ep(),En=4):En=t===Cx?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ia=t,nn===null&&(vi=1,M0(e,_a(t,e.current)))}function Jx(){var e=Rt.H;return Rt.H=I0,e===null?I0:e}function $x(){var e=Rt.A;return Rt.A=$v,e}function fd(){vi=4,Eo||(hn&4194048)!==hn&&Da.current!==null||(zc=!0),!(Ho&134217727)&&!(Sl&134217727)||qn===null||To(qn,hn,Ia,!1)}function fh(e,t,n){var r=_n;_n|=2;var s=Jx(),o=$x();(qn!==e||hn!==t)&&(B0=null,Oc(e,t)),t=!1;var f=vi;e:do try{if(En!==0&&nn!==null){var d=nn,p=ia;switch(En){case 8:_2(),f=6;break e;case 3:case 2:case 9:case 6:Da.current===null&&(t=!0);var x=En;if(En=0,ia=null,gc(e,d,p,x),n&&zc){f=0;break e}break;default:x=En,En=0,ia=null,gc(e,d,p,x)}}nb(),f=vi;break}catch(N){Kx(e,N)}while(!0);return t&&e.shellSuspendCounter++,js=Bl=null,_n=r,Rt.H=s,Rt.A=o,nn===null&&(qn=null,hn=0,r1()),f}function nb(){for(;nn!==null;)e3(nn)}function ib(e,t){var n=_n;_n|=2;var r=Jx(),s=$x();qn!==e||hn!==t?(B0=null,j0=us()+500,Oc(e,t)):zc=nf(e,t);e:do try{if(En!==0&&nn!==null){t=nn;var o=ia;t:switch(En){case 1:En=0,ia=null,gc(e,t,o,1);break;case 2:case 9:if($g(o)){En=0,ia=null,Sp(t);break}t=function(){En!==2&&En!==9||qn!==e||(En=7),ps(e)},o.then(t,t);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:$g(o)?(En=0,ia=null,Sp(t)):(En=0,ia=null,gc(e,t,o,7));break;case 5:var f=null;switch(nn.tag){case 26:f=nn.memoizedState;case 5:case 27:var d=nn;if(!f||v3(f)){En=0,ia=null;var p=d.sibling;if(p!==null)nn=p;else{var x=d.return;x!==null?(nn=x,f1(x)):nn=null}break t}}En=0,ia=null,gc(e,t,o,5);break;case 6:En=0,ia=null,gc(e,t,o,6);break;case 8:_2(),vi=6;break e;default:throw Error(Je(462))}}rb();break}catch(N){Kx(e,N)}while(!0);return js=Bl=null,Rt.H=r,Rt.A=s,_n=n,nn!==null?0:(qn=null,hn=0,r1(),vi)}function rb(){for(;nn!==null&&!Ey();)e3(nn)}function e3(e){var t=Dx(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,t===null?f1(e):nn=t}function Sp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mp(n,t,t.pendingProps,t.type,void 0,hn);break;case 11:t=mp(n,t,t.pendingProps,t.type.render,t.ref,hn);break;case 5:g2(t);default:Lx(n,t),t=nn=L5(t,Gs),t=Dx(n,t,Gs)}e.memoizedProps=e.pendingProps,t===null?f1(e):nn=t}function gc(e,t,n,r){js=Bl=null,g2(t),Ac=null,Uu=0;var s=t.return;try{if(Wv(e,s,t,n,hn)){vi=1,M0(e,_a(n,e.current)),nn=null;return}}catch(o){if(s!==null)throw nn=s,o;vi=1,M0(e,_a(n,e.current)),nn=null;return}t.flags&32768?(bn||r===1?e=!0:zc||hn&536870912?e=!1:(Eo=e=!0,(r===2||r===9||r===3||r===6)&&(r=Da.current,r!==null&&r.tag===13&&(r.flags|=16384))),t3(t,e)):f1(t)}function f1(e){var t=e;do{if(t.flags&32768){t3(t,Eo);return}e=t.return;var n=Zv(t.alternate,t,Gs);if(n!==null){nn=n;return}if(t=t.sibling,t!==null){nn=t;return}nn=t=e}while(t!==null);vi===0&&(vi=5)}function t3(e,t){do{var n=Qv(e.alternate,e);if(n!==null){n.flags&=32767,nn=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nn=e;return}nn=e=n}while(e!==null);vi=6,nn=null}function Np(e,t,n,r,s,o,f,d,p){e.cancelPendingCommit=null;do h1();while(cr!==0);if(_n&6)throw Error(Je(327));if(t!==null){if(t===e.current)throw Error(Je(177));if(o=t.lanes|t.childLanes,o|=t2,By(e,n,o,f,d,p),e===qn&&(nn=qn=null,hn=0),Mc=t,Ro=e,Sc=n,ld=o,cd=s,Xx=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,lb(v0,function(){return s3(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=Rt.T,Rt.T=null,s=wn.p,wn.p=2,f=_n,_n|=4;try{Kv(e,t,n)}finally{_n=f,wn.p=s,Rt.T=r}}cr=1,n3(),i3(),r3()}}function n3(){if(cr===1){cr=0;var e=Ro,t=Mc,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Rt.T,Rt.T=null;var r=wn.p;wn.p=2;var s=_n;_n|=4;try{zx(t,e);var o=pd,f=S5(e.containerInfo),d=o.focusedElem,p=o.selectionRange;if(f!==d&&d&&d.ownerDocument&&A5(d.ownerDocument.documentElement,d)){if(p!==null&&e2(d)){var x=p.start,N=p.end;if(N===void 0&&(N=x),"selectionStart"in d)d.selectionStart=x,d.selectionEnd=Math.min(N,d.value.length);else{var S=d.ownerDocument||document,E=S&&S.defaultView||window;if(E.getSelection){var w=E.getSelection(),j=d.textContent.length,L=Math.min(p.start,j),P=p.end===void 0?L:Math.min(p.end,j);!w.extend&&L>P&&(f=P,P=L,L=f);var I=Vg(d,L),_=Vg(d,P);if(I&&_&&(w.rangeCount!==1||w.anchorNode!==I.node||w.anchorOffset!==I.offset||w.focusNode!==_.node||w.focusOffset!==_.offset)){var D=S.createRange();D.setStart(I.node,I.offset),w.removeAllRanges(),L>P?(w.addRange(D),w.extend(_.node,_.offset)):(D.setEnd(_.node,_.offset),w.addRange(D))}}}}for(S=[],w=d;w=w.parentNode;)w.nodeType===1&&S.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<S.length;d++){var M=S[d];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}G0=!!gd,pd=gd=null}finally{_n=s,wn.p=r,Rt.T=n}}e.current=t,cr=2}}function i3(){if(cr===2){cr=0;var e=Ro,t=Mc,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Rt.T,Rt.T=null;var r=wn.p;wn.p=2;var s=_n;_n|=4;try{kx(e,t.alternate,t)}finally{_n=s,wn.p=r,Rt.T=n}}cr=3}}function r3(){if(cr===4||cr===3){cr=0,Ty();var e=Ro,t=Mc,n=Sc,r=Xx;t.subtreeFlags&10256||t.flags&10256?cr=5:(cr=0,Mc=Ro=null,a3(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Oo=null),Wd(n),t=t.stateNode,la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(tf,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Rt.T,s=wn.p,wn.p=2,Rt.T=null;try{for(var o=e.onRecoverableError,f=0;f<r.length;f++){var d=r[f];o(d.value,{componentStack:d.stack})}}finally{Rt.T=t,wn.p=s}}Sc&3&&h1(),ps(e),s=e.pendingLanes,n&4194090&&s&42?e===ud?Tu++:(Tu=0,ud=e):Tu=0,gf(0)}}function a3(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cf(t)))}function h1(e){return n3(),i3(),r3(),s3()}function s3(){if(cr!==5)return!1;var e=Ro,t=ld;ld=0;var n=Wd(Sc),r=Rt.T,s=wn.p;try{wn.p=32>n?32:n,Rt.T=null,n=cd,cd=null;var o=Ro,f=Sc;if(cr=0,Mc=Ro=null,Sc=0,_n&6)throw Error(Je(331));var d=_n;if(_n|=4,Yx(o.current),qx(o,o.current,f,n),_n=d,gf(0,!1),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(tf,o)}catch{}return!0}finally{wn.p=s,Rt.T=r,a3(e,t)}}function Cp(e,t,n){t=_a(n,t),t=id(e.stateNode,t,2),e=Mo(e,t,2),e!==null&&(rf(e,2),ps(e))}function kn(e,t,n){if(e.tag===3)Cp(e,e,n);else for(;t!==null;){if(t.tag===3){Cp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){e=_a(n,e),n=Sx(2),r=Mo(t,n,2),r!==null&&(Nx(n,r,t,e),rf(r,2),ps(r));break}}t=t.return}}function hh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(C2=!0,s.add(n),e=ab.bind(null,e,t,n),t.then(e,e))}function ab(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qn===e&&(hn&n)===n&&(vi===4||vi===3&&(hn&62914560)===hn&&300>us()-T2?!(_n&2)&&Oc(e,0):E2|=n,Lc===hn&&(Lc=0)),ps(e)}function o3(e,t){t===0&&(t=n5()),e=Uc(e,t),e!==null&&(rf(e,t),ps(e))}function sb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),o3(e,n)}function ob(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(Je(314))}r!==null&&r.delete(t),o3(e,n)}function lb(e,t){return Vd(e,t)}var k0=null,ec=null,hd=!1,P0=!1,dh=!1,Nl=0;function ps(e){e!==ec&&e.next===null&&(ec===null?k0=ec=e:ec=ec.next=e),P0=!0,hd||(hd=!0,ub())}function gf(e,t){if(!dh&&P0){dh=!0;do for(var n=!1,r=k0;r!==null;){if(e!==0){var s=r.pendingLanes;if(s===0)var o=0;else{var f=r.suspendedLanes,d=r.pingedLanes;o=(1<<31-ca(42|e)+1)-1,o&=s&~(f&~d),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Ep(r,o))}else o=hn,o=e1(r,r===qn?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||nf(r,o)||(n=!0,Ep(r,o));r=r.next}while(n);dh=!1}}function cb(){l3()}function l3(){P0=hd=!1;var e=0;Nl!==0&&(yb()&&(e=Nl),Nl=0);for(var t=us(),n=null,r=k0;r!==null;){var s=r.next,o=c3(r,t);o===0?(r.next=null,n===null?k0=s:n.next=s,s===null&&(ec=n)):(n=r,(e!==0||o&3)&&(P0=!0)),r=s}gf(e)}function c3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-ca(o),d=1<<f,p=s[f];p===-1?(!(d&n)||d&r)&&(s[f]=jy(d,t)):p<=t&&(e.expiredLanes|=d),o&=~d}if(t=qn,n=hn,n=e1(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(En===2||En===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&F1(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||nf(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&F1(r),Wd(n)){case 2:case 8:n=$m;break;case 32:n=v0;break;case 268435456:n=e5;break;default:n=v0}return r=u3.bind(null,e),n=Vd(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&F1(r),e.callbackPriority=2,e.callbackNode=null,2}function u3(e,t){if(cr!==0&&cr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(h1()&&e.callbackNode!==n)return null;var r=hn;return r=e1(e,e===qn?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Qx(e,r,t),c3(e,us()),e.callbackNode!=null&&e.callbackNode===n?u3.bind(null,e):null)}function Ep(e,t){if(h1())return null;Qx(e,t,!0)}function ub(){bb(function(){_n&6?Vd(Jm,cb):l3()})}function I2(){return Nl===0&&(Nl=t5()),Nl}function Tp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:r0(""+e)}function _p(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fb(e,t,n,r,s){if(t==="submit"&&n&&n.stateNode===s){var o=Tp((s[qr]||null).action),f=r.submitter;f&&(t=(t=f[qr]||null)?Tp(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var d=new t1("action","action",null,r,s);e.push({event:d,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Nl!==0){var p=f?_p(s,f):new FormData(s);td(n,{pending:!0,data:p,method:s.method,action:o},null,p)}}else typeof o=="function"&&(d.preventDefault(),p=f?_p(s,f):new FormData(s),td(n,{pending:!0,data:p,method:s.method,action:o},o,p))},currentTarget:s}]})}}for(var gh=0;gh<qh.length;gh++){var ph=qh[gh],hb=ph.toLowerCase(),db=ph[0].toUpperCase()+ph.slice(1);Ya(hb,"on"+db)}Ya(C5,"onAnimationEnd");Ya(E5,"onAnimationIteration");Ya(T5,"onAnimationStart");Ya("dblclick","onDoubleClick");Ya("focusin","onFocus");Ya("focusout","onBlur");Ya(Dv,"onTransitionRun");Ya(Lv,"onTransitionStart");Ya(Mv,"onTransitionCancel");Ya(_5,"onTransitionEnd");Cc("onMouseEnter",["mouseout","mouseover"]);Cc("onMouseLeave",["mouseout","mouseover"]);Cc("onPointerEnter",["pointerout","pointerover"]);Cc("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function f3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var f=r.length-1;0<=f;f--){var d=r[f],p=d.instance,x=d.currentTarget;if(d=d.listener,p!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=x;try{o(s)}catch(N){L0(N)}s.currentTarget=null,o=p}else for(f=0;f<r.length;f++){if(d=r[f],p=d.instance,x=d.currentTarget,d=d.listener,p!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=x;try{o(s)}catch(N){L0(N)}s.currentTarget=null,o=p}}}}function tn(e,t){var n=t[Bh];n===void 0&&(n=t[Bh]=new Set);var r=e+"__bubble";n.has(r)||(h3(t,e,2,!1),n.add(r))}function mh(e,t,n){var r=0;t&&(r|=4),h3(n,e,r,t)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function D2(e){if(!e[Xf]){e[Xf]=!0,s5.forEach(function(n){n!=="selectionchange"&&(gb.has(n)||mh(n,!1,e),mh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xf]||(t[Xf]=!0,mh("selectionchange",!1,t))}}function h3(e,t,n,r){switch(N3(t)){case 2:var s=zb;break;case 8:s=Hb;break;default:s=R2}n=s.bind(null,t,n,e),s=void 0,!Uh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xh(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var d=r.stateNode.containerInfo;if(d===s)break;if(f===4)for(f=r.return;f!==null;){var p=f.tag;if((p===3||p===4)&&f.stateNode.containerInfo===s)return;f=f.return}for(;d!==null;){if(f=ac(d),f===null)return;if(p=f.tag,p===5||p===6||p===26||p===27){r=o=f;continue e}d=d.parentNode}}r=r.return}g5(function(){var x=o,N=Qd(n),S=[];e:{var E=I5.get(e);if(E!==void 0){var w=t1,j=e;switch(e){case"keypress":if(s0(n)===0)break e;case"keydown":case"keyup":w=lv;break;case"focusin":j="focus",w=W1;break;case"focusout":j="blur",w=W1;break;case"beforeblur":case"afterblur":w=W1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=fv;break;case C5:case E5:case T5:w=$y;break;case _5:w=dv;break;case"scroll":case"scrollend":w=Xy;break;case"wheel":w=pv;break;case"copy":case"cut":case"paste":w=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=kg;break;case"toggle":case"beforetoggle":w=xv}var L=(t&4)!==0,P=!L&&(e==="scroll"||e==="scrollend"),I=L?E!==null?E+"Capture":null:E;L=[];for(var _=x,D;_!==null;){var M=_;if(D=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||D===null||I===null||(M=ju(_,I),M!=null&&L.push(Hu(_,M,D))),P)break;_=_.return}0<L.length&&(E=new w(E,j,null,n,N),S.push({event:E,listeners:L}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",E&&n!==Fh&&(j=n.relatedTarget||n.fromElement)&&(ac(j)||j[Pc]))break e;if((w||E)&&(E=N.window===N?N:(E=N.ownerDocument)?E.defaultView||E.parentWindow:window,w?(j=n.relatedTarget||n.toElement,w=x,j=j?ac(j):null,j!==null&&(P=ef(j),L=j.tag,j!==P||L!==5&&L!==27&&L!==6)&&(j=null)):(w=null,j=x),w!==j)){if(L=jg,M="onMouseLeave",I="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(L=kg,M="onPointerLeave",I="onPointerEnter",_="pointer"),P=w==null?E:hu(w),D=j==null?E:hu(j),E=new L(M,_+"leave",w,n,N),E.target=P,E.relatedTarget=D,M=null,ac(N)===x&&(L=new L(I,_+"enter",j,n,N),L.target=D,L.relatedTarget=P,M=L),P=M,w&&j)t:{for(L=w,I=j,_=0,D=L;D;D=Xl(D))_++;for(D=0,M=I;M;M=Xl(M))D++;for(;0<_-D;)L=Xl(L),_--;for(;0<D-_;)I=Xl(I),D--;for(;_--;){if(L===I||I!==null&&L===I.alternate)break t;L=Xl(L),I=Xl(I)}L=null}else L=null;w!==null&&Ip(S,E,w,L,!1),j!==null&&P!==null&&Ip(S,P,j,L,!0)}}e:{if(E=x?hu(x):window,w=E.nodeName&&E.nodeName.toLowerCase(),w==="select"||w==="input"&&E.type==="file")var Y=zg;else if(Ug(E))if(b5)Y=Tv;else{Y=Cv;var X=Nv}else w=E.nodeName,!w||w.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?x&&Zd(x.elementType)&&(Y=zg):Y=Ev;if(Y&&(Y=Y(e,x))){v5(S,Y,n,N);break e}X&&X(e,E,x),e==="focusout"&&x&&E.type==="number"&&x.memoizedProps.value!=null&&Ph(E,"number",E.value)}switch(X=x?hu(x):window,e){case"focusin":(Ug(X)||X.contentEditable==="true")&&(lc=X,zh=x,xu=null);break;case"focusout":xu=zh=lc=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Yg(S,n,N);break;case"selectionchange":if(Iv)break;case"keydown":case"keyup":Yg(S,n,N)}var k;if($d)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else oc?x5(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(m5&&n.locale!=="ko"&&(oc||q!=="onCompositionStart"?q==="onCompositionEnd"&&oc&&(k=p5()):(Co=N,Kd="value"in Co?Co.value:Co.textContent,oc=!0)),X=F0(x,q),0<X.length&&(q=new Bg(q,e,null,n,N),S.push({event:q,listeners:X}),k?q.data=k:(k=y5(n),k!==null&&(q.data=k)))),(k=vv?bv(e,n):wv(e,n))&&(q=F0(x,"onBeforeInput"),0<q.length&&(X=new Bg("onBeforeInput","beforeinput",null,n,N),S.push({event:X,listeners:q}),X.data=k)),fb(S,e,x,n,N)}f3(S,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function F0(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=ju(e,n),s!=null&&r.unshift(Hu(e,s,o)),s=ju(e,t),s!=null&&r.push(Hu(e,s,o))),e.tag===3)return r;e=e.return}return[]}function Xl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ip(e,t,n,r,s){for(var o=t._reactName,f=[];n!==null&&n!==r;){var d=n,p=d.alternate,x=d.stateNode;if(d=d.tag,p!==null&&p===r)break;d!==5&&d!==26&&d!==27||x===null||(p=x,s?(x=ju(n,o),x!=null&&f.unshift(Hu(n,x,p))):s||(x=ju(n,o),x!=null&&f.push(Hu(n,x,p)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var pb=/\r\n?/g,mb=/\u0000|\uFFFD/g;function Dp(e){return(typeof e=="string"?e:""+e).replace(pb,`
`).replace(mb,"")}function d3(e,t){return t=Dp(t),Dp(e)===t}function d1(){}function On(e,t,n,r,s,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ec(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ec(e,""+r);break;case"className":zf(e,"class",r);break;case"tabIndex":zf(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":zf(e,n,r);break;case"style":d5(e,r,o);break;case"data":if(t!=="object"){zf(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=r0(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&On(e,t,"name",s.name,s,null),On(e,t,"formEncType",s.formEncType,s,null),On(e,t,"formMethod",s.formMethod,s,null),On(e,t,"formTarget",s.formTarget,s,null)):(On(e,t,"encType",s.encType,s,null),On(e,t,"method",s.method,s,null),On(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=r0(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=d1);break;case"onScroll":r!=null&&tn("scroll",e);break;case"onScrollEnd":r!=null&&tn("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Je(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(Je(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=r0(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":tn("beforetoggle",e),tn("toggle",e),i0(e,"popover",r);break;case"xlinkActuate":Ts(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ts(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ts(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ts(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ts(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ts(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ts(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ts(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ts(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":i0(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Yy.get(n)||n,i0(e,n,r))}}function dd(e,t,n,r,s,o){switch(n){case"style":d5(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Je(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(Je(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Ec(e,r):(typeof r=="number"||typeof r=="bigint")&&Ec(e,""+r);break;case"onScroll":r!=null&&tn("scroll",e);break;case"onScrollEnd":r!=null&&tn("scrollend",e);break;case"onClick":r!=null&&(e.onclick=d1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!o5.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),o=e[qr]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,s),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):i0(e,n,r)}}}function ur(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",e),tn("load",e);var r=!1,s=!1,o;for(o in n)if(n.hasOwnProperty(o)){var f=n[o];if(f!=null)switch(o){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Je(137,t));default:On(e,t,o,f,n,null)}}s&&On(e,t,"srcSet",n.srcSet,n,null),r&&On(e,t,"src",n.src,n,null);return;case"input":tn("invalid",e);var d=o=f=s=null,p=null,x=null;for(r in n)if(n.hasOwnProperty(r)){var N=n[r];if(N!=null)switch(r){case"name":s=N;break;case"type":f=N;break;case"checked":p=N;break;case"defaultChecked":x=N;break;case"value":o=N;break;case"defaultValue":d=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(Je(137,t));break;default:On(e,t,r,N,n,null)}}u5(e,o,d,p,x,f,s,!1),b0(e);return;case"select":tn("invalid",e),r=f=o=null;for(s in n)if(n.hasOwnProperty(s)&&(d=n[s],d!=null))switch(s){case"value":o=d;break;case"defaultValue":f=d;break;case"multiple":r=d;default:On(e,t,s,d,n,null)}t=o,n=f,e.multiple=!!r,t!=null?xc(e,!!r,t,!1):n!=null&&xc(e,!!r,n,!0);return;case"textarea":tn("invalid",e),o=s=r=null;for(f in n)if(n.hasOwnProperty(f)&&(d=n[f],d!=null))switch(f){case"value":r=d;break;case"defaultValue":s=d;break;case"children":o=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(Je(91));break;default:On(e,t,f,d,n,null)}h5(e,r,s,o),b0(e);return;case"option":for(p in n)if(n.hasOwnProperty(p)&&(r=n[p],r!=null))switch(p){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:On(e,t,p,r,n,null)}return;case"dialog":tn("beforetoggle",e),tn("toggle",e),tn("cancel",e),tn("close",e);break;case"iframe":case"object":tn("load",e);break;case"video":case"audio":for(r=0;r<zu.length;r++)tn(zu[r],e);break;case"image":tn("error",e),tn("load",e);break;case"details":tn("toggle",e);break;case"embed":case"source":case"link":tn("error",e),tn("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in n)if(n.hasOwnProperty(x)&&(r=n[x],r!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(Je(137,t));default:On(e,t,x,r,n,null)}return;default:if(Zd(t)){for(N in n)n.hasOwnProperty(N)&&(r=n[N],r!==void 0&&dd(e,t,N,r,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!=null&&On(e,t,d,r,n,null))}function xb(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,f=null,d=null,p=null,x=null,N=null;for(w in n){var S=n[w];if(n.hasOwnProperty(w)&&S!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":p=S;default:r.hasOwnProperty(w)||On(e,t,w,null,r,S)}}for(var E in r){var w=r[E];if(S=n[E],r.hasOwnProperty(E)&&(w!=null||S!=null))switch(E){case"type":o=w;break;case"name":s=w;break;case"checked":x=w;break;case"defaultChecked":N=w;break;case"value":f=w;break;case"defaultValue":d=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(Je(137,t));break;default:w!==S&&On(e,t,E,w,r,S)}}kh(e,f,d,p,x,N,o,s);return;case"select":w=f=d=E=null;for(o in n)if(p=n[o],n.hasOwnProperty(o)&&p!=null)switch(o){case"value":break;case"multiple":w=p;default:r.hasOwnProperty(o)||On(e,t,o,null,r,p)}for(s in r)if(o=r[s],p=n[s],r.hasOwnProperty(s)&&(o!=null||p!=null))switch(s){case"value":E=o;break;case"defaultValue":d=o;break;case"multiple":f=o;default:o!==p&&On(e,t,s,o,r,p)}t=d,n=f,r=w,E!=null?xc(e,!!n,E,!1):!!r!=!!n&&(t!=null?xc(e,!!n,t,!0):xc(e,!!n,n?[]:"",!1));return;case"textarea":w=E=null;for(d in n)if(s=n[d],n.hasOwnProperty(d)&&s!=null&&!r.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:On(e,t,d,null,r,s)}for(f in r)if(s=r[f],o=n[f],r.hasOwnProperty(f)&&(s!=null||o!=null))switch(f){case"value":E=s;break;case"defaultValue":w=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(Je(91));break;default:s!==o&&On(e,t,f,s,r,o)}f5(e,E,w);return;case"option":for(var j in n)if(E=n[j],n.hasOwnProperty(j)&&E!=null&&!r.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:On(e,t,j,null,r,E)}for(p in r)if(E=r[p],w=n[p],r.hasOwnProperty(p)&&E!==w&&(E!=null||w!=null))switch(p){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:On(e,t,p,E,r,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var L in n)E=n[L],n.hasOwnProperty(L)&&E!=null&&!r.hasOwnProperty(L)&&On(e,t,L,null,r,E);for(x in r)if(E=r[x],w=n[x],r.hasOwnProperty(x)&&E!==w&&(E!=null||w!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(Je(137,t));break;default:On(e,t,x,E,r,w)}return;default:if(Zd(t)){for(var P in n)E=n[P],n.hasOwnProperty(P)&&E!==void 0&&!r.hasOwnProperty(P)&&dd(e,t,P,void 0,r,E);for(N in r)E=r[N],w=n[N],!r.hasOwnProperty(N)||E===w||E===void 0&&w===void 0||dd(e,t,N,E,r,w);return}}for(var I in n)E=n[I],n.hasOwnProperty(I)&&E!=null&&!r.hasOwnProperty(I)&&On(e,t,I,null,r,E);for(S in r)E=r[S],w=n[S],!r.hasOwnProperty(S)||E===w||E==null&&w==null||On(e,t,S,E,r,w)}var gd=null,pd=null;function U0(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g3(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yh=null;function yb(){var e=window.event;return e&&e.type==="popstate"?e===yh?!1:(yh=e,!0):(yh=null,!1)}var p3=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,bb=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(wb)}:p3;function wb(e){setTimeout(function(){throw e})}function Wo(e){return e==="head"}function Op(e,t){var n=t,r=0,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var f=e.ownerDocument;if(n&1&&_u(f.documentElement),n&2&&_u(f.body),n&4)for(n=f.head,_u(n),f=n.firstChild;f;){var d=f.nextSibling,p=f.nodeName;f[af]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=d}}if(s===0){e.removeChild(o),Wu(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Wu(t)}function xd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xd(n),Xd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ab(e,t,n,r){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[af])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Va(e.nextSibling),e===null)break}return null}function Sb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Va(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Nb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var vd=null;function Rp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function m3(e,t,n){switch(t=U0(n),e){case"html":if(e=t.documentElement,!e)throw Error(Je(452));return e;case"head":if(e=t.head,!e)throw Error(Je(453));return e;case"body":if(e=t.body,!e)throw Error(Je(454));return e;default:throw Error(Je(451))}}function _u(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xd(e)}var La=new Map,jp=new Set;function z0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vs=wn.d;wn.d={f:Cb,r:Eb,D:Tb,C:_b,L:Ib,m:Db,X:Mb,S:Lb,M:Ob};function Cb(){var e=Vs.f(),t=u1();return e||t}function Eb(e){var t=Fc(e);t!==null&&t.tag===5&&t.type==="form"?cx(t):Vs.r(e)}var Hc=typeof document>"u"?null:document;function x3(e,t,n){var r=Hc;if(r&&typeof t=="string"&&t){var s=Ta(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),jp.has(s)||(jp.add(s),e={rel:e,crossOrigin:n,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),ur(t,"link",e),$i(t),r.head.appendChild(t)))}}function Tb(e){Vs.D(e),x3("dns-prefetch",e,null)}function _b(e,t){Vs.C(e,t),x3("preconnect",e,t)}function Ib(e,t,n){Vs.L(e,t,n);var r=Hc;if(r&&e&&t){var s='link[rel="preload"][as="'+Ta(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Ta(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Ta(n.imageSizes)+'"]')):s+='[href="'+Ta(e)+'"]';var o=s;switch(t){case"style":o=Rc(e);break;case"script":o=qc(e)}La.has(o)||(e=Kn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),La.set(o,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(pf(o))||t==="script"&&r.querySelector(mf(o))||(t=r.createElement("link"),ur(t,"link",e),$i(t),r.head.appendChild(t)))}}function Db(e,t){Vs.m(e,t);var n=Hc;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ta(r)+'"][href="'+Ta(e)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=qc(e)}if(!La.has(o)&&(e=Kn({rel:"modulepreload",href:e},t),La.set(o,e),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mf(o)))return}r=n.createElement("link"),ur(r,"link",e),$i(r),n.head.appendChild(r)}}}function Lb(e,t,n){Vs.S(e,t,n);var r=Hc;if(r&&e){var s=mc(r).hoistableStyles,o=Rc(e);t=t||"default";var f=s.get(o);if(!f){var d={loading:0,preload:null};if(f=r.querySelector(pf(o)))d.loading=5;else{e=Kn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=La.get(o))&&L2(e,n);var p=f=r.createElement("link");$i(p),ur(p,"link",e),p._p=new Promise(function(x,N){p.onload=x,p.onerror=N}),p.addEventListener("load",function(){d.loading|=1}),p.addEventListener("error",function(){d.loading|=2}),d.loading|=4,d0(f,t,r)}f={type:"stylesheet",instance:f,count:1,state:d},s.set(o,f)}}}function Mb(e,t){Vs.X(e,t);var n=Hc;if(n&&e){var r=mc(n).hoistableScripts,s=qc(e),o=r.get(s);o||(o=n.querySelector(mf(s)),o||(e=Kn({src:e,async:!0},t),(t=La.get(s))&&M2(e,t),o=n.createElement("script"),$i(o),ur(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function Ob(e,t){Vs.M(e,t);var n=Hc;if(n&&e){var r=mc(n).hoistableScripts,s=qc(e),o=r.get(s);o||(o=n.querySelector(mf(s)),o||(e=Kn({src:e,async:!0,type:"module"},t),(t=La.get(s))&&M2(e,t),o=n.createElement("script"),$i(o),ur(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function Bp(e,t,n,r){var s=(s=Do.current)?z0(s):null;if(!s)throw Error(Je(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Rc(n.href),n=mc(s).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Rc(n.href);var o=mc(s).hoistableStyles,f=o.get(e);if(f||(s=s.ownerDocument||s,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=s.querySelector(pf(e)))&&!o._p&&(f.instance=o,f.state.loading=5),La.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},La.set(e,n),o||Rb(s,e,n,f.state))),t&&r===null)throw Error(Je(528,""));return f}if(t&&r!==null)throw Error(Je(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qc(n),n=mc(s).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Je(444,e))}}function Rc(e){return'href="'+Ta(e)+'"'}function pf(e){return'link[rel="stylesheet"]['+e+"]"}function y3(e){return Kn({},e,{"data-precedence":e.precedence,precedence:null})}function Rb(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ur(t,"link",n),$i(t),e.head.appendChild(t))}function qc(e){return'[src="'+Ta(e)+'"]'}function mf(e){return"script[async]"+e}function kp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ta(n.href)+'"]');if(r)return t.instance=r,$i(r),r;var s=Kn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$i(r),ur(r,"style",s),d0(r,n.precedence,e),t.instance=r;case"stylesheet":s=Rc(n.href);var o=e.querySelector(pf(s));if(o)return t.state.loading|=4,t.instance=o,$i(o),o;r=y3(n),(s=La.get(s))&&L2(r,s),o=(e.ownerDocument||e).createElement("link"),$i(o);var f=o;return f._p=new Promise(function(d,p){f.onload=d,f.onerror=p}),ur(o,"link",r),t.state.loading|=4,d0(o,n.precedence,e),t.instance=o;case"script":return o=qc(n.src),(s=e.querySelector(mf(o)))?(t.instance=s,$i(s),s):(r=n,(s=La.get(o))&&(r=Kn({},n),M2(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),$i(s),ur(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(Je(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,d0(r,n.precedence,e));return t.instance}function d0(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,f=0;f<r.length;f++){var d=r[f];if(d.dataset.precedence===t)o=d;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function L2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function M2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var g0=null;function Pp(e,t,n){if(g0===null){var r=new Map,s=g0=new Map;s.set(n,r)}else s=g0,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[af]||o[Ar]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var d=r.get(f);d?d.push(o):r.set(f,[o])}}return r}function Fp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function jb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function v3(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var qu=null;function Bb(){}function kb(e,t,n){if(qu===null)throw Error(Je(475));var r=qu;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Rc(n.href),o=e.querySelector(pf(s));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=H0.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,$i(o);return}o=e.ownerDocument||e,n=y3(n),(s=La.get(s))&&L2(n,s),o=o.createElement("link"),$i(o);var f=o;f._p=new Promise(function(d,p){f.onload=d,f.onerror=p}),ur(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=H0.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Pb(){if(qu===null)throw Error(Je(475));var e=qu;return e.stylesheets&&e.count===0&&bd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&bd(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function H0(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var q0=null;function bd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,q0=new Map,t.forEach(Fb,e),q0=null,H0.call(e))}function Fb(e,t){if(!(t.state.loading&4)){var n=q0.get(e);if(n)var r=n.get(null);else{n=new Map,q0.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var f=s[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),r=f)}r&&n.set(null,r)}s=t.instance,f=s.getAttribute("data-precedence"),o=n.get(f)||r,o===r&&n.set(null,s),n.set(f,s),this.count++,r=H0.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Gu={$$typeof:Ms,Provider:null,Consumer:null,_currentValue:yl,_currentValue2:yl,_threadCount:0};function Ub(e,t,n,r,s,o,f,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U1(0),this.hiddenUpdates=U1(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function b3(e,t,n,r,s,o,f,d,p,x,N,S){return e=new Ub(e,t,n,f,d,p,x,S),t=1,o===!0&&(t|=24),o=ra(3,null,null,t),e.current=o,o.stateNode=e,t=s2(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},l2(o),e}function w3(e){return e?(e=fc,e):fc}function A3(e,t,n,r,s,o){s=w3(s),r.context===null?r.context=s:r.pendingContext=s,r=Lo(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Mo(e,r,t),n!==null&&(fa(n,e,t),bu(n,e,t))}function Up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function O2(e,t){Up(e,t),(e=e.alternate)&&Up(e,t)}function S3(e){if(e.tag===13){var t=Uc(e,67108864);t!==null&&fa(t,e,67108864),O2(e,67108864)}}var G0=!0;function zb(e,t,n,r){var s=Rt.T;Rt.T=null;var o=wn.p;try{wn.p=2,R2(e,t,n,r)}finally{wn.p=o,Rt.T=s}}function Hb(e,t,n,r){var s=Rt.T;Rt.T=null;var o=wn.p;try{wn.p=8,R2(e,t,n,r)}finally{wn.p=o,Rt.T=s}}function R2(e,t,n,r){if(G0){var s=wd(r);if(s===null)xh(e,t,r,V0,n),zp(e,r);else if(Gb(s,e,t,n,r))r.stopPropagation();else if(zp(e,r),t&4&&-1<qb.indexOf(e)){for(;s!==null;){var o=Fc(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=dl(o.pendingLanes);if(f!==0){var d=o;for(d.pendingLanes|=2,d.entangledLanes|=2;f;){var p=1<<31-ca(f);d.entanglements[1]|=p,f&=~p}ps(o),!(_n&6)&&(j0=us()+500,gf(0))}}break;case 13:d=Uc(o,2),d!==null&&fa(d,o,2),u1(),O2(o,2)}if(o=wd(r),o===null&&xh(e,t,r,V0,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else xh(e,t,r,null,n)}}function wd(e){return e=Qd(e),j2(e)}var V0=null;function j2(e){if(V0=null,e=ac(e),e!==null){var t=ef(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Xm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return V0=e,null}function N3(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_y()){case Jm:return 2;case $m:return 8;case v0:case Iy:return 32;case e5:return 268435456;default:return 32}default:return 32}}var Ad=!1,jo=null,Bo=null,ko=null,Vu=new Map,Yu=new Map,Ao=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":Vu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(t.pointerId)}}function ou(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Fc(t),t!==null&&S3(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gb(e,t,n,r,s){switch(t){case"focusin":return jo=ou(jo,e,t,n,r,s),!0;case"dragenter":return Bo=ou(Bo,e,t,n,r,s),!0;case"mouseover":return ko=ou(ko,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Vu.set(o,ou(Vu.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Yu.set(o,ou(Yu.get(o)||null,e,t,n,r,s)),!0}return!1}function C3(e){var t=ac(e.target);if(t!==null){var n=ef(t);if(n!==null){if(t=n.tag,t===13){if(t=Xm(n),t!==null){e.blockedOn=t,ky(e.priority,function(){if(n.tag===13){var r=ua();r=Yd(r);var s=Uc(n,r);s!==null&&fa(s,n,r),O2(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function p0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wd(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fh=r,n.target.dispatchEvent(r),Fh=null}else return t=Fc(n),t!==null&&S3(t),e.blockedOn=n,!1;t.shift()}return!0}function Hp(e,t,n){p0(e)&&n.delete(t)}function Vb(){Ad=!1,jo!==null&&p0(jo)&&(jo=null),Bo!==null&&p0(Bo)&&(Bo=null),ko!==null&&p0(ko)&&(ko=null),Vu.forEach(Hp),Yu.forEach(Hp)}function Zf(e,t){e.blockedOn===t&&(e.blockedOn=null,Ad||(Ad=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,Vb)))}var Qf=null;function qp(e){Qf!==e&&(Qf=e,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,function(){Qf===e&&(Qf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(j2(r||n)===null)continue;break}var o=Fc(n);o!==null&&(e.splice(t,3),t-=3,td(o,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Wu(e){function t(p){return Zf(p,e)}jo!==null&&Zf(jo,e),Bo!==null&&Zf(Bo,e),ko!==null&&Zf(ko,e),Vu.forEach(t),Yu.forEach(t);for(var n=0;n<Ao.length;n++){var r=Ao[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ao.length&&(n=Ao[0],n.blockedOn===null);)C3(n),n.blockedOn===null&&Ao.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],f=s[qr]||null;if(typeof o=="function")f||qp(n);else if(f){var d=null;if(o&&o.hasAttribute("formAction")){if(s=o,f=o[qr]||null)d=f.formAction;else if(j2(s)!==null)continue}else d=f.action;typeof d=="function"?n[r+1]=d:(n.splice(r,3),r-=3),qp(n)}}}function B2(e){this._internalRoot=e}g1.prototype.render=B2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Je(409));var n=t.current,r=ua();A3(n,r,e,t,null,null)};g1.prototype.unmount=B2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;A3(e.current,2,null,e,null,null),u1(),t[Pc]=null}};function g1(e){this._internalRoot=e}g1.prototype.unstable_scheduleHydration=function(e){if(e){var t=a5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ao.length&&t!==0&&t<Ao[n].priority;n++);Ao.splice(n,0,e),n===0&&C3(e)}};var Gp=Ym.version;if(Gp!=="19.1.0")throw Error(Je(527,Gp,"19.1.0"));wn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Je(188)):(e=Object.keys(e).join(","),Error(Je(268,e)));return e=wy(t),e=e!==null?Zm(e):null,e=e===null?null:e.stateNode,e};var Yb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Rt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{tf=Kf.inject(Yb),la=Kf}catch{}}J0.createRoot=function(e,t){if(!Wm(e))throw Error(Je(299));var n=!1,r="",s=bx,o=wx,f=Ax,d=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(d=t.unstable_transitionCallbacks)),t=b3(e,1,!1,null,null,n,r,s,o,f,d,null),e[Pc]=t.current,D2(e),new B2(t)};J0.hydrateRoot=function(e,t,n){if(!Wm(e))throw Error(Je(299));var r=!1,s="",o=bx,f=wx,d=Ax,p=null,x=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(p=n.unstable_transitionCallbacks),n.formState!==void 0&&(x=n.formState)),t=b3(e,1,!0,t,n??null,r,s,o,f,d,p,x),t.context=w3(null),n=t.current,r=ua(),r=Yd(r),s=Lo(r),s.callback=null,Mo(n,s,r),n=r,t.current.lanes=n,rf(t,n),ps(t),e[Pc]=t.current,D2(e),new g1(t)};J0.version="19.1.0";function E3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E3)}catch(e){console.error(e)}}E3(),Um.exports=J0;var Wb=Um.exports;const Xb=kd(Wb);var Ot=(e=>(e.CLIENT="Client",e.COURIER="Courier",e.ASSIGNING_USER="Assigning User",e.ADMIN="Administrator",e))(Ot||{}),lt=(e=>(e.PENDING_ASSIGNMENT="Pending Assignment",e.ASSIGNED_TO_COURIER="Assigned to Courier",e.PICKED_UP="Picked Up",e.IN_TRANSIT="In Transit",e.OUT_FOR_DELIVERY="Out for Delivery",e.DELIVERED="Delivered",e.DELIVERY_FAILED="Delivery Failed",e.RETURN_REQUESTED="Return Requested",e.RETURN_IN_PROGRESS="Return in Progress",e.RETURNED="Returned",e))(lt||{}),sa=(e=>(e.COD="Cash on Delivery",e.INSTAPAY="InstaPay",e.WALLET="Wallet",e))(sa||{}),hi=(e=>(e.CAIRO_ZONE_A="Cairo - Zone A",e.CAIRO_ZONE_B="Cairo - Zone B",e.GIZA_ZONE_A="Giza - Zone A",e.GIZA_ZONE_B="Giza - Zone B",e))(hi||{}),os=(e=>(e.STANDARD="Standard",e.URGENT="Urgent",e.EXPRESS="Express",e))(os||{}),Po=(e=>(e.DEPOSIT="Deposit",e.PAYMENT="Payment",e))(Po||{}),T3=(e=>(e.EMAIL="Email",e.SMS="SMS",e))(T3||{}),ks=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e))(ks||{}),_o=(e=>(e.COMMISSION="Commission",e.PENALTY="Penalty",e.BONUS="Bonus",e.WITHDRAWAL_REQUEST="Withdrawal Request",e.WITHDRAWAL_PROCESSED="Withdrawal Processed",e))(_o||{}),Ga=(e=>(e.PENDING="Pending",e.PROCESSED="Processed",e.FAILED="Failed",e))(Ga||{});const Zb=[{id:1,name:"Admin User",email:"admin@flash.com",password:"password123",role:Ot.ADMIN},{id:2,name:"Assigner One",email:"assigner1@flash.com",password:"password123",role:Ot.ASSIGNING_USER},{id:3,name:"Client Alice",email:"alice@example.com",password:"password123",role:Ot.CLIENT,walletBalance:1500,phone:"01012345678",address:{street:"123 Maadi St",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Apt 5"}},{id:4,name:"Client Bob",email:"bob@example.com",password:"password123",role:Ot.CLIENT,walletBalance:250,phone:"01187654321",address:{street:"789 Dokki St",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Villa 10"}},{id:5,name:"Courier Ahmed",email:"ahmed@flash.com",password:"password123",role:Ot.COURIER,zone:hi.CAIRO_ZONE_A,location:{lat:30.0444,lng:31.2357}},{id:6,name:"Courier Fatima",email:"fatima@flash.com",password:"password123",role:Ot.COURIER,zone:hi.GIZA_ZONE_B,location:{lat:29.9792,lng:31.1342}},{id:7,name:"Courier Omar",email:"omar@flash.com",password:"password123",role:Ot.COURIER,zone:hi.CAIRO_ZONE_B,location:{lat:30.0769,lng:31.3436}},{id:8,name:"Courier Layla",email:"layla@flash.com",password:"password123",role:Ot.COURIER,zone:hi.GIZA_ZONE_A,location:{lat:30.0131,lng:31.2089}}],Qb=[{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:3,clientName:"Client Alice",recipientName:"John Doe",recipientPhone:"01234567890",fromAddress:{street:"123 Maadi St",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Apt 5"},toAddress:{street:"456 Nasr City St",city:"Cairo",zone:hi.CAIRO_ZONE_B,details:"Bldg 2"},packageDescription:"Box of electronics",isLargeOrder:!1,price:75,paymentMethod:sa.COD,status:lt.PENDING_ASSIGNMENT,creationDate:new Date(Date.now()-2*24*60*60*1e3).toISOString(),priority:os.STANDARD,packageValue:800},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:4,clientName:"Client Bob",recipientName:"Jane Smith",recipientPhone:"01123456789",fromAddress:{street:"789 Dokki St",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Villa 10"},toAddress:{street:"101 Haram St",city:"Giza",zone:hi.GIZA_ZONE_B,details:"Floor 3"},packageDescription:"Large furniture item",isLargeOrder:!0,price:450,paymentMethod:sa.INSTAPAY,status:lt.ASSIGNED_TO_COURIER,courierId:6,creationDate:new Date(Date.now()-1*24*60*60*1e3).toISOString(),priority:os.STANDARD,packageValue:3e3},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:3,clientName:"Client Alice",recipientName:"Sam Wilson",recipientPhone:"01098765432",fromAddress:{street:"123 Maadi St",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Apt 5"},toAddress:{street:"213 Zamalek Ave",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:"Office 404"},packageDescription:"Documents",isLargeOrder:!1,price:75,paymentMethod:sa.WALLET,status:lt.OUT_FOR_DELIVERY,courierId:5,creationDate:new Date(Date.now()-3*24*60*60*1e3).toISOString(),priority:os.URGENT,packageValue:100},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:4,clientName:"Client Bob",recipientName:"Emily Carter",recipientPhone:"01555123456",fromAddress:{street:"789 Dokki St",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Villa 10"},toAddress:{street:"321 Mohandessin Rd",city:"Giza",zone:hi.GIZA_ZONE_A,details:"Shop 7"},packageDescription:"Fashion apparel",isLargeOrder:!1,price:75,paymentMethod:sa.COD,status:lt.DELIVERED,courierId:8,creationDate:new Date(Date.now()-5*24*60*60*1e3).toISOString(),deliveryDate:new Date(Date.now()-4*24*60*60*1e3).toISOString(),priority:os.EXPRESS,packageValue:1200}],Kb=[{id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:3,type:Po.DEPOSIT,amount:2e3,date:new Date(Date.now()-10*24*60*60*1e3).toISOString(),description:"Initial wallet deposit"},{id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:3,type:Po.PAYMENT,amount:-75,date:new Date(Date.now()-3*24*60*60*1e3).toISOString(),description:"Payment for shipment to Sam Wilson"},{id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:4,type:Po.DEPOSIT,amount:500,date:new Date(Date.now()-8*24*60*60*1e3).toISOString(),description:"Bank Transfer Top-up"}],Jb=[],$b={baseCommissionRate:15,penaltyAmount:10,consecutiveFailureLimit:3,performanceThreshold:2,bonusThreshold:50,urgentDeliveryBonus:5,expressDeliveryBonus:10},ew=[{courierId:5,deliveriesCompleted:45,deliveriesFailed:2,totalEarnings:685,pendingEarnings:45,currentBalance:640,commissionType:ks.FLAT,commissionValue:15,penaltyAmount:10,consecutiveFailures:0,isRestricted:!1,performanceRating:4.7},{courierId:6,deliveriesCompleted:80,deliveriesFailed:10,totalEarnings:1200,pendingEarnings:200,currentBalance:1e3,commissionType:ks.FLAT,commissionValue:15,penaltyAmount:10,consecutiveFailures:1,isRestricted:!1,performanceRating:4.2},{courierId:7,deliveriesCompleted:20,deliveriesFailed:5,totalEarnings:250,pendingEarnings:0,currentBalance:250,commissionType:ks.PERCENTAGE,commissionValue:10,penaltyAmount:15,consecutiveFailures:2,isRestricted:!0,restrictionReason:"Performance rating too low",performanceRating:1.8},{courierId:8,deliveriesCompleted:150,deliveriesFailed:3,totalEarnings:2500,pendingEarnings:500,currentBalance:2e3,commissionType:ks.FLAT,commissionValue:18,penaltyAmount:10,consecutiveFailures:0,isRestricted:!1,performanceRating:4.9}],tw=[],Vp=async e=>{const t="http://localhost:3001/api/send-email",n=e.message.split(`

`),r=n[0]||`Update for Shipment ${e.shipmentId}`,s=n.slice(1).join(`

`);console.log("%cSending API request to backend to send email...","color: blue; font-weight: bold;");try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:e.recipient,subject:r,message:s})});if(!o.ok){const f=await o.json();throw new Error(f.error||`Server responded with status ${o.status}`)}return console.log("%cBackend confirmed email sent successfully!","color: green; font-weight: bold;"),Promise.resolve()}catch(o){return console.error("%cError sending email via backend:","color: red; font-weight: bold;",o),Promise.reject(o)}},_3=kc.createContext(null),bi=()=>{const e=kc.useContext(_3);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},nw=({children:e})=>{const[t,n]=Ke.useState(null),[r,s]=Ke.useState(Zb),[o,f]=Ke.useState(Qb),[d,p]=Ke.useState(Kb),[x,N]=Ke.useState(Jb),[S,E]=Ke.useState({}),[w,j]=Ke.useState([]),[L,P]=Ke.useState(ew),[I,_]=Ke.useState(tw),[D]=Ke.useState($b),M=Ke.useCallback((xe,Ee)=>{const Ae=Date.now();j(Me=>[...Me,{id:Ae,message:xe,type:Ee}]),setTimeout(()=>{j(Me=>Me.filter(Oe=>Oe.id!==Ae))},5e3)},[]),Y=Ke.useCallback((xe,Ee)=>{if(xe.deliveriesCompleted+xe.deliveriesFailed===0)return 5;const Me=Ee?xe.deliveriesCompleted+1:xe.deliveriesCompleted,Oe=Ee?xe.deliveriesFailed:xe.deliveriesFailed+1,Qe=Me+Oe,ke=Me/Qe;let pe=ke*5;const ct=Ee?0:xe.consecutiveFailures+1;return ct>=3?pe-=1:ct>=2&&(pe-=.5),ke>=.95&&Me>=10&&(pe+=.2),Math.max(1,Math.min(5,Math.round(pe*10)/10))},[]),X=Ke.useCallback((xe,Ee)=>{let Ae;return Ee.commissionType===ks.PERCENTAGE?Ae=xe.price*(Ee.commissionValue/100):Ae=Ee.commissionValue,xe.priority===os.URGENT?Ae+=D.urgentDeliveryBonus:xe.priority===os.EXPRESS&&(Ae+=D.expressDeliveryBonus),Ee.performanceRating>=4.5?Ae*=1.1:Ee.performanceRating>=4&&(Ae*=1.05),xe.packageValue>1e3&&(Ae+=Math.min(xe.packageValue*.001,20)),Math.round(Ae*100)/100},[D]),k=Ke.useCallback((xe,Ee)=>{if(!xe.courierId)return;const Ae=xe.courierId;P(Me=>Me.map(Oe=>{if(Oe.courierId===Ae)if(Ee){const Qe=X(xe,Oe),ke={id:`txn-${Date.now()}`,courierId:Ae,type:_o.COMMISSION,amount:Qe,description:`Commission for ${xe.id}`,shipmentId:xe.id,timestamp:new Date().toISOString(),status:Ga.PROCESSED};return _(pe=>[ke,...pe]),{...Oe,deliveriesCompleted:Oe.deliveriesCompleted+1,totalEarnings:Oe.totalEarnings+Qe,pendingEarnings:Oe.pendingEarnings+Qe,currentBalance:Oe.currentBalance+Qe,consecutiveFailures:0,lastDeliveryDate:new Date().toISOString(),performanceRating:Y(Oe,!0)}}else{const Qe=Oe.penaltyAmount,ke=Oe.consecutiveFailures+1,pe={id:`txn-${Date.now()}`,courierId:Ae,type:_o.PENALTY,amount:-Qe,description:`Penalty for ${xe.id}`,shipmentId:xe.id,timestamp:new Date().toISOString(),status:Ga.PROCESSED};_(Ge=>[pe,...Ge]);const ct=Y(Oe,!1),it=ke>=D.consecutiveFailureLimit||ct<D.performanceThreshold;return{...Oe,deliveriesFailed:Oe.deliveriesFailed+1,currentBalance:Oe.currentBalance-Qe,consecutiveFailures:ke,isRestricted:it,restrictionReason:it?"Performance rating below threshold":void 0,performanceRating:ct}}return Oe})),M(Ee?"Delivery completed! Commission added.":"Delivery failed. Penalty applied.",Ee?"success":"error")},[X,D,M,Y]),q=Ke.useCallback((xe,Ee)=>{const Ae=r.find(Me=>Me.email.toLowerCase()===xe.toLowerCase()&&Me.password===Ee);return Ae?(n(Ae),M(`Welcome back, ${Ae.name}!`,"success"),!0):(M("Invalid email or password.","error"),!1)},[r,M]),K=Ke.useCallback(()=>{M("You have been logged out.","info"),n(null)},[M]),ge=Ke.useCallback(xe=>{const Ee={...xe,id:Math.max(...r.map(Ae=>Ae.id),0)+1};if(s(Ae=>[...Ae,Ee]),Ee.role===Ot.COURIER){const Ae={courierId:Ee.id,deliveriesCompleted:0,deliveriesFailed:0,totalEarnings:0,pendingEarnings:0,currentBalance:0,commissionType:ks.FLAT,commissionValue:D.baseCommissionRate,penaltyAmount:D.penaltyAmount,consecutiveFailures:0,isRestricted:!1,performanceRating:5};P(Me=>[...Me,Ae])}M(`User "${Ee.name}" created successfully.`,"success")},[r,M,D]),U=Ke.useCallback((xe,Ee,Ae=!1)=>{s(Me=>Me.map(Oe=>Oe.id===xe?{...Oe,...Ee}:Oe)),(t==null?void 0:t.id)===xe&&n(Me=>Me?{...Me,...Ee}:null),Ae||M("User details updated.","success")},[t==null?void 0:t.id,M]),B=Ke.useCallback(xe=>{s(Ee=>Ee.filter(Ae=>Ae.id!==xe)),M("User removed from the system.","success")},[M]),ie=Ke.useCallback((xe,Ee)=>{s(Me=>Me.map(Oe=>Oe.id===xe?{...Oe,password:Ee}:Oe));const Ae=r.find(Me=>Me.id===xe);Ae&&M(`Password for ${Ae.name} has been reset.`,"success")},[r,M]),se=Ke.useCallback(xe=>{if(!t||t.role!==Ot.CLIENT)return;if(xe.paymentMethod===sa.WALLET){if((t.walletBalance??0)<xe.price){M("Insufficient wallet balance.","error");return}const Ae=(t.walletBalance??0)-xe.price;U(t.id,{walletBalance:Ae});const Me={id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:t.id,type:Po.PAYMENT,amount:-xe.price,date:new Date().toISOString(),description:`Payment for shipment to ${xe.recipientName}`};p(Oe=>[Me,...Oe])}const Ee={...xe,id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:t.id,clientName:t.name,creationDate:new Date().toISOString(),status:lt.PENDING_ASSIGNMENT};f(Ae=>[Ee,...Ae]),M(`New shipment ${Ee.id} created!`,"success")},[t,M,U]),ae=Ke.useCallback(async(xe,Ee)=>{let Ae,Me,Oe;const Qe=r.find(pe=>pe.id===xe.clientId),ke=r.find(pe=>pe.role===Ot.ADMIN);switch(Ee){case lt.OUT_FOR_DELIVERY:Ae=Qe==null?void 0:Qe.email,Oe=`Your Flash Shipment ${xe.id} is Out for Delivery!`,Me=`Hi ${Qe==null?void 0:Qe.name},

Great news! Your shipment to ${xe.recipientName} is now out for delivery.

Best,
The Flash Express Team`;break;case lt.DELIVERED:Ae=Qe==null?void 0:Qe.email,Oe=`Your Flash Shipment ${xe.id} has been Delivered!`,Me=`Hi ${Qe==null?void 0:Qe.name},

Your shipment to ${xe.recipientName} has been successfully delivered. Thank you for using Flash Express!

Best,
The Flash Express Team`;break;case lt.RETURN_REQUESTED:Ae=ke==null?void 0:ke.email,Oe=`Return Request for Shipment ${xe.id}`,Me=`Admin,

Client ${xe.clientName} (ID: ${xe.clientId}) has requested a return for shipment ${xe.id}.

Please review and assign a courier from the 'Manage Returns' portal.`;break;case lt.RETURN_IN_PROGRESS:Ae=Qe==null?void 0:Qe.email,Oe=`Your Return for Shipment ${xe.id} is In Progress`,Me=`Hi ${Qe==null?void 0:Qe.name},

A courier has been assigned for the return of shipment ${xe.id}. They will be in contact shortly.

Best,
The Flash Express Team`;break;case lt.RETURNED:Ae=Qe==null?void 0:Qe.email,Oe=`Your Return for Shipment ${xe.id} is Complete`,Me=`Hi ${Qe==null?void 0:Qe.name},

The return for shipment ${xe.id} has been successfully completed.

Best,
The Flash Express Team`;break;default:return}if(Ae&&Me&&Oe){const pe={id:"NOTIF"+Math.floor(Math.random()*9e5+1e5),shipmentId:xe.id,channel:T3.EMAIL,recipient:Ae,message:`${Oe}

${Me}`,date:new Date().toISOString(),status:Ee,sent:!1};N(ct=>[pe,...ct]);try{M("Sending status update...","info"),E(ct=>({...ct,[pe.id]:"sending"})),await Vp(pe),N(ct=>ct.map(it=>it.id===pe.id?{...it,sent:!0}:it)),E(ct=>({...ct,[pe.id]:"sent"})),M(`Email for ${xe.id} sent successfully.`,"success")}catch(ct){console.error("Failed to send notification:",ct),E(it=>({...it,[pe.id]:"failed"})),M(`Failed to send email for ${xe.id}.`,"error")}}},[r,M]),J=Ke.useCallback(async(xe,Ee,Ae)=>{let Me;f(Oe=>Oe.map(Qe=>Qe.id===xe?(Me={...Qe,status:Ee,deliveryDate:Ee===lt.DELIVERED?new Date().toISOString():Qe.deliveryDate,signature:(Ae==null?void 0:Ae.signature)??Qe.signature,courierId:(Ae==null?void 0:Ae.courierId)??Qe.courierId},Me):Qe)),M(`Shipment ${xe} updated to "${Ee}".`,"info"),Me&&(Ee===lt.DELIVERED&&k(Me,!0),Ee===lt.DELIVERY_FAILED&&k(Me,!1),await ae(Me,Ee))},[M,ae,k]),$=Ke.useCallback(xe=>{const Ee=L.find(Ae=>Ae.courierId===xe);return!(!Ee||Ee.isRestricted||Ee.performanceRating<D.performanceThreshold||Ee.consecutiveFailures>=D.consecutiveFailureLimit)},[L,D]),ce=Ke.useCallback(async(xe,Ee)=>{if(!$(Ee)){const Me=r.find(Qe=>Qe.id===Ee),Oe=L.find(Qe=>Qe.courierId===Ee);return M(`Cannot assign to ${Me==null?void 0:Me.name}: ${(Oe==null?void 0:Oe.restrictionReason)||"Performance restrictions"}`,"error"),!1}await J(xe,lt.ASSIGNED_TO_COURIER,{courierId:Ee});const Ae=r.find(Me=>Me.id===Ee);return Ae&&M(`Shipment ${xe} assigned to ${Ae.name}.`,"success"),!0},[J,r,M,$,L]),de=Ke.useCallback(async(xe,Ee)=>{await J(xe,lt.ASSIGNED_TO_COURIER,{courierId:Ee});const Ae=r.find(Me=>Me.id===Ee);Ae&&M(`Shipment ${xe} re-assigned to ${Ae.name}.`,"success")},[J,r,M]),be=Ke.useCallback(async(xe,Ee)=>{if(!$(Ee)){const Me=r.find(Oe=>Oe.id===Ee);return M(`Cannot assign to ${Me==null?void 0:Me.name} due to restrictions.`,"error"),!1}await J(xe,lt.RETURN_IN_PROGRESS,{courierId:Ee});const Ae=r.find(Me=>Me.id===Ee);return Ae&&M(`Return for ${xe} assigned to ${Ae.name}.`,"success"),!0},[J,r,M,$]),Pe=Ke.useCallback((xe,Ee)=>{const Ae=r.find(Qe=>Qe.id===xe);if(!Ae)return;const Me=(Ae.walletBalance??0)+Ee;U(xe,{walletBalance:Me});const Oe={id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:xe,type:Po.DEPOSIT,amount:Ee,date:new Date().toISOString(),description:"Wallet top-up"};p(Qe=>[Oe,...Qe]),M(`Successfully added ${Ee.toFixed(2)} EGP to your wallet.`,"success")},[r,U,M]),F=Ke.useCallback(async xe=>{const Ee=x.find(Ae=>Ae.id===xe);if(Ee)try{M("Resending email...","info"),E(Ae=>({...Ae,[Ee.id]:"sending"})),await Vp(Ee),N(Ae=>Ae.map(Me=>Me.id===Ee.id?{...Me,sent:!0}:Me)),E(Ae=>({...Ae,[Ee.id]:"sent"})),M(`Email for ${Ee.shipmentId} resent successfully.`,"success")}catch{E(Me=>({...Me,[Ee.id]:"failed"})),M(`Failed to resend email for ${Ee.shipmentId}.`,"error")}},[x,M]),te=Ke.useCallback((xe,Ee)=>{P(Me=>Me.map(Oe=>Oe.courierId===xe?{...Oe,...Ee}:Oe));const Ae=r.find(Me=>Me.id===xe);M(`Financial settings for ${Ae==null?void 0:Ae.name} have been updated.`,"success")},[r,M]),re=Ke.useCallback((xe,Ee,Ae)=>{const Me=Math.abs(Ee);P(ke=>ke.map(pe=>pe.courierId===xe?{...pe,currentBalance:pe.currentBalance-Me,totalEarnings:pe.totalEarnings-Me}:pe));const Oe={id:`txn-${Date.now()}`,courierId:xe,type:_o.PENALTY,amount:-Me,description:Ae,timestamp:new Date().toISOString(),status:Ga.PROCESSED};_(ke=>[Oe,...ke]);const Qe=r.find(ke=>ke.id===xe);M(`Penalty of ${Me} EGP applied to ${Qe==null?void 0:Qe.name}.`,"success")},[r,M]),me=Ke.useCallback((xe,Ee)=>{P(Me=>Me.map(Oe=>Oe.courierId===xe?{...Oe,pendingEarnings:Oe.pendingEarnings-Ee}:Oe));const Ae={id:`txn-${Date.now()}`,courierId:xe,type:_o.WITHDRAWAL_REQUEST,amount:-Ee,description:"Payout requested",timestamp:new Date().toISOString(),status:Ga.PENDING};_(Me=>[Ae,...Me]),M(`Payout of ${Ee} EGP requested.`,"success")},[M]),oe=Ke.useCallback(xe=>{const Ee=I.find(Ae=>Ae.id===xe);Ee&&(_(Ae=>Ae.map(Me=>Me.id===xe?{...Me,status:Ga.PROCESSED,description:"Payout processed by admin"}:Me)),P(Ae=>Ae.map(Me=>Me.courierId===Ee.courierId?{...Me,currentBalance:Me.currentBalance+Ee.amount}:Me)),M(`Payout for transaction ${xe} processed.`,"success"))},[I,M]),Le=Ke.useCallback((xe,Ee)=>{const Ae=o.find(Oe=>Oe.id.toLowerCase()===xe.toLowerCase());if(!Ae)return null;const Me=r.find(Oe=>Oe.id===Ae.clientId);return Ae.recipientPhone===Ee||(Me==null?void 0:Me.phone)===Ee?Ae:null},[o,r]),_e=Ke.useMemo(()=>({currentUser:t,users:r,shipments:o,clientTransactions:d,toasts:w,notifications:x,notificationStatus:S,courierStats:L,courierTransactions:I,financialSettings:D,login:q,logout:K,addShipment:se,updateShipmentStatus:J,assignShipmentToCourier:ce,addUser:ge,updateUser:U,removeUser:B,resetPassword:ie,addToast:M,topUpWallet:Pe,assignReturn:be,reassignCourier:de,resendNotification:F,canCourierReceiveAssignment:$,updateCourierSettings:te,applyManualPenalty:re,processCourierPayout:oe,requestCourierPayout:me,trackShipment:Le}),[t,r,o,d,w,x,S,L,I,D,q,K,se,J,ce,ge,U,B,ie,M,Pe,be,de,F,$,te,re,oe,me,Le]);return y.jsx(_3.Provider,{value:_e,children:e})},iw=e=>new Promise((t,n)=>{if(window.google&&window.google.maps)return t();const r=document.getElementById("google-maps-script");if(r){const o=()=>{t(),r.removeEventListener("load",o)};r.addEventListener("load",o);return}const s=document.createElement("script");s.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places`,s.id="google-maps-script",s.async=!0,s.defer=!0,s.onload=()=>t(),s.onerror=()=>{const o=document.getElementById("google-maps-script");o&&document.head.removeChild(o),n(new Error("Google Maps script failed to load. Check API key & network."))},document.head.appendChild(s)}),rw=(e,t)=>{Ke.useEffect(()=>{if(e)iw(e).catch(n=>{console.error(n.message),t(n.message,"error")});else{const n="Maps API key is missing. Map features are disabled.";console.warn(n),t(n,"error")}},[e,t])},aw=()=>{const{currentUser:e,updateUser:t,addToast:n}=bi();return Ke.useEffect(()=>{if(!e||e.role!==Ot.COURIER)return;let r=null;return"geolocation"in navigator?r=navigator.geolocation.watchPosition(s=>{const o={lat:s.coords.latitude,lng:s.coords.longitude};t(e.id,{location:o},!0)},s=>{console.error("Error getting location:",s),s.code===s.PERMISSION_DENIED&&n("Location permission denied. Tracking is disabled.","error")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):n("Geolocation is not supported by your browser.","error"),()=>{r!==null&&navigator.geolocation.clearWatch(r)}},[e,t,n]),null},Xu=({className:e="w-10 h-10"})=>y.jsxs("svg",{viewBox:"0 0 128 128",className:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("rect",{width:"128",height:"128",rx:"32",fill:"url(#paint0_linear_1_2)"}),y.jsx("path",{d:"M41.8732 104L73.4475 56.4028H53.0337L86.1268 24L54.5525 71.5972H74.9663L41.8732 104Z",fill:"white"}),y.jsx("defs",{children:y.jsxs("linearGradient",{id:"paint0_linear_1_2",x1:"0",y1:"0",x2:"128",y2:"128",gradientUnits:"userSpaceOnUse",children:[y.jsx("stop",{stopColor:"#4338ca"}),y.jsx("stop",{offset:"1",stopColor:"#6366f1"})]})})]}),Jf=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Zu=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),jc=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),Y0=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 16.382V5.618a1 1 0 00-1.447-.894L15 7m-6 10h6"})}),I3=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.122-1.28-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.122-1.28.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Qu=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),sw=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),k2=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),W0=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),P2=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),F2=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),U2=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ow=({className:e="w-6 h-6"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Yp=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),D3=({className:e="w-5 h-5"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),L3=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),lw=({className:e="w-5 h-5"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),M3=({className:e="w-5 h-5"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4v-3l1.258-1.258a6 6 0 015.742-10.485A6 6 0 0115 7z"})}),O3=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})}),p1=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m1=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l4-4m-4 4l4 4"})}),cw=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),z2=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),uw=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),fw=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v1m6 11v1m-6-16v1m12 11v1M4 12H3m10 6H3m10-12H3m18 12h-1M4 20v-1m0-6V3m0 18v-1M20 4v1m0 12v1M4 4h1m15 15h1M4 8h1m15 7h1m-6-4h.01M12 12h.01M8 12h.01M12 16h.01M16 12h.01M16 16h.01M8 16h.01M12 8h.01M16 8h.01M8 8h.01"})}),R3=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),j3=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Wp=({className:e="w-6 h-6"})=>y.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 14v3m-3-3h6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),hw=({toast:e})=>{const t={success:"bg-green-600",error:"bg-red-600",info:"bg-primary-600"},n={success:y.jsx(F2,{className:"w-6 h-6 text-white"}),error:y.jsx(U2,{className:"w-6 h-6 text-white"}),info:y.jsx(ow,{className:"w-6 h-6 text-white"})};return y.jsxs("div",{className:`flex items-center gap-4 text-white p-4 pr-6 rounded-xl shadow-2xl animate-fade-in-up ${t[e.type]}`,children:[n[e.type],y.jsx("p",{className:"font-medium",children:e.message})]})},dw=()=>{const{toasts:e}=bi();return y.jsx("div",{className:"fixed bottom-8 right-8 z-[100] space-y-3",children:e.map(t=>y.jsx(hw,{toast:t},t.id))})},gw=({onTrackPackageClick:e})=>{const{login:t}=bi(),[n,r]=Ke.useState(""),[s,o]=Ke.useState(""),f=d=>{d.preventDefault(),t(n,s)};return y.jsxs("div",{className:"min-h-screen w-full lg:grid lg:grid-cols-2",children:[y.jsxs("div",{className:"relative hidden lg:flex flex-col items-center justify-center p-12 bg-login-image text-white",children:[y.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-60"}),y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx(Xu,{className:"w-28 h-28 mx-auto"}),y.jsx("h1",{className:"mt-6 text-4xl font-bold tracking-tight",children:"Flash Express"}),y.jsx("p",{className:"mt-3 text-lg text-slate-300",children:"Your world, delivered faster."})]})]}),y.jsx("div",{className:"flex items-center justify-center p-6 sm:p-12 lg:p-16 bg-slate-50",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"lg:hidden text-center mb-8",children:[y.jsx(Xu,{className:"w-20 h-20 mx-auto"}),y.jsx("h1",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Flash Express"})]}),y.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Login"}),y.jsx("p",{className:"mt-2 text-slate-600",children:"Enter your credentials to access your account."}),y.jsxs("form",{onSubmit:f,className:"mt-8 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:y.jsx(j3,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"email",type:"email",value:n,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"you@example.com",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:y.jsx(M3,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"password",type:"password",value:s,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"••••••••",required:!0})]})]}),y.jsx("button",{type:"submit",className:"w-full flex justify-center bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-300",children:"Login"})]}),y.jsxs("p",{className:"text-center text-sm text-slate-500 mt-8",children:["Test with: ",y.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"admin@flash.com"})," / ",y.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"password123"})]}),y.jsxs("div",{className:"text-center mt-6 text-sm",children:[y.jsx("span",{className:"text-slate-600",children:"Looking for your package? "}),y.jsx("button",{onClick:e,className:"font-semibold text-primary-600 hover:text-primary-700 focus:outline-none focus:ring-0",children:"Track your shipment here."})]})]})})]})},pw=({role:e,activeView:t,setActiveView:n})=>{const s={[Ot.CLIENT]:[{name:"Dashboard",icon:y.jsx(Jf,{}),view:"dashboard"},{name:"My Shipments",icon:y.jsx(Zu,{}),view:"shipments"},{name:"Create Shipment",icon:y.jsx(P2,{}),view:"create"},{name:"Wallet",icon:y.jsx(Qu,{}),view:"wallet"},{name:"My Profile",icon:y.jsx(z2,{}),view:"profile"}],[Ot.COURIER]:[{name:"Dashboard",icon:y.jsx(Jf,{}),view:"dashboard"},{name:"My Tasks",icon:y.jsx(W0,{}),view:"tasks"},{name:"My Earnings",icon:y.jsx(Wp,{}),view:"courier-financials"}],[Ot.ASSIGNING_USER]:[{name:"Dashboard",icon:y.jsx(Jf,{}),view:"dashboard"},{name:"Assign Shipments",icon:y.jsx(jc,{}),view:"assign"},{name:"Live Map",icon:y.jsx(Y0,{}),view:"map"}],[Ot.ADMIN]:[{name:"Dashboard",icon:y.jsx(Jf,{}),view:"dashboard"},{name:"Live Map",icon:y.jsx(Y0,{}),view:"map"},{name:"All Shipments",icon:y.jsx(Zu,{}),view:"shipments"},{name:"Assign Shipments",icon:y.jsx(jc,{}),view:"assign"},{name:"Manage Returns",icon:y.jsx(m1,{}),view:"returns"},{name:"User Management",icon:y.jsx(I3,{}),view:"users"},{name:"Client Analytics",icon:y.jsx(uw,{}),view:"client-analytics"},{name:"Courier Performance",icon:y.jsx(Wp,{}),view:"courier-performance"},{name:"Financials",icon:y.jsx(k2,{}),view:"financials"},{name:"Notifications Log",icon:y.jsx(R3,{}),view:"notifications"}]}[e]||[];return y.jsxs("aside",{className:"w-64 bg-slate-800 text-slate-300 flex flex-col flex-shrink-0",children:[y.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-700",children:[y.jsx(Xu,{className:"w-9 h-9"}),y.jsx("div",{children:y.jsx("h1",{className:"text-lg font-bold text-white",children:"Flash Express"})})]}),y.jsx("nav",{className:"flex-1 p-4 space-y-1.5",children:s.map(o=>y.jsxs("button",{onClick:()=>n(o.view),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-md text-left transition ${t===o.view?"bg-primary-600 text-white font-semibold":"hover:bg-slate-700 hover:text-white"}`,children:[kc.cloneElement(o.icon,{className:"w-6 h-6"}),y.jsx("span",{className:"text-sm font-medium",children:o.name})]},o.name))})]})},mw=({onLogout:e,user:t,onNavigate:n})=>{const{notifications:r,notificationStatus:s}=bi(),[o,f]=Ke.useState(!1),d=Ke.useRef(null),p=r.filter(x=>s[x.id]==="failed");return Ke.useEffect(()=>{const x=N=>{d.current&&!d.current.contains(N.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),y.jsxs("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 p-4 flex justify-between items-center z-20 sticky top-0",children:[y.jsxs("div",{className:"text-lg font-bold text-slate-800",children:[t.role," Portal"]}),y.jsxs("div",{className:"flex items-center gap-4",children:[t.role===Ot.ADMIN&&y.jsxs("div",{className:"relative",ref:d,children:[y.jsxs("button",{onClick:()=>f(x=>!x),className:"p-2 rounded-full hover:bg-slate-100 transition relative",children:[y.jsx(R3,{className:"w-6 h-6 text-slate-600"}),p.length>0&&y.jsxs("span",{className:"absolute top-0 right-0 flex h-3 w-3",children:[y.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),y.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),o&&y.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-slate-200 overflow-hidden",children:[y.jsxs("div",{className:"p-3 font-semibold text-slate-800 border-b border-slate-200",children:["Notifications (",p.length," failed)"]}),y.jsx("div",{className:"max-h-80 overflow-y-auto",children:p.length>0?p.map(x=>y.jsxs("div",{className:"p-3 hover:bg-slate-50 border-b border-slate-100 last:border-b-0",children:[y.jsxs("p",{className:"text-sm font-medium text-red-800",children:["Failed to send to ",x.recipient]}),y.jsx("p",{className:"text-sm text-slate-600 truncate",children:x.message.split(`

`)[0]})]},x.id)):y.jsx("p",{className:"text-sm text-slate-500 p-4 text-center",children:"No delivery failures."})}),y.jsx("div",{className:"p-2 bg-slate-50 border-t border-slate-200",children:y.jsx("button",{onClick:()=>{f(!1),n("notifications")},className:"w-full text-center text-sm font-semibold text-primary-600 hover:text-primary-800 py-1",children:"View Full Log"})})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"font-semibold text-slate-800",children:t.name}),y.jsx("p",{className:"text-xs text-slate-500",children:t.email})]}),y.jsx("button",{onClick:e,title:"Logout",className:"p-2 rounded-full hover:bg-red-50 transition",children:y.jsx(sw,{className:"w-6 h-6 text-red-500"})})]})]})]})},Dr=({title:e,value:t,icon:n,color:r,onClick:s})=>y.jsxs("div",{className:`bg-white p-5 rounded-xl shadow-sm flex items-center justify-between border-l-4 ${s?"cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition-all duration-300":""}`,style:{borderColor:r},onClick:s,children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-slate-500",children:e}),y.jsx("p",{className:"text-3xl font-bold text-slate-800",children:t})]}),y.jsx("div",{className:"p-3 rounded-lg bg-opacity-10",style:{color:r,backgroundColor:`${r}1A`},children:kc.cloneElement(n,{className:"w-7 h-7"})})]}),Xp=({setActiveView:e})=>{const{currentUser:t,shipments:n,users:r}=bi();if(!t)return null;const s=n.filter(x=>x.clientId===t.id),o=n.filter(x=>x.courierId===t.id),f=()=>{var x;return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsx(Dr,{title:"Total Shipments",value:s.length,icon:y.jsx(Zu,{className:"w-7 h-7"}),color:"#3b82f6",onClick:()=>e("shipments")}),y.jsx(Dr,{title:"In Transit",value:s.filter(N=>[lt.IN_TRANSIT,lt.OUT_FOR_DELIVERY].includes(N.status)).length,icon:y.jsx(jc,{className:"w-7 h-7"}),color:"#8b5cf6"}),y.jsx(Dr,{title:"Wallet Balance",value:`${((x=t.walletBalance)==null?void 0:x.toFixed(2))??0} EGP`,icon:y.jsx(Qu,{className:"w-7 h-7"}),color:"#22c55e",onClick:()=>e("wallet")})]})},d=()=>{const x=o.filter(N=>N.status===lt.DELIVERED&&N.paymentMethod===sa.COD).reduce((N,S)=>N+S.price,0);return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsx(Dr,{title:"Assigned Today",value:o.filter(N=>new Date(N.creationDate).toDateString()===new Date().toDateString()).length,icon:y.jsx(W0,{className:"w-7 h-7"}),color:"#3b82f6"}),y.jsx(Dr,{title:"Pending Deliveries",value:o.filter(N=>N.status===lt.OUT_FOR_DELIVERY).length,icon:y.jsx(jc,{className:"w-7 h-7"}),color:"#06b6d4",onClick:()=>e("tasks")}),y.jsx(Dr,{title:"COD Collected",value:`${x.toFixed(2)} EGP`,icon:y.jsx(Qu,{className:"w-7 h-7"}),color:"#16a34a"})]})},p=()=>y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx(Dr,{title:"Total Shipments",value:n.length,icon:y.jsx(Zu,{className:"w-7 h-7"}),color:"#3b82f6",onClick:t.role===Ot.ADMIN?()=>e("shipments"):void 0}),y.jsx(Dr,{title:"Total Clients",value:r.filter(x=>x.role===Ot.CLIENT).length,icon:y.jsx(I3,{className:"w-7 h-7"}),color:"#8b5cf6",onClick:t.role===Ot.ADMIN?()=>e("client-analytics"):void 0}),y.jsx(Dr,{title:"Pending Assignment",value:n.filter(x=>x.status===lt.PENDING_ASSIGNMENT).length,icon:y.jsx(W0,{className:"w-7 h-7"}),color:"#f97316",onClick:()=>e("assign")}),y.jsx(Dr,{title:"Total Revenue",value:`${n.filter(x=>x.status===lt.DELIVERED).reduce((x,N)=>x+N.price,0).toFixed(2)} EGP`,icon:y.jsx(k2,{className:"w-7 h-7"}),color:"#16a34a",onClick:t.role===Ot.ADMIN?()=>e("financials"):void 0})]});return y.jsxs("div",{children:[y.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:["Welcome back, ",t.name.split(" ")[0],"!"]}),t.role===Ot.CLIENT&&f(),t.role===Ot.COURIER&&d(),(t.role===Ot.ADMIN||t.role===Ot.ASSIGNING_USER)&&p()]})},xw="modulepreload",yw=function(e){return"/"+e},Zp={},Sd=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=Promise.allSettled(n.map(p=>{if(p=yw(p),p in Zp)return;Zp[p]=!0;const x=p.endsWith(".css"),N=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${N}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":xw,x||(S.as="script"),S.crossOrigin="",S.href=p,d&&S.setAttribute("nonce",d),document.head.appendChild(S),x)return new Promise((E,w)=>{S.addEventListener("load",E),S.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return s.then(f=>{for(const d of f||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}var wr=Uint8Array,oa=Uint16Array,H2=Int32Array,x1=new wr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y1=new wr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Nd=new wr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B3=function(e,t){for(var n=new oa(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new H2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)s[o]=o-n[r]<<5|r;return{b:n,r:s}},k3=B3(x1,2),P3=k3.b,Cd=k3.r;P3[28]=258,Cd[258]=28;var F3=B3(y1,0),vw=F3.b,Qp=F3.r,Ed=new oa(32768);for(var Qn=0;Qn<32768;++Qn){var fo=(Qn&43690)>>1|(Qn&21845)<<1;fo=(fo&52428)>>2|(fo&13107)<<2,fo=(fo&61680)>>4|(fo&3855)<<4,Ed[Qn]=((fo&65280)>>8|(fo&255)<<8)>>1}var hs=function(e,t,n){for(var r=e.length,s=0,o=new oa(t);s<r;++s)e[s]&&++o[e[s]-1];var f=new oa(t);for(s=1;s<t;++s)f[s]=f[s-1]+o[s-1]<<1;var d;if(n){d=new oa(1<<t);var p=15-t;for(s=0;s<r;++s)if(e[s])for(var x=s<<4|e[s],N=t-e[s],S=f[e[s]-1]++<<N,E=S|(1<<N)-1;S<=E;++S)d[Ed[S]>>p]=x}else for(d=new oa(r),s=0;s<r;++s)e[s]&&(d[s]=Ed[f[e[s]-1]++]>>15-e[s]);return d},qo=new wr(288);for(var Qn=0;Qn<144;++Qn)qo[Qn]=8;for(var Qn=144;Qn<256;++Qn)qo[Qn]=9;for(var Qn=256;Qn<280;++Qn)qo[Qn]=7;for(var Qn=280;Qn<288;++Qn)qo[Qn]=8;var Ku=new wr(32);for(var Qn=0;Qn<32;++Qn)Ku[Qn]=5;var bw=hs(qo,9,0),ww=hs(qo,9,1),Aw=hs(Ku,5,0),Sw=hs(Ku,5,1),vh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Fa=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},bh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},q2=function(e){return(e+7)/8|0},U3=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new wr(e.subarray(t,n))},Nw=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],za=function(e,t,n){var r=new Error(t||Nw[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,za),!n)throw r;return r},Cw=function(e,t,n,r){var s=e.length,o=0;if(!s||t.f&&!t.l)return n||new wr(0);var f=!n,d=f||t.i!=2,p=t.i;f&&(n=new wr(s*3));var x=function(Ae){var Me=n.length;if(Ae>Me){var Oe=new wr(Math.max(Me*2,Ae));Oe.set(n),n=Oe}},N=t.f||0,S=t.p||0,E=t.b||0,w=t.l,j=t.d,L=t.m,P=t.n,I=s*8;do{if(!w){N=Fa(e,S,1);var _=Fa(e,S+1,3);if(S+=3,_)if(_==1)w=ww,j=Sw,L=9,P=5;else if(_==2){var X=Fa(e,S,31)+257,k=Fa(e,S+10,15)+4,q=X+Fa(e,S+5,31)+1;S+=14;for(var K=new wr(q),ge=new wr(19),U=0;U<k;++U)ge[Nd[U]]=Fa(e,S+U*3,7);S+=k*3;for(var B=vh(ge),ie=(1<<B)-1,se=hs(ge,B,1),U=0;U<q;){var ae=se[Fa(e,S,ie)];S+=ae&15;var D=ae>>4;if(D<16)K[U++]=D;else{var J=0,$=0;for(D==16?($=3+Fa(e,S,3),S+=2,J=K[U-1]):D==17?($=3+Fa(e,S,7),S+=3):D==18&&($=11+Fa(e,S,127),S+=7);$--;)K[U++]=J}}var ce=K.subarray(0,X),de=K.subarray(X);L=vh(ce),P=vh(de),w=hs(ce,L,1),j=hs(de,P,1)}else za(1);else{var D=q2(S)+4,M=e[D-4]|e[D-3]<<8,Y=D+M;if(Y>s){p&&za(0);break}d&&x(E+M),n.set(e.subarray(D,Y),E),t.b=E+=M,t.p=S=Y*8,t.f=N;continue}if(S>I){p&&za(0);break}}d&&x(E+131072);for(var be=(1<<L)-1,Pe=(1<<P)-1,F=S;;F=S){var J=w[bh(e,S)&be],te=J>>4;if(S+=J&15,S>I){p&&za(0);break}if(J||za(2),te<256)n[E++]=te;else if(te==256){F=S,w=null;break}else{var re=te-254;if(te>264){var U=te-257,me=x1[U];re=Fa(e,S,(1<<me)-1)+P3[U],S+=me}var oe=j[bh(e,S)&Pe],Le=oe>>4;oe||za(3),S+=oe&15;var de=vw[Le];if(Le>3){var me=y1[Le];de+=bh(e,S)&(1<<me)-1,S+=me}if(S>I){p&&za(0);break}d&&x(E+131072);var _e=E+re;if(E<de){var xe=o-de,Ee=Math.min(de,_e);for(xe+E<0&&za(3);E<Ee;++E)n[E]=r[xe+E]}for(;E<_e;++E)n[E]=n[E-de]}}t.l=w,t.p=F,t.b=E,t.f=N,w&&(N=1,t.m=L,t.d=j,t.n=P)}while(!N);return E!=n.length&&f?U3(n,0,E):n.subarray(0,E)},Ds=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},lu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},wh=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,o=n.slice();if(!s)return{t:H3,l:0};if(s==1){var f=new wr(n[0].s+1);return f[n[0].s]=1,{t:f,l:1}}n.sort(function(Y,X){return Y.f-X.f}),n.push({s:-1,f:25001});var d=n[0],p=n[1],x=0,N=1,S=2;for(n[0]={s:-1,f:d.f+p.f,l:d,r:p};N!=s-1;)d=n[n[x].f<n[S].f?x++:S++],p=n[x!=N&&n[x].f<n[S].f?x++:S++],n[N++]={s:-1,f:d.f+p.f,l:d,r:p};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var w=new oa(E+1),j=Td(n[N-1],w,0);if(j>t){var r=0,L=0,P=j-t,I=1<<P;for(o.sort(function(X,k){return w[k.s]-w[X.s]||X.f-k.f});r<s;++r){var _=o[r].s;if(w[_]>t)L+=I-(1<<j-w[_]),w[_]=t;else break}for(L>>=P;L>0;){var D=o[r].s;w[D]<t?L-=1<<t-w[D]++-1:++r}for(;r>=0&&L;--r){var M=o[r].s;w[M]==t&&(--w[M],++L)}j=t}return{t:new wr(w),l:j}},Td=function(e,t,n){return e.s==-1?Math.max(Td(e.l,t,n+1),Td(e.r,t,n+1)):t[e.s]=n},Kp=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new oa(++t),r=0,s=e[0],o=1,f=function(p){n[r++]=p},d=1;d<=t;++d)if(e[d]==s&&d!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)f(32754);o>2&&(f(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(f(s),--o;o>6;o-=6)f(8304);o>2&&(f(o-3<<5|8208),o=0)}for(;o--;)f(s);o=1,s=e[d]}return{c:n.subarray(0,r),n:t}},cu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},z3=function(e,t,n){var r=n.length,s=q2(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var o=0;o<r;++o)e[s+o+4]=n[o];return(s+4+r)*8},Jp=function(e,t,n,r,s,o,f,d,p,x,N){Ds(t,N++,n),++s[256];for(var S=wh(s,15),E=S.t,w=S.l,j=wh(o,15),L=j.t,P=j.l,I=Kp(E),_=I.c,D=I.n,M=Kp(L),Y=M.c,X=M.n,k=new oa(19),q=0;q<_.length;++q)++k[_[q]&31];for(var q=0;q<Y.length;++q)++k[Y[q]&31];for(var K=wh(k,7),ge=K.t,U=K.l,B=19;B>4&&!ge[Nd[B-1]];--B);var ie=x+5<<3,se=cu(s,qo)+cu(o,Ku)+f,ae=cu(s,E)+cu(o,L)+f+14+3*B+cu(k,ge)+2*k[16]+3*k[17]+7*k[18];if(p>=0&&ie<=se&&ie<=ae)return z3(t,N,e.subarray(p,p+x));var J,$,ce,de;if(Ds(t,N,1+(ae<se)),N+=2,ae<se){J=hs(E,w,0),$=E,ce=hs(L,P,0),de=L;var be=hs(ge,U,0);Ds(t,N,D-257),Ds(t,N+5,X-1),Ds(t,N+10,B-4),N+=14;for(var q=0;q<B;++q)Ds(t,N+3*q,ge[Nd[q]]);N+=3*B;for(var Pe=[_,Y],F=0;F<2;++F)for(var te=Pe[F],q=0;q<te.length;++q){var re=te[q]&31;Ds(t,N,be[re]),N+=ge[re],re>15&&(Ds(t,N,te[q]>>5&127),N+=te[q]>>12)}}else J=bw,$=qo,ce=Aw,de=Ku;for(var q=0;q<d;++q){var me=r[q];if(me>255){var re=me>>18&31;lu(t,N,J[re+257]),N+=$[re+257],re>7&&(Ds(t,N,me>>23&31),N+=x1[re]);var oe=me&31;lu(t,N,ce[oe]),N+=de[oe],oe>3&&(lu(t,N,me>>5&8191),N+=y1[oe])}else lu(t,N,J[me]),N+=$[me]}return lu(t,N,J[256]),N+$[256]},Ew=new H2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),H3=new wr(0),Tw=function(e,t,n,r,s,o){var f=o.z||e.length,d=new wr(r+f+5*(1+Math.ceil(f/7e3))+s),p=d.subarray(r,d.length-s),x=o.l,N=(o.r||0)&7;if(t){N&&(p[0]=o.r>>3);for(var S=Ew[t-1],E=S>>13,w=S&8191,j=(1<<n)-1,L=o.p||new oa(32768),P=o.h||new oa(j+1),I=Math.ceil(n/3),_=2*I,D=function(Qe){return(e[Qe]^e[Qe+1]<<I^e[Qe+2]<<_)&j},M=new H2(25e3),Y=new oa(288),X=new oa(32),k=0,q=0,K=o.i||0,ge=0,U=o.w||0,B=0;K+2<f;++K){var ie=D(K),se=K&32767,ae=P[ie];if(L[se]=ae,P[ie]=se,U<=K){var J=f-K;if((k>7e3||ge>24576)&&(J>423||!x)){N=Jp(e,p,0,M,Y,X,q,ge,B,K-B,N),ge=k=q=0,B=K;for(var $=0;$<286;++$)Y[$]=0;for(var $=0;$<30;++$)X[$]=0}var ce=2,de=0,be=w,Pe=se-ae&32767;if(J>2&&ie==D(K-Pe))for(var F=Math.min(E,J)-1,te=Math.min(32767,K),re=Math.min(258,J);Pe<=te&&--be&&se!=ae;){if(e[K+ce]==e[K+ce-Pe]){for(var me=0;me<re&&e[K+me]==e[K+me-Pe];++me);if(me>ce){if(ce=me,de=Pe,me>F)break;for(var oe=Math.min(Pe,me-2),Le=0,$=0;$<oe;++$){var _e=K-Pe+$&32767,xe=L[_e],Ee=_e-xe&32767;Ee>Le&&(Le=Ee,ae=_e)}}}se=ae,ae=L[se],Pe+=se-ae&32767}if(de){M[ge++]=268435456|Cd[ce]<<18|Qp[de];var Ae=Cd[ce]&31,Me=Qp[de]&31;q+=x1[Ae]+y1[Me],++Y[257+Ae],++X[Me],U=K+ce,++k}else M[ge++]=e[K],++Y[e[K]]}}for(K=Math.max(K,U);K<f;++K)M[ge++]=e[K],++Y[e[K]];N=Jp(e,p,x,M,Y,X,q,ge,B,K-B,N),x||(o.r=N&7|p[N/8|0]<<3,N-=7,o.h=P,o.p=L,o.i=K,o.w=U)}else{for(var K=o.w||0;K<f+x;K+=65535){var Oe=K+65535;Oe>=f&&(p[N/8|0]=x,Oe=f),N=z3(p,N+1,e.subarray(K,Oe))}o.i=f}return U3(d,0,r+q2(N)+s)},q3=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,o=n.length|0,f=0;f!=o;){for(var d=Math.min(f+2655,o);f<d;++f)s+=r+=n[f];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},_w=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),f=new wr(o.length+e.length);f.set(o),f.set(e,o.length),e=f,s.w=o.length}return Tw(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},G3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Iw=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=q3();s.p(t.dictionary),G3(e,2,s.d())}},Dw=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&za(6,"invalid zlib data"),(e[1]>>5&1)==1&&za(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function _d(e,t){t||(t={});var n=q3();n.p(e);var r=_w(e,t,t.dictionary?6:2,4);return Iw(r,t),G3(r,r.length-4,n.d()),r}function Lw(e,t){return Cw(e.subarray(Dw(e),-4),{i:2},t,t)}var Mw=typeof TextDecoder<"u"&&new TextDecoder,Ow=0;try{Mw.decode(H3,{stream:!0}),Ow=1}catch{}var Lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ah(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var Bn={log:Ah,warn:function(e){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):Ah.call(null,arguments))},error:function(e){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):Ah(e))}};function Sh(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ml(r.response,t,n)},r.onerror=function(){Bn.error("could not download file")},r.send()}function $p(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $f(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Iu,Id,ml=Lt.saveAs||((typeof window>"u"?"undefined":In(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Lt.URL||Lt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?$p(s.href)?Sh(e,t,n):$f(s,s.target="_blank"):$f(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){$f(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if($p(e))Sh(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){$f(r)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:In(o)!=="object"&&(Bn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Sh(e,t,n);var s=e.type==="application/octet-stream",o=/constructor/i.test(Lt.HTMLElement)||Lt.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||s&&o)&&(typeof FileReader>"u"?"undefined":In(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var N=d.result;N=f?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=N:location=N,r=null},d.readAsDataURL(e)}else{var p=Lt.URL||Lt.webkitURL,x=p.createObjectURL(e);r?r.location=x:location.href=x,r=null,setTimeout(function(){p.revokeObjectURL(x)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function V3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,o=n[r].process,f=s.exec(e);f&&(t=o(f),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),p=this.g.toString(16),x=this.b.toString(16);return d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),x.length==1&&(x="0"+x),"#"+d+p+x}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Nh(e,t){var n=e[0],r=e[1],s=e[2],o=e[3];n=xr(n,r,s,o,t[0],7,-680876936),o=xr(o,n,r,s,t[1],12,-389564586),s=xr(s,o,n,r,t[2],17,606105819),r=xr(r,s,o,n,t[3],22,-1044525330),n=xr(n,r,s,o,t[4],7,-176418897),o=xr(o,n,r,s,t[5],12,1200080426),s=xr(s,o,n,r,t[6],17,-1473231341),r=xr(r,s,o,n,t[7],22,-45705983),n=xr(n,r,s,o,t[8],7,1770035416),o=xr(o,n,r,s,t[9],12,-1958414417),s=xr(s,o,n,r,t[10],17,-42063),r=xr(r,s,o,n,t[11],22,-1990404162),n=xr(n,r,s,o,t[12],7,1804603682),o=xr(o,n,r,s,t[13],12,-40341101),s=xr(s,o,n,r,t[14],17,-1502002290),n=yr(n,r=xr(r,s,o,n,t[15],22,1236535329),s,o,t[1],5,-165796510),o=yr(o,n,r,s,t[6],9,-1069501632),s=yr(s,o,n,r,t[11],14,643717713),r=yr(r,s,o,n,t[0],20,-373897302),n=yr(n,r,s,o,t[5],5,-701558691),o=yr(o,n,r,s,t[10],9,38016083),s=yr(s,o,n,r,t[15],14,-660478335),r=yr(r,s,o,n,t[4],20,-405537848),n=yr(n,r,s,o,t[9],5,568446438),o=yr(o,n,r,s,t[14],9,-1019803690),s=yr(s,o,n,r,t[3],14,-187363961),r=yr(r,s,o,n,t[8],20,1163531501),n=yr(n,r,s,o,t[13],5,-1444681467),o=yr(o,n,r,s,t[2],9,-51403784),s=yr(s,o,n,r,t[7],14,1735328473),n=vr(n,r=yr(r,s,o,n,t[12],20,-1926607734),s,o,t[5],4,-378558),o=vr(o,n,r,s,t[8],11,-2022574463),s=vr(s,o,n,r,t[11],16,1839030562),r=vr(r,s,o,n,t[14],23,-35309556),n=vr(n,r,s,o,t[1],4,-1530992060),o=vr(o,n,r,s,t[4],11,1272893353),s=vr(s,o,n,r,t[7],16,-155497632),r=vr(r,s,o,n,t[10],23,-1094730640),n=vr(n,r,s,o,t[13],4,681279174),o=vr(o,n,r,s,t[0],11,-358537222),s=vr(s,o,n,r,t[3],16,-722521979),r=vr(r,s,o,n,t[6],23,76029189),n=vr(n,r,s,o,t[9],4,-640364487),o=vr(o,n,r,s,t[12],11,-421815835),s=vr(s,o,n,r,t[15],16,530742520),n=br(n,r=vr(r,s,o,n,t[2],23,-995338651),s,o,t[0],6,-198630844),o=br(o,n,r,s,t[7],10,1126891415),s=br(s,o,n,r,t[14],15,-1416354905),r=br(r,s,o,n,t[5],21,-57434055),n=br(n,r,s,o,t[12],6,1700485571),o=br(o,n,r,s,t[3],10,-1894986606),s=br(s,o,n,r,t[10],15,-1051523),r=br(r,s,o,n,t[1],21,-2054922799),n=br(n,r,s,o,t[8],6,1873313359),o=br(o,n,r,s,t[15],10,-30611744),s=br(s,o,n,r,t[6],15,-1560198380),r=br(r,s,o,n,t[13],21,1309151649),n=br(n,r,s,o,t[4],6,-145523070),o=br(o,n,r,s,t[11],10,-1120210379),s=br(s,o,n,r,t[2],15,718787259),r=br(r,s,o,n,t[9],21,-343485551),e[0]=Io(n,e[0]),e[1]=Io(r,e[1]),e[2]=Io(s,e[2]),e[3]=Io(o,e[3])}function v1(e,t,n,r,s,o){return t=Io(Io(t,e),Io(r,o)),Io(t<<s|t>>>32-s,n)}function xr(e,t,n,r,s,o,f){return v1(t&n|~t&r,e,t,s,o,f)}function yr(e,t,n,r,s,o,f){return v1(t&r|n&~r,e,t,s,o,f)}function vr(e,t,n,r,s,o,f){return v1(t^n^r,e,t,s,o,f)}function br(e,t,n,r,s,o,f){return v1(n^(t|~r),e,t,s,o,f)}function Y3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Nh(r,Rw(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Nh(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,Nh(r,s),r}function Rw(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Iu=Lt.atob.bind(Lt),Id=Lt.btoa.bind(Lt);var em="0123456789abcdef".split("");function jw(e){for(var t="",n=0;n<4;n++)t+=em[e>>8*n+4&15]+em[e>>8*n&15];return t}function Bw(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Dd(e){return Y3(e).map(Bw).join("")}var kw=function(e){for(var t=0;t<e.length;t++)e[t]=jw(e[t]);return e.join("")}(Y3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Io(e,t){if(kw){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ld(e,t){var n,r,s,o;if(e!==n){for(var f=(s=e,o=1+(256/e.length>>0),new Array(o+1).join(s)),d=[],p=0;p<256;p++)d[p]=p;var x=0;for(p=0;p<256;p++){var N=d[p];x=(x+N+f.charCodeAt(p))%256,d[p]=d[x],d[x]=N}n=e,r=d}else d=r;var S=t.length,E=0,w=0,j="";for(p=0;p<S;p++)w=(w+(N=d[E=(E+1)%256]))%256,d[E]=d[w],d[w]=N,f=d[(d[E]+d[w])%256],j+=String.fromCharCode(t.charCodeAt(p)^f);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tm={print:4,modify:8,copy:16,"annot-forms":32};function tc(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(d){if(tm.perm!==void 0)throw new Error("Invalid permission: "+d);s+=tm[d]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),f=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,f),this.P=-(1+(255^s)),this.encryptionKey=Dd(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ld(this.encryptionKey,this.padding)}function nc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function nm(e){if(In(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var o=Math.random().toString(35);return t[n][o]=[r,!!s],o},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[n]){var f=t[n][o];try{f[0].apply(e,r)}catch(d){Lt.console&&Bn.error("jsPDF PubSub Error",d.message,d)}f[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ju(e){if(!(this instanceof Ju))return new Ju(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function W3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function So(e,t,n,r,s){if(!(this instanceof So))return new So(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,W3.call(this,r,s)}function xl(e,t,n,r,s){if(!(this instanceof xl))return new xl(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,W3.call(this,r,s)}function It(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],f=[],d=1,p=16,x="S",N=null;In(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,o=e.compress||e.compressPdf||o,(N=e.encryption||null)!==null&&(N.userPassword=N.userPassword||"",N.ownerPassword=N.ownerPassword||"",N.userPermissions=N.userPermissions||[]),d=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(p=e.floatPrecision),x=e.defaultPathOperation||"S"),f=e.filters||(o===!0?["FlateEncode"]:f),r=r||"mm",n=(""+(n||"P")).toLowerCase();var S=e.putOnlyUsedFonts||!1,E={},w={internal:{},__private__:{}};w.__private__.PubSub=nm;var j="1.3",L=w.__private__.getPdfVersion=function(){return j};w.__private__.setPdfVersion=function(A){j=A};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return P};var I=w.__private__.getPageFormat=function(A){return P[A]};s=s||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},D=_.COMPAT;function M(){this.saveGraphicsState(),pe(new vt(ut,0,0,-ut,0,pr()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),x="n",D=_.ADVANCED}function Y(){this.restoreGraphicsState(),x="S",D=_.COMPAT}var X=w.__private__.combineFontStyleAndFontWeight=function(A,V){if(A=="bold"&&V=="normal"||A=="bold"&&V==400||A=="normal"&&V=="italic"||A=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(A=V==400||V==="normal"?A==="italic"?"italic":"normal":V!=700&&V!=="bold"||A!=="normal"?(V==700?"bold":V)+""+A:"bold"),A};w.advancedAPI=function(A){var V=D===_.COMPAT;return V&&M.call(this),typeof A!="function"||(A(this),V&&Y.call(this)),this},w.compatAPI=function(A){var V=D===_.ADVANCED;return V&&Y.call(this),typeof A!="function"||(A(this),V&&M.call(this)),this},w.isAdvancedAPI=function(){return D===_.ADVANCED};var k,q=function(A){if(D!==_.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=w.roundToPrecision=w.__private__.roundToPrecision=function(A,V){var ue=t||V;if(isNaN(A)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ue).replace(/0+$/,"")};k=w.hpf=w.__private__.hpf=typeof p=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return K(A,p)}:p==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return K(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return K(A,16)};var ge=w.f2=w.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return K(A,2)},U=w.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return K(A,3)},B=w.scale=w.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return D===_.COMPAT?A*ut:D===_.ADVANCED?A:void 0},ie=function(A){return D===_.COMPAT?pr()-A:D===_.ADVANCED?A:void 0},se=function(A){return B(ie(A))};w.__private__.setPrecision=w.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var ae,J="00000000000000000000000000000000",$=w.__private__.getFileId=function(){return J},ce=w.__private__.setFileId=function(A){return J=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),N!==null&&(Ni=new tc(N.userPermissions,N.userPassword,N.ownerPassword,J)),J};w.setFileId=function(A){return ce(A),this},w.getFileId=function(){return $()};var de=w.__private__.convertDateToPDFDate=function(A){var V=A.getTimezoneOffset(),ue=V<0?"+":"-",ve=Math.floor(Math.abs(V/60)),De=Math.abs(V%60),qe=[ue,re(ve),"'",re(De),"'"].join("");return["D:",A.getFullYear(),re(A.getMonth()+1),re(A.getDate()),re(A.getHours()),re(A.getMinutes()),re(A.getSeconds()),qe].join("")},be=w.__private__.convertPDFDateToDate=function(A){var V=parseInt(A.substr(2,4),10),ue=parseInt(A.substr(6,2),10)-1,ve=parseInt(A.substr(8,2),10),De=parseInt(A.substr(10,2),10),qe=parseInt(A.substr(12,2),10),Ze=parseInt(A.substr(14,2),10);return new Date(V,ue,ve,De,qe,Ze,0)},Pe=w.__private__.setCreationDate=function(A){var V;if(A===void 0&&(A=new Date),A instanceof Date)V=de(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=A}return ae=V},F=w.__private__.getCreationDate=function(A){var V=ae;return A==="jsDate"&&(V=be(ae)),V};w.setCreationDate=function(A){return Pe(A),this},w.getCreationDate=function(A){return F(A)};var te,re=w.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},me=w.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},oe=0,Le=[],_e=[],xe=0,Ee=[],Ae=[],Me=!1,Oe=_e,Qe=function(){oe=0,xe=0,_e=[],Le=[],Ee=[],fr=Dn(),Cr=Dn()};w.__private__.setCustomOutputDestination=function(A){Me=!0,Oe=A};var ke=function(A){Me||(Oe=A)};w.__private__.resetCustomOutputDestination=function(){Me=!1,Oe=_e};var pe=w.__private__.out=function(A){return A=A.toString(),xe+=A.length+1,Oe.push(A),Oe},ct=w.__private__.write=function(A){return pe(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},it=w.__private__.getArrayBuffer=function(A){for(var V=A.length,ue=new ArrayBuffer(V),ve=new Uint8Array(ue);V--;)ve[V]=A.charCodeAt(V);return ue},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Ge};var at=e.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(A){return at=D===_.ADVANCED?A/ut:A,this};var He,st=w.__private__.getFontSize=w.getFontSize=function(){return D===_.COMPAT?at:at*ut},At=e.R2L||!1;w.__private__.setR2L=w.setR2L=function(A){return At=A,this},w.__private__.getR2L=w.getR2L=function(){return At};var Ct,Ft=w.__private__.setZoomMode=function(A){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))He=A;else if(isNaN(A)){if(V.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');He=A}else He=parseInt(A,10)};w.__private__.getZoomMode=function(){return He};var Dt,rn=w.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Ct=A};w.__private__.getPageMode=function(){return Ct};var Jt=w.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Dt=A};w.__private__.getLayoutMode=function(){return Dt},w.__private__.setDisplayMode=w.setDisplayMode=function(A,V,ue){return Ft(A),Jt(V),rn(ue),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(A){if(Object.keys(yt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[A]},w.__private__.getDocumentProperties=function(){return yt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(A){for(var V in yt)yt.hasOwnProperty(V)&&A[V]&&(yt[V]=A[V]);return this},w.__private__.setDocumentProperty=function(A,V){if(Object.keys(yt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[A]=V};var Xt,ut,Vi,Et,rt,jt={},Tt={},dn=[],an={},Ma={},Gn={},Ht={},nr=null,Vn=0,Bt=[],Gt=new nm(w),Oa=e.hotfixes||[],un={},ir={},Nr=[],vt=function A(V,ue,ve,De,qe,Ze){if(!(this instanceof A))return new A(V,ue,ve,De,qe,Ze);isNaN(V)&&(V=1),isNaN(ue)&&(ue=0),isNaN(ve)&&(ve=0),isNaN(De)&&(De=1),isNaN(qe)&&(qe=0),isNaN(Ze)&&(Ze=0),this._matrix=[V,ue,ve,De,qe,Ze]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(A)},vt.prototype.multiply=function(A){var V=A.sx*this.sx+A.shy*this.shx,ue=A.sx*this.shy+A.shy*this.sy,ve=A.shx*this.sx+A.sy*this.shx,De=A.shx*this.shy+A.sy*this.sy,qe=A.tx*this.sx+A.ty*this.shx+this.tx,Ze=A.tx*this.shy+A.ty*this.sy+this.ty;return new vt(V,ue,ve,De,qe,Ze)},vt.prototype.decompose=function(){var A=this.sx,V=this.shy,ue=this.shx,ve=this.sy,De=this.tx,qe=this.ty,Ze=Math.sqrt(A*A+V*V),ht=(A/=Ze)*ue+(V/=Ze)*ve;ue-=A*ht,ve-=V*ht;var St=Math.sqrt(ue*ue+ve*ve);return ht/=St,A*(ve/=St)<V*(ue/=St)&&(A=-A,V=-V,ht=-ht,Ze=-Ze),{scale:new vt(Ze,0,0,St,0,0),translate:new vt(1,0,0,1,De,qe),rotate:new vt(A,V,-V,A,0,0),skew:new vt(1,0,ht,1,0,0)}},vt.prototype.toString=function(A){return this.join(" ")},vt.prototype.inversed=function(){var A=this.sx,V=this.shy,ue=this.shx,ve=this.sy,De=this.tx,qe=this.ty,Ze=1/(A*ve-V*ue),ht=ve*Ze,St=-V*Ze,kt=-ue*Ze,Pt=A*Ze;return new vt(ht,St,kt,Pt,-ht*De-kt*qe,-St*De-Pt*qe)},vt.prototype.applyToPoint=function(A){var V=A.x*this.sx+A.y*this.shx+this.tx,ue=A.x*this.shy+A.y*this.sy+this.ty;return new Ks(V,ue)},vt.prototype.applyToRectangle=function(A){var V=this.applyToPoint(A),ue=this.applyToPoint(new Ks(A.x+A.w,A.y+A.h));return new ll(V.x,V.y,ue.x-V.x,ue.y-V.y)},vt.prototype.clone=function(){var A=this.sx,V=this.shy,ue=this.shx,ve=this.sy,De=this.tx,qe=this.ty;return new vt(A,V,ue,ve,De,qe)},w.Matrix=vt;var Yr=w.matrixMult=function(A,V){return V.multiply(A)},Yi=new vt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Yi;var Wi=function(A,V){if(!Ma[A]){var ue=(V instanceof So?"Sh":"P")+(Object.keys(an).length+1).toString(10);V.id=ue,Ma[A]=ue,an[ue]=V,Gt.publish("addPattern",V)}};w.ShadingPattern=So,w.TilingPattern=xl,w.addShadingPattern=function(A,V){return q("addShadingPattern()"),Wi(A,V),this},w.beginTilingPattern=function(A){q("beginTilingPattern()"),Js(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},w.endTilingPattern=function(A,V){q("endTilingPattern()"),V.stream=Ae[te].join(`
`),Wi(A,V),Gt.publish("endTilingPattern",V),Nr.pop().restore()};var fn=w.__private__.newObject=function(){var A=Dn();return Pn(A,!0),A},Dn=w.__private__.newObjectDeferred=function(){return oe++,Le[oe]=function(){return xe},oe},Pn=function(A,V){return V=typeof V=="boolean"&&V,Le[A]=xe,V&&pe(A+" 0 obj"),A},dt=w.__private__.newAdditionalObject=function(){var A={objId:Dn(),content:""};return Ee.push(A),A},fr=Dn(),Cr=Dn(),Fn=w.__private__.decodeColorString=function(A){var V=A.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ue=parseFloat(V[0]);V=[ue,ue,ue,"r"]}for(var ve="#",De=0;De<3;De++)ve+=("0"+Math.floor(255*parseFloat(V[De])).toString(16)).slice(-2);return ve},Xi=w.__private__.encodeColorString=function(A){var V;typeof A=="string"&&(A={ch1:A});var ue=A.ch1,ve=A.ch2,De=A.ch3,qe=A.ch4,Ze=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var ht=new V3(ue);if(ht.ok)ue=ht.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var St=parseInt(ue.substr(1),16);ue=St>>16&255,ve=St>>8&255,De=255&St}if(ve===void 0||qe===void 0&&ue===ve&&ve===De)if(typeof ue=="string")V=ue+" "+Ze[0];else switch(A.precision){case 2:V=ge(ue/255)+" "+Ze[0];break;case 3:default:V=U(ue/255)+" "+Ze[0]}else if(qe===void 0||In(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return V=["1.","1.","1.",Ze[1]].join(" ");if(typeof ue=="string")V=[ue,ve,De,Ze[1]].join(" ");else switch(A.precision){case 2:V=[ge(ue/255),ge(ve/255),ge(De/255),Ze[1]].join(" ");break;default:case 3:V=[U(ue/255),U(ve/255),U(De/255),Ze[1]].join(" ")}}else if(typeof ue=="string")V=[ue,ve,De,qe,Ze[2]].join(" ");else switch(A.precision){case 2:V=[ge(ue),ge(ve),ge(De),ge(qe),Ze[2]].join(" ");break;case 3:default:V=[U(ue),U(ve),U(De),U(qe),Ze[2]].join(" ")}return V},Er=w.__private__.getFilters=function(){return f},rr=w.__private__.putStream=function(A){var V=(A=A||{}).data||"",ue=A.filters||Er(),ve=A.alreadyAppliedFilters||[],De=A.addLength1||!1,qe=V.length,Ze=A.objectId,ht=function(Zi){return Zi};if(N!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");N!==null&&(ht=Ni.encryptor(Ze,0));var St={};ue===!0&&(ue=["FlateEncode"]);var kt=A.additionalKeyValues||[],Pt=(St=It.API.processDataByFilters!==void 0?It.API.processDataByFilters(V,ue):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(St.data.length!==0&&(kt.push({key:"Length",value:St.data.length}),De===!0&&kt.push({key:"Length1",value:qe})),Pt.length!=0)if(Pt.split("/").length-1==1)kt.push({key:"Filter",value:Pt});else{kt.push({key:"Filter",value:"["+Pt+"]"});for(var en=0;en<kt.length;en+=1)if(kt[en].key==="DecodeParms"){for(var Xn=[],Sn=0;Sn<St.reverseChain.split("/").length-1;Sn+=1)Xn.push("null");Xn.push(kt[en].value),kt[en].value="["+Xn.join(" ")+"]"}}pe("<<");for(var ei=0;ei<kt.length;ei++)pe("/"+kt[ei].key+" "+kt[ei].value);pe(">>"),St.data.length!==0&&(pe("stream"),pe(ht(St.data)),pe("endstream"))},wi=w.__private__.putPage=function(A){var V=A.number,ue=A.data,ve=A.objId,De=A.contentsObjId;Pn(ve,!0),pe("<</Type /Page"),pe("/Parent "+A.rootDictionaryObjId+" 0 R"),pe("/Resources "+A.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(k(A.mediaBox.bottomLeftX))+" "+parseFloat(k(A.mediaBox.bottomLeftY))+" "+k(A.mediaBox.topRightX)+" "+k(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&pe("/CropBox ["+k(A.cropBox.bottomLeftX)+" "+k(A.cropBox.bottomLeftY)+" "+k(A.cropBox.topRightX)+" "+k(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&pe("/BleedBox ["+k(A.bleedBox.bottomLeftX)+" "+k(A.bleedBox.bottomLeftY)+" "+k(A.bleedBox.topRightX)+" "+k(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&pe("/TrimBox ["+k(A.trimBox.bottomLeftX)+" "+k(A.trimBox.bottomLeftY)+" "+k(A.trimBox.topRightX)+" "+k(A.trimBox.topRightY)+"]"),A.artBox!==null&&pe("/ArtBox ["+k(A.artBox.bottomLeftX)+" "+k(A.artBox.bottomLeftY)+" "+k(A.artBox.topRightX)+" "+k(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&pe("/UserUnit "+A.userUnit),Gt.publish("putPage",{objId:ve,pageContext:Bt[V],pageNumber:V,page:ue}),pe("/Contents "+De+" 0 R"),pe(">>"),pe("endobj");var qe=ue.join(`
`);return D===_.ADVANCED&&(qe+=`
Q`),Pn(De,!0),rr({data:qe,filters:Er(),objectId:De}),pe("endobj"),ve},xs=w.__private__.putPages=function(){var A,V,ue=[];for(A=1;A<=Vn;A++)Bt[A].objId=Dn(),Bt[A].contentsObjId=Dn();for(A=1;A<=Vn;A++)ue.push(wi({number:A,data:Ae[A],objId:Bt[A].objId,contentsObjId:Bt[A].contentsObjId,mediaBox:Bt[A].mediaBox,cropBox:Bt[A].cropBox,bleedBox:Bt[A].bleedBox,trimBox:Bt[A].trimBox,artBox:Bt[A].artBox,userUnit:Bt[A].userUnit,rootDictionaryObjId:fr,resourceDictionaryObjId:Cr}));Pn(fr,!0),pe("<</Type /Pages");var ve="/Kids [";for(V=0;V<Vn;V++)ve+=ue[V]+" 0 R ";pe(ve+"]"),pe("/Count "+Vn),pe(">>"),pe("endobj"),Gt.publish("postPutPages")},Ys=function(A){Gt.publish("putFont",{font:A,out:pe,newObject:fn,putStream:rr}),A.isAlreadyPutted!==!0&&(A.objectNumber=fn(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+nc(A.postScriptName)),pe("/Subtype /Type1"),typeof A.encoding=="string"&&pe("/Encoding /"+A.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},ar=function(){for(var A in jt)jt.hasOwnProperty(A)&&(S===!1||S===!0&&E.hasOwnProperty(A))&&Ys(jt[A])},di=function(A){A.objectNumber=fn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[k(A.x),k(A.y),k(A.x+A.width),k(A.y+A.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ue=A.pages[1].join(`
`);rr({data:ue,additionalKeyValues:V,objectId:A.objectNumber}),pe("endobj")},yn=function(){for(var A in un)un.hasOwnProperty(A)&&di(un[A])},Xo=function(A,V){var ue,ve=[],De=1/(V-1);for(ue=0;ue<1;ue+=De)ve.push(ue);if(ve.push(1),A[0].offset!=0){var qe={offset:0,color:A[0].color};A.unshift(qe)}if(A[A.length-1].offset!=1){var Ze={offset:1,color:A[A.length-1].color};A.push(Ze)}for(var ht="",St=0,kt=0;kt<ve.length;kt++){for(ue=ve[kt];ue>A[St+1].offset;)St++;var Pt=A[St].offset,en=(ue-Pt)/(A[St+1].offset-Pt),Xn=A[St].color,Sn=A[St+1].color;ht+=me(Math.round((1-en)*Xn[0]+en*Sn[0]).toString(16))+me(Math.round((1-en)*Xn[1]+en*Sn[1]).toString(16))+me(Math.round((1-en)*Xn[2]+en*Sn[2]).toString(16))}return ht.trim()},da=function(A,V){V||(V=21);var ue=fn(),ve=Xo(A.colors,V),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+V+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rr({data:ve,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),pe("endobj"),A.objectNumber=fn(),pe("<< /ShadingType "+A.type),pe("/ColorSpace /DeviceRGB");var qe="/Coords ["+k(parseFloat(A.coords[0]))+" "+k(parseFloat(A.coords[1]))+" ";A.type===2?qe+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3])):qe+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3]))+" "+k(parseFloat(A.coords[4]))+" "+k(parseFloat(A.coords[5])),pe(qe+="]"),A.matrix&&pe("/Matrix ["+A.matrix.toString()+"]"),pe("/Function "+ue+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Zo=function(A,V){var ue=Dn(),ve=fn();V.push({resourcesOid:ue,objectOid:ve}),A.objectNumber=ve;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+A.boundingBox.map(k).join(" ")+"]"}),De.push({key:"XStep",value:k(A.xStep)}),De.push({key:"YStep",value:k(A.yStep)}),De.push({key:"Resources",value:ue+" 0 R"}),A.matrix&&De.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),rr({data:A.stream,additionalKeyValues:De,objectId:A.objectNumber}),pe("endobj")},We=function(A){var V;for(V in an)an.hasOwnProperty(V)&&(an[V]instanceof So?da(an[V]):an[V]instanceof xl&&Zo(an[V],A))},Pl=function(A){for(var V in A.objectNumber=fn(),pe("<<"),A)switch(V){case"opacity":pe("/ca "+ge(A[V]));break;case"stroke-opacity":pe("/CA "+ge(A[V]))}pe(">>"),pe("endobj")},Un=function(){var A;for(A in Gn)Gn.hasOwnProperty(A)&&Pl(Gn[A])},ga=function(){for(var A in pe("/XObject <<"),un)un.hasOwnProperty(A)&&un[A].objectNumber>=0&&pe("/"+A+" "+un[A].objectNumber+" 0 R");Gt.publish("putXobjectDict"),pe(">>")},Gc=function(){Ni.oid=fn(),pe("<<"),pe("/Filter /Standard"),pe("/V "+Ni.v),pe("/R "+Ni.r),pe("/U <"+Ni.toHexString(Ni.U)+">"),pe("/O <"+Ni.toHexString(Ni.O)+">"),pe("/P "+Ni.P),pe(">>"),pe("endobj")},on=function(){for(var A in pe("/Font <<"),jt)jt.hasOwnProperty(A)&&(S===!1||S===!0&&E.hasOwnProperty(A))&&pe("/"+A+" "+jt[A].objectNumber+" 0 R");pe(">>")},ln=function(){if(Object.keys(an).length>0){for(var A in pe("/Shading <<"),an)an.hasOwnProperty(A)&&an[A]instanceof So&&an[A].objectNumber>=0&&pe("/"+A+" "+an[A].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),pe(">>")}},Vt=function(A){if(Object.keys(an).length>0){for(var V in pe("/Pattern <<"),an)an.hasOwnProperty(V)&&an[V]instanceof w.TilingPattern&&an[V].objectNumber>=0&&an[V].objectNumber<A&&pe("/"+V+" "+an[V].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),pe(">>")}},Qo=function(){if(Object.keys(Gn).length>0){var A;for(A in pe("/ExtGState <<"),Gn)Gn.hasOwnProperty(A)&&Gn[A].objectNumber>=0&&pe("/"+A+" "+Gn[A].objectNumber+" 0 R");Gt.publish("putGStateDict"),pe(">>")}},Yn=function(A){Pn(A.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),on(),ln(),Vt(A.objectOid),Qo(),ga(),pe(">>"),pe("endobj")},Ws=function(){var A=[];ar(),Un(),yn(),We(A),Gt.publish("putResources"),A.forEach(Yn),Yn({resourcesOid:Cr,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources")},Jn=function(){Gt.publish("putAdditionalObjects");for(var A=0;A<Ee.length;A++){var V=Ee[A];Pn(V.objId,!0),pe(V.content),pe("endobj")}Gt.publish("postPutAdditionalObjects")},Wr=function(A){Tt[A.fontName]=Tt[A.fontName]||{},Tt[A.fontName][A.fontStyle]=A.id},Ko=function(A,V,ue,ve,De){var qe={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:A,fontName:V,fontStyle:ue,encoding:ve,isStandardFont:De||!1,metadata:{}};return Gt.publish("addFont",{font:qe,instance:this}),jt[qe.id]=qe,Wr(qe),qe.id},Wn=function(A){for(var V=0,ue=Ge.length;V<ue;V++){var ve=Ko.call(this,A[V][0],A[V][1],A[V][2],Ge[V][3],!0);S===!1&&(E[ve]=!0);var De=A[V][0].split("-");Wr({id:ve,fontName:De[0],fontStyle:De[1]||""})}Gt.publish("addFonts",{fonts:jt,dictionary:Tt})},Mi=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ve){var V=ve.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ue="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Lt.console)throw new Error(ue);Lt.console.error(ue,ve),Lt.alert&&alert(ue)}},A.foo.bar=A,A.foo},Xs=function(A,V){var ue,ve,De,qe,Ze,ht,St,kt,Pt;if(De=(V=V||{}).sourceEncoding||"Unicode",Ze=V.outputEncoding,(V.autoencode||Ze)&&jt[Xt].metadata&&jt[Xt].metadata[De]&&jt[Xt].metadata[De].encoding&&(qe=jt[Xt].metadata[De].encoding,!Ze&&jt[Xt].encoding&&(Ze=jt[Xt].encoding),!Ze&&qe.codePages&&(Ze=qe.codePages[0]),typeof Ze=="string"&&(Ze=qe[Ze]),Ze)){for(St=!1,ht=[],ue=0,ve=A.length;ue<ve;ue++)(kt=Ze[A.charCodeAt(ue)])?ht.push(String.fromCharCode(kt)):ht.push(A[ue]),ht[ue].charCodeAt(0)>>8&&(St=!0);A=ht.join("")}for(ue=A.length;St===void 0&&ue!==0;)A.charCodeAt(ue-1)>>8&&(St=!0),ue--;if(!St)return A;for(ht=V.noBOM?[]:[254,255],ue=0,ve=A.length;ue<ve;ue++){if((Pt=(kt=A.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(Pt),ht.push(kt-(Pt<<8))}return String.fromCharCode.apply(void 0,ht)},Ai=w.__private__.pdfEscape=w.pdfEscape=function(A,V){return Xs(A,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xn=w.__private__.beginPage=function(A){Ae[++Vn]=[],Bt[Vn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},le(Vn),ke(Ae[te])},Si=function(A,V){var ue,ve,De;switch(n=V||n,typeof A=="string"&&(ue=I(A.toLowerCase()),Array.isArray(ue)&&(ve=ue[0],De=ue[1])),Array.isArray(A)&&(ve=A[0]*ut,De=A[1]*ut),isNaN(ve)&&(ve=s[0],De=s[1]),(ve>14400||De>14400)&&(Bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),De=Math.min(14400,De)),s=[ve,De],n.substr(0,1)){case"l":De>ve&&(s=[De,ve]);break;case"p":ve>De&&(s=[De,ve])}xn(s),ki(ja),pe(jr),oi!==0&&pe(oi+" J"),Ka!==0&&pe(Ka+" j"),Gt.publish("addPage",{pageNumber:Vn})},Re=function(A){A>0&&A<=Vn&&(Ae.splice(A,1),Bt.splice(A,1),Vn--,te>Vn&&(te=Vn),this.setPage(te))},le=function(A){A>0&&A<=Vn&&(te=A)},bt=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ae.length-1},si=function(A,V,ue){var ve,De=void 0;return ue=ue||{},A=A!==void 0?A:jt[Xt].fontName,V=V!==void 0?V:jt[Xt].fontStyle,ve=A.toLowerCase(),Tt[ve]!==void 0&&Tt[ve][V]!==void 0?De=Tt[ve][V]:Tt[A]!==void 0&&Tt[A][V]!==void 0?De=Tt[A][V]:ue.disableWarning===!1&&Bn.warn("Unable to look up font label for font '"+A+"', '"+V+"'. Refer to getFontList() for available fonts."),De||ue.noFallback||(De=Tt.times[V])==null&&(De=Tt.times.normal),De},hr=w.__private__.putInfo=function(){var A=fn(),V=function(ve){return ve};for(var ue in N!==null&&(V=Ni.encryptor(A,0)),pe("<<"),pe("/Producer ("+Ai(V("jsPDF "+It.version))+")"),yt)yt.hasOwnProperty(ue)&&yt[ue]&&pe("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Ai(V(yt[ue]))+")");pe("/CreationDate ("+Ai(V(ae))+")"),pe(">>"),pe("endobj")},Jo=w.__private__.putCatalog=function(A){var V=(A=A||{}).rootDictionaryObjId||fr;switch(fn(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+V+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+He;ue.substr(ue.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+ge(He)+"]")}switch(Dt||(Dt="continuous"),Dt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Ct&&pe("/PageMode /"+Ct),Gt.publish("putCatalog"),pe(">>"),pe("endobj")},$o=w.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(oe+1)),pe("/Root "+oe+" 0 R"),pe("/Info "+(oe-1)+" 0 R"),N!==null&&pe("/Encrypt "+Ni.oid+" 0 R"),pe("/ID [ <"+J+"> <"+J+"> ]"),pe(">>")},dr=w.__private__.putHeader=function(){pe("%PDF-"+j),pe("%ºß¬à")},Nt=w.__private__.putXRef=function(){var A="0000000000";pe("xref"),pe("0 "+(oe+1)),pe("0000000000 65535 f ");for(var V=1;V<=oe;V++)typeof Le[V]=="function"?pe((A+Le[V]()).slice(-10)+" 00000 n "):Le[V]!==void 0?pe((A+Le[V]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},gn=w.__private__.buildDocument=function(){Qe(),ke(_e),Gt.publish("buildDocument"),dr(),xs(),Jn(),Ws(),N!==null&&Gc(),hr(),Jo();var A=xe;return Nt(),$o(),pe("startxref"),pe(""+A),pe("%%EOF"),ke(Ae[te]),_e.join(`
`)},ys=w.__private__.getBlob=function(A){return new Blob([it(A)],{type:"application/pdf"})},Zs=w.output=w.__private__.output=Mi(function(A,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",A){case void 0:return gn();case"save":w.save(V.filename);break;case"arraybuffer":return it(gn());case"blob":return ys(gn());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(ys(gn()))||void 0;Bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ve=gn();try{ue=Id(ve)}catch{ue=Id(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+V.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(De=V.pdfObjectUrl,qe="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ht=Lt.open();return ht!==null&&ht.document.write(Ze),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',kt=Lt.open();if(kt!==null){kt.document.write(St);var Pt=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=V.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Xn=Lt.open();if(Xn!==null&&(Xn.document.write(en),Xn.document.title=V.filename),Xn||typeof safari>"u")return Xn;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",V);default:return null}}),Qs=function(A){return Array.isArray(Oa)===!0&&Oa.indexOf(A)>-1};switch(r){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ut=r}var Ni=null;Pe(),ce();var el=function(A){return N!==null?Ni.encryptor(A,0):function(V){return V}},Fl=w.__private__.getPageInfo=w.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[A].objId,pageNumber:A,pageContext:Bt[A]}},xt=w.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Bt)if(Bt[V].objId===A)break;return Fl(V)},vs=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Bt[te].objId,pageNumber:te,pageContext:Bt[te]}};w.addPage=function(){return Si.apply(this,arguments),this},w.setPage=function(){return le.apply(this,arguments),ke.call(this,Ae[te]),this},w.insertPage=function(A){return this.addPage(),this.movePage(te,A),this},w.movePage=function(A,V){var ue,ve;if(A>V){ue=Ae[A],ve=Bt[A];for(var De=A;De>V;De--)Ae[De]=Ae[De-1],Bt[De]=Bt[De-1];Ae[V]=ue,Bt[V]=ve,this.setPage(V)}else if(A<V){ue=Ae[A],ve=Bt[A];for(var qe=A;qe<V;qe++)Ae[qe]=Ae[qe+1],Bt[qe]=Bt[qe+1];Ae[V]=ue,Bt[V]=ve,this.setPage(V)}return this},w.deletePage=function(){return Re.apply(this,arguments),this},w.__private__.text=w.text=function(A,V,ue,ve,De){var qe,Ze,ht,St,kt,Pt,en,Xn,Sn,ei=(ve=ve||{}).scope||this;if(typeof A=="number"&&typeof V=="number"&&(typeof ue=="string"||Array.isArray(ue))){var Zi=ue;ue=V,V=A,A=Zi}if(arguments[3]instanceof vt?(q("The transform parameter of text() with a Matrix value"),Sn=De):(ht=arguments[4],St=arguments[5],In(en=arguments[3])==="object"&&en!==null||(typeof ht=="string"&&(St=ht,ht=null),typeof en=="string"&&(St=en,en=null),typeof en=="number"&&(ht=en,en=null),ve={flags:en,angle:ht,align:St})),isNaN(V)||isNaN(ue)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return ei;var ti="",Zr=!1,gi=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Za,Tr=ei.internal.scaleFactor;function sr(zn){return zn=zn.split("	").join(Array(ve.TabLen||9).join(" ")),Ai(zn,en)}function $s(zn){for(var Hn,Ei=zn.concat(),Ui=[],Ss=Ei.length;Ss--;)typeof(Hn=Ei.shift())=="string"?Ui.push(Hn):Array.isArray(zn)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?Ui.push(Hn[0]):Ui.push([Hn[0],Hn[1],Hn[2]]);return Ui}function mr(zn,Hn){var Ei;if(typeof zn=="string")Ei=Hn(zn)[0];else if(Array.isArray(zn)){for(var Ui,Ss,Wc=zn.concat(),Hl=[],xf=Wc.length;xf--;)typeof(Ui=Wc.shift())=="string"?Hl.push(Hn(Ui)[0]):Array.isArray(Ui)&&typeof Ui[0]=="string"&&(Ss=Hn(Ui[0],Ui[1],Ui[2]),Hl.push([Ss[0],Ss[1],Ss[2]]));Ei=Hl}return Ei}var eo=!1,ws=!0;if(typeof A=="string")eo=!0;else if(Array.isArray(A)){var ul=A.concat();Ze=[];for(var As,Ln=ul.length;Ln--;)(typeof(As=ul.shift())!="string"||Array.isArray(As)&&typeof As[0]!="string")&&(ws=!1);eo=ws}if(eo===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var to=at/ei.internal.scaleFactor,es=to*(gi-1);switch(ve.baseline){case"bottom":ue-=es;break;case"top":ue+=to-es;break;case"hanging":ue+=to-2*es;break;case"middle":ue+=to/2-es}if((Pt=ve.maxWidth||0)>0&&(typeof A=="string"?A=ei.splitTextToSize(A,Pt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(zn,Hn){return zn.concat(ei.splitTextToSize(Hn,Pt))},[]))),qe={text:A,x:V,y:ue,options:ve,mutex:{pdfEscape:Ai,activeFontKey:Xt,fonts:jt,activeFontSize:at}},Gt.publish("preProcessText",qe),A=qe.text,ht=(ve=qe.options).angle,!(Sn instanceof vt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,ve.rotationDirection===0&&(ht=-ht),D===_.ADVANCED&&(ht=-ht);var ya=Math.cos(ht),Qt=Math.sin(ht);Sn=new vt(ya,Qt,-Qt,ya,0,0)}else ht&&ht instanceof vt&&(Sn=ht);D!==_.ADVANCED||Sn||(Sn=Yi),(kt=ve.charSpace||Fe)!==void 0&&(ti+=k(B(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xn=ve.horizontalScale)!==void 0&&(ti+=k(100*Xn)+` Tz
`),ve.lang;var Pi=-1,H=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,i=ei.internal.getCurrentPageInfo().pageContext;switch(H){case 0:case!1:case"fill":Pi=0;break;case 1:case!0:case"stroke":Pi=1;break;case 2:case"fillThenStroke":Pi=2;break;case 3:case"invisible":Pi=3;break;case 4:case"fillAndAddForClipping":Pi=4;break;case 5:case"strokeAndAddPathForClipping":Pi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pi=6;break;case 7:case"addToPathForClipping":Pi=7}var a=i.usedRenderingMode!==void 0?i.usedRenderingMode:-1;Pi!==-1?ti+=Pi+` Tr
`:a!==-1&&(ti+=`0 Tr
`),Pi!==-1&&(i.usedRenderingMode=Pi),St=ve.align||"left";var l,c=at*gi,u=ei.internal.pageSize.getWidth(),h=jt[Xt];kt=ve.charSpace||Fe,Pt=ve.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var m=[],b=function(zn){return ei.getStringUnitWidth(zn,{font:h,charSpace:kt,fontSize:at,doKerning:!1})*at/Tr};if(Object.prototype.toString.call(A)==="[object Array]"){var C;Ze=$s(A),St!=="left"&&(l=Ze.map(b));var R,z=0;if(St==="right"){V-=l[0],A=[],Ln=Ze.length;for(var Z=0;Z<Ln;Z++)Z===0?(R=xa(V),C=Ba(ue)):(R=B(z-l[Z]),C=-c),A.push([Ze[Z],R,C]),z=l[Z]}else if(St==="center"){V-=l[0]/2,A=[],Ln=Ze.length;for(var fe=0;fe<Ln;fe++)fe===0?(R=xa(V),C=Ba(ue)):(R=B((z-l[fe])/2),C=-c),A.push([Ze[fe],R,C]),z=l[fe]}else if(St==="left"){A=[],Ln=Ze.length;for(var ye=0;ye<Ln;ye++)A.push(Ze[ye])}else if(St==="justify"&&h.encoding==="Identity-H"){A=[],Ln=Ze.length,Pt=Pt!==0?Pt:u;for(var we=0,Te=0;Te<Ln;Te++)if(C=Te===0?Ba(ue):-c,R=Te===0?xa(V):we,Te<Ln-1){var Ue=B((Pt-l[Te])/(Ze[Te].split(" ").length-1)),$e=Ze[Te].split(" ");A.push([$e[0]+" ",R,C]),we=0;for(var nt=1;nt<$e.length;nt++){var et=(b($e[nt-1]+" "+$e[nt])-b($e[nt]))*Tr+Ue;nt==$e.length-1?A.push([$e[nt],et,0]):A.push([$e[nt]+" ",et,0]),we-=et}}else A.push([Ze[Te],R,C]);A.push(["",we,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Ln=Ze.length,Pt=Pt!==0?Pt:u,Te=0;Te<Ln;Te++)C=Te===0?Ba(ue):-c,R=Te===0?xa(V):0,Te<Ln-1?m.push(k(B((Pt-l[Te])/(Ze[Te].split(" ").length-1)))):m.push(0),A.push([Ze[Te],R,C])}}var Wt=typeof ve.R2L=="boolean"?ve.R2L:At;Wt===!0&&(A=mr(A,function(zn,Hn,Ei){return[zn.split("").reverse().join(""),Hn,Ei]})),qe={text:A,x:V,y:ue,options:ve,mutex:{pdfEscape:Ai,activeFontKey:Xt,fonts:jt,activeFontSize:at}},Gt.publish("postProcessText",qe),A=qe.text,Zr=qe.mutex.isHex||!1;var Mt=jt[Xt].encoding;Mt!=="WinAnsiEncoding"&&Mt!=="StandardEncoding"||(A=mr(A,function(zn,Hn,Ei){return[sr(zn),Hn,Ei]})),Ze=$s(A),A=[];for(var pi,Fi,ci,cn=0,ni=1,Ci=Array.isArray(Ze[0])?ni:cn,_r="",va=function(zn,Hn,Ei){var Ui="";return Ei instanceof vt?(Ei=typeof ve.angle=="number"?Yr(Ei,new vt(1,0,0,1,zn,Hn)):Yr(new vt(1,0,0,1,zn,Hn),Ei),D===_.ADVANCED&&(Ei=Yr(new vt(1,0,0,-1,0,0),Ei)),Ui=Ei.join(" ")+` Tm
`):Ui=k(zn)+" "+k(Hn)+` Td
`,Ui},Br=0;Br<Ze.length;Br++){switch(_r="",Ci){case ni:ci=(Zr?"<":"(")+Ze[Br][0]+(Zr?">":")"),pi=parseFloat(Ze[Br][1]),Fi=parseFloat(Ze[Br][2]);break;case cn:ci=(Zr?"<":"(")+Ze[Br]+(Zr?">":")"),pi=xa(V),Fi=Ba(ue)}m!==void 0&&m[Br]!==void 0&&(_r=m[Br]+` Tw
`),Br===0?A.push(_r+va(pi,Fi,Sn)+ci):Ci===cn?A.push(_r+ci):Ci===ni&&A.push(_r+va(pi,Fi,Sn)+ci)}A=Ci===cn?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var kr=`BT
/`;return kr+=Xt+" "+at+` Tf
`,kr+=k(at*gi)+` TL
`,kr+=gr+`
`,kr+=ti,kr+=A,pe(kr+="ET"),E[Xt]=!0,ei};var pa=w.__private__.clip=w.clip=function(A){return pe(A==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return pa("evenodd")},w.__private__.discardPath=w.discardPath=function(){return pe("n"),this};var wt=w.__private__.isValidStyle=function(A){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(V=!0),V};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(A){return wt(A)&&(x=A),this};var Ul=w.__private__.getStyle=w.getStyle=function(A){var V=x;switch(A){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=A}return V},Ut=w.close=function(){return pe("h"),this};w.stroke=function(){return pe("S"),this},w.fill=function(A){return $n("f",A),this},w.fillEvenOdd=function(A){return $n("f*",A),this},w.fillStroke=function(A){return $n("B",A),this},w.fillStrokeEvenOdd=function(A){return $n("B*",A),this};var $n=function(A,V){In(V)==="object"?zl(V,A):pe(A)},tl=function(A){A===null||D===_.ADVANCED&&A===void 0||(A=Ul(A),pe(A))};function nl(A,V,ue,ve,De){var qe=new xl(V||this.boundingBox,ue||this.xStep,ve||this.yStep,this.gState,De||this.matrix);qe.stream=this.stream;var Ze=A+"$$"+this.cloneIndex+++"$$";return Wi(Ze,qe),qe}var zl=function(A,V){var ue=Ma[A.key],ve=an[ue];if(ve instanceof So)pe("q"),pe(Ra(V)),ve.gState&&w.setGState(ve.gState),pe(A.matrix.toString()+" cm"),pe("/"+ue+" sh"),pe("Q");else if(ve instanceof xl){var De=new vt(1,0,0,-1,0,pr());A.matrix&&(De=De.multiply(A.matrix||Yi),ue=nl.call(ve,A.key,A.boundingBox,A.xStep,A.yStep,De).id),pe("q"),pe("/Pattern cs"),pe("/"+ue+" scn"),ve.gState&&w.setGState(ve.gState),pe(V),pe("Q")}},Ra=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},il=w.moveTo=function(A,V){return pe(k(B(A))+" "+k(se(V))+" m"),this},Xr=w.lineTo=function(A,V){return pe(k(B(A))+" "+k(se(V))+" l"),this},Rr=w.curveTo=function(A,V,ue,ve,De,qe){return pe([k(B(A)),k(se(V)),k(B(ue)),k(se(ve)),k(B(De)),k(se(qe)),"c"].join(" ")),this};w.__private__.line=w.line=function(A,V,ue,ve,De){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ve)||!wt(De))throw new Error("Invalid arguments passed to jsPDF.line");return D===_.COMPAT?this.lines([[ue-A,ve-V]],A,V,[1,1],De||"S"):this.lines([[ue-A,ve-V]],A,V,[1,1]).stroke()},w.__private__.lines=w.lines=function(A,V,ue,ve,De,qe){var Ze,ht,St,kt,Pt,en,Xn,Sn,ei,Zi,ti,Zr;if(typeof A=="number"&&(Zr=ue,ue=V,V=A,A=Zr),ve=ve||[1,1],qe=qe||!1,isNaN(V)||isNaN(ue)||!Array.isArray(A)||!Array.isArray(ve)||!wt(De)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(il(V,ue),Ze=ve[0],ht=ve[1],kt=A.length,Zi=V,ti=ue,St=0;St<kt;St++)(Pt=A[St]).length===2?(Zi=Pt[0]*Ze+Zi,ti=Pt[1]*ht+ti,Xr(Zi,ti)):(en=Pt[0]*Ze+Zi,Xn=Pt[1]*ht+ti,Sn=Pt[2]*Ze+Zi,ei=Pt[3]*ht+ti,Zi=Pt[4]*Ze+Zi,ti=Pt[5]*ht+ti,Rr(en,Xn,Sn,ei,Zi,ti));return qe&&Ut(),tl(De),this},w.path=function(A){for(var V=0;V<A.length;V++){var ue=A[V],ve=ue.c;switch(ue.op){case"m":il(ve[0],ve[1]);break;case"l":Xr(ve[0],ve[1]);break;case"c":Rr.apply(this,ve);break;case"h":Ut()}}return this},w.__private__.rect=w.rect=function(A,V,ue,ve,De){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ve)||!wt(De))throw new Error("Invalid arguments passed to jsPDF.rect");return D===_.COMPAT&&(ve=-ve),pe([k(B(A)),k(se(V)),k(B(ue)),k(B(ve)),"re"].join(" ")),tl(De),this},w.__private__.triangle=w.triangle=function(A,V,ue,ve,De,qe,Ze){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ve)||isNaN(De)||isNaN(qe)||!wt(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-A,ve-V],[De-ue,qe-ve],[A-De,V-qe]],A,V,[1,1],Ze,!0),this},w.__private__.roundedRect=w.roundedRect=function(A,V,ue,ve,De,qe,Ze){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ve)||isNaN(De)||isNaN(qe)||!wt(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*ue),qe=Math.min(qe,.5*ve),this.lines([[ue-2*De,0],[De*ht,0,De,qe-qe*ht,De,qe],[0,ve-2*qe],[0,qe*ht,-De*ht,qe,-De,qe],[2*De-ue,0],[-De*ht,0,-De,-qe*ht,-De,-qe],[0,2*qe-ve],[0,-qe*ht,De*ht,-qe,De,-qe]],A+De,V,[1,1],Ze,!0),this},w.__private__.ellipse=w.ellipse=function(A,V,ue,ve,De){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ve)||!wt(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*ue,Ze=4/3*(Math.SQRT2-1)*ve;return il(A+ue,V),Rr(A+ue,V-Ze,A+qe,V-ve,A,V-ve),Rr(A-qe,V-ve,A-ue,V-Ze,A-ue,V),Rr(A-ue,V+Ze,A-qe,V+ve,A,V+ve),Rr(A+qe,V+ve,A+ue,V+Ze,A+ue,V),tl(De),this},w.__private__.circle=w.circle=function(A,V,ue,ve){if(isNaN(A)||isNaN(V)||isNaN(ue)||!wt(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,V,ue,ue,ve)},w.setFont=function(A,V,ue){return ue&&(V=X(V,ue)),Xt=si(A,V,{disableWarning:!1}),this};var bs=w.__private__.getFont=w.getFont=function(){return jt[si.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var A,V,ue={};for(A in Tt)if(Tt.hasOwnProperty(A))for(V in ue[A]=[],Tt[A])Tt[A].hasOwnProperty(V)&&ue[A].push(V);return ue},w.addFont=function(A,V,ue,ve,De){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(ue=X(ue,ve)),De=De||"Identity-H",Ko.call(this,A,V,ue,De)};var Za,ja=e.lineWidth||.200025,ma=w.__private__.getLineWidth=w.getLineWidth=function(){return ja},ki=w.__private__.setLineWidth=w.setLineWidth=function(A){return ja=A,pe(k(B(A))+" w"),this};w.__private__.setLineDash=It.API.setLineDash=It.API.setLineDashPattern=function(A,V){if(A=A||[],V=V||0,isNaN(V)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ue){return k(B(ue))}).join(" "),V=k(B(V)),pe("["+A+"] "+V+" d"),this};var rl=w.__private__.getLineHeight=w.getLineHeight=function(){return at*Za};w.__private__.getLineHeight=w.getLineHeight=function(){return at*Za};var al=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Za=A),this},sl=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Za};al(e.lineHeight);var xa=w.__private__.getHorizontalCoordinate=function(A){return B(A)},Ba=w.__private__.getVerticalCoordinate=function(A){return D===_.ADVANCED?A:Bt[te].mediaBox.topRightY-Bt[te].mediaBox.bottomLeftY-B(A)},Vc=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(A){return k(xa(A))},$t=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(A){return k(Ba(A))},jr=e.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Fn(jr)},w.__private__.setStrokeColor=w.setDrawColor=function(A,V,ue,ve){return jr=Xi({ch1:A,ch2:V,ch3:ue,ch4:ve,pdfColorType:"draw",precision:2}),pe(jr),this};var Qa=e.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Fn(Qa)},w.__private__.setFillColor=w.setFillColor=function(A,V,ue,ve){return Qa=Xi({ch1:A,ch2:V,ch3:ue,ch4:ve,pdfColorType:"fill",precision:2}),pe(Qa),this};var gr=e.textColor||"0 g",Yc=w.__private__.getTextColor=w.getTextColor=function(){return Fn(gr)};w.__private__.setTextColor=w.setTextColor=function(A,V,ue,ve){return gr=Xi({ch1:A,ch2:V,ch3:ue,ch4:ve,pdfColorType:"text",precision:3}),this};var Fe=e.charSpace,qt=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Fe||0)};w.__private__.setCharSpace=w.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fe=A,this};var oi=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(A){var V=w.CapJoinStyles[A];if(V===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oi=V,pe(V+" J"),this};var Ka=0;w.__private__.setLineJoin=w.setLineJoin=function(A){var V=w.CapJoinStyles[A];if(V===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ka=V,pe(V+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(k(B(A))+" M"),this},w.GState=Ju,w.setGState=function(A){(A=typeof A=="string"?Gn[Ht[A]]:ol(null,A)).equals(nr)||(pe("/"+A.id+" gs"),nr=A)};var ol=function(A,V){if(!A||!Ht[A]){var ue=!1;for(var ve in Gn)if(Gn.hasOwnProperty(ve)&&Gn[ve].equals(V)){ue=!0;break}if(ue)V=Gn[ve];else{var De="GS"+(Object.keys(Gn).length+1).toString(10);Gn[De]=V,V.id=De}return A&&(Ht[A]=V.id),Gt.publish("addGState",V),V}};w.addGState=function(A,V){return ol(A,V),this},w.saveGraphicsState=function(){return pe("q"),dn.push({key:Xt,size:at,color:gr}),this},w.restoreGraphicsState=function(){pe("Q");var A=dn.pop();return Xt=A.key,at=A.size,gr=A.color,nr=null,this},w.setCurrentTransformationMatrix=function(A){return pe(A.toString()+" cm"),this},w.comment=function(A){return pe("#"+A),this};var Ks=function(A,V){var ue=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(qe){isNaN(qe)||(ue=parseFloat(qe))}});var ve=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(qe){isNaN(qe)||(ve=parseFloat(qe))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(qe){De=qe.toString()}}),this},ll=function(A,V,ue,ve){Ks.call(this,A,V),this.type="rect";var De=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(Ze){isNaN(Ze)||(De=parseFloat(Ze))}});var qe=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Ze){isNaN(Ze)||(qe=parseFloat(Ze))}}),this},cl=function(){this.page=Vn,this.currentPage=te,this.pages=Ae.slice(0),this.pagesContext=Bt.slice(0),this.x=Vi,this.y=Et,this.matrix=rt,this.width=An(te),this.height=pr(te),this.outputDestination=Oe,this.id="",this.objectNumber=-1};cl.prototype.restore=function(){Vn=this.page,te=this.currentPage,Bt=this.pagesContext,Ae=this.pages,Vi=this.x,Et=this.y,rt=this.matrix,$a(te,this.width),pn(te,this.height),Oe=this.outputDestination};var Js=function(A,V,ue,ve,De){Nr.push(new cl),Vn=te=0,Ae=[],Vi=A,Et=V,rt=De,xn([ue,ve])},li=function(A){if(ir[A])Nr.pop().restore();else{var V=new cl,ue="Xo"+(Object.keys(un).length+1).toString(10);V.id=ue,ir[A]=ue,un[ue]=V,Gt.publish("addFormObject",V),Nr.pop().restore()}};for(var Ja in w.beginFormObject=function(A,V,ue,ve,De){return Js(A,V,ue,ve,De),this},w.endFormObject=function(A){return li(A),this},w.doFormObject=function(A,V){var ue=un[ir[A]];return pe("q"),pe(V.toString()+" cm"),pe("/"+ue.id+" Do"),pe("Q"),this},w.getFormObject=function(A){var V=un[ir[A]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},w.save=function(A,V){return A=A||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(ml(ys(gn()),A),typeof ml.unload=="function"&&Lt.setTimeout&&setTimeout(ml.unload,911),this):new Promise(function(ue,ve){try{var De=ml(ys(gn()),A);typeof ml.unload=="function"&&Lt.setTimeout&&setTimeout(ml.unload,911),ue(De)}catch(qe){ve(qe.message)}})},It.API)It.API.hasOwnProperty(Ja)&&(Ja==="events"&&It.API.events.length?function(A,V){var ue,ve,De;for(De=V.length-1;De!==-1;De--)ue=V[De][0],ve=V[De][1],A.subscribe.apply(A,[ue].concat(typeof ve=="function"?[ve]:ve))}(Gt,It.API.events):w[Ja]=It.API[Ja]);var An=w.getPageWidth=function(A){return(Bt[A=A||te].mediaBox.topRightX-Bt[A].mediaBox.bottomLeftX)/ut},$a=w.setPageWidth=function(A,V){Bt[A].mediaBox.topRightX=V*ut+Bt[A].mediaBox.bottomLeftX},pr=w.getPageHeight=function(A){return(Bt[A=A||te].mediaBox.topRightY-Bt[A].mediaBox.bottomLeftY)/ut},pn=w.setPageHeight=function(A,V){Bt[A].mediaBox.topRightY=V*ut+Bt[A].mediaBox.bottomLeftY};return w.internal={pdfEscape:Ai,getStyle:Ul,getFont:bs,getFontSize:st,getCharSpace:qt,getTextColor:Yc,getLineHeight:rl,getLineHeightFactor:sl,getLineWidth:ma,write:ct,getHorizontalCoordinate:xa,getVerticalCoordinate:Ba,getCoordinateString:Vc,getVerticalCoordinateString:$t,collections:{},newObject:fn,newAdditionalObject:dt,newObjectDeferred:Dn,newObjectDeferredBegin:Pn,getFilters:Er,putStream:rr,events:Gt,scaleFactor:ut,pageSize:{getWidth:function(){return An(te)},setWidth:function(A){$a(te,A)},getHeight:function(){return pr(te)},setHeight:function(A){pn(te,A)}},encryptionOptions:N,encryption:Ni,getEncryptor:el,output:Zs,getNumberOfPages:bt,pages:Ae,out:pe,f2:ge,f3:U,getPageInfo:Fl,getPageInfoByObjId:xt,getCurrentPageInfo:vs,getPDFVersion:L,Point:Ks,Rectangle:ll,Matrix:vt,hasHotfix:Qs},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return An(te)},set:function(A){$a(te,A)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return pr(te)},set:function(A){pn(te,A)},enumerable:!0,configurable:!0}),Wn.call(w,Ge),Xt="F1",Si(s,n),Gt.publish("initialized"),w}tc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},tc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},tc.prototype.processOwnerPassword=function(e,t){return Ld(Dd(t).substr(0,5),e)},tc.prototype.encryptor=function(e,t){var n=Dd(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Ld(n,r)}},Ju.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||In(e)!==In(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},It.API={events:[]},It.version="2.5.2";var xi=It.API,G2=1,kl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zt=function(e){return e.toFixed(2)},ho=function(e){return e.toFixed(5)};xi.__acroform__={};var Vr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},im=function(e){return e*G2},is=function(e){var t=new Z3,n=mt.internal.getHeight(e)||0,r=mt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(zt(r)),Number(zt(n))],t},Pw=xi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Fw=xi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Uw=xi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ii=xi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Uw(e,t-1)},Di=xi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Pw(e,t-1)},Li=xi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Fw(e,t-1)},zw=xi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],o=e[1],f=e[2],d=e[3],p={};return p.lowerLeft_X=n(s)||0,p.lowerLeft_Y=r(o+d)||0,p.upperRight_X=n(s+f)||0,p.upperRight_Y=r(o)||0,[Number(zt(p.lowerLeft_X)),Number(zt(p.lowerLeft_Y)),Number(zt(p.upperRight_X)),Number(zt(p.upperRight_Y))]},Hw=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Md(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+zt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=is(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},Md=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var o=n,f=mt.internal.getHeight(e)||0;f=f<0?-f:f;var d=mt.internal.getWidth(e)||0;d=d<0?-d:d;var p=function(U,B,ie){if(U+1<s.length){var se=B+" "+s[U+1][0];return e0(se,e,ie).width<=d-4}return!1};o++;e:for(;o>0;){t="",o--;var x,N,S=e0("3",e,o).height,E=e.multiline?f-o:(f-S)/2,w=E+=2,j=0,L=0,P=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+e0(t,e,o=12).width+", FieldWidth:"+d+`
`;break}for(var I="",_=0,D=0;D<s.length;D++)if(s.hasOwnProperty(D)){var M=!1;if(s[D].length!==1&&P!==s[D].length-1){if((S+2)*(_+2)+2>f)continue e;I+=s[D][P],M=!0,L=D,D--}else{I=(I+=s[D][P]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var Y=parseInt(D),X=p(Y,I,o),k=D>=s.length-1;if(X&&!k){I+=" ",P=0;continue}if(X||k){if(k)L=Y;else if(e.multiline&&(S+2)*(_+2)+2>f)continue e}else{if(!e.multiline||(S+2)*(_+2)+2>f)continue e;L=Y}}for(var q="",K=j;K<=L;K++){var ge=s[K];if(e.multiline){if(K===L){q+=ge[P]+" ",P=(P+1)%ge.length;continue}if(K===j){q+=ge[ge.length-1]+" ";continue}}q+=ge[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,N=e0(q,e,o).width,e.textAlign){case"right":x=d-N-2;break;case"center":x=(d-N)/2;break;case"left":default:x=2}t+=zt(x)+" "+zt(w)+` Td
`,t+="("+kl(q)+`) Tj
`,t+=-zt(x)+` 0 Td
`,w=-(o+2),N=0,j=M?L:L+1,_++,I=""}break}return r.text=t,r.fontSize=o,r},e0=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},qw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gw=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Vw=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),In(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},Yw=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Wa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(qw)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Q3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&Gw(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var o=!r;for(var f in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(f)){var d=r[f],p=[],x=d.Rect;if(d.Rect&&(d.Rect=zw(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=mt.createDefaultAppearanceStream(d),In(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(p=d.getKeyValueListForStream()),d.Rect=x,d.hasAppearanceStream&&!d.appearanceStreamContent){var N=Hw(d);p.push({key:"AP",value:"<</N "+N+">>"}),s.internal.acroformPlugin.xForms.push(N)}if(d.appearanceStreamContent){var S="";for(var E in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(E)){var w=d.appearanceStreamContent[E];if(S+="/"+E+" ",S+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var f in w)if(w.hasOwnProperty(f)){var j=w[f];typeof j=="function"&&(j=j.call(s,d)),S+="/"+f+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=w)=="function"&&(j=j.call(s,d)),S+="/"+f+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);S+=">>"}p.push({key:"AP",value:`<<
`+S+">>"})}s.internal.putStream({additionalKeyValues:p,objectId:d.objId}),s.internal.out("endobj")}o&&Vw(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},X3=xi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(f){return f};if(Array.isArray(e)){for(var s="[",o=0;o<e.length;o++)switch(o!==0&&(s+=" "),In(e[o])){case"boolean":case"number":case"object":s+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+kl(r(e[o].toString()))+")"):s+=e[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ch=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+kl(r(e))+")"},ls=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ls.prototype.toString=function(){return this.objId+" 0 R"},ls.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ls.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:X3(s,this.objId,this.scope)}):s instanceof ls?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var Z3=function(){ls.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Vr(Z3,ls);var Q3=function(){ls.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+kl(n(e))+")"}},set:function(n){e=n}})};Vr(Q3,ls);var Wa=function e(){ls.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');t=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ii(t,3)},set:function(I){I?this.F=Di(t,3):this.F=Li(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof X0)return;o="FieldObject"+e.FieldNum++}var I=function(_){return _};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+kl(I(o))+")"},set:function(I){o=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(I){o=I}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(I){f=I}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(I){d=I}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(I){p=I}});var x=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return x===void 0?50/G2:x},set:function(I){x=I}});var N="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return N},set:function(I){N=I}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof X0||this instanceof Fo))return Ch(S,this.objId,this.scope)},set:function(I){I=I.toString(),S=I}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof zi?E:Ch(E,this.objId,this.scope)},set:function(I){I=I.toString(),E=this instanceof zi?I:I.substr(0,1)==="("?Zl(I.substr(1,I.length-2)):Zl(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zi?Zl(E.substr(1,E.length-1)):E},set:function(I){I=I.toString(),E=this instanceof zi?"/"+I:I}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof zi?w:Ch(w,this.objId,this.scope)},set:function(I){I=I.toString(),w=this instanceof zi?I:I.substr(0,1)==="("?Zl(I.substr(1,I.length-2)):Zl(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zi?Zl(w.substr(1,w.length-1)):w},set:function(I){I=I.toString(),w=this instanceof zi?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(I){I=!!I,L=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(I){j=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,1)},set:function(I){I?this.Ff=Di(this.Ff,1):this.Ff=Li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,2)},set:function(I){I?this.Ff=Di(this.Ff,2):this.Ff=Li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,3)},set:function(I){I?this.Ff=Di(this.Ff,3):this.Ff=Li(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');P=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(P){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Vr(Wa,ls);var Cl=function(){Wa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X3(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(o,f,d){d||(d=1);for(var p,x=[];p=f.exec(o);)x.push(p[d]);return x}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,18)},set:function(n){n?this.Ff=Di(this.Ff,18):this.Ff=Li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Di(this.Ff,19):this.Ff=Li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,20)},set:function(n){n?(this.Ff=Di(this.Ff,20),t.sort()):this.Ff=Li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,22)},set:function(n){n?this.Ff=Di(this.Ff,22):this.Ff=Li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(n){n?this.Ff=Di(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,27)},set:function(n){n?this.Ff=Di(this.Ff,27):this.Ff=Li(this.Ff,27)}}),this.hasAppearanceStream=!1};Vr(Cl,Wa);var El=function(){Cl.call(this),this.fontName="helvetica",this.combo=!1};Vr(El,Cl);var Tl=function(){El.call(this),this.combo=!0};Vr(Tl,El);var Du=function(){Tl.call(this),this.edit=!0};Vr(Du,Tl);var zi=function(){Wa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,15)},set:function(n){n?this.Ff=Di(this.Ff,15):this.Ff=Li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,16)},set:function(n){n?this.Ff=Di(this.Ff,16):this.Ff=Li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,17)},set:function(n){n?this.Ff=Di(this.Ff,17):this.Ff=Li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(n){n?this.Ff=Di(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+kl(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){In(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Vr(zi,Wa);var Lu=function(){zi.call(this),this.pushButton=!0};Vr(Lu,zi);var _l=function(){zi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Vr(_l,zi);var X0=function(){var e,t;Wa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,f=[];for(o in f.push("<<"),r)f.push("/"+o+" ("+kl(s(r[o]))+")");return f.push(">>"),f.join(`
`)},set:function(s){In(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vr(X0,Wa),_l.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},_l.prototype.createOption=function(e){var t=new X0;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ww.call(this.scope,t),t};var Mu=function(){zi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Vr(Mu,zi);var Fo=function(){Wa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,13)},set:function(t){t?this.Ff=Di(this.Ff,13):this.Ff=Li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,21)},set:function(t){t?this.Ff=Di(this.Ff,21):this.Ff=Li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(t){t?this.Ff=Di(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,24)},set:function(t){t?this.Ff=Di(this.Ff,24):this.Ff=Li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,25)},set:function(t){t?this.Ff=Di(this.Ff,25):this.Ff=Li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(t){t?this.Ff=Di(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vr(Fo,Wa);var Ou=function(){Fo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,14)},set:function(e){e?this.Ff=Di(this.Ff,14):this.Ff=Li(this.Ff,14)}}),this.password=!0};Vr(Ou,Fo);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=is(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=Md(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+zt(mt.internal.getWidth(e))+" "+zt(mt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+zt(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=is(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],o=mt.internal.getHeight(e),f=mt.internal.getWidth(e),d=Md(e,e.caption);return s.push("1 g"),s.push("0 0 "+zt(f)+" "+zt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+zt(f-1)+" "+zt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+zt(d.fontSize)+" Tf "+r),s.push(d.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=is(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(mt.internal.getWidth(e))+" "+zt(mt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Circle.YesNormal,t.D[e]=mt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=is(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=mt.internal.Bezier_C,o=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ho(mt.internal.getWidth(e)/2)+" "+ho(mt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=is(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*mt.internal.Bezier_C).toFixed(5)),f=Number((r*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(mt.internal.getWidth(e)/2)+" "+ho(mt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ho(mt.internal.getWidth(e)/2)+" "+ho(mt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+f+" "+f+" "+r+" 0 "+r+" c"),n.push("-"+f+" "+r+" -"+r+" "+f+" -"+r+" 0 c"),n.push("-"+r+" -"+f+" -"+f+" -"+r+" 0 -"+r+" c"),n.push(f+" -"+r+" "+r+" -"+f+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=is(e);t.scope=e.scope;var n=[],r=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(mt.internal.getWidth(e)/2)+" "+ho(mt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Cross.YesNormal,t.D[e]=mt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=is(e);t.scope=e.scope;var n=[],r=mt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+zt(mt.internal.getWidth(e)-2)+" "+zt(mt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(zt(r.x1.x)+" "+zt(r.x1.y)+" m"),n.push(zt(r.x2.x)+" "+zt(r.x2.y)+" l"),n.push(zt(r.x4.x)+" "+zt(r.x4.y)+" m"),n.push(zt(r.x3.x)+" "+zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=is(e);t.scope=e.scope;var n=mt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+zt(mt.internal.getWidth(e))+" "+zt(mt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+zt(mt.internal.getWidth(e)-2)+" "+zt(mt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(zt(n.x1.x)+" "+zt(n.x1.y)+" m"),r.push(zt(n.x2.x)+" "+zt(n.x2.y)+" l"),r.push(zt(n.x4.x)+" "+zt(n.x4.y)+" m"),r.push(zt(n.x3.x)+" "+zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=is(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(mt.internal.getWidth(e))+" "+zt(mt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};mt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=mt.internal.getWidth(e),n=mt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},mt.internal.getWidth=function(e){var t=0;return In(e)==="object"&&(t=im(e.Rect[2])),t},mt.internal.getHeight=function(e){var t=0;return In(e)==="object"&&(t=im(e.Rect[3])),t};var Ww=xi.addField=function(e){if(Yw(this,e),!(e instanceof Wa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xi.AcroFormChoiceField=Cl,xi.AcroFormListBox=El,xi.AcroFormComboBox=Tl,xi.AcroFormEditBox=Du,xi.AcroFormButton=zi,xi.AcroFormPushButton=Lu,xi.AcroFormRadioButton=_l,xi.AcroFormCheckBox=Mu,xi.AcroFormTextField=Fo,xi.AcroFormPasswordField=Ou,xi.AcroFormAppearance=mt,xi.AcroForm={ChoiceField:Cl,ListBox:El,ComboBox:Tl,EditBox:Du,Button:zi,PushButton:Lu,RadioButton:_l,CheckBox:Mu,TextField:Fo,PasswordField:Ou,Appearance:mt},It.AcroForm={ChoiceField:Cl,ListBox:El,ComboBox:Tl,EditBox:Du,Button:zi,PushButton:Lu,RadioButton:_l,CheckBox:Mu,TextField:Fo,PasswordField:Ou,Appearance:mt};var Xw=It.AcroForm;function K3(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(U,B){var ie,se,ae,J,$,ce=t;if((B=B||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(X(U))for($ in n)for(ae=n[$],ie=0;ie<ae.length;ie+=1){for(J=!0,se=0;se<ae[ie].length;se+=1)if(ae[ie][se]!==void 0&&ae[ie][se]!==U[se]){J=!1;break}if(J===!0){ce=$;break}}else for($ in n)for(ae=n[$],ie=0;ie<ae.length;ie+=1){for(J=!0,se=0;se<ae[ie].length;se+=1)if(ae[ie][se]!==void 0&&ae[ie][se]!==U.charCodeAt(se)){J=!1;break}if(J===!0){ce=$;break}}return ce===t&&B!==t&&(ce=B),ce},s=function U(B){for(var ie=this.internal.write,se=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:B.width}),J.push({key:"Height",value:B.height}),B.colorSpace===P.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===P.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var $="",ce=0,de=B.transparency.length;ce<de;ce++)$+=B.transparency[ce]+" "+B.transparency[ce]+" ";J.push({key:"Mask",value:"["+$+"]"})}B.sMask!==void 0&&J.push({key:"SMask",value:B.objectId+1+" 0 R"});var be=B.filter!==void 0?["/"+B.filter]:void 0;if(se({data:B.data,additionalKeyValues:J,alreadyAppliedFilters:be,objectId:B.objectId}),ie("endobj"),"sMask"in B&&B.sMask!==void 0){var Pe="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,F={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:Pe,data:B.sMask};"filter"in B&&(F.filter=B.filter),U.call(this,F)}if(B.colorSpace===P.INDEXED){var te=this.internal.newObject();se({data:q(new Uint8Array(B.palette)),objectId:te}),ie("endobj")}},o=function(){var U=this.internal.collections.addImage_images;for(var B in U)s.call(this,U[B])},f=function(){var U,B=this.internal.collections.addImage_images,ie=this.internal.write;for(var se in B)ie("/I"+(U=B[se]).index,U.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",f))},p=function(){var U=this.internal.collections.addImage_images;return d.call(this),U},x=function(){return Object.keys(this.internal.collections.addImage_images).length},N=function(U){return typeof e["process"+U.toUpperCase()]=="function"},S=function(U){return In(U)==="object"&&U.nodeType===1},E=function(U,B){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var ie=""+U.getAttribute("src");if(ie.indexOf("data:image/")===0)return Iu(unescape(ie).split("base64,").pop());var se=e.loadFile(ie,!0);if(se!==void 0)return se}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var ae;switch(B){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return Iu(U.toDataURL(ae,1).split("base64,").pop())}},w=function(U){var B=this.internal.collections.addImage_images;if(B){for(var ie in B)if(U===B[ie].alias)return B[ie]}},j=function(U,B,ie){return U||B||(U=-96,B=-96),U<0&&(U=-1*ie.width*72/U/this.internal.scaleFactor),B<0&&(B=-1*ie.height*72/B/this.internal.scaleFactor),U===0&&(U=B*ie.width/ie.height),B===0&&(B=U*ie.height/ie.width),[U,B]},L=function(U,B,ie,se,ae,J){var $=j.call(this,ie,se,ae),ce=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,be=p.call(this);if(ie=$[0],se=$[1],be[ae.index]=ae,J){J*=Math.PI/180;var Pe=Math.cos(J),F=Math.sin(J),te=function(me){return me.toFixed(4)},re=[te(Pe),te(F),te(-1*F),te(Pe),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,ce(U),de(B+se),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([ce(ie),"0","0",ce(se),"0","0","cm"].join(" "))):this.internal.write([ce(ie),"0","0",ce(se),ce(U),de(B+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},P=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(U){var B,ie,se=0;if(typeof U=="string")for(ie=U.length,B=0;B<ie;B++)se=(se<<5)-se+U.charCodeAt(B),se|=0;else if(X(U))for(ie=U.byteLength/2,B=0;B<ie;B++)se=(se<<5)-se+U[B],se|=0;return se},D=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var B=!0;return U.length===0&&(B=!1),U.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(B=!1),B},M=e.__addimage__.extractImageFromDataUrl=function(U){var B=(U=U||"").split("base64,"),ie=null;if(B.length===2){var se=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(B[0]);Array.isArray(se)&&(ie={mimeType:se[1],charset:se[2],data:B[1]})}return ie},Y=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(U){return Y()&&U instanceof ArrayBuffer};var X=e.__addimage__.isArrayBufferView=function(U){return Y()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(U){for(var B=U.length,ie=new Uint8Array(B),se=0;se<B;se++)ie[se]=U.charCodeAt(se);return ie},q=e.__addimage__.arrayBufferToBinaryString=function(U){for(var B="",ie=X(U)?U:new Uint8Array(U),se=0;se<ie.length;se+=8192)B+=String.fromCharCode.apply(null,ie.subarray(se,se+8192));return B};e.addImage=function(){var U,B,ie,se,ae,J,$,ce,de;if(typeof arguments[1]=="number"?(B=t,ie=arguments[1],se=arguments[2],ae=arguments[3],J=arguments[4],$=arguments[5],ce=arguments[6],de=arguments[7]):(B=arguments[1],ie=arguments[2],se=arguments[3],ae=arguments[4],J=arguments[5],$=arguments[6],ce=arguments[7],de=arguments[8]),In(U=arguments[0])==="object"&&!S(U)&&"imageData"in U){var be=U;U=be.imageData,B=be.format||B||t,ie=be.x||ie||0,se=be.y||se||0,ae=be.w||be.width||ae,J=be.h||be.height||J,$=be.alias||$,ce=be.compression||ce,de=be.rotation||be.angle||de}var Pe=this.internal.getFilters();if(ce===void 0&&Pe.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(ie)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var F=K.call(this,U,B,$,ce);return L.call(this,ie,se,ae,J,F,de),this};var K=function(U,B,ie,se){var ae,J,$;if(typeof U=="string"&&r(U)===t){U=unescape(U);var ce=ge(U,!1);(ce!==""||(ce=e.loadFile(U,!0))!==void 0)&&(U=ce)}if(S(U)&&(U=E(U,B)),B=r(U,B),!N(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if((($=ie)==null||$.length===0)&&(ie=function(de){return typeof de=="string"||X(de)?_(de):X(de.data)?_(de.data):null}(U)),(ae=w.call(this,ie))||(Y()&&(U instanceof Uint8Array||B==="RGBA"||(J=U,U=k(U))),ae=this["process"+B.toUpperCase()](U,x.call(this),ie,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in e.image_compression?de:I.NONE}(se),J)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},ge=e.__addimage__.convertBase64ToBinaryString=function(U,B){var ie;B=typeof B!="boolean"||B;var se,ae="";if(typeof U=="string"){se=(ie=M(U))!==null?ie.data:U;try{ae=Iu(se)}catch(J){if(B)throw D(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};e.getImageProperties=function(U){var B,ie,se="";if(S(U)&&(U=E(U)),typeof U=="string"&&r(U)===t&&((se=ge(U,!1))===""&&(se=e.loadFile(U)||""),U=se),ie=r(U),!N(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(!Y()||U instanceof Uint8Array||(U=k(U)),!(B=this["process"+ie.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=ie,B}})(It.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};It.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,o,f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(n.objId),x=n.pageContext.annotations,N=!1,S=0;S<x.length&&!N;S++)switch((r=x[S]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(N=!0);break;case"reference":case"text":case"freetext":N=!0}if(N!=0){this.internal.write("/Annots [");for(var E=0;E<x.length;E++){r=x[E];var w=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(L.objId),_=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+w(I(r.contents))+")",o+=" /Popup "+P.objId+" 0 R",o+=" /P "+p.objId+" 0 R",o+=" /T ("+w(I(_))+") >>",L.content=o;var D=L.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+f(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+D,r.open&&(o+=" /Open true"),o+=" >>",P.content=o,this.internal.write(L.objId,"0 R",P.objId,"0 R");break;case"freetext":s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var M=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(j(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var X=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+X+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,o,f){var d=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:p(n),y:x(r),w:p(n+s),h:x(r+o)},options:f,type:"link"})},e.textWithLink=function(n,r,s,o){var f,d,p=this.getTextWidth(n),x=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var N=this.splitTextToSize(n,d).length;f=Math.ceil(x*N)}else d=p,f=x;return this.text(n,r,s,o),s+=.2*x,o.align==="center"&&(r-=p/2),o.align==="right"&&(r-=p),this.link(r,s-x,d,f,o),p},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(It.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(L){return t[L.charCodeAt(0)]!==void 0},f=e.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},d=e.__arabicParser__.isArabicEndLetter=function(L){return f(L)&&o(L)&&t[L.charCodeAt(0)].length<=2},p=e.__arabicParser__.isArabicAlfLetter=function(L){return f(L)&&s.indexOf(L.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return f(L)&&o(L)&&t[L.charCodeAt(0)].length>=1};var x=e.__arabicParser__.arabicLetterHasFinalForm=function(L){return f(L)&&o(L)&&t[L.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(L){return f(L)&&o(L)&&t[L.charCodeAt(0)].length>=3};var N=e.__arabicParser__.arabicLetterHasMedialForm=function(L){return f(L)&&o(L)&&t[L.charCodeAt(0)].length==4},S=e.__arabicParser__.resolveLigatures=function(L){var P=0,I=n,_="",D=0;for(P=0;P<L.length;P+=1)I[L.charCodeAt(P)]!==void 0?(D++,typeof(I=I[L.charCodeAt(P)])=="number"&&(_+=String.fromCharCode(I),I=n,D=0),P===L.length-1&&(I=n,_+=L.charAt(P-(D-1)),P-=D-1,D=0)):(I=n,_+=L.charAt(P-D),P-=D,D=0);return _};e.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&r[L.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(L,P,I){return f(L)?o(L)===!1?-1:!x(L)||!f(P)&&!f(I)||!f(I)&&d(P)||d(L)&&!f(P)||d(L)&&p(P)||d(L)&&d(P)?0:N(L)&&f(P)&&!d(P)&&f(I)&&x(I)?3:d(L)||!f(I)?1:2:-1},w=function(L){var P=0,I=0,_=0,D="",M="",Y="",X=(L=L||"").split("\\s+"),k=[];for(P=0;P<X.length;P+=1){for(k.push(""),I=0;I<X[P].length;I+=1)D=X[P][I],M=X[P][I-1],Y=X[P][I+1],f(D)?(_=E(D,M,Y),k[P]+=_!==-1?String.fromCharCode(t[D.charCodeAt(0)][_]):D):k[P]+=D;k[P]=S(k[P])}return k.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var L,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(P)){var _=0;for(I=[],_=0;_<P.length;_+=1)Array.isArray(P[_])?I.push([w(P[_][0]),P[_][1],P[_][2]]):I.push([w(P[_])]);L=I}else L=w(P);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};e.events.push(["preProcessText",j])}(It.API),It.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(d){f=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(It.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var x=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return x},set:function(L){x=L}});var N=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return N},set:function(L){N=L}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(L){S=L}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(L){E=L}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(L){w=L}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(L){j=L}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(p){return r.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},e.getTextDimensions=function(p,x){r.call(this);var N=(x=x||{}).fontSize||this.getFontSize(),S=x.font||this.getFont(),E=x.scaleFactor||this.internal.scaleFactor,w=0,j=0,L=0,P=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var I=x.maxWidth;I>0?typeof p=="string"?p=this.splitTextToSize(p,I):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(D,M){return D.concat(P.splitTextToSize(M,I))},[])):p=Array.isArray(p)?p:[p];for(var _=0;_<p.length;_++)w<(L=this.getStringUnitWidth(p[_],{font:S})*N)&&(w=L);return w!==0&&(j=p.length),{w:w/=E,h:Math.max((j*N*this.getLineHeightFactor()-N*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var p=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=e.cell=function(){var p;p=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var x=this.internal.__cell__.lastCell,N=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return x.lineNumber!==void 0&&(x.lineNumber===p.lineNumber?(p.x=(x.x||0)+(x.width||0),p.y=x.y||0):x.y+x.height+p.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=S.top,w&&E&&(this.printHeaderRow(p.lineNumber,!0),p.y+=E[0].height)):p.y=x.y+x.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,n===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-N,p.y+N,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+N,{align:"center",baseline:"top",maxWidth:p.width-N-N}):this.text(p.text,p.x+N,p.y+N,{align:"left",baseline:"top",maxWidth:p.width-N-N})),this.internal.__cell__.lastCell=p,this};e.table=function(p,x,N,S,E){if(r.call(this),!N)throw new Error("No data for PDF table.");var w,j,L,P,I=[],_=[],D=[],M={},Y={},X=[],k=[],q=(E=E||{}).autoSize||!1,K=E.printHeaders!==!1,ge=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,U=E.margins||Object.assign({width:this.getPageWidth()},t),B=typeof E.padding=="number"?E.padding:3,ie=E.headerBackgroundColor||"#c8c8c8",se=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=se,this.setFontSize(ge),S==null)_=I=Object.keys(N[0]),D=I.map(function(){return"left"});else if(Array.isArray(S)&&In(S[0])==="object")for(I=S.map(function(be){return be.name}),_=S.map(function(be){return be.prompt||be.name||""}),D=S.map(function(be){return be.align||"left"}),w=0;w<S.length;w+=1)Y[S[w].name]=S[w].width*(19.049976/25.4);else Array.isArray(S)&&typeof S[0]=="string"&&(_=I=S,D=I.map(function(){return"left"}));if(q||Array.isArray(S)&&typeof S[0]=="string")for(w=0;w<I.length;w+=1){for(M[P=I[w]]=N.map(function(be){return be[P]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(_[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=M[P],this.setFont(void 0,"normal"),L=0;L<j.length;L+=1)X.push(this.getTextDimensions(j[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[P]=Math.max.apply(null,X)+B+B,X=[]}if(K){var ae={};for(w=0;w<I.length;w+=1)ae[I[w]]={},ae[I[w]].text=_[w],ae[I[w]].align=D[w];var J=d.call(this,ae,Y);k=I.map(function(be){return new o(p,x,Y[be],J,ae[be].text,void 0,ae[be].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var $=S.reduce(function(be,Pe){return be[Pe.name]=Pe.align,be},{});for(w=0;w<N.length;w+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:w,data:N[w]},this);var ce=d.call(this,N[w],Y);for(L=0;L<I.length;L+=1){var de=N[w][I[L]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:w,col:L,data:de},this),f.call(this,new o(p,x,Y[I[L]],ce,de,w+2,$[I[L]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=x,this};var d=function(p,x){var N=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(p).map(function(w){var j=p[w];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,x[w]-N-N)},this).map(function(w){return this.getLineHeightFactor()*w.length*S/E+N+N},this).reduce(function(w,j){return Math.max(w,j)},0)};e.setTableHeaderRow=function(p){r.call(this),this.internal.__cell__.tableHeaderRow=p},e.printHeaderRow=function(p,x){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var N;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){N=this.internal.__cell__.tableHeaderRow[w].clone(),x&&(N.y=this.internal.__cell__.margins.top||0,E.push(N)),N.lineNumber=p;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,N),this.setTextColor(j)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}}(It.API);var J3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Od=K3($3),e4=[100,200,300,400,500,600,700,800,900],Zw=K3(e4);function Rd(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return J3[o=o||"normal"]?o:"normal"}(e.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(o){return typeof Od[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function rm(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var Qw={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},am={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Kw(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Qw,n.genericFontFamilies||{}),o=null,f=null,d=0;d<t.length;++d)if(s[(o=Rd(t[d])).family]&&(o.family=s[o.family]),e.hasOwnProperty(o.family)){f=e[o.family];break}if(!(f=f||e[r]))throw new Error("Could not find a font-family for the rule '"+sm(o)+"' and default family '"+r+"'.");if(f=function(p,x){if(x[p])return x[p];var N=Od[p],S=N<=Od.normal?-1:1,E=rm(x,$3,N,S);if(!E)throw new Error("Could not find a matching font-stretch value for "+p);return E}(o.stretch,f),f=function(p,x){if(x[p])return x[p];for(var N=J3[p],S=0;S<N.length;++S)if(x[N[S]])return x[N[S]];throw new Error("Could not find a matching font-style for "+p)}(o.style,f),!(f=function(p,x){if(x[p])return x[p];if(p===400&&x[500])return x[500];if(p===500&&x[400])return x[400];var N=Zw[p],S=rm(x,e4,N,p<400?-1:1);if(!S)throw new Error("Could not find a matching font-weight for value "+p);return S}(o.weight,f)))throw new Error("Failed to resolve a font for the rule '"+sm(o)+"'.");return f}function om(e){return e.trimLeft()}function Jw(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function $w(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var t0,lm,cm,Eh=["times"];(function(e){var t,n,r,s,o,f,d,p,x,N=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new p,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new f,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new f,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,f=this.internal.Point,d=this.internal.Rectangle,p=this.internal.Matrix,x=new N}]);var S=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=F;Object.defineProperty(this,"pdf",{get:function(){return te}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(ke){re=!!ke}});var me=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return me},set:function(ke){me=!!ke}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ke){isNaN(ke)||(oe=ke)}});var Le=0;Object.defineProperty(this,"posY",{get:function(){return Le},set:function(ke){isNaN(ke)||(Le=ke)}}),Object.defineProperty(this,"margin",{get:function(){return x.margin},set:function(ke){var pe;typeof ke=="number"?pe=[ke,ke,ke,ke]:((pe=new Array(4))[0]=ke[0],pe[1]=ke.length>=2?ke[1]:pe[0],pe[2]=ke.length>=3?ke[2]:pe[0],pe[3]=ke.length>=4?ke[3]:pe[1]),x.margin=pe}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(ke){_e=ke}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(ke){xe=ke}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(ke){Ee=ke}}),Object.defineProperty(this,"ctx",{get:function(){return x},set:function(ke){ke instanceof N&&(x=ke)}}),Object.defineProperty(this,"path",{get:function(){return x.path},set:function(ke){x.path=ke}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(ke){Ae=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var pe;pe=E(ke),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var pe=E(ke);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Me=null;function Oe(ke,pe){if(Me===null){var ct=function(it){var Ge=[];return Object.keys(it).forEach(function(at){it[at].forEach(function(He){var st=null;switch(He){case"bold":st={family:at,weight:"bold"};break;case"italic":st={family:at,style:"italic"};break;case"bolditalic":st={family:at,weight:"bold",style:"italic"};break;case"":case"normal":st={family:at}}st!==null&&(st.ref={name:at,style:He},Ge.push(st))})}),Ge}(ke.getFontList());Me=function(it){for(var Ge={},at=0;at<it.length;++at){var He=Rd(it[at]),st=He.family,At=He.stretch,Ct=He.style,Ft=He.weight;Ge[st]=Ge[st]||{},Ge[st][At]=Ge[st][At]||{},Ge[st][At][Ct]=Ge[st][At][Ct]||{},Ge[st][At][Ct][Ft]=He}return Ge}(ct.concat(pe))}return Me}var Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(ke){Me=null,Qe=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var pe;if(this.ctx.font=ke,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var ct=pe[1],it=(pe[2],pe[3]),Ge=pe[4],at=(pe[5],pe[6]),He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(He==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var st=function(yt){var Xt,ut,Vi=[],Et=yt.trim();if(Et==="")return Eh;if(Et in am)return[am[Et]];for(;Et!=="";){switch(ut=null,Xt=(Et=om(Et)).charAt(0)){case'"':case"'":ut=Jw(Et.substring(1),Xt);break;default:ut=$w(Et)}if(ut===null||(Vi.push(ut[0]),(Et=om(ut[1]))!==""&&Et.charAt(0)!==","))return Eh;Et=Et.replace(/^,/,"")}return Vi}(at);if(this.fontFaces){var At=Kw(Oe(this.pdf,this.fontFaces),st.map(function(yt){return{family:yt,stretch:"normal",weight:it,style:ct}}));this.pdf.setFont(At.ref.name,At.ref.style)}else{var Ct="";(it==="bold"||parseInt(it,10)>=700||ct==="bold")&&(Ct="bold"),ct==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Ft="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rn=0;rn<st.length;rn++){if(this.pdf.internal.getFont(st[rn],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Ft=st[rn];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(st[rn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ft=st[rn],Ct="bold";else if(this.pdf.internal.getFont(st[rn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ft=st[rn],Ct="normal";break}}if(Ft===""){for(var Jt=0;Jt<st.length;Jt++)if(Dt[st[Jt]]){Ft=Dt[st[Jt]];break}}Ft=Ft===""?"Times":Ft,this.pdf.setFont(Ft,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,Pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,Pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};S.prototype.setLineDash=function(F){this.lineDash=F},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){M.call(this,"fill",!1)},S.prototype.stroke=function(){M.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(F,te){if(isNaN(F)||isNaN(te))throw Bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new f(F,te));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new f(F,te)},S.prototype.closePath=function(){var F=new f(0,0),te=0;for(te=this.path.length-1;te!==-1;te--)if(this.path[te].type==="begin"&&In(this.path[te+1])==="object"&&typeof this.path[te+1].x=="number"){F=new f(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(F.x,F.y)},S.prototype.lineTo=function(F,te){if(isNaN(F)||isNaN(te))throw Bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new f(F,te));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new f(re.x,re.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},S.prototype.quadraticCurveTo=function(F,te,re,me){if(isNaN(re)||isNaN(me)||isNaN(F)||isNaN(te))throw Bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new f(re,me)),Le=this.ctx.transform.applyToPoint(new f(F,te));this.path.push({type:"qct",x1:Le.x,y1:Le.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new f(oe.x,oe.y)},S.prototype.bezierCurveTo=function(F,te,re,me,oe,Le){if(isNaN(oe)||isNaN(Le)||isNaN(F)||isNaN(te)||isNaN(re)||isNaN(me))throw Bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new f(oe,Le)),xe=this.ctx.transform.applyToPoint(new f(F,te)),Ee=this.ctx.transform.applyToPoint(new f(re,me));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ee.x,y2:Ee.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new f(_e.x,_e.y)},S.prototype.arc=function(F,te,re,me,oe,Le){if(isNaN(F)||isNaN(te)||isNaN(re)||isNaN(me)||isNaN(oe))throw Bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Le=!!Le,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new f(F,te));F=_e.x,te=_e.y;var xe=this.ctx.transform.applyToPoint(new f(0,re)),Ee=this.ctx.transform.applyToPoint(new f(0,0));re=Math.sqrt(Math.pow(xe.x-Ee.x,2)+Math.pow(xe.y-Ee.y,2))}Math.abs(oe-me)>=2*Math.PI&&(me=0,oe=2*Math.PI),this.path.push({type:"arc",x:F,y:te,radius:re,startAngle:me,endAngle:oe,counterclockwise:Le})},S.prototype.arcTo=function(F,te,re,me,oe){throw new Error("arcTo not implemented.")},S.prototype.rect=function(F,te,re,me){if(isNaN(F)||isNaN(te)||isNaN(re)||isNaN(me))throw Bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,te),this.lineTo(F+re,te),this.lineTo(F+re,te+me),this.lineTo(F,te+me),this.lineTo(F,te),this.lineTo(F+re,te),this.lineTo(F,te)},S.prototype.fillRect=function(F,te,re,me){if(isNaN(F)||isNaN(te)||isNaN(re)||isNaN(me))throw Bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,te,re,me),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},S.prototype.strokeRect=function(F,te,re,me){if(isNaN(F)||isNaN(te)||isNaN(re)||isNaN(me))throw Bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(F,te,re,me),this.stroke())},S.prototype.clearRect=function(F,te,re,me){if(isNaN(F)||isNaN(te)||isNaN(re)||isNaN(me))throw Bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,te,re,me))},S.prototype.save=function(F){F=typeof F!="boolean"||F;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new N(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},S.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(te),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(F){var te,re,me,oe;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))te=0,re=0,me=0,oe=0;else{var Le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Le!==null)te=parseInt(Le[1]),re=parseInt(Le[2]),me=parseInt(Le[3]),oe=1;else if((Le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)te=parseInt(Le[1]),re=parseInt(Le[2]),me=parseInt(Le[3]),oe=parseFloat(Le[4]);else{if(oe=1,typeof F=="string"&&F.charAt(0)!=="#"){var _e=new V3(F);F=_e.ok?_e.toHex():"#000000"}F.length===4?(te=F.substring(1,2),te+=te,re=F.substring(2,3),re+=re,me=F.substring(3,4),me+=me):(te=F.substring(1,3),re=F.substring(3,5),me=F.substring(5,7)),te=parseInt(te,16),re=parseInt(re,16),me=parseInt(me,16)}}return{r:te,g:re,b:me,a:oe,style:F}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(F,te,re,me){if(isNaN(te)||isNaN(re)||typeof F!="string")throw Bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!w.call(this)){var oe=ce(this.ctx.transform.rotation),Le=this.ctx.transform.scaleX;B.call(this,{text:F,x:te,y:re,scale:Le,angle:oe,align:this.textAlign,maxWidth:me})}},S.prototype.strokeText=function(F,te,re,me){if(isNaN(te)||isNaN(re)||typeof F!="string")throw Bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){me=isNaN(me)?void 0:me;var oe=ce(this.ctx.transform.rotation),Le=this.ctx.transform.scaleX;B.call(this,{text:F,x:te,y:re,scale:Le,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:me})}},S.prototype.measureText=function(F){if(typeof F!="string")throw Bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,re=this.pdf.internal.scaleFactor,me=te.internal.getFontSize(),oe=te.getStringUnitWidth(F)*me/te.internal.scaleFactor,Le=function(_e){var xe=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this};return new Le({width:oe*=Math.round(96*re/72*1e4)/1e4})},S.prototype.scale=function(F,te){if(isNaN(F)||isNaN(te))throw Bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new p(F,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},S.prototype.rotate=function(F){if(isNaN(F))throw Bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new p(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},S.prototype.translate=function(F,te){if(isNaN(F)||isNaN(te))throw Bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new p(1,0,0,1,F,te);this.ctx.transform=this.ctx.transform.multiply(re)},S.prototype.transform=function(F,te,re,me,oe,Le){if(isNaN(F)||isNaN(te)||isNaN(re)||isNaN(me)||isNaN(oe)||isNaN(Le))throw Bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new p(F,te,re,me,oe,Le);this.ctx.transform=this.ctx.transform.multiply(_e)},S.prototype.setTransform=function(F,te,re,me,oe,Le){F=isNaN(F)?1:F,te=isNaN(te)?0:te,re=isNaN(re)?0:re,me=isNaN(me)?1:me,oe=isNaN(oe)?0:oe,Le=isNaN(Le)?0:Le,this.ctx.transform=new p(F,te,re,me,oe,Le)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(F,te,re,me,oe,Le,_e,xe,Ee){var Ae=this.pdf.getImageProperties(F),Me=1,Oe=1,Qe=1,ke=1;me!==void 0&&xe!==void 0&&(Qe=xe/me,ke=Ee/oe,Me=Ae.width/me*xe/me,Oe=Ae.height/oe*Ee/oe),Le===void 0&&(Le=te,_e=re,te=0,re=0),me!==void 0&&xe===void 0&&(xe=me,Ee=oe),me===void 0&&xe===void 0&&(xe=Ae.width,Ee=Ae.height);for(var pe,ct=this.ctx.transform.decompose(),it=ce(ct.rotate.shx),Ge=new p,at=(Ge=(Ge=(Ge=Ge.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new d(Le-te*Qe,_e-re*ke,me*Me,oe*Oe)),He=P.call(this,at),st=[],At=0;At<He.length;At+=1)st.indexOf(He[At])===-1&&st.push(He[At]);if(D(st),this.autoPaging)for(var Ct=st[0],Ft=st[st.length-1],Dt=Ct;Dt<Ft+1;Dt++){this.pdf.setPage(Dt);var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=Dt===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Dt===1?0:yt+(Dt-2)*Xt;if(this.ctx.clip_path.length!==0){var Vi=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(pe,this.posX+this.margin[3],-ut+Jt+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Vi}var Et=JSON.parse(JSON.stringify(at));Et=_([Et],this.posX+this.margin[3],-ut+Jt+this.ctx.prevPageLastElemOffset)[0];var rt=(Dt>Ct||Dt<Ft)&&L.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,Xt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,it),rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",at.x,at.y,at.w,at.h,null,null,it)};var P=function(F,te,re){var me=[];te=te||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":me.push(Math.floor((F.y+oe)/re)+1);break;case"arc":me.push(Math.floor((F.y+oe-F.radius)/re)+1),me.push(Math.floor((F.y+oe+F.radius)/re)+1);break;case"qct":var Le=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);me.push(Math.floor((Le.y+oe)/re)+1),me.push(Math.floor((Le.y+Le.h+oe)/re)+1);break;case"bct":var _e=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);me.push(Math.floor((_e.y+oe)/re)+1),me.push(Math.floor((_e.y+_e.h+oe)/re)+1);break;case"rect":me.push(Math.floor((F.y+oe)/re)+1),me.push(Math.floor((F.y+F.h+oe)/re)+1)}for(var xe=0;xe<me.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<me[xe];)I.call(this);return me},I=function(){var F=this.fillStyle,te=this.strokeStyle,re=this.font,me=this.lineCap,oe=this.lineWidth,Le=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=te,this.font=re,this.lineCap=me,this.lineWidth=oe,this.lineJoin=Le},_=function(F,te,re){for(var me=0;me<F.length;me++)switch(F[me].type){case"bct":F[me].x2+=te,F[me].y2+=re;case"qct":F[me].x1+=te,F[me].y1+=re;case"mt":case"lt":case"arc":default:F[me].x+=te,F[me].y+=re}return F},D=function(F){return F.sort(function(te,re){return te-re})},M=function(F,te){for(var re,me,oe=this.fillStyle,Le=this.strokeStyle,_e=this.lineCap,xe=this.lineWidth,Ee=Math.abs(xe*this.ctx.transform.scaleX),Ae=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),Qe=[],ke=0;ke<Oe.length;ke++)if(Oe[ke].x!==void 0)for(var pe=P.call(this,Oe[ke]),ct=0;ct<pe.length;ct+=1)Qe.indexOf(pe[ct])===-1&&Qe.push(pe[ct]);for(var it=0;it<Qe.length;it++)for(;this.pdf.internal.getNumberOfPages()<Qe[it];)I.call(this);if(D(Qe),this.autoPaging)for(var Ge=Qe[0],at=Qe[Qe.length-1],He=Ge;He<at+1;He++){this.pdf.setPage(He),this.fillStyle=oe,this.strokeStyle=Le,this.lineCap=_e,this.lineWidth=Ee,this.lineJoin=Ae;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=He===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=He===1?0:Ct+(He-2)*Ft;if(this.ctx.clip_path.length!==0){var rn=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(re,this.posX+this.margin[3],-Dt+At+this.ctx.prevPageLastElemOffset),Y.call(this,F,!0),this.path=rn}if(me=JSON.parse(JSON.stringify(Me)),this.path=_(me,this.posX+this.margin[3],-Dt+At+this.ctx.prevPageLastElemOffset),te===!1||He===0){var Jt=(He>Ge||He<at)&&L.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ft,null).clip().discardPath()),Y.call(this,F,te),Jt&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}else this.lineWidth=Ee,Y.call(this,F,te),this.lineWidth=xe;this.path=Me},Y=function(F,te){if((F!=="stroke"||te||!j.call(this))&&(F==="stroke"||te||!w.call(this))){for(var re,me,oe=[],Le=this.path,_e=0;_e<Le.length;_e++){var xe=Le[_e];switch(xe.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ee=oe.length;if(Le[_e-1]&&!isNaN(Le[_e-1].x)&&(re=[xe.x-Le[_e-1].x,xe.y-Le[_e-1].y],Ee>0)){for(;Ee>=0;Ee--)if(oe[Ee-1].close!==!0&&oe[Ee-1].begin!==!0){oe[Ee-1].deltas.push(re),oe[Ee-1].abs.push(xe);break}}break;case"bct":re=[xe.x1-Le[_e-1].x,xe.y1-Le[_e-1].y,xe.x2-Le[_e-1].x,xe.y2-Le[_e-1].y,xe.x-Le[_e-1].x,xe.y-Le[_e-1].y],oe[oe.length-1].deltas.push(re);break;case"qct":var Ae=Le[_e-1].x+2/3*(xe.x1-Le[_e-1].x),Me=Le[_e-1].y+2/3*(xe.y1-Le[_e-1].y),Oe=xe.x+2/3*(xe.x1-xe.x),Qe=xe.y+2/3*(xe.y1-xe.y),ke=xe.x,pe=xe.y;re=[Ae-Le[_e-1].x,Me-Le[_e-1].y,Oe-Le[_e-1].x,Qe-Le[_e-1].y,ke-Le[_e-1].x,pe-Le[_e-1].y],oe[oe.length-1].deltas.push(re);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(xe)}}me=te?null:F==="stroke"?"stroke":"fill";for(var ct=!1,it=0;it<oe.length;it++)if(oe[it].arc)for(var Ge=oe[it].abs,at=0;at<Ge.length;at++){var He=Ge[at];He.type==="arc"?q.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,te,!ct):ie.call(this,He.x,He.y),ct=!0}else if(oe[it].close===!0)this.pdf.internal.out("h"),ct=!1;else if(oe[it].begin!==!0){var st=oe[it].start.x,At=oe[it].start.y;se.call(this,oe[it].deltas,st,At),ct=!0}me&&K.call(this,me),te&&ge.call(this)}},X=function(F){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-re;case"top":return F+te-re;case"hanging":return F+te-2*re;case"middle":return F+te/2-re;case"ideographic":return F;case"alphabetic":default:return F}},k=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(te,re){this.colorStops.push([te,re])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(F,te,re,me,oe,Le,_e,xe,Ee){for(var Ae=J.call(this,re,me,oe,Le),Me=0;Me<Ae.length;Me++){var Oe=Ae[Me];Me===0&&(Ee?U.call(this,Oe.x1+F,Oe.y1+te):ie.call(this,Oe.x1+F,Oe.y1+te)),ae.call(this,F,te,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}xe?ge.call(this):K.call(this,_e)},K=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(F,te){this.pdf.internal.out(n(F)+" "+r(te)+" m")},B=function(F){var te;switch(F.align){case"right":case"end":te="right";break;case"center":te="center";break;case"left":case"start":default:te="left"}var re=this.pdf.getTextDimensions(F.text),me=X.call(this,F.y),oe=k.call(this,me)-re.h,Le=this.ctx.transform.applyToPoint(new f(F.x,me)),_e=this.ctx.transform.decompose(),xe=new p;xe=(xe=(xe=xe.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ee,Ae,Me,Oe=this.ctx.transform.applyToRectangle(new d(F.x,me,re.w,re.h)),Qe=xe.applyToRectangle(new d(F.x,oe,re.w,re.h)),ke=P.call(this,Qe),pe=[],ct=0;ct<ke.length;ct+=1)pe.indexOf(ke[ct])===-1&&pe.push(ke[ct]);if(D(pe),this.autoPaging)for(var it=pe[0],Ge=pe[pe.length-1],at=it;at<Ge+1;at++){this.pdf.setPage(at);var He=at===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],Ct=At-this.margin[0],Ft=this.pdf.internal.pageSize.width-this.margin[1],Dt=Ft-this.margin[3],rn=at===1?0:st+(at-2)*Ct;if(this.ctx.clip_path.length!==0){var Jt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ee,this.posX+this.margin[3],-1*rn+He),Y.call(this,"fill",!0),this.path=Jt}var yt=_([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-rn+He+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*F.scale),Me=this.lineWidth,this.lineWidth=Me*F.scale);var Xt=this.autoPaging!=="text";if(Xt||yt.y+yt.h<=At){if(Xt||yt.y>=He&&yt.x<=Ft){var ut=Xt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ft-yt.x)[0],Vi=_([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-rn+He+this.ctx.prevPageLastElemOffset)[0],Et=Xt&&(at>it||at<Ge)&&L.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Ct,null).clip().discardPath()),this.pdf.text(ut,Vi.x,Vi.y,{angle:F.angle,align:te,renderingMode:F.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else yt.y<At&&(this.ctx.prevPageLastElemOffset+=At-yt.y);F.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Me)}else F.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*F.scale),Me=this.lineWidth,this.lineWidth=Me*F.scale),this.pdf.text(F.text,Le.x+this.posX,Le.y+this.posY,{angle:F.angle,align:te,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Me)},ie=function(F,te,re,me){re=re||0,me=me||0,this.pdf.internal.out(n(F+re)+" "+r(te+me)+" l")},se=function(F,te,re){return this.pdf.lines(F,te,re,null,null)},ae=function(F,te,re,me,oe,Le,_e,xe){this.pdf.internal.out([t(s(re+F)),t(o(me+te)),t(s(oe+F)),t(o(Le+te)),t(s(_e+F)),t(o(xe+te)),"c"].join(" "))},J=function(F,te,re,me){for(var oe=2*Math.PI,Le=Math.PI/2;te>re;)te-=oe;var _e=Math.abs(re-te);_e<oe&&me&&(_e=oe-_e);for(var xe=[],Ee=me?-1:1,Ae=te;_e>1e-5;){var Me=Ae+Ee*Math.min(_e,Le);xe.push($.call(this,F,Ae,Me)),_e-=Math.abs(Me-Ae),Ae=Me}return xe},$=function(F,te,re){var me=(re-te)/2,oe=F*Math.cos(me),Le=F*Math.sin(me),_e=oe,xe=-Le,Ee=_e*_e+xe*xe,Ae=Ee+_e*oe+xe*Le,Me=4/3*(Math.sqrt(2*Ee*Ae)-Ae)/(_e*Le-xe*oe),Oe=_e-Me*xe,Qe=xe+Me*_e,ke=Oe,pe=-Qe,ct=me+te,it=Math.cos(ct),Ge=Math.sin(ct);return{x1:F*Math.cos(te),y1:F*Math.sin(te),x2:Oe*it-Qe*Ge,y2:Oe*Ge+Qe*it,x3:ke*it-pe*Ge,y3:ke*Ge+pe*it,x4:F*Math.cos(re),y4:F*Math.sin(re)}},ce=function(F){return 180*F/Math.PI},de=function(F,te,re,me,oe,Le){var _e=F+.5*(re-F),xe=te+.5*(me-te),Ee=oe+.5*(re-oe),Ae=Le+.5*(me-Le),Me=Math.min(F,oe,_e,Ee),Oe=Math.max(F,oe,_e,Ee),Qe=Math.min(te,Le,xe,Ae),ke=Math.max(te,Le,xe,Ae);return new d(Me,Qe,Oe-Me,ke-Qe)},be=function(F,te,re,me,oe,Le,_e,xe){var Ee,Ae,Me,Oe,Qe,ke,pe,ct,it,Ge,at,He,st,At,Ct=re-F,Ft=me-te,Dt=oe-re,rn=Le-me,Jt=_e-oe,yt=xe-Le;for(Ae=0;Ae<41;Ae++)it=(pe=(Me=F+(Ee=Ae/40)*Ct)+Ee*((Qe=re+Ee*Dt)-Me))+Ee*(Qe+Ee*(oe+Ee*Jt-Qe)-pe),Ge=(ct=(Oe=te+Ee*Ft)+Ee*((ke=me+Ee*rn)-Oe))+Ee*(ke+Ee*(Le+Ee*yt-ke)-ct),Ae==0?(at=it,He=Ge,st=it,At=Ge):(at=Math.min(at,it),He=Math.min(He,Ge),st=Math.max(st,it),At=Math.max(At,Ge));return new d(Math.round(at),Math.round(He),Math.round(st-at),Math.round(At-He))},Pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,te,re=(F=this.ctx.lineDash,te=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:te}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(It.API),function(e){var t=function(o){var f,d,p,x,N,S,E,w,j,L;for(d=[],p=0,x=(o+=f="\0\0\0\0".slice(o.length%4||4)).length;x>p;p+=4)(N=(o.charCodeAt(p)<<24)+(o.charCodeAt(p+1)<<16)+(o.charCodeAt(p+2)<<8)+o.charCodeAt(p+3))!==0?(S=(N=((N=((N=((N=(N-(L=N%85))/85)-(j=N%85))/85)-(w=N%85))/85)-(E=N%85))/85)%85,d.push(S+33,E+33,w+33,j+33,L+33)):d.push(122);return function(P,I){for(var _=I;_>0;_--)P.pop()}(d,f.length),String.fromCharCode.apply(String,d)+"~>"},n=function(o){var f,d,p,x,N,S=String,E="length",w=255,j="charCodeAt",L="slice",P="replace";for(o[L](-2),o=o[L](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),p=[],x=0,N=(o+=f="uuuuu"[L](o[E]%5||5))[E];N>x;x+=5)d=52200625*(o[j](x)-33)+614125*(o[j](x+1)-33)+7225*(o[j](x+2)-33)+85*(o[j](x+3)-33)+(o[j](x+4)-33),p.push(w&d>>24,w&d>>16,w&d>>8,w&d);return function(I,_){for(var D=_;D>0;D--)I.pop()}(p,f[E]),S.fromCharCode.apply(S,p)},r=function(o){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),f.test(o)===!1)return"";for(var d="",p=0;p<o.length;p+=2)d+=String.fromCharCode("0x"+(o[p]+o[p+1]));return d},s=function(o){for(var f=new Uint8Array(o.length),d=o.length;d--;)f[d]=o.charCodeAt(d);return o=(f=_d(f)).reduce(function(p,x){return p+String.fromCharCode(x)},"")};e.processDataByFilters=function(o,f){var d=0,p=o||"",x=[];for(typeof(f=f||[])=="string"&&(f=[f]),d=0;d<f.length;d+=1)switch(f[d]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=r(p),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(N){return("0"+N.charCodeAt().toString(16)).slice(-2)}).join("")+">",x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=s(p),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[d]+'" is not implemented')}return{data:p,reverseChain:x.reverse().join(" ")}}}(It.API),function(e){e.loadFile=function(t,n,r){return function(s,o,f){o=o!==!1,f=typeof f=="function"?f:function(){};var d=void 0;try{d=function(p,x,N){var S=new XMLHttpRequest,E=0,w=function(j){var L=j.length,P=[],I=String.fromCharCode;for(E=0;E<L;E+=1)P.push(I(255&j.charCodeAt(E)));return P.join("")};if(S.open("GET",p,!x),S.overrideMimeType("text/plain; charset=x-user-defined"),x===!1&&(S.onload=function(){S.status===200?N(w(this.responseText)):N(void 0)}),S.send(null),x&&S.status===200)return w(S.responseText)}(s,o,f)}catch{}return d}(t,n,r)},e.loadImageFile=e.loadFile}(It.API),function(e){function t(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):Sd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function n(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):Sd(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var r=function(f){var d=In(f);return d==="undefined"?"undefined":d==="string"||f instanceof String?"string":d==="number"||f instanceof Number?"number":d==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(f,d){var p=document.createElement(f);for(var x in d.className&&(p.className=d.className),d.innerHTML&&d.dompurify&&(p.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)p.style[x]=d.style[x];return p},o=function f(d){var p=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),x=f.convert(Promise.resolve(),p);return x=(x=x.setProgress(1,f,1,[f])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(f,d){return f.__proto__=d||o.prototype,f},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(f,d){return this.then(function(){switch(d=d||function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(n).then(function(p){return this.set({src:s("div",{innerHTML:f,dompurify:p})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},o.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function p(x,N){for(var S=x.nodeType===3?document.createTextNode(x.nodeValue):x.cloneNode(!1),E=x.firstChild;E;E=E.nextSibling)N!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||S.appendChild(p(E,N));return x.nodeType===1&&(x.nodeName==="CANVAS"?(S.width=x.width,S.height=x.height,S.getContext("2d").drawImage(x,0,0)):x.nodeName!=="TEXTAREA"&&x.nodeName!=="SELECT"||(S.value=x.value),S.addEventListener("load",function(){S.scrollTop=x.scrollTop,S.scrollLeft=x.scrollLeft},!0)),S}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,d(this.prop.container,p)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var p=this.opt.jsPDF,x=this.opt.fontFaces,N=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:N,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=x,x)for(var E=0;E<x.length;++E){var w=x[E],j=w.src.find(function(L){return L.format==="truetype"});j&&p.addFont(j.url,w.ref.name,w.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,p.context2d.save(!0),d(this.prop.container,S)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(f,d,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(f,d):this.outputPdf(f,d)},o.prototype.outputPdf=function(f,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,d)})},o.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},o.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(f){if(r(f)!=="object")return this;var d=Object.keys(f||{}).map(function(p){if(p in o.template.prop)return function(){this.prop[p]=f[p]};switch(p){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[p]=f[p]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(f,d){return this.then(function(){var p=f in o.template.prop?this.prop[f]:this.opt[f];return d?d(p):p})},o.prototype.setMargin=function(f){return this.then(function(){switch(r(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},o.prototype.setPageSize=function(f){function d(p,x){return Math.floor(p*x/72*96)}return this.then(function(){(f=f||It.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:d(f.inner.width,f.k),height:d(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},o.prototype.setProgress=function(f,d,p,x){return f!=null&&(this.progress.val=f),d!=null&&(this.progress.state=d),p!=null&&(this.progress.n=p),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(f,d,p,x){return this.setProgress(f?this.progress.val+f:null,d||null,p?this.progress.n+p:null,x?this.progress.stack.concat(x):null)},o.prototype.then=function(f,d){var p=this;return this.thenCore(f,d,function(x,N){return p.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(S){return p.updateProgress(null,x),S}).then(x,N).then(function(S){return p.updateProgress(1),S})})},o.prototype.thenCore=function(f,d,p){p=p||Promise.prototype.then,f&&(f=f.bind(this)),d&&(d=d.bind(this));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),N=p.call(x,f,d);return o.convert(N,this.__proto__)},o.prototype.thenExternal=function(f,d){return Promise.prototype.then.call(this,f,d)},o.prototype.thenList=function(f){var d=this;return f.forEach(function(p){d=d.thenCore(p)}),d},o.prototype.catch=function(f){f&&(f=f.bind(this));var d=Promise.prototype.catch.call(this,f);return o.convert(d,this)},o.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},o.prototype.error=function(f){return this.then(function(){throw new Error(f)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,It.getPageSize=function(f,d,p){if(In(f)==="object"){var x=f;f=x.orientation,d=x.unit||d,p=x.format||p}d=d||"mm",p=p||"a4",f=(""+(f||"P")).toLowerCase();var N,S=(""+p).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":N=1;break;case"mm":N=72/25.4;break;case"cm":N=72/2.54;break;case"in":N=72;break;case"px":N=.75;break;case"pc":case"em":N=12;break;case"ex":N=6;break;default:throw"Invalid unit: "+d}var w,j=0,L=0;if(E.hasOwnProperty(S))j=E[S][1]/N,L=E[S][0]/N;else try{j=p[1],L=p[0]}catch{throw new Error("Invalid format: "+p)}if(f==="p"||f==="portrait")f="p",L>j&&(w=L,L=j,j=w);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",j>L&&(w=L,L=j,j=w)}return{width:L,height:j,unit:d,k:N,orientation:f}},e.html=function(f,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Rd):null;var p=new o(d);return d.worker?p:p.from(f).doCallback()}}(It.API),It.API.addJS=function(e){return cm=e,this.internal.events.subscribe("postPutResources",function(){t0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t0!==void 0&&lm!==void 0&&this.internal.out("/Names <</JavaScript "+t0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var f=s[o],d=r.exec(f);if(d!=null){var p=d[1];n.internal.newObjectDeferredBegin(p,!1)}n.internal.write(f)}if(this.outline.createNamedDestinations){var x=this.internal.pages.length,N=[];for(o=0;o<x;o++){var S=n.internal.newObject();N.push(S);var E=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<N.length;o++)n.internal.write("(page_"+(o+1)+")"+N[o]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,o){var f={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(f),f},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var f=r.children[o];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var d=this.count=this.count_r({count:0},f);if(d>0&&this.line("/Count "+d),f.options&&f.options.pageNumber){var p=n.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var x=0;x<r.children.length;x++)this.renderItems(r.children[x])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])}(It.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,o,f,d){var p,x=this.decode.DCT_DECODE,N=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=f||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(p=function(S){for(var E,w=256*S.charCodeAt(4)+S.charCodeAt(5),j=S.length,L={width:0,height:0,numcomponents:1},P=4;P<j;P+=2){if(P+=w,t.indexOf(S.charCodeAt(P+1))!==-1){E=256*S.charCodeAt(P+5)+S.charCodeAt(P+6),L={width:256*S.charCodeAt(P+7)+S.charCodeAt(P+8),height:E,numcomponents:S.charCodeAt(P+9)};break}w=256*S.charCodeAt(P+2)+S.charCodeAt(P+3)}return L}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}N={data:n,width:p.width,height:p.height,colorSpace:d,bitsPerComponent:8,filter:x,index:r,alias:s}}return N}}(It.API);var Ql,n0,um,fm,hm,e6=function(){var e,t,n;function r(o){var f,d,p,x,N,S,E,w,j,L,P,I,_,D;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},S=null;;){switch(f=this.readUInt32(),j=(function(){var M,Y;for(Y=[],M=0;M<4;++M)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":S&&this.animation.frames.push(S),this.pos+=4,S={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},N=this.readUInt16(),x=this.readUInt16()||100,S.delay=1e3*N/x,S.disposeOp=this.data[this.pos++],S.blendOp=this.data[this.pos++],S.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,f-=4),o=(S!=null?S.data:void 0)||this.imgData,I=0;0<=f?I<f:I>f;0<=f?++I:--I)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((L=p-this.transparency.indexed.length)>0)for(_=0;0<=L?_<L:_>L;0<=L?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":E=(P=this.read(f)).indexOf(0),w=String.fromCharCode.apply(String,P.slice(0,E)),this.text[w]=String.fromCharCode.apply(String,P.slice(E+1));break;case"IEND":return S&&this.animation.frames.push(S),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(D=this.colorType)===4||D===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var f,d;for(d=[],f=0;0<=o?f<o:f>o;0<=o?++f:--f)d.push(this.data[this.pos++]);return d},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var f=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*f),p=0,x=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function N(S,E,w,j){var L,P,I,_,D,M,Y,X,k,q,K,ge,U,B,ie,se,ae,J,$,ce,de,be=Math.ceil((x.width-S)/w),Pe=Math.ceil((x.height-E)/j),F=x.width==be&&x.height==Pe;for(B=f*be,ge=F?d:new Uint8Array(B*Pe),M=o.length,U=0,P=0;U<Pe&&p<M;){switch(o[p++]){case 0:for(_=ae=0;ae<B;_=ae+=1)ge[P++]=o[p++];break;case 1:for(_=J=0;J<B;_=J+=1)L=o[p++],D=_<f?0:ge[P-f],ge[P++]=(L+D)%256;break;case 2:for(_=$=0;$<B;_=$+=1)L=o[p++],I=(_-_%f)/f,ie=U&&ge[(U-1)*B+I*f+_%f],ge[P++]=(ie+L)%256;break;case 3:for(_=ce=0;ce<B;_=ce+=1)L=o[p++],I=(_-_%f)/f,D=_<f?0:ge[P-f],ie=U&&ge[(U-1)*B+I*f+_%f],ge[P++]=(L+Math.floor((D+ie)/2))%256;break;case 4:for(_=de=0;de<B;_=de+=1)L=o[p++],I=(_-_%f)/f,D=_<f?0:ge[P-f],U===0?ie=se=0:(ie=ge[(U-1)*B+I*f+_%f],se=I&&ge[(U-1)*B+(I-1)*f+_%f]),Y=D+ie-se,X=Math.abs(Y-D),q=Math.abs(Y-ie),K=Math.abs(Y-se),k=X<=q&&X<=K?D:q<=K?ie:se,ge[P++]=(L+k)%256;break;default:throw new Error("Invalid filter algorithm: "+o[p-1])}if(!F){var te=((E+U*j)*x.width+S)*f,re=U*B;for(_=0;_<be;_+=1){for(var me=0;me<f;me+=1)d[te++]=ge[re++];te+=(w-1)*f}}U++}}return o=Lw(o),x.interlaceMethod==1?(N(0,0,8,8),N(4,0,8,8),N(0,4,4,8),N(2,0,4,4),N(0,2,2,4),N(1,0,2,2),N(0,1,1,2)):N(0,0,1,1),d},r.prototype.decodePalette=function(){var o,f,d,p,x,N,S,E,w;for(d=this.palette,N=this.transparency.indexed||[],x=new Uint8Array((N.length||0)+d.length),p=0,o=0,f=S=0,E=d.length;S<E;f=S+=3)x[p++]=d[f],x[p++]=d[f+1],x[p++]=d[f+2],x[p++]=(w=N[o++])!=null?w:255;return x},r.prototype.copyToImageData=function(o,f){var d,p,x,N,S,E,w,j,L,P,I;if(p=this.colors,L=null,d=this.hasAlphaChannel,this.palette.length&&(L=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),p=4,d=!0),j=(x=o.data||o).length,S=L||f,N=E=0,p===1)for(;N<j;)w=L?4*f[N/4]:E,P=S[w++],x[N++]=P,x[N++]=P,x[N++]=P,x[N++]=d?S[w++]:255,E=w;else for(;N<j;)w=L?4*f[N/4]:E,x[N++]=S[w++],x[N++]=S[w++],x[N++]=S[w++],x[N++]=d?S[w++]:255,E=w},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(Lt)==="[object Window]"){try{t=Lt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(o){var f;if(s()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(f=new Image).src=t.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var f,d,p,x,N,S,E,w;if(this.animation){for(w=[],d=N=0,S=(E=this.animation.frames).length;N<S;d=++N)f=E[d],p=o.createImageData(f.width,f.height),x=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(p,x),f.imageData=p,w.push(f.image=e(p));return w}},r.prototype.renderFrame=function(o,f){var d,p,x;return d=(p=this.animation.frames)[f],x=p[f-1],f===0&&o.clearRect(0,0,this.width,this.height),(x!=null?x.disposeOp:void 0)===1?o.clearRect(x.xOffset,x.yOffset,x.width,x.height):(x!=null?x.disposeOp:void 0)===2&&o.putImageData(x.imageData,x.xOffset,x.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},r.prototype.animate=function(o){var f,d,p,x,N,S,E=this;return d=0,S=this.animation,x=S.numFrames,p=S.frames,N=S.numPlays,(f=function(){var w,j;if(w=d++%x,j=p[w],E.renderFrame(o,w),x>1&&d/x<N)return E.animation._timeout=setTimeout(f,j.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var f,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,f=o.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(d=f.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),f.putImageData(d,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function t6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],o=s>>7,f=1<<(7&s)+1;e[t++],e[t++];var d=null,p=null;o&&(d=t,p=f,t+=3*f);var x=!0,N=[],S=0,E=null,w=0,j=null;for(this.width=n,this.height=r;x&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var L=e[t++];S=e[t++]|e[t++]<<8,E=e[t++],!(1&L)&&(E=null),w=L>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var P=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,M=e[t++],Y=M>>6&1,X=1<<(7&M)+1,k=d,q=p,K=!1;M>>7&&(K=!0,k=t,q=X,t+=3*X);var ge=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}N.push({x:P,y:I,width:_,height:D,has_local_palette:K,palette_offset:k,palette_size:q,data_offset:ge,data_length:t-ge,transparent_index:E,interlaced:!!Y,delay:S,disposal:w});break;case 59:x=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return N.length},this.loopCount=function(){return j},this.frameInfo=function(B){if(B<0||B>=N.length)throw new Error("Frame index out of range.");return N[B]},this.decodeAndBlitFrameBGRA=function(B,ie){var se=this.frameInfo(B),ae=se.width*se.height,J=new Uint8Array(ae);dm(e,se.data_offset,J,ae);var $=se.palette_offset,ce=se.transparent_index;ce===null&&(ce=256);var de=se.width,be=n-de,Pe=de,F=4*(se.y*n+se.x),te=4*((se.y+se.height)*n+se.x),re=F,me=4*be;se.interlaced===!0&&(me+=4*n*7);for(var oe=8,Le=0,_e=J.length;Le<_e;++Le){var xe=J[Le];if(Pe===0&&(Pe=de,(re+=me)>=te&&(me=4*be+4*n*(oe-1),re=F+(de+be)*(oe<<1),oe>>=1)),xe===ce)re+=4;else{var Ee=e[$+3*xe],Ae=e[$+3*xe+1],Me=e[$+3*xe+2];ie[re++]=Me,ie[re++]=Ae,ie[re++]=Ee,ie[re++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(B,ie){var se=this.frameInfo(B),ae=se.width*se.height,J=new Uint8Array(ae);dm(e,se.data_offset,J,ae);var $=se.palette_offset,ce=se.transparent_index;ce===null&&(ce=256);var de=se.width,be=n-de,Pe=de,F=4*(se.y*n+se.x),te=4*((se.y+se.height)*n+se.x),re=F,me=4*be;se.interlaced===!0&&(me+=4*n*7);for(var oe=8,Le=0,_e=J.length;Le<_e;++Le){var xe=J[Le];if(Pe===0&&(Pe=de,(re+=me)>=te&&(me=4*be+4*n*(oe-1),re=F+(de+be)*(oe<<1),oe>>=1)),xe===ce)re+=4;else{var Ee=e[$+3*xe],Ae=e[$+3*xe+1],Me=e[$+3*xe+2];ie[re++]=Ee,ie[re++]=Ae,ie[re++]=Me,ie[re++]=255}--Pe}}}function dm(e,t,n,r){for(var s=e[t++],o=1<<s,f=o+1,d=f+1,p=s+1,x=(1<<p)-1,N=0,S=0,E=0,w=e[t++],j=new Int32Array(4096),L=null;;){for(;N<16&&w!==0;)S|=e[t++]<<N,N+=8,w===1?w=e[t++]:--w;if(N<p)break;var P=S&x;if(S>>=p,N-=p,P!==o){if(P===f)break;for(var I=P<d?P:L,_=0,D=I;D>o;)D=j[D]>>8,++_;var M=D;if(E+_+(I!==P?1:0)>r)return void Bn.log("Warning, gif stream longer than expected.");n[E++]=M;var Y=E+=_;for(I!==P&&(n[E++]=M),D=I;_--;)D=j[D],n[--Y]=255&D,D>>=8;L!==null&&d<4096&&(j[d++]=L<<8|M,d>=x+1&&p<12&&(++p,x=x<<1|1)),L=P}else d=f+1,x=(1<<(p=s+1))-1,L=null}return E!==r&&Bn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Th(e){var t,n,r,s,o,f=Math.floor,d=new Array(64),p=new Array(64),x=new Array(64),N=new Array(64),S=new Array(65535),E=new Array(65535),w=new Array(64),j=new Array(64),L=[],P=0,I=7,_=new Array(64),D=new Array(64),M=new Array(64),Y=new Array(256),X=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(F,te){for(var re=0,me=0,oe=new Array,Le=1;Le<=16;Le++){for(var _e=1;_e<=F[Le];_e++)oe[te[me]]=[],oe[te[me]][0]=re,oe[te[me]][1]=Le,me++,re++;re*=2}return oe}function $(F){for(var te=F[0],re=F[1]-1;re>=0;)te&1<<re&&(P|=1<<I),re--,--I<0&&(P==255?(ce(255),ce(0)):ce(P),I=7,P=0)}function ce(F){L.push(F)}function de(F){ce(F>>8&255),ce(255&F)}function be(F,te,re,me,oe){for(var Le,_e=oe[0],xe=oe[240],Ee=function(Ge,at){var He,st,At,Ct,Ft,Dt,rn,Jt,yt,Xt,ut=0;for(yt=0;yt<8;++yt){He=Ge[ut],st=Ge[ut+1],At=Ge[ut+2],Ct=Ge[ut+3],Ft=Ge[ut+4],Dt=Ge[ut+5],rn=Ge[ut+6];var Vi=He+(Jt=Ge[ut+7]),Et=He-Jt,rt=st+rn,jt=st-rn,Tt=At+Dt,dn=At-Dt,an=Ct+Ft,Ma=Ct-Ft,Gn=Vi+an,Ht=Vi-an,nr=rt+Tt,Vn=rt-Tt;Ge[ut]=Gn+nr,Ge[ut+4]=Gn-nr;var Bt=.707106781*(Vn+Ht);Ge[ut+2]=Ht+Bt,Ge[ut+6]=Ht-Bt;var Gt=.382683433*((Gn=Ma+dn)-(Vn=jt+Et)),Oa=.5411961*Gn+Gt,un=1.306562965*Vn+Gt,ir=.707106781*(nr=dn+jt),Nr=Et+ir,vt=Et-ir;Ge[ut+5]=vt+Oa,Ge[ut+3]=vt-Oa,Ge[ut+1]=Nr+un,Ge[ut+7]=Nr-un,ut+=8}for(ut=0,yt=0;yt<8;++yt){He=Ge[ut],st=Ge[ut+8],At=Ge[ut+16],Ct=Ge[ut+24],Ft=Ge[ut+32],Dt=Ge[ut+40],rn=Ge[ut+48];var Yr=He+(Jt=Ge[ut+56]),Yi=He-Jt,Wi=st+rn,fn=st-rn,Dn=At+Dt,Pn=At-Dt,dt=Ct+Ft,fr=Ct-Ft,Cr=Yr+dt,Fn=Yr-dt,Xi=Wi+Dn,Er=Wi-Dn;Ge[ut]=Cr+Xi,Ge[ut+32]=Cr-Xi;var rr=.707106781*(Er+Fn);Ge[ut+16]=Fn+rr,Ge[ut+48]=Fn-rr;var wi=.382683433*((Cr=fr+Pn)-(Er=fn+Yi)),xs=.5411961*Cr+wi,Ys=1.306562965*Er+wi,ar=.707106781*(Xi=Pn+fn),di=Yi+ar,yn=Yi-ar;Ge[ut+40]=yn+xs,Ge[ut+24]=yn-xs,Ge[ut+8]=di+Ys,Ge[ut+56]=di-Ys,ut++}for(yt=0;yt<64;++yt)Xt=Ge[yt]*at[yt],w[yt]=Xt>0?Xt+.5|0:Xt-.5|0;return w}(F,te),Ae=0;Ae<64;++Ae)j[k[Ae]]=Ee[Ae];var Me=j[0]-re;re=j[0],Me==0?$(me[0]):($(me[E[Le=32767+Me]]),$(S[Le]));for(var Oe=63;Oe>0&&j[Oe]==0;)Oe--;if(Oe==0)return $(_e),re;for(var Qe,ke=1;ke<=Oe;){for(var pe=ke;j[ke]==0&&ke<=Oe;)++ke;var ct=ke-pe;if(ct>=16){Qe=ct>>4;for(var it=1;it<=Qe;++it)$(xe);ct&=15}Le=32767+j[ke],$(oe[(ct<<4)+E[Le]]),$(S[Le]),ke++}return Oe!=63&&$(_e),re}function Pe(F){F=Math.min(Math.max(F,1),100),o!=F&&(function(te){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var oe=f((re[me]*te+50)/100);oe=Math.min(Math.max(oe,1),255),d[k[me]]=oe}for(var Le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var xe=f((Le[_e]*te+50)/100);xe=Math.min(Math.max(xe,1),255),p[k[_e]]=xe}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Me=0;Me<8;Me++)for(var Oe=0;Oe<8;Oe++)x[Ae]=1/(d[k[Ae]]*Ee[Me]*Ee[Oe]*8),N[Ae]=1/(p[k[Ae]]*Ee[Me]*Ee[Oe]*8),Ae++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),o=F)}this.encode=function(F,te){te&&Pe(te),L=new Array,P=0,I=7,de(65496),de(65504),de(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),de(1),de(1),ce(0),ce(0),function(){de(65499),de(132),ce(0);for(var st=0;st<64;st++)ce(d[st]);ce(1);for(var At=0;At<64;At++)ce(p[At])}(),function(st,At){de(65472),de(17),ce(8),de(At),de(st),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(F.width,F.height),function(){de(65476),de(418),ce(0);for(var st=0;st<16;st++)ce(q[st+1]);for(var At=0;At<=11;At++)ce(K[At]);ce(16);for(var Ct=0;Ct<16;Ct++)ce(ge[Ct+1]);for(var Ft=0;Ft<=161;Ft++)ce(U[Ft]);ce(1);for(var Dt=0;Dt<16;Dt++)ce(B[Dt+1]);for(var rn=0;rn<=11;rn++)ce(ie[rn]);ce(17);for(var Jt=0;Jt<16;Jt++)ce(se[Jt+1]);for(var yt=0;yt<=161;yt++)ce(ae[yt])}(),de(65498),de(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var re=0,me=0,oe=0;P=0,I=7,this.encode.displayName="_encode_";for(var Le,_e,xe,Ee,Ae,Me,Oe,Qe,ke,pe=F.data,ct=F.width,it=F.height,Ge=4*ct,at=0;at<it;){for(Le=0;Le<Ge;){for(Ae=Ge*at+Le,Oe=-1,Qe=0,ke=0;ke<64;ke++)Me=Ae+(Qe=ke>>3)*Ge+(Oe=4*(7&ke)),at+Qe>=it&&(Me-=Ge*(at+1+Qe-it)),Le+Oe>=Ge&&(Me-=Le+Oe-Ge+4),_e=pe[Me++],xe=pe[Me++],Ee=pe[Me++],_[ke]=(X[_e]+X[xe+256>>0]+X[Ee+512>>0]>>16)-128,D[ke]=(X[_e+768>>0]+X[xe+1024>>0]+X[Ee+1280>>0]>>16)-128,M[ke]=(X[_e+1280>>0]+X[xe+1536>>0]+X[Ee+1792>>0]>>16)-128;re=be(_,x,re,t,r),me=be(D,N,me,n,s),oe=be(M,N,oe,n,s),Le+=32}at+=8}if(I>=0){var He=[];He[1]=I+1,He[0]=(1<<I+1)-1,$(He)}return de(65497),new Uint8Array(L)},e=e||50,function(){for(var F=String.fromCharCode,te=0;te<256;te++)Y[te]=F(te)}(),t=J(q,K),n=J(B,ie),r=J(ge,U),s=J(se,ae),function(){for(var F=1,te=2,re=1;re<=15;re++){for(var me=F;me<te;me++)E[32767+me]=re,S[32767+me]=[],S[32767+me][1]=re,S[32767+me][0]=me;for(var oe=-(te-1);oe<=-F;oe++)E[32767+oe]=re,S[32767+oe]=[],S[32767+oe][1]=re,S[32767+oe][0]=te-1+oe;F<<=1,te<<=1}}(),function(){for(var F=0;F<256;F++)X[F]=19595*F,X[F+256>>0]=38470*F,X[F+512>>0]=7471*F+32768,X[F+768>>0]=-11059*F,X[F+1024>>0]=-21709*F,X[F+1280>>0]=32768*F+8421375,X[F+1536>>0]=-27439*F,X[F+1792>>0]=-5329*F}(),Pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ua(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gm(e){function t(q){if(!q)throw Error("assert :P")}function n(q,K,ge){for(var U=0;4>U;U++)if(q[K+U]!=ge.charCodeAt(U))return!0;return!1}function r(q,K,ge,U,B){for(var ie=0;ie<B;ie++)q[K+ie]=ge[U+ie]}function s(q,K,ge,U){for(var B=0;B<U;B++)q[K+B]=ge}function o(q){return new Int32Array(q)}function f(q,K){for(var ge=[],U=0;U<q;U++)ge.push(new K);return ge}function d(q,K){var ge=[];return function U(B,ie,se){for(var ae=se[ie],J=0;J<ae&&(B.push(se.length>ie+1?[]:new K),!(se.length<ie+1));J++)U(B[J],ie+1,se)}(ge,0,q),ge}var p=function(){var q=this;function K(g,v){for(var T=1<<v-1>>>0;g&T;)T>>>=1;return T?(g&T-1)+T:g}function ge(g,v,T,O,G){t(!(O%T));do g[v+(O-=T)]=G;while(0<O)}function U(g,v,T,O,G){if(t(2328>=G),512>=G)var W=o(512);else if((W=o(G))==null)return 0;return function(Q,ee,ne,he,Se,je){var Be,Ie,Xe=ee,ze=1<<ne,Ne=o(16),Ce=o(16);for(t(Se!=0),t(he!=null),t(Q!=null),t(0<ne),Ie=0;Ie<Se;++Ie){if(15<he[Ie])return 0;++Ne[he[Ie]]}if(Ne[0]==Se)return 0;for(Ce[1]=0,Be=1;15>Be;++Be){if(Ne[Be]>1<<Be)return 0;Ce[Be+1]=Ce[Be]+Ne[Be]}for(Ie=0;Ie<Se;++Ie)Be=he[Ie],0<he[Ie]&&(je[Ce[Be]++]=Ie);if(Ce[15]==1)return(he=new B).g=0,he.value=je[0],ge(Q,Xe,1,ze,he),ze;var Ve,tt=-1,Ye=ze-1,gt=0,ot=1,_t=1,ft=1<<ne;for(Ie=0,Be=1,Se=2;Be<=ne;++Be,Se<<=1){if(ot+=_t<<=1,0>(_t-=Ne[Be]))return 0;for(;0<Ne[Be];--Ne[Be])(he=new B).g=Be,he.value=je[Ie++],ge(Q,Xe+gt,Se,ft,he),gt=K(gt,Be)}for(Be=ne+1,Se=2;15>=Be;++Be,Se<<=1){if(ot+=_t<<=1,0>(_t-=Ne[Be]))return 0;for(;0<Ne[Be];--Ne[Be]){if(he=new B,(gt&Ye)!=tt){for(Xe+=ft,Ve=1<<(tt=Be)-ne;15>tt&&!(0>=(Ve-=Ne[tt]));)++tt,Ve<<=1;ze+=ft=1<<(Ve=tt-ne),Q[ee+(tt=gt&Ye)].g=Ve+ne,Q[ee+tt].value=Xe-ee-tt}he.g=Be-ne,he.value=je[Ie++],ge(Q,Xe+(gt>>ne),Se,ft,he),gt=K(gt,Be)}}return ot!=2*Ce[15]-1?0:ze}(g,v,T,O,G,W)}function B(){this.value=this.g=0}function ie(){this.value=this.g=0}function se(){this.G=f(5,B),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Ln,ie)}function ae(g,v,T,O){t(g!=null),t(v!=null),t(2147483648>O),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=T,g.Jd=v,g.Yc=T+O,g.Zc=4<=O?T+O-4+1:T,Le(g)}function J(g,v){for(var T=0;0<v--;)T|=xe(g,128)<<v;return T}function $(g,v){var T=J(g,v);return _e(g)?-T:T}function ce(g,v,T,O){var G,W=0;for(t(g!=null),t(v!=null),t(4294967288>O),g.Sb=O,g.Ra=0,g.u=0,g.h=0,4<O&&(O=4),G=0;G<O;++G)W+=v[T+G]<<8*G;g.Ra=W,g.bb=O,g.oa=v,g.pa=T}function de(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<ya-8>>>0,++g.bb,g.u-=8;re(g)&&(g.h=1,g.u=0)}function be(g,v){if(t(0<=v),!g.h&&v<=es){var T=te(g)&to[v];return g.u+=v,de(g),T}return g.h=1,g.u=0}function Pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(g){return g.Ra>>>(g.u&ya-1)>>>0}function re(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>ya}function me(g,v){g.u=v,g.h=re(g)}function oe(g){g.u>=Qt&&(t(g.u>=Qt),de(g))}function Le(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function _e(g){return J(g,1)}function xe(g,v){var T=g.Ca;0>g.b&&Le(g);var O=g.b,G=T*v>>>8,W=(g.I>>>O>G)+0;for(W?(T-=G,g.I-=G+1<<O>>>0):T=G+1,O=T,G=0;256<=O;)G+=8,O>>=8;return O=7^G+Pi[O],g.b-=O,g.Ca=(T<<O)-1,W}function Ee(g,v,T){g[v+0]=T>>24&255,g[v+1]=T>>16&255,g[v+2]=T>>8&255,g[v+3]=T>>0&255}function Ae(g,v){return g[v+0]<<0|g[v+1]<<8}function Me(g,v){return Ae(g,v)|g[v+2]<<16}function Oe(g,v){return Ae(g,v)|Ae(g,v+2)<<16}function Qe(g,v){var T=1<<v;return t(g!=null),t(0<v),g.X=o(T),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function ke(g,v){t(g!=null),t(v!=null),t(g.Xa==v.Xa),r(v.X,0,g.X,0,1<<v.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function ct(g,v,T,O){t(T!=null),t(O!=null);var G=T[0],W=O[0];return G==0&&(G=(g*W+v/2)/v),W==0&&(W=(v*G+g/2)/g),0>=G||0>=W?0:(T[0]=G,O[0]=W,1)}function it(g,v){return g+(1<<v)-1>>>v}function Ge(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function at(g,v){q[v]=function(T,O,G,W,Q,ee,ne){var he;for(he=0;he<Q;++he){var Se=q[g](ee[ne+he-1],G,W+he);ee[ne+he]=Ge(T[O+he],Se)}}}function He(){this.ud=this.hd=this.jd=0}function st(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function At(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ct(g,v){return At(g+(g-v+.5>>1))}function Ft(g,v,T){return Math.abs(v-T)-Math.abs(g-T)}function Dt(g,v,T,O,G,W,Q){for(O=W[Q-1],T=0;T<G;++T)W[Q+T]=O=Ge(g[v+T],O)}function rn(g,v,T,O,G){var W;for(W=0;W<T;++W){var Q=g[v+W],ee=Q>>8&255,ne=16711935&(ne=(ne=16711935&Q)+((ee<<16)+ee));O[G+W]=(4278255360&Q)+ne>>>0}}function Jt(g,v){v.jd=g>>0&255,v.hd=g>>8&255,v.ud=g>>16&255}function yt(g,v,T,O,G,W){var Q;for(Q=0;Q<O;++Q){var ee=v[T+Q],ne=ee>>>8,he=ee,Se=255&(Se=(Se=ee>>>16)+((g.jd<<24>>24)*(ne<<24>>24)>>>5));he=255&(he=(he=he+((g.hd<<24>>24)*(ne<<24>>24)>>>5))+((g.ud<<24>>24)*(Se<<24>>24)>>>5)),G[W+Q]=(4278255360&ee)+(Se<<16)+he}}function Xt(g,v,T,O,G){q[v]=function(W,Q,ee,ne,he,Se,je,Be,Ie){for(ne=je;ne<Be;++ne)for(je=0;je<Ie;++je)he[Se++]=G(ee[O(W[Q++])])},q[g]=function(W,Q,ee,ne,he,Se,je){var Be=8>>W.b,Ie=W.Ea,Xe=W.K[0],ze=W.w;if(8>Be)for(W=(1<<W.b)-1,ze=(1<<Be)-1;Q<ee;++Q){var Ne,Ce=0;for(Ne=0;Ne<Ie;++Ne)Ne&W||(Ce=O(ne[he++])),Se[je++]=G(Xe[Ce&ze]),Ce>>=Be}else q["VP8LMapColor"+T](ne,he,Xe,ze,Se,je,Q,ee,Ie)}}function ut(g,v,T,O,G){for(T=v+T;v<T;){var W=g[v++];O[G++]=W>>16&255,O[G++]=W>>8&255,O[G++]=W>>0&255}}function Vi(g,v,T,O,G){for(T=v+T;v<T;){var W=g[v++];O[G++]=W>>16&255,O[G++]=W>>8&255,O[G++]=W>>0&255,O[G++]=W>>24&255}}function Et(g,v,T,O,G){for(T=v+T;v<T;){var W=(Q=g[v++])>>16&240|Q>>12&15,Q=Q>>0&240|Q>>28&15;O[G++]=W,O[G++]=Q}}function rt(g,v,T,O,G){for(T=v+T;v<T;){var W=(Q=g[v++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;O[G++]=W,O[G++]=Q}}function jt(g,v,T,O,G){for(T=v+T;v<T;){var W=g[v++];O[G++]=W>>0&255,O[G++]=W>>8&255,O[G++]=W>>16&255}}function Tt(g,v,T,O,G,W){if(W==0)for(T=v+T;v<T;)Ee(O,((W=g[v++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),G+=32;else r(O,G,g,v,T)}function dn(g,v){q[v][0]=q[g+"0"],q[v][1]=q[g+"1"],q[v][2]=q[g+"2"],q[v][3]=q[g+"3"],q[v][4]=q[g+"4"],q[v][5]=q[g+"5"],q[v][6]=q[g+"6"],q[v][7]=q[g+"7"],q[v][8]=q[g+"8"],q[v][9]=q[g+"9"],q[v][10]=q[g+"10"],q[v][11]=q[g+"11"],q[v][12]=q[g+"12"],q[v][13]=q[g+"13"],q[v][14]=q[g+"0"],q[v][15]=q[g+"0"]}function an(g){return g==S1||g==N1||g==Sf||g==C1}function Ma(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ma,this.f.kb=new Gn,this.sd=null}function nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Gt(g,v){var T=g.T,O=v.ba.f.RGBA,G=O.eb,W=O.fb+g.ka*O.A,Q=wa[v.ba.S],ee=g.y,ne=g.O,he=g.f,Se=g.N,je=g.ea,Be=g.W,Ie=v.cc,Xe=v.dc,ze=v.Mc,Ne=v.Nc,Ce=g.ka,Ve=g.ka+g.T,tt=g.U,Ye=tt+1>>1;for(Ce==0?Q(ee,ne,null,null,he,Se,je,Be,he,Se,je,Be,G,W,null,null,tt):(Q(v.ec,v.fc,ee,ne,Ie,Xe,ze,Ne,he,Se,je,Be,G,W-O.A,G,W,tt),++T);Ce+2<Ve;Ce+=2)Ie=he,Xe=Se,ze=je,Ne=Be,Se+=g.Rc,Be+=g.Rc,W+=2*O.A,Q(ee,(ne+=2*g.fa)-g.fa,ee,ne,Ie,Xe,ze,Ne,he,Se,je,Be,G,W-O.A,G,W,tt);return ne+=g.fa,g.j+Ve<g.o?(r(v.ec,v.fc,ee,ne,tt),r(v.cc,v.dc,he,Se,Ye),r(v.Mc,v.Nc,je,Be,Ye),T--):1&Ve||Q(ee,ne,null,null,he,Se,je,Be,he,Se,je,Be,G,W+O.A,null,null,tt),T}function Oa(g,v,T){var O=g.F,G=[g.J];if(O!=null){var W=g.U,Q=v.ba.S,ee=Q==Af||Q==Sf;v=v.ba.f.RGBA;var ne=[0],he=g.ka;ne[0]=g.T,g.Kb&&(he==0?--ne[0]:(--he,G[0]-=g.width),g.j+g.ka+g.T==g.o&&(ne[0]=g.o-g.j-he));var Se=v.eb;he=v.fb+he*v.A,g=Hn(O,G[0],g.width,W,ne,Se,he+(ee?0:3),v.A),t(T==ne),g&&an(Q)&&kr(Se,he,ee,W,ne,v.A)}return 0}function un(g){var v=g.ma,T=v.ba.S,O=11>T,G=T==bf||T==wf||T==Af||T==A1||T==12||an(T);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ws(v.Oa,g,G?11:12))return 0;if(G&&an(T)&&Ze(),g.da)alert("todo:use_scaling");else{if(O){if(v.Ib=Bt,g.Kb){if(T=g.U+1>>1,v.memory=o(g.U+2*T),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+T,v.Ib=Gt,Ze()}}else alert("todo:EmitYUV");G&&(v.Jb=Oa,O&&De())}if(O&&!ng){for(g=0;256>g;++g)L4[g]=89858*(g-128)+Cf>>Nf,R4[g]=-22014*(g-128)+Cf,O4[g]=-45773*(g-128),M4[g]=113618*(g-128)+Cf>>Nf;for(g=Zc;g<_1;++g)v=76283*(g-16)+Cf>>Nf,j4[g-Zc]=gi(v,255),B4[g-Zc]=gi(v+8>>4,15);ng=1}return 1}function ir(g){var v=g.ma,T=g.U,O=g.T;return t(!(1&g.ka)),0>=T||0>=O?0:(T=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,T),v.Dc+=T,1)}function Nr(g){g.ma.memory=null}function vt(g,v,T,O){return be(g,8)!=47?0:(v[0]=be(g,14)+1,T[0]=be(g,14)+1,O[0]=be(g,1),be(g,3)!=0?0:!g.h)}function Yr(g,v){if(4>g)return g+1;var T=g-2>>1;return(2+(1&g)<<T)+be(v,T)+1}function Yi(g,v){return 120<v?v-120:1<=(T=((T=x4[v-1])>>4)*g+(8-(15&T)))?T:1;var T}function Wi(g,v,T){var O=te(T),G=g[v+=255&O].g-8;return 0<G&&(me(T,T.u+8),O=te(T),v+=g[v].value,v+=O&(1<<G)-1),me(T,T.u+g[v].g),g[v].value}function fn(g,v,T){return T.g+=g.g,T.value+=g.value<<v>>>0,t(8>=T.g),g.g}function Dn(g,v,T){var O=g.xc;return t((v=O==0?0:g.vc[g.md*(T>>O)+(v>>O)])<g.Wb),g.Ya[v]}function Pn(g,v,T,O){var G=g.ab,W=g.c*v,Q=g.C;v=Q+v;var ee=T,ne=O;for(O=g.Ta,T=g.Ua;0<G--;){var he=g.gc[G],Se=Q,je=v,Be=ee,Ie=ne,Xe=(ne=O,ee=T,he.Ea);switch(t(Se<je),t(je<=he.nc),he.hc){case 2:a(Be,Ie,(je-Se)*Xe,ne,ee);break;case 0:var ze=Se,Ne=je,Ce=ne,Ve=ee,tt=(ft=he).Ea;ze==0&&(H(Be,Ie,null,null,1,Ce,Ve),Dt(Be,Ie+1,0,0,tt-1,Ce,Ve+1),Ie+=tt,Ve+=tt,++ze);for(var Ye=1<<ft.b,gt=Ye-1,ot=it(tt,ft.b),_t=ft.K,ft=ft.w+(ze>>ft.b)*ot;ze<Ne;){var vn=_t,Nn=ft,mn=1;for(i(Be,Ie,Ce,Ve-tt,1,Ce,Ve);mn<tt;){var sn=(mn&~gt)+Ye;sn>tt&&(sn=tt),(0,m[vn[Nn++]>>8&15])(Be,Ie+ +mn,Ce,Ve+mn-tt,sn-mn,Ce,Ve+mn),mn=sn}Ie+=tt,Ve+=tt,++ze&gt||(ft+=ot)}je!=he.nc&&r(ne,ee-Xe,ne,ee+(je-Se-1)*Xe,Xe);break;case 1:for(Xe=Be,Ne=Ie,tt=(Be=he.Ea)-(Ve=Be&~(Ce=(Ie=1<<he.b)-1)),ze=it(Be,he.b),Ye=he.K,he=he.w+(Se>>he.b)*ze;Se<je;){for(gt=Ye,ot=he,_t=new He,ft=Ne+Ve,vn=Ne+Be;Ne<ft;)Jt(gt[ot++],_t),b(_t,Xe,Ne,Ie,ne,ee),Ne+=Ie,ee+=Ie;Ne<vn&&(Jt(gt[ot++],_t),b(_t,Xe,Ne,tt,ne,ee),Ne+=tt,ee+=tt),++Se&Ce||(he+=ze)}break;case 3:if(Be==ne&&Ie==ee&&0<he.b){for(Ne=ne,Be=Xe=ee+(je-Se)*Xe-(Ve=(je-Se)*it(he.Ea,he.b)),Ie=ne,Ce=ee,ze=[],Ve=(tt=Ve)-1;0<=Ve;--Ve)ze[Ve]=Ie[Ce+Ve];for(Ve=tt-1;0<=Ve;--Ve)Ne[Be+Ve]=ze[Ve];l(he,Se,je,ne,Xe,ne,ee)}else l(he,Se,je,Be,Ie,ne,ee)}ee=O,ne=T}ne!=T&&r(O,T,ee,ne,W)}function dt(g,v){var T=g.V,O=g.Ba+g.c*g.C,G=v-g.C;if(t(v<=g.l.o),t(16>=G),0<G){var W=g.l,Q=g.Ta,ee=g.Ua,ne=W.width;if(Pn(g,G,T,O),G=ee=[ee],t((T=g.C)<(O=v)),t(W.v<W.va),O>W.o&&(O=W.o),T<W.j){var he=W.j-T;T=W.j,G[0]+=he*ne}if(T>=O?T=0:(G[0]+=4*W.v,W.ka=T-W.j,W.U=W.va-W.v,W.T=O-T,T=1),T){if(ee=ee[0],11>(T=g.ca).S){var Se=T.f.RGBA,je=(O=T.S,G=W.U,W=W.T,he=Se.eb,Se.A),Be=W;for(Se=Se.fb+g.Ma*Se.A;0<Be--;){var Ie=Q,Xe=ee,ze=G,Ne=he,Ce=Se;switch(O){case vf:C(Ie,Xe,ze,Ne,Ce);break;case bf:R(Ie,Xe,ze,Ne,Ce);break;case S1:R(Ie,Xe,ze,Ne,Ce),kr(Ne,Ce,0,ze,1,0);break;case W2:fe(Ie,Xe,ze,Ne,Ce);break;case wf:Tt(Ie,Xe,ze,Ne,Ce,1);break;case N1:Tt(Ie,Xe,ze,Ne,Ce,1),kr(Ne,Ce,0,ze,1,0);break;case Af:Tt(Ie,Xe,ze,Ne,Ce,0);break;case Sf:Tt(Ie,Xe,ze,Ne,Ce,0),kr(Ne,Ce,1,ze,1,0);break;case A1:z(Ie,Xe,ze,Ne,Ce);break;case C1:z(Ie,Xe,ze,Ne,Ce),zn(Ne,Ce,ze,1,0);break;case X2:Z(Ie,Xe,ze,Ne,Ce);break;default:t(0)}ee+=ne,Se+=je}g.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=T.height)}}g.C=v,t(g.C<=g.i)}function fr(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var T=g.Ya[v].G,O=g.Ya[v].H;if(0<T[1][O[1]+0].g||0<T[2][O[2]+0].g||0<T[3][O[3]+0].g)return 0}return 1}function Cr(g,v,T,O,G,W){if(g.Z!=0){var Q=g.qd,ee=g.rd;for(t(io[g.Z]!=null);v<T;++v)io[g.Z](Q,ee,O,G,O,G,W),Q=O,ee=G,G+=W;g.qd=Q,g.rd=ee}}function Fn(g,v){var T=g.l.ma,O=T.Z==0||T.Z==1?g.l.j:g.C;if(O=g.C<O?O:g.C,t(v<=g.l.o),v>O){var G=g.l.width,W=T.ca,Q=T.tb+G*O,ee=g.V,ne=g.Ba+g.c*O,he=g.gc;t(g.ab==1),t(he[0].hc==3),u(he[0],O,v,ee,ne,W,Q),Cr(T,O,v,W,Q,G)}g.C=g.Ma=v}function Xi(g,v,T,O,G,W,Q){var ee=g.$/O,ne=g.$%O,he=g.m,Se=g.s,je=T+g.$,Be=je;G=T+O*G;var Ie=T+O*W,Xe=280+Se.ua,ze=g.Pb?ee:16777216,Ne=0<Se.ua?Se.Wa:null,Ce=Se.wc,Ve=je<Ie?Dn(Se,ne,ee):null;t(g.C<W),t(Ie<=G);var tt=!1;e:for(;;){for(;tt||je<Ie;){var Ye=0;if(ee>=ze){var gt=je-T;t((ze=g).Pb),ze.wd=ze.m,ze.xd=gt,0<ze.s.ua&&ke(ze.s.Wa,ze.s.vb),ze=ee+v4}if(ne&Ce||(Ve=Dn(Se,ne,ee)),t(Ve!=null),Ve.Qb&&(v[je]=Ve.qb,tt=!0),!tt)if(oe(he),Ve.jc){Ye=he,gt=v;var ot=je,_t=Ve.pd[te(Ye)&Ln-1];t(Ve.jc),256>_t.g?(me(Ye,Ye.u+_t.g),gt[ot]=_t.value,Ye=0):(me(Ye,Ye.u+_t.g-256),t(256<=_t.value),Ye=_t.value),Ye==0&&(tt=!0)}else Ye=Wi(Ve.G[0],Ve.H[0],he);if(he.h)break;if(tt||256>Ye){if(!tt)if(Ve.nd)v[je]=(Ve.qb|Ye<<8)>>>0;else{if(oe(he),tt=Wi(Ve.G[1],Ve.H[1],he),oe(he),gt=Wi(Ve.G[2],Ve.H[2],he),ot=Wi(Ve.G[3],Ve.H[3],he),he.h)break;v[je]=(ot<<24|tt<<16|Ye<<8|gt)>>>0}if(tt=!1,++je,++ne>=O&&(ne=0,++ee,Q!=null&&ee<=W&&!(ee%16)&&Q(g,ee),Ne!=null))for(;Be<je;)Ye=v[Be++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye}else if(280>Ye){if(Ye=Yr(Ye-256,he),gt=Wi(Ve.G[4],Ve.H[4],he),oe(he),gt=Yi(O,gt=Yr(gt,he)),he.h)break;if(je-T<gt||G-je<Ye)break e;for(ot=0;ot<Ye;++ot)v[je+ot]=v[je+ot-gt];for(je+=Ye,ne+=Ye;ne>=O;)ne-=O,++ee,Q!=null&&ee<=W&&!(ee%16)&&Q(g,ee);if(t(je<=G),ne&Ce&&(Ve=Dn(Se,ne,ee)),Ne!=null)for(;Be<je;)Ye=v[Be++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye}else{if(!(Ye<Xe))break e;for(tt=Ye-280,t(Ne!=null);Be<je;)Ye=v[Be++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye;Ye=je,t(!(tt>>>(gt=Ne).Xa)),v[Ye]=gt.X[tt],tt=!0}tt||t(he.h==re(he))}if(g.Pb&&he.h&&je<G)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&ke(g.s.vb,g.s.Wa);else{if(he.h)break e;Q!=null&&Q(g,ee>W?W:ee),g.a=0,g.$=je-T}return 1}return g.a=3,0}function Er(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,t(g!=null)}function rr(){var g=new li;return g==null?null:(g.a=0,g.xb=K2,dn("Predictor","VP8LPredictors"),dn("Predictor","VP8LPredictors_C"),dn("PredictorAdd","VP8LPredictorsAdd"),dn("PredictorAdd","VP8LPredictorsAdd_C"),a=rn,b=yt,C=ut,R=Vi,z=Et,Z=rt,fe=jt,q.VP8LMapColor32b=c,q.VP8LMapColor8b=h,g)}function wi(g,v,T,O,G){var W=1,Q=[g],ee=[v],ne=O.m,he=O.s,Se=null,je=0;e:for(;;){if(T)for(;W&&be(ne,1);){var Be=Q,Ie=ee,Xe=O,ze=1,Ne=Xe.m,Ce=Xe.gc[Xe.ab],Ve=be(Ne,2);if(Xe.Oc&1<<Ve)W=0;else{switch(Xe.Oc|=1<<Ve,Ce.hc=Ve,Ce.Ea=Be[0],Ce.nc=Ie[0],Ce.K=[null],++Xe.ab,t(4>=Xe.ab),Ve){case 0:case 1:Ce.b=be(Ne,3)+2,ze=wi(it(Ce.Ea,Ce.b),it(Ce.nc,Ce.b),0,Xe,Ce.K),Ce.K=Ce.K[0];break;case 3:var tt,Ye=be(Ne,8)+1,gt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(Be[0]=it(Ce.Ea,gt),Ce.b=gt,tt=ze=wi(Ye,1,0,Xe,Ce.K)){var ot,_t=Ye,ft=Ce,vn=1<<(8>>ft.b),Nn=o(vn);if(Nn==null)tt=0;else{var mn=ft.K[0],sn=ft.w;for(Nn[0]=ft.K[0][0],ot=1;ot<1*_t;++ot)Nn[ot]=Ge(mn[sn+ot],Nn[ot-1]);for(;ot<4*vn;++ot)Nn[ot]=0;ft.K[0]=null,ft.K[0]=Nn,tt=1}}ze=tt;break;case 2:break;default:t(0)}W=ze}}if(Q=Q[0],ee=ee[0],W&&be(ne,1)&&!(W=1<=(je=be(ne,4))&&11>=je)){O.a=3;break e}var jn;if(jn=W)t:{var Mn,Yt,Oi,Pr=O,Ri=Q,Fr=ee,Cn=je,Kr=T,Jr=Pr.m,Qi=Pr.s,or=[null],Ir=1,Aa=0,ts=y4[Cn];n:for(;;){if(Kr&&be(Jr,1)){var Ki=be(Jr,3)+2,Cs=it(Ri,Ki),fl=it(Fr,Ki),ql=Cs*fl;if(!wi(Cs,fl,0,Pr,or))break n;for(or=or[0],Qi.xc=Ki,Mn=0;Mn<ql;++Mn){var ro=or[Mn]>>8&65535;or[Mn]=ro,ro>=Ir&&(Ir=ro+1)}}if(Jr.h)break n;for(Yt=0;5>Yt;++Yt){var mi=Z2[Yt];!Yt&&0<Cn&&(mi+=1<<Cn),Aa<mi&&(Aa=mi)}var I1=f(Ir*ts,B),ag=Ir,sg=f(ag,se);if(sg==null)var Tf=null;else t(65536>=ag),Tf=sg;var Qc=o(Aa);if(Tf==null||Qc==null||I1==null){Pr.a=1;break n}var _f=I1;for(Mn=Oi=0;Mn<Ir;++Mn){var Pa=Tf[Mn],Gl=Pa.G,Vl=Pa.H,og=0,If=1,lg=0;for(Yt=0;5>Yt;++Yt){mi=Z2[Yt],Gl[Yt]=_f,Vl[Yt]=Oi,!Yt&&0<Cn&&(mi+=1<<Cn);r:{var Df,D1=mi,Lf=Pr,Kc=Qc,F4=_f,U4=Oi,L1=0,ao=Lf.m,z4=be(ao,1);if(s(Kc,0,0,D1),z4){var H4=be(ao,1)+1,q4=be(ao,1),cg=be(ao,q4==0?1:8);Kc[cg]=1,H4==2&&(Kc[cg=be(ao,8)]=1);var Mf=1}else{var ug=o(19),fg=be(ao,4)+4;if(19<fg){Lf.a=3;var Of=0;break r}for(Df=0;Df<fg;++Df)ug[m4[Df]]=be(ao,3);var M1=void 0,Jc=void 0,hg=Lf,G4=ug,Rf=D1,dg=Kc,O1=0,so=hg.m,gg=8,pg=f(128,B);i:for(;U(pg,0,7,G4,19);){if(be(so,1)){var V4=2+2*be(so,3);if((M1=2+be(so,V4))>Rf)break i}else M1=Rf;for(Jc=0;Jc<Rf&&M1--;){oe(so);var mg=pg[0+(127&te(so))];me(so,so.u+mg.g);var Yl=mg.value;if(16>Yl)dg[Jc++]=Yl,Yl!=0&&(gg=Yl);else{var Y4=Yl==16,xg=Yl-16,W4=g4[xg],yg=be(so,d4[xg])+W4;if(Jc+yg>Rf)break i;for(var X4=Y4?gg:0;0<yg--;)dg[Jc++]=X4}}O1=1;break i}O1||(hg.a=3),Mf=O1}(Mf=Mf&&!ao.h)&&(L1=U(F4,U4,8,Kc,D1)),Mf&&L1!=0?Of=L1:(Lf.a=3,Of=0)}if(Of==0)break n;if(If&&p4[Yt]==1&&(If=_f[Oi].g==0),og+=_f[Oi].g,Oi+=Of,3>=Yt){var $c,R1=Qc[0];for($c=1;$c<mi;++$c)Qc[$c]>R1&&(R1=Qc[$c]);lg+=R1}}if(Pa.nd=If,Pa.Qb=0,If&&(Pa.qb=(Gl[3][Vl[3]+0].value<<24|Gl[1][Vl[1]+0].value<<16|Gl[2][Vl[2]+0].value)>>>0,og==0&&256>Gl[0][Vl[0]+0].value&&(Pa.Qb=1,Pa.qb+=Gl[0][Vl[0]+0].value<<8)),Pa.jc=!Pa.Qb&&6>lg,Pa.jc){var jf,Es=Pa;for(jf=0;jf<Ln;++jf){var oo=jf,lo=Es.pd[oo],Bf=Es.G[0][Es.H[0]+oo];256<=Bf.value?(lo.g=Bf.g+256,lo.value=Bf.value):(lo.g=0,lo.value=0,oo>>=fn(Bf,8,lo),oo>>=fn(Es.G[1][Es.H[1]+oo],16,lo),oo>>=fn(Es.G[2][Es.H[2]+oo],0,lo),fn(Es.G[3][Es.H[3]+oo],24,lo))}}}Qi.vc=or,Qi.Wb=Ir,Qi.Ya=Tf,Qi.yc=I1,jn=1;break t}jn=0}if(!(W=jn)){O.a=3;break e}if(0<je){if(he.ua=1<<je,!Qe(he.Wa,je)){O.a=1,W=0;break e}}else he.ua=0;var j1=O,vg=Q,Z4=ee,B1=j1.s,k1=B1.xc;if(j1.c=vg,j1.i=Z4,B1.md=it(vg,k1),B1.wc=k1==0?-1:(1<<k1)-1,T){O.xb=E4;break e}if((Se=o(Q*ee))==null){O.a=1,W=0;break e}W=(W=Xi(O,Se,0,Q,ee,ee,null))&&!ne.h;break e}return W?(G!=null?G[0]=Se:(t(Se==null),t(T)),O.$=0,T||Er(he)):Er(he),W}function xs(g,v){var T=g.c*g.i,O=T+v+16*v;return t(g.c<=v),g.V=o(O),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+T+v,1)}function Ys(g,v){var T=g.C,O=v-T,G=g.V,W=g.Ba+g.c*T;for(t(v<=g.l.o);0<O;){var Q=16<O?16:O,ee=g.l.ma,ne=g.l.width,he=ne*Q,Se=ee.ca,je=ee.tb+ne*T,Be=g.Ta,Ie=g.Ua;Pn(g,Q,G,W),Ei(Be,Ie,Se,je,he),Cr(ee,T,T+Q,Se,je,ne),O-=Q,G+=Q*g.c,T+=Q}t(T==v),g.C=g.Ma=v}function ar(){this.ub=this.yd=this.td=this.Rb=0}function di(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yn(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Xo(){this.Yb=function(){var g=[];return function v(T,O,G){for(var W=G[O],Q=0;Q<W&&(T.push(G.length>O+1?[]:0),!(G.length<O+1));Q++)v(T[Q],O+1,G)}(g,0,[3,11]),g}()}function da(){this.jb=o(3),this.Wc=d([4,8],Xo),this.Xc=d([4,17],Xo)}function Zo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function We(){this.ld=this.La=this.dd=this.tc=0}function Pl(){this.Na=this.la=0}function Un(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ga(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gc(){this.uc=this.M=this.Nb=0,this.wa=Array(new We),this.Y=0,this.ya=Array(new ga),this.aa=0,this.l=new Vt}function on(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ln(){this.cb=this.a=0,this.sc="",this.m=new Pe,this.Od=new ar,this.Kc=new di,this.ed=new Zo,this.Qa=new yn,this.Ic=this.$c=this.Aa=0,this.D=new Gc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,Pe),this.ia=0,this.pb=f(4,Un),this.Pa=new da,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new on),this.Hd=0,this.rb=Array(new Pl),this.sb=0,this.wa=Array(new We),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ga),this.L=this.aa=0,this.gd=d([4,2],We),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qo(){var g=new ln;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Xc||(Xc=Wr)),g}function Yn(g,v,T){return g.a==0&&(g.a=v,g.sc=T,g.cb=0),0}function Ws(g,v,T){return 3<=T&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function Jn(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return Yn(g,2,"null VP8Io passed to VP8GetHeaders()");var T=v.data,O=v.w,G=v.ha;if(4>G)return Yn(g,7,"Truncated header.");var W=T[O+0]|T[O+1]<<8|T[O+2]<<16,Q=g.Od;if(Q.Rb=!(1&W),Q.td=W>>1&7,Q.yd=W>>4&1,Q.ub=W>>5,3<Q.td)return Yn(g,3,"Incorrect keyframe parameters.");if(!Q.yd)return Yn(g,4,"Frame not displayable.");O+=3,G-=3;var ee=g.Kc;if(Q.Rb){if(7>G)return Yn(g,7,"cannot parse picture header");if(!Ws(T,O,G))return Yn(g,3,"Bad code word");ee.c=16383&(T[O+4]<<8|T[O+3]),ee.Td=T[O+4]>>6,ee.i=16383&(T[O+6]<<8|T[O+5]),ee.Ud=T[O+6]>>6,O+=7,G-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,v.width=ee.c,v.height=ee.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((W=g.Pa).jb,0,255,W.jb.length),t((W=g.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,s(W.Zb,0,0,W.Zb.length),s(W.Lb,0,0,W.Lb)}if(Q.ub>G)return Yn(g,7,"bad partition length");ae(W=g.m,T,O,Q.ub),O+=Q.ub,G-=Q.ub,Q.Rb&&(ee.Ld=_e(W),ee.Kd=_e(W)),ee=g.Qa;var ne,he=g.Pa;if(t(W!=null),t(ee!=null),ee.Cb=_e(W),ee.Cb){if(ee.Bb=_e(W),_e(W)){for(ee.Fb=_e(W),ne=0;4>ne;++ne)ee.Zb[ne]=_e(W)?$(W,7):0;for(ne=0;4>ne;++ne)ee.Lb[ne]=_e(W)?$(W,6):0}if(ee.Bb)for(ne=0;3>ne;++ne)he.jb[ne]=_e(W)?J(W,8):255}else ee.Bb=0;if(W.Ka)return Yn(g,3,"cannot parse segment header");if((ee=g.ed).zd=_e(W),ee.Tb=J(W,6),ee.wb=J(W,3),ee.Pc=_e(W),ee.Pc&&_e(W)){for(he=0;4>he;++he)_e(W)&&(ee.vd[he]=$(W,6));for(he=0;4>he;++he)_e(W)&&(ee.od[he]=$(W,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,W.Ka)return Yn(g,3,"cannot parse filter header");var Se=G;if(G=ne=O,O=ne+Se,ee=Se,g.Xb=(1<<J(g.m,2))-1,Se<3*(he=g.Xb))T=7;else{for(ne+=3*he,ee-=3*he,Se=0;Se<he;++Se){var je=T[G+0]|T[G+1]<<8|T[G+2]<<16;je>ee&&(je=ee),ae(g.Jc[+Se],T,ne,je),ne+=je,ee-=je,G+=3}ae(g.Jc[+he],T,ne,ee),T=ne<O?0:5}if(T!=0)return Yn(g,T,"cannot parse partitions");for(T=J(ne=g.m,7),G=_e(ne)?$(ne,4):0,O=_e(ne)?$(ne,4):0,ee=_e(ne)?$(ne,4):0,he=_e(ne)?$(ne,4):0,ne=_e(ne)?$(ne,4):0,Se=g.Qa,je=0;4>je;++je){if(Se.Cb){var Be=Se.Zb[je];Se.Fb||(Be+=T)}else{if(0<je){g.pb[je]=g.pb[0];continue}Be=T}var Ie=g.pb[je];Ie.Sc[0]=E1[gi(Be+G,127)],Ie.Sc[1]=T1[gi(Be+0,127)],Ie.Eb[0]=2*E1[gi(Be+O,127)],Ie.Eb[1]=101581*T1[gi(Be+ee,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=E1[gi(Be+he,117)],Ie.Qc[1]=T1[gi(Be+ne,127)],Ie.lc=Be+ne}if(!Q.Rb)return Yn(g,4,"Not a key frame.");for(_e(W),Q=g.Pa,T=0;4>T;++T){for(G=0;8>G;++G)for(O=0;3>O;++O)for(ee=0;11>ee;++ee)he=xe(W,N4[T][G][O][ee])?J(W,8):A4[T][G][O][ee],Q.Wc[T][G].Yb[O][ee]=he;for(G=0;17>G;++G)Q.Xc[T][G]=Q.Wc[T][C4[G]]}return g.kc=_e(W),g.kc&&(g.Bd=J(W,8)),g.cb=1}function Wr(g,v,T,O,G,W,Q){var ee=v[G].Yb[T];for(T=0;16>G;++G){if(!xe(g,ee[T+0]))return G;for(;!xe(g,ee[T+1]);)if(ee=v[++G].Yb[0],T=0,G==16)return 16;var ne=v[G+1].Yb;if(xe(g,ee[T+2])){var he=g,Se=0;if(xe(he,(Be=ee)[(je=T)+3]))if(xe(he,Be[je+6])){for(ee=0,je=2*(Se=xe(he,Be[je+8]))+(Be=xe(he,Be[je+9+Se])),Se=0,Be=b4[je];Be[ee];++ee)Se+=Se+xe(he,Be[ee]);Se+=3+(8<<je)}else xe(he,Be[je+7])?(Se=7+2*xe(he,165),Se+=xe(he,145)):Se=5+xe(he,159);else Se=xe(he,Be[je+4])?3+xe(he,Be[je+5]):2;ee=ne[2]}else Se=1,ee=ne[1];ne=Q+w4[G],0>(he=g).b&&Le(he);var je,Be=he.b,Ie=(je=he.Ca>>1)-(he.I>>Be)>>31;--he.b,he.Ca+=Ie,he.Ca|=1,he.I-=(je+1&Ie)<<Be,W[ne]=((Se^Ie)-Ie)*O[(0<G)+0]}return 16}function Ko(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Wn(g,v){if(g==null)return 0;if(v==null)return Yn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Jn(g,v))return 0;if(t(g.cb),v.ac==null||v.ac(v)){v.ob&&(g.L=0);var T=Ef[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=v.v-T>>4,g.zb=v.j-T>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=v.o+15+T>>4,g.Hb=v.va+15+T>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var O=g.ed;for(T=0;4>T;++T){var G;if(g.Qa.Cb){var W=g.Qa.Lb[T];g.Qa.Fb||(W+=O.Tb)}else W=O.Tb;for(G=0;1>=G;++G){var Q=g.gd[T][G],ee=W;if(O.Pc&&(ee+=O.vd[0],G&&(ee+=O.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var ne=ee;0<O.wb&&(ne=4<O.wb?ne>>2:ne>>1)>9-O.wb&&(ne=9-O.wb),1>ne&&(ne=1),Q.dd=ne,Q.tc=2*ee+ne,Q.ld=40<=ee?2:15<=ee?1:0}else Q.tc=0;Q.La=G}}}T=0}else Yn(g,6,"Frame setup failed"),T=g.a;if(T=T==0){if(T){g.$c=0,0<g.Aa||(g.Ic=P4);e:{T=g.Ic,O=4*(ne=g.za);var he=32*ne,Se=ne+1,je=0<g.L?ne*(0<g.Aa?2:1):0,Be=(g.Aa==2?2:1)*ne;if((Q=O+832+(G=3*(16*T+Ef[g.L])/2*he)+(W=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=Q)T=0;else{if(Q>g.Vb){if(g.Vb=0,g.Ec=o(Q),g.Fc=0,g.Ec==null){T=Yn(g,1,"no memory during frame initialization.");break e}g.Vb=Q}Q=g.Ec,ee=g.Fc,g.Ac=Q,g.Bc=ee,ee+=O,g.Gd=f(he,on),g.Hd=0,g.rb=f(Se+1,Pl),g.sb=1,g.wa=je?f(je,We):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ne),t(!0),g.oc=Q,g.pc=ee,ee+=832,g.ya=f(Be,ga),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ne),g.R=16*ne,g.B=8*ne,ne=(he=Ef[g.L])*g.R,he=he/2*g.B,g.sa=Q,g.ta=ee+ne,g.qa=g.sa,g.ra=g.ta+16*T*g.R+he,g.Ha=g.qa,g.Ia=g.ra+8*T*g.B+he,g.$c=0,ee+=G,g.mb=W?Q:null,g.nb=W?ee:null,t(ee+W<=g.Fc+g.Vb),Ko(g),s(g.Ac,g.Bc,0,O),T=1}}if(T){if(v.ka=0,v.y=g.sa,v.O=g.ta,v.f=g.qa,v.N=g.ra,v.ea=g.Ha,v.Vd=g.Ia,v.fa=g.R,v.Rc=g.B,v.F=null,v.J=0,!xf){for(T=-255;255>=T;++T)Ui[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)Ss[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)Wc[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)Hl[255+T]=0>T?0:255<T?255:T;xf=1}ye=hr,we=Re,Ue=le,$e=bt,nt=si,Te=Si,et=Qa,Wt=gr,Mt=qt,pi=oi,Fi=Yc,ci=Fe,cn=Ka,ni=ol,Ci=sl,_r=xa,va=Ba,Br=Vc,ka[0]=wt,ka[1]=$o,ka[2]=vs,ka[3]=pa,ka[4]=Ul,ka[5]=$n,ka[6]=Ut,ka[7]=tl,ka[8]=zl,ka[9]=nl,no[0]=Qs,no[1]=Nt,no[2]=gn,no[3]=ys,no[4]=Ni,no[5]=el,no[6]=Fl,Ns[0]=Rr,Ns[1]=dr,Ns[2]=Ra,Ns[3]=il,Ns[4]=Za,Ns[5]=bs,Ns[6]=ja,T=1}else T=0}T&&(T=function(Ie,Xe){for(Ie.M=0;Ie.M<Ie.Va;++Ie.M){var ze,Ne=Ie.Jc[Ie.M&Ie.Xb],Ce=Ie.m,Ve=Ie;for(ze=0;ze<Ve.za;++ze){var tt=Ce,Ye=Ve,gt=Ye.Ac,ot=Ye.Bc+4*ze,_t=Ye.zc,ft=Ye.ya[Ye.aa+ze];if(Ye.Qa.Bb?ft.$b=xe(tt,Ye.Pa.jb[0])?2+xe(tt,Ye.Pa.jb[2]):xe(tt,Ye.Pa.jb[1]):ft.$b=0,Ye.kc&&(ft.Ad=xe(tt,Ye.Bd)),ft.Za=!xe(tt,145)+0,ft.Za){var vn=ft.Ob,Nn=0;for(Ye=0;4>Ye;++Ye){var mn,sn=_t[0+Ye];for(mn=0;4>mn;++mn){sn=S4[gt[ot+mn]][sn];for(var jn=Q2[xe(tt,sn[0])];0<jn;)jn=Q2[2*jn+xe(tt,sn[jn])];sn=-jn,gt[ot+mn]=sn}r(vn,Nn,gt,ot,4),Nn+=4,_t[0+Ye]=sn}}else sn=xe(tt,156)?xe(tt,128)?1:3:xe(tt,163)?2:0,ft.Ob[0]=sn,s(gt,ot,sn,4),s(_t,0,sn,4);ft.Dd=xe(tt,142)?xe(tt,114)?xe(tt,183)?1:3:2:0}if(Ve.m.Ka)return Yn(Ie,7,"Premature end-of-partition0 encountered.");for(;Ie.ja<Ie.za;++Ie.ja){if(Ve=Ne,tt=(Ce=Ie).rb[Ce.sb-1],gt=Ce.rb[Ce.sb+Ce.ja],ze=Ce.ya[Ce.aa+Ce.ja],ot=Ce.kc?ze.Ad:0)tt.la=gt.la=0,ze.Za||(tt.Na=gt.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var Mn,Yt;if(tt=gt,gt=Ve,ot=Ce.Pa.Xc,_t=Ce.ya[Ce.aa+Ce.ja],ft=Ce.pb[_t.$b],Ye=_t.ad,vn=0,Nn=Ce.rb[Ce.sb-1],sn=mn=0,s(Ye,vn,0,384),_t.Za)var Oi=0,Pr=ot[3];else{jn=o(16);var Ri=tt.Na+Nn.Na;if(Ri=Xc(gt,ot[1],Ri,ft.Eb,0,jn,0),tt.Na=Nn.Na=(0<Ri)+0,1<Ri)ye(jn,0,Ye,vn);else{var Fr=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)Ye[vn+jn]=Fr}Oi=1,Pr=ot[0]}var Cn=15&tt.la,Kr=15&Nn.la;for(jn=0;4>jn;++jn){var Jr=1&Kr;for(Fr=Yt=0;4>Fr;++Fr)Cn=Cn>>1|(Jr=(Ri=Xc(gt,Pr,Ri=Jr+(1&Cn),ft.Sc,Oi,Ye,vn))>Oi)<<7,Yt=Yt<<2|(3<Ri?3:1<Ri?2:Ye[vn+0]!=0),vn+=16;Cn>>=4,Kr=Kr>>1|Jr<<7,mn=(mn<<8|Yt)>>>0}for(Pr=Cn,Oi=Kr>>4,Mn=0;4>Mn;Mn+=2){for(Yt=0,Cn=tt.la>>4+Mn,Kr=Nn.la>>4+Mn,jn=0;2>jn;++jn){for(Jr=1&Kr,Fr=0;2>Fr;++Fr)Ri=Jr+(1&Cn),Cn=Cn>>1|(Jr=0<(Ri=Xc(gt,ot[2],Ri,ft.Qc,0,Ye,vn)))<<3,Yt=Yt<<2|(3<Ri?3:1<Ri?2:Ye[vn+0]!=0),vn+=16;Cn>>=2,Kr=Kr>>1|Jr<<5}sn|=Yt<<4*Mn,Pr|=Cn<<4<<Mn,Oi|=(240&Kr)<<Mn}tt.la=Pr,Nn.la=Oi,_t.Hc=mn,_t.Gc=sn,_t.ia=43690&sn?0:ft.ia,ot=!(mn|sn)}if(0<Ce.L&&(Ce.wa[Ce.Y+Ce.ja]=Ce.gd[ze.$b][ze.Za],Ce.wa[Ce.Y+Ce.ja].La|=!ot),Ve.Ka)return Yn(Ie,7,"Premature end-of-file encountered.")}if(Ko(Ie),Ce=Xe,Ve=1,ze=(Ne=Ie).D,tt=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(ze.M=Ne.M,ze.uc=tt,mr(Ne,ze),Ve=1,ze=(Yt=Ne.D).Nb,tt=(sn=Ef[Ne.L])*Ne.R,gt=sn/2*Ne.B,jn=16*ze*Ne.R,Fr=8*ze*Ne.B,ot=Ne.sa,_t=Ne.ta-tt+jn,ft=Ne.qa,Ye=Ne.ra-gt+Fr,vn=Ne.Ha,Nn=Ne.Ia-gt+Fr,Kr=(Cn=Yt.M)==0,mn=Cn>=Ne.Va-1,Ne.Aa==2&&mr(Ne,Yt),Yt.uc)for(Jr=(Ri=Ne).D.M,t(Ri.D.uc),Yt=Ri.yb;Yt<Ri.Hb;++Yt){Oi=Yt,Pr=Jr;var Qi=(or=(mi=Ri).D).Nb;Mn=mi.R;var or=or.wa[or.Y+Oi],Ir=mi.sa,Aa=mi.ta+16*Qi*Mn+16*Oi,ts=or.dd,Ki=or.tc;if(Ki!=0)if(t(3<=Ki),mi.L==1)0<Oi&&_r(Ir,Aa,Mn,Ki+4),or.La&&Br(Ir,Aa,Mn,Ki),0<Pr&&Ci(Ir,Aa,Mn,Ki+4),or.La&&va(Ir,Aa,Mn,Ki);else{var Cs=mi.B,fl=mi.qa,ql=mi.ra+8*Qi*Cs+8*Oi,ro=mi.Ha,mi=mi.Ia+8*Qi*Cs+8*Oi;Qi=or.ld,0<Oi&&(Wt(Ir,Aa,Mn,Ki+4,ts,Qi),pi(fl,ql,ro,mi,Cs,Ki+4,ts,Qi)),or.La&&(ci(Ir,Aa,Mn,Ki,ts,Qi),ni(fl,ql,ro,mi,Cs,Ki,ts,Qi)),0<Pr&&(et(Ir,Aa,Mn,Ki+4,ts,Qi),Mt(fl,ql,ro,mi,Cs,Ki+4,ts,Qi)),or.La&&(Fi(Ir,Aa,Mn,Ki,ts,Qi),cn(fl,ql,ro,mi,Cs,Ki,ts,Qi))}}if(Ne.ia&&alert("todo:DitherRow"),Ce.put!=null){if(Yt=16*Cn,Cn=16*(Cn+1),Kr?(Ce.y=Ne.sa,Ce.O=Ne.ta+jn,Ce.f=Ne.qa,Ce.N=Ne.ra+Fr,Ce.ea=Ne.Ha,Ce.W=Ne.Ia+Fr):(Yt-=sn,Ce.y=ot,Ce.O=_t,Ce.f=ft,Ce.N=Ye,Ce.ea=vn,Ce.W=Nn),mn||(Cn-=sn),Cn>Ce.o&&(Cn=Ce.o),Ce.F=null,Ce.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Yt<Cn&&(Ce.J=pn(Ne,Ce,Yt,Cn-Yt),Ce.F=Ne.mb,Ce.F==null&&Ce.F.length==0)){Ve=Yn(Ne,3,"Could not decode alpha data.");break e}Yt<Ce.j&&(sn=Ce.j-Yt,Yt=Ce.j,t(!(1&sn)),Ce.O+=Ne.R*sn,Ce.N+=Ne.B*(sn>>1),Ce.W+=Ne.B*(sn>>1),Ce.F!=null&&(Ce.J+=Ce.width*sn)),Yt<Cn&&(Ce.O+=Ce.v,Ce.N+=Ce.v>>1,Ce.W+=Ce.v>>1,Ce.F!=null&&(Ce.J+=Ce.v),Ce.ka=Yt-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=Cn-Yt,Ve=Ce.put(Ce))}ze+1!=Ne.Ic||mn||(r(Ne.sa,Ne.ta-tt,ot,_t+16*Ne.R,tt),r(Ne.qa,Ne.ra-gt,ft,Ye+8*Ne.B,gt),r(Ne.Ha,Ne.Ia-gt,vn,Nn+8*Ne.B,gt))}if(!Ve)return Yn(Ie,6,"Output aborted.")}return 1}(g,v)),v.bc!=null&&v.bc(v),T&=1}return T?(g.cb=0,T):0}function Mi(g,v,T,O,G){G=g[v+T+32*O]+(G>>3),g[v+T+32*O]=-256&G?0>G?0:255:G}function Xs(g,v,T,O,G,W){Mi(g,v,0,T,O+G),Mi(g,v,1,T,O+W),Mi(g,v,2,T,O-W),Mi(g,v,3,T,O-G)}function Ai(g){return(20091*g>>16)+g}function xn(g,v,T,O){var G,W=0,Q=o(16);for(G=0;4>G;++G){var ee=g[v+0]+g[v+8],ne=g[v+0]-g[v+8],he=(35468*g[v+4]>>16)-Ai(g[v+12]),Se=Ai(g[v+4])+(35468*g[v+12]>>16);Q[W+0]=ee+Se,Q[W+1]=ne+he,Q[W+2]=ne-he,Q[W+3]=ee-Se,W+=4,v++}for(G=W=0;4>G;++G)ee=(g=Q[W+0]+4)+Q[W+8],ne=g-Q[W+8],he=(35468*Q[W+4]>>16)-Ai(Q[W+12]),Mi(T,O,0,0,ee+(Se=Ai(Q[W+4])+(35468*Q[W+12]>>16))),Mi(T,O,1,0,ne+he),Mi(T,O,2,0,ne-he),Mi(T,O,3,0,ee-Se),W++,O+=32}function Si(g,v,T,O){var G=g[v+0]+4,W=35468*g[v+4]>>16,Q=Ai(g[v+4]),ee=35468*g[v+1]>>16;Xs(T,O,0,G+Q,g=Ai(g[v+1]),ee),Xs(T,O,1,G+W,g,ee),Xs(T,O,2,G-W,g,ee),Xs(T,O,3,G-Q,g,ee)}function Re(g,v,T,O,G){xn(g,v,T,O),G&&xn(g,v+16,T,O+4)}function le(g,v,T,O){we(g,v+0,T,O,1),we(g,v+32,T,O+128,1)}function bt(g,v,T,O){var G;for(g=g[v+0]+4,G=0;4>G;++G)for(v=0;4>v;++v)Mi(T,O,v,G,g)}function si(g,v,T,O){g[v+0]&&$e(g,v+0,T,O),g[v+16]&&$e(g,v+16,T,O+4),g[v+32]&&$e(g,v+32,T,O+128),g[v+48]&&$e(g,v+48,T,O+128+4)}function hr(g,v,T,O){var G,W=o(16);for(G=0;4>G;++G){var Q=g[v+0+G]+g[v+12+G],ee=g[v+4+G]+g[v+8+G],ne=g[v+4+G]-g[v+8+G],he=g[v+0+G]-g[v+12+G];W[0+G]=Q+ee,W[8+G]=Q-ee,W[4+G]=he+ne,W[12+G]=he-ne}for(G=0;4>G;++G)Q=(g=W[0+4*G]+3)+W[3+4*G],ee=W[1+4*G]+W[2+4*G],ne=W[1+4*G]-W[2+4*G],he=g-W[3+4*G],T[O+0]=Q+ee>>3,T[O+16]=he+ne>>3,T[O+32]=Q-ee>>3,T[O+48]=he-ne>>3,O+=64}function Jo(g,v,T){var O,G=v-32,W=Qr,Q=255-g[G-1];for(O=0;O<T;++O){var ee,ne=W,he=Q+g[v-1];for(ee=0;ee<T;++ee)g[v+ee]=ne[he+g[G+ee]];v+=32}}function $o(g,v){Jo(g,v,4)}function dr(g,v){Jo(g,v,8)}function Nt(g,v){Jo(g,v,16)}function gn(g,v){var T;for(T=0;16>T;++T)r(g,v+32*T,g,v-32,16)}function ys(g,v){var T;for(T=16;0<T;--T)s(g,v,g[v-1],16),v+=32}function Zs(g,v,T){var O;for(O=0;16>O;++O)s(v,T+32*O,g,16)}function Qs(g,v){var T,O=16;for(T=0;16>T;++T)O+=g[v-1+32*T]+g[v+T-32];Zs(O>>5,g,v)}function Ni(g,v){var T,O=8;for(T=0;16>T;++T)O+=g[v-1+32*T];Zs(O>>4,g,v)}function el(g,v){var T,O=8;for(T=0;16>T;++T)O+=g[v+T-32];Zs(O>>4,g,v)}function Fl(g,v){Zs(128,g,v)}function xt(g,v,T){return g+2*v+T+2>>2}function vs(g,v){var T,O=v-32;for(O=new Uint8Array([xt(g[O-1],g[O+0],g[O+1]),xt(g[O+0],g[O+1],g[O+2]),xt(g[O+1],g[O+2],g[O+3]),xt(g[O+2],g[O+3],g[O+4])]),T=0;4>T;++T)r(g,v+32*T,O,0,O.length)}function pa(g,v){var T=g[v-1],O=g[v-1+32],G=g[v-1+64],W=g[v-1+96];Ee(g,v+0,16843009*xt(g[v-1-32],T,O)),Ee(g,v+32,16843009*xt(T,O,G)),Ee(g,v+64,16843009*xt(O,G,W)),Ee(g,v+96,16843009*xt(G,W,W))}function wt(g,v){var T,O=4;for(T=0;4>T;++T)O+=g[v+T-32]+g[v-1+32*T];for(O>>=3,T=0;4>T;++T)s(g,v+32*T,O,4)}function Ul(g,v){var T=g[v-1+0],O=g[v-1+32],G=g[v-1+64],W=g[v-1-32],Q=g[v+0-32],ee=g[v+1-32],ne=g[v+2-32],he=g[v+3-32];g[v+0+96]=xt(O,G,g[v-1+96]),g[v+1+96]=g[v+0+64]=xt(T,O,G),g[v+2+96]=g[v+1+64]=g[v+0+32]=xt(W,T,O),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=xt(Q,W,T),g[v+3+64]=g[v+2+32]=g[v+1+0]=xt(ee,Q,W),g[v+3+32]=g[v+2+0]=xt(ne,ee,Q),g[v+3+0]=xt(he,ne,ee)}function Ut(g,v){var T=g[v+1-32],O=g[v+2-32],G=g[v+3-32],W=g[v+4-32],Q=g[v+5-32],ee=g[v+6-32],ne=g[v+7-32];g[v+0+0]=xt(g[v+0-32],T,O),g[v+1+0]=g[v+0+32]=xt(T,O,G),g[v+2+0]=g[v+1+32]=g[v+0+64]=xt(O,G,W),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=xt(G,W,Q),g[v+3+32]=g[v+2+64]=g[v+1+96]=xt(W,Q,ee),g[v+3+64]=g[v+2+96]=xt(Q,ee,ne),g[v+3+96]=xt(ee,ne,ne)}function $n(g,v){var T=g[v-1+0],O=g[v-1+32],G=g[v-1+64],W=g[v-1-32],Q=g[v+0-32],ee=g[v+1-32],ne=g[v+2-32],he=g[v+3-32];g[v+0+0]=g[v+1+64]=W+Q+1>>1,g[v+1+0]=g[v+2+64]=Q+ee+1>>1,g[v+2+0]=g[v+3+64]=ee+ne+1>>1,g[v+3+0]=ne+he+1>>1,g[v+0+96]=xt(G,O,T),g[v+0+64]=xt(O,T,W),g[v+0+32]=g[v+1+96]=xt(T,W,Q),g[v+1+32]=g[v+2+96]=xt(W,Q,ee),g[v+2+32]=g[v+3+96]=xt(Q,ee,ne),g[v+3+32]=xt(ee,ne,he)}function tl(g,v){var T=g[v+0-32],O=g[v+1-32],G=g[v+2-32],W=g[v+3-32],Q=g[v+4-32],ee=g[v+5-32],ne=g[v+6-32],he=g[v+7-32];g[v+0+0]=T+O+1>>1,g[v+1+0]=g[v+0+64]=O+G+1>>1,g[v+2+0]=g[v+1+64]=G+W+1>>1,g[v+3+0]=g[v+2+64]=W+Q+1>>1,g[v+0+32]=xt(T,O,G),g[v+1+32]=g[v+0+96]=xt(O,G,W),g[v+2+32]=g[v+1+96]=xt(G,W,Q),g[v+3+32]=g[v+2+96]=xt(W,Q,ee),g[v+3+64]=xt(Q,ee,ne),g[v+3+96]=xt(ee,ne,he)}function nl(g,v){var T=g[v-1+0],O=g[v-1+32],G=g[v-1+64],W=g[v-1+96];g[v+0+0]=T+O+1>>1,g[v+2+0]=g[v+0+32]=O+G+1>>1,g[v+2+32]=g[v+0+64]=G+W+1>>1,g[v+1+0]=xt(T,O,G),g[v+3+0]=g[v+1+32]=xt(O,G,W),g[v+3+32]=g[v+1+64]=xt(G,W,W),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=W}function zl(g,v){var T=g[v-1+0],O=g[v-1+32],G=g[v-1+64],W=g[v-1+96],Q=g[v-1-32],ee=g[v+0-32],ne=g[v+1-32],he=g[v+2-32];g[v+0+0]=g[v+2+32]=T+Q+1>>1,g[v+0+32]=g[v+2+64]=O+T+1>>1,g[v+0+64]=g[v+2+96]=G+O+1>>1,g[v+0+96]=W+G+1>>1,g[v+3+0]=xt(ee,ne,he),g[v+2+0]=xt(Q,ee,ne),g[v+1+0]=g[v+3+32]=xt(T,Q,ee),g[v+1+32]=g[v+3+64]=xt(O,T,Q),g[v+1+64]=g[v+3+96]=xt(G,O,T),g[v+1+96]=xt(W,G,O)}function Ra(g,v){var T;for(T=0;8>T;++T)r(g,v+32*T,g,v-32,8)}function il(g,v){var T;for(T=0;8>T;++T)s(g,v,g[v-1],8),v+=32}function Xr(g,v,T){var O;for(O=0;8>O;++O)s(v,T+32*O,g,8)}function Rr(g,v){var T,O=8;for(T=0;8>T;++T)O+=g[v+T-32]+g[v-1+32*T];Xr(O>>4,g,v)}function bs(g,v){var T,O=4;for(T=0;8>T;++T)O+=g[v+T-32];Xr(O>>3,g,v)}function Za(g,v){var T,O=4;for(T=0;8>T;++T)O+=g[v-1+32*T];Xr(O>>3,g,v)}function ja(g,v){Xr(128,g,v)}function ma(g,v,T){var O=g[v-T],G=g[v+0],W=3*(G-O)+w1[1020+g[v-2*T]-g[v+T]],Q=yf[112+(W+4>>3)];g[v-T]=Qr[255+O+yf[112+(W+3>>3)]],g[v+0]=Qr[255+G-Q]}function ki(g,v,T,O){var G=g[v+0],W=g[v+T];return ba[255+g[v-2*T]-g[v-T]]>O||ba[255+W-G]>O}function rl(g,v,T,O){return 4*ba[255+g[v-T]-g[v+0]]+ba[255+g[v-2*T]-g[v+T]]<=O}function al(g,v,T,O,G){var W=g[v-3*T],Q=g[v-2*T],ee=g[v-T],ne=g[v+0],he=g[v+T],Se=g[v+2*T],je=g[v+3*T];return 4*ba[255+ee-ne]+ba[255+Q-he]>O?0:ba[255+g[v-4*T]-W]<=G&&ba[255+W-Q]<=G&&ba[255+Q-ee]<=G&&ba[255+je-Se]<=G&&ba[255+Se-he]<=G&&ba[255+he-ne]<=G}function sl(g,v,T,O){var G=2*O+1;for(O=0;16>O;++O)rl(g,v+O,T,G)&&ma(g,v+O,T)}function xa(g,v,T,O){var G=2*O+1;for(O=0;16>O;++O)rl(g,v+O*T,1,G)&&ma(g,v+O*T,1)}function Ba(g,v,T,O){var G;for(G=3;0<G;--G)sl(g,v+=4*T,T,O)}function Vc(g,v,T,O){var G;for(G=3;0<G;--G)xa(g,v+=4,T,O)}function $t(g,v,T,O,G,W,Q,ee){for(W=2*W+1;0<G--;){if(al(g,v,T,W,Q))if(ki(g,v,T,ee))ma(g,v,T);else{var ne=g,he=v,Se=T,je=ne[he-2*Se],Be=ne[he-Se],Ie=ne[he+0],Xe=ne[he+Se],ze=ne[he+2*Se],Ne=27*(Ve=w1[1020+3*(Ie-Be)+w1[1020+je-Xe]])+63>>7,Ce=18*Ve+63>>7,Ve=9*Ve+63>>7;ne[he-3*Se]=Qr[255+ne[he-3*Se]+Ve],ne[he-2*Se]=Qr[255+je+Ce],ne[he-Se]=Qr[255+Be+Ne],ne[he+0]=Qr[255+Ie-Ne],ne[he+Se]=Qr[255+Xe-Ce],ne[he+2*Se]=Qr[255+ze-Ve]}v+=O}}function jr(g,v,T,O,G,W,Q,ee){for(W=2*W+1;0<G--;){if(al(g,v,T,W,Q))if(ki(g,v,T,ee))ma(g,v,T);else{var ne=g,he=v,Se=T,je=ne[he-Se],Be=ne[he+0],Ie=ne[he+Se],Xe=yf[112+((ze=3*(Be-je))+4>>3)],ze=yf[112+(ze+3>>3)],Ne=Xe+1>>1;ne[he-2*Se]=Qr[255+ne[he-2*Se]+Ne],ne[he-Se]=Qr[255+je+ze],ne[he+0]=Qr[255+Be-Xe],ne[he+Se]=Qr[255+Ie-Ne]}v+=O}}function Qa(g,v,T,O,G,W){$t(g,v,T,1,16,O,G,W)}function gr(g,v,T,O,G,W){$t(g,v,1,T,16,O,G,W)}function Yc(g,v,T,O,G,W){var Q;for(Q=3;0<Q;--Q)jr(g,v+=4*T,T,1,16,O,G,W)}function Fe(g,v,T,O,G,W){var Q;for(Q=3;0<Q;--Q)jr(g,v+=4,1,T,16,O,G,W)}function qt(g,v,T,O,G,W,Q,ee){$t(g,v,G,1,8,W,Q,ee),$t(T,O,G,1,8,W,Q,ee)}function oi(g,v,T,O,G,W,Q,ee){$t(g,v,1,G,8,W,Q,ee),$t(T,O,1,G,8,W,Q,ee)}function Ka(g,v,T,O,G,W,Q,ee){jr(g,v+4*G,G,1,8,W,Q,ee),jr(T,O+4*G,G,1,8,W,Q,ee)}function ol(g,v,T,O,G,W,Q,ee){jr(g,v+4,1,G,8,W,Q,ee),jr(T,O+4,1,G,8,W,Q,ee)}function Ks(){this.ba=new Ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ll(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Js(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new B}function li(){this.xb=this.a=0,this.l=new Vt,this.ca=new Ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Js,this.ab=0,this.gc=f(4,cl),this.Oc=0}function Ja(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(g,v,T,O,G,W,Q){for(g=g==null?0:g[v+0],v=0;v<Q;++v)G[W+v]=g+T[O+v]&255,g=G[W+v]}function $a(g,v,T,O,G,W,Q){var ee;if(g==null)An(null,null,T,O,G,W,Q);else for(ee=0;ee<Q;++ee)G[W+ee]=g[v+ee]+T[O+ee]&255}function pr(g,v,T,O,G,W,Q){if(g==null)An(null,null,T,O,G,W,Q);else{var ee,ne=g[v+0],he=ne,Se=ne;for(ee=0;ee<Q;++ee)he=Se+(ne=g[v+ee])-he,Se=T[O+ee]+(-256&he?0>he?0:255:he)&255,he=ne,G[W+ee]=Se}}function pn(g,v,T,O){var G=v.width,W=v.o;if(t(g!=null&&v!=null),0>T||0>=O||T+O>W)return null;if(!g.Cc){if(g.ga==null){var Q;if(g.ga=new Ja,(Q=g.ga==null)||(Q=v.width*v.o,t(g.Gb.length==0),g.Gb=o(Q),g.Uc=0,g.Gb==null?Q=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Q=1),Q=!Q),!Q){Q=g.ga;var ee=g.Fa,ne=g.P,he=g.qc,Se=g.mb,je=g.nb,Be=ne+1,Ie=he-1,Xe=Q.l;if(t(ee!=null&&Se!=null&&v!=null),io[0]=null,io[1]=An,io[2]=$a,io[3]=pr,Q.ca=Se,Q.tb=je,Q.c=v.width,Q.i=v.height,t(0<Q.c&&0<Q.i),1>=he)v=0;else if(Q.$a=ee[ne+0]>>0&3,Q.Z=ee[ne+0]>>2&3,Q.Lc=ee[ne+0]>>4&3,ne=ee[ne+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||ne)v=0;else if(Xe.put=ir,Xe.ac=un,Xe.bc=Nr,Xe.ma=Q,Xe.width=v.width,Xe.height=v.height,Xe.Da=v.Da,Xe.v=v.v,Xe.va=v.va,Xe.j=v.j,Xe.o=v.o,Q.$a)e:{t(Q.$a==1),v=rr();t:for(;;){if(v==null){v=0;break e}if(t(Q!=null),Q.mc=v,v.c=Q.c,v.i=Q.i,v.l=Q.l,v.l.ma=Q,v.l.width=Q.c,v.l.height=Q.i,v.a=0,ce(v.m,ee,Be,Ie),!wi(Q.c,Q.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&fr(v.s)?(Q.ic=1,ee=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(ee),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Q.ic=0,v=xs(v,Q.c)),!v))break t;v=1;break e}Q.mc=null,v=0}else v=Ie>=Q.c*Q.i;Q=!v}if(Q)return null;g.ga.Lc!=1?g.Ga=0:O=W-T}t(g.ga!=null),t(T+O<=W);e:{if(v=(ee=g.ga).c,W=ee.l.o,ee.$a==0){if(Be=g.rc,Ie=g.Vc,Xe=g.Fa,ne=g.P+1+T*v,he=g.mb,Se=g.nb+T*v,t(ne<=g.P+g.qc),ee.Z!=0)for(t(io[ee.Z]!=null),Q=0;Q<O;++Q)io[ee.Z](Be,Ie,Xe,ne,he,Se,v),Be=he,Ie=Se,Se+=v,ne+=v;else for(Q=0;Q<O;++Q)r(he,Se,Xe,ne,v),Be=he,Ie=Se,Se+=v,ne+=v;g.rc=Be,g.Vc=Ie}else{if(t(ee.mc!=null),v=T+O,t((Q=ee.mc)!=null),t(v<=Q.i),Q.C>=v)v=1;else if(ee.ic||De(),ee.ic){ee=Q.V,Be=Q.Ba,Ie=Q.c;var ze=Q.i,Ne=(Xe=1,ne=Q.$/Ie,he=Q.$%Ie,Se=Q.m,je=Q.s,Q.$),Ce=Ie*ze,Ve=Ie*v,tt=je.wc,Ye=Ne<Ve?Dn(je,he,ne):null;t(Ne<=Ce),t(v<=ze),t(fr(je));t:for(;;){for(;!Se.h&&Ne<Ve;){if(he&tt||(Ye=Dn(je,he,ne)),t(Ye!=null),oe(Se),256>(ze=Wi(Ye.G[0],Ye.H[0],Se)))ee[Be+Ne]=ze,++Ne,++he>=Ie&&(he=0,++ne<=v&&!(ne%16)&&Fn(Q,ne));else{if(!(280>ze)){Xe=0;break t}ze=Yr(ze-256,Se);var gt,ot=Wi(Ye.G[4],Ye.H[4],Se);if(oe(Se),!(Ne>=(ot=Yi(Ie,ot=Yr(ot,Se)))&&Ce-Ne>=ze)){Xe=0;break t}for(gt=0;gt<ze;++gt)ee[Be+Ne+gt]=ee[Be+Ne+gt-ot];for(Ne+=ze,he+=ze;he>=Ie;)he-=Ie,++ne<=v&&!(ne%16)&&Fn(Q,ne);Ne<Ve&&he&tt&&(Ye=Dn(je,he,ne))}t(Se.h==re(Se))}Fn(Q,ne>v?v:ne);break t}!Xe||Se.h&&Ne<Ce?(Xe=0,Q.a=Se.h?5:3):Q.$=Ne,v=Xe}else v=Xi(Q,Q.V,Q.Ba,Q.c,Q.i,v,Ys);if(!v){O=0;break e}}T+O>=W&&(g.Cc=1),O=1}if(!O)return null;if(g.Cc&&((O=g.ga)!=null&&(O.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+T*G}function A(g,v,T,O,G,W){for(;0<G--;){var Q,ee=g,ne=v+(T?1:0),he=g,Se=v+(T?0:3);for(Q=0;Q<O;++Q){var je=he[Se+4*Q];je!=255&&(je*=32897,ee[ne+4*Q+0]=ee[ne+4*Q+0]*je>>23,ee[ne+4*Q+1]=ee[ne+4*Q+1]*je>>23,ee[ne+4*Q+2]=ee[ne+4*Q+2]*je>>23)}v+=W}}function V(g,v,T,O,G){for(;0<O--;){var W;for(W=0;W<T;++W){var Q=g[v+2*W+0],ee=15&(he=g[v+2*W+1]),ne=4369*ee,he=(240&he|he>>4)*ne>>16;g[v+2*W+0]=(240&Q|Q>>4)*ne>>16&240|(15&Q|Q<<4)*ne>>16>>4&15,g[v+2*W+1]=240&he|ee}v+=G}}function ue(g,v,T,O,G,W,Q,ee){var ne,he,Se=255;for(he=0;he<G;++he){for(ne=0;ne<O;++ne){var je=g[v+ne];W[Q+4*ne]=je,Se&=je}v+=T,Q+=ee}return Se!=255}function ve(g,v,T,O,G){var W;for(W=0;W<G;++W)T[O+W]=g[v+W]>>8}function De(){kr=A,zn=V,Hn=ue,Ei=ve}function qe(g,v,T){q[g]=function(O,G,W,Q,ee,ne,he,Se,je,Be,Ie,Xe,ze,Ne,Ce,Ve,tt){var Ye,gt=tt-1>>1,ot=ee[ne+0]|he[Se+0]<<16,_t=je[Be+0]|Ie[Xe+0]<<16;t(O!=null);var ft=3*ot+_t+131074>>2;for(v(O[G+0],255&ft,ft>>16,ze,Ne),W!=null&&(ft=3*_t+ot+131074>>2,v(W[Q+0],255&ft,ft>>16,Ce,Ve)),Ye=1;Ye<=gt;++Ye){var vn=ee[ne+Ye]|he[Se+Ye]<<16,Nn=je[Be+Ye]|Ie[Xe+Ye]<<16,mn=ot+vn+_t+Nn+524296,sn=mn+2*(vn+_t)>>3;ft=sn+ot>>1,ot=(mn=mn+2*(ot+Nn)>>3)+vn>>1,v(O[G+2*Ye-1],255&ft,ft>>16,ze,Ne+(2*Ye-1)*T),v(O[G+2*Ye-0],255&ot,ot>>16,ze,Ne+(2*Ye-0)*T),W!=null&&(ft=mn+_t>>1,ot=sn+Nn>>1,v(W[Q+2*Ye-1],255&ft,ft>>16,Ce,Ve+(2*Ye-1)*T),v(W[Q+2*Ye+0],255&ot,ot>>16,Ce,Ve+(2*Ye+0)*T)),ot=vn,_t=Nn}1&tt||(ft=3*ot+_t+131074>>2,v(O[G+tt-1],255&ft,ft>>16,ze,Ne+(tt-1)*T),W!=null&&(ft=3*_t+ot+131074>>2,v(W[Q+tt-1],255&ft,ft>>16,Ce,Ve+(tt-1)*T)))}}function Ze(){wa[vf]=T4,wa[bf]=J2,wa[W2]=_4,wa[wf]=$2,wa[Af]=eg,wa[A1]=tg,wa[X2]=I4,wa[S1]=J2,wa[N1]=$2,wa[Sf]=eg,wa[C1]=tg}function ht(g){return g&-16384?0>g?0:255:g>>D4}function St(g,v){return ht((19077*g>>8)+(26149*v>>8)-14234)}function kt(g,v,T){return ht((19077*g>>8)-(6419*v>>8)-(13320*T>>8)+8708)}function Pt(g,v){return ht((19077*g>>8)+(33050*v>>8)-17685)}function en(g,v,T,O,G){O[G+0]=St(g,T),O[G+1]=kt(g,v,T),O[G+2]=Pt(g,v)}function Xn(g,v,T,O,G){O[G+0]=Pt(g,v),O[G+1]=kt(g,v,T),O[G+2]=St(g,T)}function Sn(g,v,T,O,G){var W=kt(g,v,T);v=W<<3&224|Pt(g,v)>>3,O[G+0]=248&St(g,T)|W>>5,O[G+1]=v}function ei(g,v,T,O,G){var W=240&Pt(g,v)|15;O[G+0]=240&St(g,T)|kt(g,v,T)>>4,O[G+1]=W}function Zi(g,v,T,O,G){O[G+0]=255,en(g,v,T,O,G+1)}function ti(g,v,T,O,G){Xn(g,v,T,O,G),O[G+3]=255}function Zr(g,v,T,O,G){en(g,v,T,O,G),O[G+3]=255}function gi(g,v){return 0>g?0:g>v?v:g}function Tr(g,v,T){q[g]=function(O,G,W,Q,ee,ne,he,Se,je){for(var Be=Se+(-2&je)*T;Se!=Be;)v(O[G+0],W[Q+0],ee[ne+0],he,Se),v(O[G+1],W[Q+0],ee[ne+0],he,Se+T),G+=2,++Q,++ne,Se+=2*T;1&je&&v(O[G+0],W[Q+0],ee[ne+0],he,Se)}}function sr(g,v,T){return T==0?g==0?v==0?6:5:v==0?4:0:T}function $s(g,v,T,O,G){switch(g>>>30){case 3:we(v,T,O,G,0);break;case 2:Te(v,T,O,G);break;case 1:$e(v,T,O,G)}}function mr(g,v){var T,O,G=v.M,W=v.Nb,Q=g.oc,ee=g.pc+40,ne=g.oc,he=g.pc+584,Se=g.oc,je=g.pc+600;for(T=0;16>T;++T)Q[ee+32*T-1]=129;for(T=0;8>T;++T)ne[he+32*T-1]=129,Se[je+32*T-1]=129;for(0<G?Q[ee-1-32]=ne[he-1-32]=Se[je-1-32]=129:(s(Q,ee-32-1,127,21),s(ne,he-32-1,127,9),s(Se,je-32-1,127,9)),O=0;O<g.za;++O){var Be=v.ya[v.aa+O];if(0<O){for(T=-1;16>T;++T)r(Q,ee+32*T-4,Q,ee+32*T+12,4);for(T=-1;8>T;++T)r(ne,he+32*T-4,ne,he+32*T+4,4),r(Se,je+32*T-4,Se,je+32*T+4,4)}var Ie=g.Gd,Xe=g.Hd+O,ze=Be.ad,Ne=Be.Hc;if(0<G&&(r(Q,ee-32,Ie[Xe].y,0,16),r(ne,he-32,Ie[Xe].f,0,8),r(Se,je-32,Ie[Xe].ea,0,8)),Be.Za){var Ce=Q,Ve=ee-32+16;for(0<G&&(O>=g.za-1?s(Ce,Ve,Ie[Xe].y[15],4):r(Ce,Ve,Ie[Xe+1].y,0,4)),T=0;4>T;T++)Ce[Ve+128+T]=Ce[Ve+256+T]=Ce[Ve+384+T]=Ce[Ve+0+T];for(T=0;16>T;++T,Ne<<=2)Ce=Q,Ve=ee+ig[T],ka[Be.Ob[T]](Ce,Ve),$s(Ne,ze,16*+T,Ce,Ve)}else if(Ce=sr(O,G,Be.Ob[0]),no[Ce](Q,ee),Ne!=0)for(T=0;16>T;++T,Ne<<=2)$s(Ne,ze,16*+T,Q,ee+ig[T]);for(T=Be.Gc,Ce=sr(O,G,Be.Dd),Ns[Ce](ne,he),Ns[Ce](Se,je),Ne=ze,Ce=ne,Ve=he,255&(Be=T>>0)&&(170&Be?Ue(Ne,256,Ce,Ve):nt(Ne,256,Ce,Ve)),Be=Se,Ne=je,255&(T>>=8)&&(170&T?Ue(ze,320,Be,Ne):nt(ze,320,Be,Ne)),G<g.Ub-1&&(r(Ie[Xe].y,0,Q,ee+480,16),r(Ie[Xe].f,0,ne,he+224,8),r(Ie[Xe].ea,0,Se,je+224,8)),T=8*W*g.B,Ie=g.sa,Xe=g.ta+16*O+16*W*g.R,ze=g.qa,Be=g.ra+8*O+T,Ne=g.Ha,Ce=g.Ia+8*O+T,T=0;16>T;++T)r(Ie,Xe+T*g.R,Q,ee+32*T,16);for(T=0;8>T;++T)r(ze,Be+T*g.B,ne,he+32*T,8),r(Ne,Ce+T*g.B,Se,je+32*T,8)}}function eo(g,v,T,O,G,W,Q,ee,ne){var he=[0],Se=[0],je=0,Be=ne!=null?ne.kd:0,Ie=ne??new ll;if(g==null||12>T)return 7;Ie.data=g,Ie.w=v,Ie.ha=T,v=[v],T=[T],Ie.gb=[Ie.gb];e:{var Xe=v,ze=T,Ne=Ie.gb;if(t(g!=null),t(ze!=null),t(Ne!=null),Ne[0]=0,12<=ze[0]&&!n(g,Xe[0],"RIFF")){if(n(g,Xe[0]+8,"WEBP")){Ne=3;break e}var Ce=Oe(g,Xe[0]+4);if(12>Ce||4294967286<Ce){Ne=3;break e}if(Be&&Ce>ze[0]-8){Ne=7;break e}Ne[0]=Ce,Xe[0]+=12,ze[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ce=0<Ie.gb[0],T=T[0];;){e:{var Ve=g;ze=v,Ne=T;var tt=he,Ye=Se,gt=Xe=[0];if((ft=je=[je])[0]=0,8>Ne[0])Ne=7;else{if(!n(Ve,ze[0],"VP8X")){if(Oe(Ve,ze[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ot=Oe(Ve,ze[0]+8),_t=1+Me(Ve,ze[0]+12);if(2147483648<=_t*(Ve=1+Me(Ve,ze[0]+15))){Ne=3;break e}gt!=null&&(gt[0]=ot),tt!=null&&(tt[0]=_t),Ye!=null&&(Ye[0]=Ve),ze[0]+=18,Ne[0]-=18,ft[0]=1}Ne=0}}if(je=je[0],Xe=Xe[0],Ne!=0)return Ne;if(ze=!!(2&Xe),!Ce&&je)return 3;if(W!=null&&(W[0]=!!(16&Xe)),Q!=null&&(Q[0]=ze),ee!=null&&(ee[0]=0),Q=he[0],Xe=Se[0],je&&ze&&ne==null){Ne=0;break}if(4>T){Ne=7;break}if(Ce&&je||!Ce&&!je&&!n(g,v[0],"ALPH")){T=[T],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{ot=g,Ne=v,Ce=T;var ft=Ie.gb;tt=Ie.na,Ye=Ie.P,gt=Ie.Sa,_t=22,t(ot!=null),t(Ce!=null),Ve=Ne[0];var vn=Ce[0];for(t(tt!=null),t(gt!=null),tt[0]=null,Ye[0]=null,gt[0]=0;;){if(Ne[0]=Ve,Ce[0]=vn,8>vn){Ne=7;break e}var Nn=Oe(ot,Ve+4);if(4294967286<Nn){Ne=3;break e}var mn=8+Nn+1&-2;if(_t+=mn,0<ft&&_t>ft){Ne=3;break e}if(!n(ot,Ve,"VP8 ")||!n(ot,Ve,"VP8L")){Ne=0;break e}if(vn[0]<mn){Ne=7;break e}n(ot,Ve,"ALPH")||(tt[0]=ot,Ye[0]=Ve+8,gt[0]=Nn),Ve+=mn,vn-=mn}}if(T=T[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Ne!=0)break}T=[T],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(ft=g,Ne=v,Ce=T,tt=Ie.gb[0],Ye=Ie.Ja,gt=Ie.xa,ot=Ne[0],Ve=!n(ft,ot,"VP8 "),_t=!n(ft,ot,"VP8L"),t(ft!=null),t(Ce!=null),t(Ye!=null),t(gt!=null),8>Ce[0])Ne=7;else{if(Ve||_t){if(ft=Oe(ft,ot+4),12<=tt&&ft>tt-12){Ne=3;break e}if(Be&&ft>Ce[0]-8){Ne=7;break e}Ye[0]=ft,Ne[0]+=8,Ce[0]-=8,gt[0]=_t}else gt[0]=5<=Ce[0]&&ft[ot+0]==47&&!(ft[ot+4]>>5),Ye[0]=Ce[0];Ne=0}if(T=T[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],v=v[0],Ne!=0)break;if(4294967286<Ie.Ja)return 3;if(ee==null||ze||(ee[0]=Ie.xa?2:1),Q=[Q],Xe=[Xe],Ie.xa){if(5>T){Ne=7;break}ee=Q,Be=Xe,ze=W,g==null||5>T?g=0:5<=T&&g[v+0]==47&&!(g[v+4]>>5)?(Ce=[0],ft=[0],tt=[0],ce(Ye=new F,g,v,T),vt(Ye,Ce,ft,tt)?(ee!=null&&(ee[0]=Ce[0]),Be!=null&&(Be[0]=ft[0]),ze!=null&&(ze[0]=tt[0]),g=1):g=0):g=0}else{if(10>T){Ne=7;break}ee=Xe,g==null||10>T||!Ws(g,v+3,T-3)?g=0:(Be=g[v+0]|g[v+1]<<8|g[v+2]<<16,ze=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=Ie.Ja||!ze||!g?g=0:(Q&&(Q[0]=ze),ee&&(ee[0]=g),g=1))}if(!g||(Q=Q[0],Xe=Xe[0],je&&(he[0]!=Q||Se[0]!=Xe)))return 3;ne!=null&&(ne[0]=Ie,ne.offset=v-ne.w,t(4294967286>v-ne.w),t(ne.offset==ne.ha-T));break}return Ne==0||Ne==7&&je&&ne==null?(W!=null&&(W[0]|=Ie.na!=null&&0<Ie.na.length),O!=null&&(O[0]=Q),G!=null&&(G[0]=Xe),0):Ne}function ws(g,v,T){var O=v.width,G=v.height,W=0,Q=0,ee=O,ne=G;if(v.Da=g!=null&&0<g.Da,v.Da&&(ee=g.cd,ne=g.bd,W=g.v,Q=g.j,11>T||(W&=-2,Q&=-2),0>W||0>Q||0>=ee||0>=ne||W+ee>O||Q+ne>G))return 0;if(v.v=W,v.j=Q,v.va=W+ee,v.o=Q+ne,v.U=ee,v.T=ne,v.da=g!=null&&0<g.da,v.da){if(!ct(ee,ne,T=[g.ib],W=[g.hb]))return 0;v.ib=T[0],v.hb=W[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*G/4,v.Kb=0),1}function ul(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function As(g,v,T,O){if(O==null||0>=g||0>=v)return 2;if(T!=null){if(T.Da){var G=T.cd,W=T.bd,Q=-2&T.v,ee=-2&T.j;if(0>Q||0>ee||0>=G||0>=W||Q+G>g||ee+W>v)return 2;g=G,v=W}if(T.da){if(!ct(g,v,G=[T.ib],W=[T.hb]))return 2;g=G[0],v=W[0]}}O.width=g,O.height=v;e:{var ne=O.width,he=O.height;if(g=O.S,0>=ne||0>=he||!(g>=vf&&13>g))g=2;else{if(0>=O.Rd&&O.sd==null){Q=W=G=v=0;var Se=(ee=ne*rg[g])*he;if(11>g||(W=(he+1)/2*(v=(ne+1)/2),g==12&&(Q=(G=ne)*he)),(he=o(Se+2*W+Q))==null){g=1;break e}O.sd=he,11>g?((ne=O.f.RGBA).eb=he,ne.fb=0,ne.A=ee,ne.size=Se):((ne=O.f.kb).y=he,ne.O=0,ne.fa=ee,ne.Fd=Se,ne.f=he,ne.N=0+Se,ne.Ab=v,ne.Cd=W,ne.ea=he,ne.W=0+Se+W,ne.Db=v,ne.Ed=W,g==12&&(ne.F=he,ne.J=0+Se+2*W),ne.Tc=Q,ne.lb=G)}if(v=1,G=O.S,W=O.width,Q=O.height,G>=vf&&13>G)if(11>G)g=O.f.RGBA,v&=(ee=Math.abs(g.A))*(Q-1)+W<=g.size,v&=ee>=W*rg[G],v&=g.eb!=null;else{g=O.f.kb,ee=(W+1)/2,Se=(Q+1)/2,ne=Math.abs(g.fa),he=Math.abs(g.Ab);var je=Math.abs(g.Db),Be=Math.abs(g.lb),Ie=Be*(Q-1)+W;v&=ne*(Q-1)+W<=g.Fd,v&=he*(Se-1)+ee<=g.Cd,v=(v&=je*(Se-1)+ee<=g.Ed)&ne>=W&he>=ee&je>=ee,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,G==12&&(v&=Be>=W,v&=Ie<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||T!=null&&T.fd&&(g=ul(O)),g}var Ln=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],es=24,ya=32,Qt=8,Pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(g){return g},q.Predictor2=function(g,v,T){return v[T+0]},q.Predictor3=function(g,v,T){return v[T+1]},q.Predictor4=function(g,v,T){return v[T-1]},q.Predictor5=function(g,v,T){return st(st(g,v[T+1]),v[T+0])},q.Predictor6=function(g,v,T){return st(g,v[T-1])},q.Predictor7=function(g,v,T){return st(g,v[T+0])},q.Predictor8=function(g,v,T){return st(v[T-1],v[T+0])},q.Predictor9=function(g,v,T){return st(v[T+0],v[T+1])},q.Predictor10=function(g,v,T){return st(st(g,v[T-1]),st(v[T+0],v[T+1]))},q.Predictor11=function(g,v,T){var O=v[T+0];return 0>=Ft(O>>24&255,g>>24&255,(v=v[T-1])>>24&255)+Ft(O>>16&255,g>>16&255,v>>16&255)+Ft(O>>8&255,g>>8&255,v>>8&255)+Ft(255&O,255&g,255&v)?O:g},q.Predictor12=function(g,v,T){var O=v[T+0];return(At((g>>24&255)+(O>>24&255)-((v=v[T-1])>>24&255))<<24|At((g>>16&255)+(O>>16&255)-(v>>16&255))<<16|At((g>>8&255)+(O>>8&255)-(v>>8&255))<<8|At((255&g)+(255&O)-(255&v)))>>>0},q.Predictor13=function(g,v,T){var O=v[T-1];return(Ct((g=st(g,v[T+0]))>>24&255,O>>24&255)<<24|Ct(g>>16&255,O>>16&255)<<16|Ct(g>>8&255,O>>8&255)<<8|Ct(g>>0&255,O>>0&255))>>>0};var H=q.PredictorAdd0;q.PredictorAdd1=Dt,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var i=q.PredictorAdd2;Xt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var a,l=q.ColorIndexInverseTransform,c=q.MapARGB,u=q.VP8LColorIndexInverseTransformAlpha,h=q.MapAlpha,m=q.VP8LPredictorsAdd=[];m.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var b,C,R,z,Z,fe,ye,we,Te,Ue,$e,nt,et,Wt,Mt,pi,Fi,ci,cn,ni,Ci,_r,va,Br,kr,zn,Hn,Ei,Ui=o(511),Ss=o(2041),Wc=o(225),Hl=o(767),xf=0,w1=Ss,yf=Wc,Qr=Hl,ba=Ui,vf=0,bf=1,W2=2,wf=3,Af=4,A1=5,X2=6,S1=7,N1=8,Sf=9,C1=10,d4=[2,3,7],g4=[3,3,11],Z2=[280,256,256,256,40],p4=[0,1,1,1,0],m4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],x4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],y4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],v4=8,E1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],T1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xc=null,b4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],w4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Q2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],A4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],S4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],N4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],C4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],no=[],ka=[],Ns=[],E4=1,K2=2,io=[],wa=[];qe("UpsampleRgbLinePair",en,3),qe("UpsampleBgrLinePair",Xn,3),qe("UpsampleRgbaLinePair",Zr,4),qe("UpsampleBgraLinePair",ti,4),qe("UpsampleArgbLinePair",Zi,4),qe("UpsampleRgba4444LinePair",ei,2),qe("UpsampleRgb565LinePair",Sn,2);var T4=q.UpsampleRgbLinePair,_4=q.UpsampleBgrLinePair,J2=q.UpsampleRgbaLinePair,$2=q.UpsampleBgraLinePair,eg=q.UpsampleArgbLinePair,tg=q.UpsampleRgba4444LinePair,I4=q.UpsampleRgb565LinePair,Nf=16,Cf=1<<Nf-1,Zc=-227,_1=482,D4=6,ng=0,L4=o(256),M4=o(256),O4=o(256),R4=o(256),j4=o(_1-Zc),B4=o(_1-Zc);Tr("YuvToRgbRow",en,3),Tr("YuvToBgrRow",Xn,3),Tr("YuvToRgbaRow",Zr,4),Tr("YuvToBgraRow",ti,4),Tr("YuvToArgbRow",Zi,4),Tr("YuvToRgba4444Row",ei,2),Tr("YuvToRgb565Row",Sn,2);var ig=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ef=[0,2,8],k4=[8,7,6,4,4,2,2,2,1,1,1,1],P4=1;this.WebPDecodeRGBA=function(g,v,T,O,G){var W=bf,Q=new Ks,ee=new Ht;Q.ba=ee,ee.S=W,ee.width=[ee.width],ee.height=[ee.height];var ne=ee.width,he=ee.height,Se=new nr;if(Se==null||g==null)var je=2;else t(Se!=null),je=eo(g,v,T,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(je!=0?ne=0:(ne!=null&&(ne[0]=Se.width[0]),he!=null&&(he[0]=Se.height[0]),ne=1),ne){ee.width=ee.width[0],ee.height=ee.height[0],O!=null&&(O[0]=ee.width),G!=null&&(G[0]=ee.height);e:{if(O=new Vt,(G=new ll).data=g,G.w=v,G.ha=T,G.kd=1,v=[0],t(G!=null),((g=eo(G.data,G.w,G.ha,null,null,null,v,null,G))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(t(Q!=null),O.data=G.data,O.w=G.w+G.offset,O.ha=G.ha-G.offset,O.put=ir,O.ac=un,O.bc=Nr,O.ma=Q,G.xa){if((g=rr())==null){Q=1;break e}if(function(Be,Ie){var Xe=[0],ze=[0],Ne=[0];t:for(;;){if(Be==null)return 0;if(Ie==null)return Be.a=2,0;if(Be.l=Ie,Be.a=0,ce(Be.m,Ie.data,Ie.w,Ie.ha),!vt(Be.m,Xe,ze,Ne)){Be.a=3;break t}if(Be.xb=K2,Ie.width=Xe[0],Ie.height=ze[0],!wi(Xe[0],ze[0],1,Be,null))break t;return 1}return t(Be.a!=0),0}(g,O)){if(O=(v=As(O.width,O.height,Q.Oa,Q.ba))==0){t:{O=g;n:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((T=O.l)!=null),t((G=T.ma)!=null),O.xb!=0){if(O.ca=G.ba,O.tb=G.tb,t(O.ca!=null),!ws(G.Oa,T,wf)){O.a=2;break n}if(!xs(O,T.width)||T.da)break n;if((T.da||an(O.ca.S))&&De(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&De()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!Qe(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!Xi(O,O.V,O.Ba,O.c,O.i,T.o,dt))break n;G.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(v=g.a)}else v=g.a}else{if((g=new Qo)==null){Q=1;break e}if(g.Fa=G.na,g.P=G.P,g.qc=G.Sa,Jn(g,O)){if((v=As(O.width,O.height,Q.Oa,Q.ba))==0){if(g.Aa=0,T=Q.Oa,t((G=g)!=null),T!=null){if(0<(ne=0>(ne=T.Md)?0:100<ne?255:255*ne/100)){for(he=Se=0;4>he;++he)12>(je=G.pb[he]).lc&&(je.ia=ne*k4[0>je.lc?0:je.lc]>>3),Se|=je.ia;Se&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=T.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}Wn(g,O)||(v=g.a)}}else v=g.a}v==0&&Q.Oa!=null&&Q.Oa.fd&&(v=ul(Q.ba))}Q=v}W=Q!=0?null:11>W?ee.f.RGBA.eb:ee.f.kb.y}else W=null;return W};var rg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function x(q,K){for(var ge="",U=0;U<4;U++)ge+=String.fromCharCode(q[K++]);return ge}function N(q,K){return(q[K+0]<<0|q[K+1]<<8|q[K+2]<<16)>>>0}function S(q,K){return(q[K+0]<<0|q[K+1]<<8|q[K+2]<<16|q[K+3]<<24)>>>0}new p;var E=[0],w=[0],j=[],L=new p,P=e,I=function(q,K){var ge={},U=0,B=!1,ie=0,se=0;if(ge.frames=[],!function(te,re,me,oe){for(var Le=0;Le<oe;Le++)if(te[re+Le]!=me.charCodeAt(Le))return!0;return!1}(q,K,"RIFF",4)){var ae,J;for(S(q,K+=4),K+=8;K<q.length;){var $=x(q,K),ce=S(q,K+=4);K+=4;var de=ce+(1&ce);switch($){case"VP8 ":case"VP8L":ge.frames[U]===void 0&&(ge.frames[U]={}),(F=ge.frames[U]).src_off=B?se:K-8,F.src_size=ie+ce+8,U++,B&&(B=!1,ie=0,se=0);break;case"VP8X":(F=ge.header={}).feature_flags=q[K];var be=K+4;F.canvas_width=1+N(q,be),be+=3,F.canvas_height=1+N(q,be),be+=3;break;case"ALPH":B=!0,ie=de+8,se=K-8;break;case"ANIM":(F=ge.header).bgcolor=S(q,K),be=K+4,F.loop_count=(ae=q)[(J=be)+0]<<0|ae[J+1]<<8,be+=2;break;case"ANMF":var Pe,F;(F=ge.frames[U]={}).offset_x=2*N(q,K),K+=3,F.offset_y=2*N(q,K),K+=3,F.width=1+N(q,K),K+=3,F.height=1+N(q,K),K+=3,F.duration=N(q,K),K+=3,Pe=q[K++],F.dispose=1&Pe,F.blend=Pe>>1&1}$!="ANMF"&&(K+=de)}return ge}}(P,0);I.response=P,I.rgbaoutput=!0,I.dataurl=!1;var _=I.header?I.header:null,D=I.frames?I.frames:null;if(_){_.loop_counter=_.loop_count,E=[_.canvas_height],w=[_.canvas_width];for(var M=0;M<D.length&&D[M].blend!=0;M++);}var Y=D[0],X=L.WebPDecodeRGBA(P,Y.src_off,Y.src_size,w,E);Y.rgba=X,Y.imgwidth=w[0],Y.imgheight=E[0];for(var k=0;k<w[0]*E[0]*4;k++)j[k]=X[k];return this.width=w,this.height=E,this.data=j,this}(function(e){var t=function(){return typeof _d=="function"},n=function(E,w,j,L){var P=4,I=f;switch(L){case e.image_compression.FAST:P=1,I=o;break;case e.image_compression.MEDIUM:P=6,I=d;break;case e.image_compression.SLOW:P=9,I=p}E=r(E,w,j,I);var _=_d(E,{level:P});return e.__addimage__.arrayBufferToBinaryString(_)},r=function(E,w,j,L){for(var P,I,_,D=E.length/w,M=new Uint8Array(E.length+D),Y=N(),X=0;X<D;X+=1){if(_=X*w,P=E.subarray(_,_+w),L)M.set(L(P,j,I),_+X);else{for(var k,q=Y.length,K=[];k<q;k+=1)K[k]=Y[k](P,j,I);var ge=S(K.concat());M.set(K[ge],_+X)}I=P}return M},s=function(E){var w=Array.apply([],E);return w.unshift(0),w},o=function(E,w){var j,L=[],P=E.length;L[0]=1;for(var I=0;I<P;I+=1)j=E[I-w]||0,L[I+1]=E[I]-j+256&255;return L},f=function(E,w,j){var L,P=[],I=E.length;P[0]=2;for(var _=0;_<I;_+=1)L=j&&j[_]||0,P[_+1]=E[_]-L+256&255;return P},d=function(E,w,j){var L,P,I=[],_=E.length;I[0]=3;for(var D=0;D<_;D+=1)L=E[D-w]||0,P=j&&j[D]||0,I[D+1]=E[D]+256-(L+P>>>1)&255;return I},p=function(E,w,j){var L,P,I,_,D=[],M=E.length;D[0]=4;for(var Y=0;Y<M;Y+=1)L=E[Y-w]||0,P=j&&j[Y]||0,I=j&&j[Y-w]||0,_=x(L,P,I),D[Y+1]=E[Y]-_+256&255;return D},x=function(E,w,j){if(E===w&&w===j)return E;var L=Math.abs(w-j),P=Math.abs(E-j),I=Math.abs(E+w-j-j);return L<=P&&L<=I?E:P<=I?w:j},N=function(){return[s,o,f,d,p]},S=function(E){var w=E.map(function(j){return j.reduce(function(L,P){return L+Math.abs(P)},0)});return w.indexOf(Math.min.apply(null,w))};e.processPNG=function(E,w,j,L){var P,I,_,D,M,Y,X,k,q,K,ge,U,B,ie,se,ae=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(E)&&(E=new Uint8Array(E)),this.__addimage__.isArrayBufferView(E)){if(E=(_=new e6(E)).imgData,I=_.bits,P=_.colorSpace,M=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){q=(k=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,ge=new Uint8Array(q*_.colors),K=new Uint8Array(q);var $,ce=_.pixelBitlength-_.bits;for(ie=0,se=0;ie<q;ie++){for(B=k[ie],$=0;$<ce;)ge[se++]=B>>>$&255,$+=_.bits;K[ie]=B>>>$&255}}if(_.bits===16){q=(k=new Uint32Array(_.decodePixels().buffer)).length,ge=new Uint8Array(q*(32/_.pixelBitlength)*_.colors),K=new Uint8Array(q*(32/_.pixelBitlength)),U=_.colors>1,ie=0,se=0;for(var de=0;ie<q;)B=k[ie++],ge[se++]=B>>>0&255,U&&(ge[se++]=B>>>16&255,B=k[ie++],ge[se++]=B>>>0&255),K[de++]=B>>>16&255;I=8}L!==e.image_compression.NONE&&t()?(E=n(ge,_.width*_.colors,_.colors,L),X=n(K,_.width,1,L)):(E=ge,X=K,ae=void 0)}if(_.colorType===3&&(P=this.color_spaces.INDEXED,Y=_.palette,_.transparency.indexed)){var be=_.transparency.indexed,Pe=0;for(ie=0,q=be.length;ie<q;++ie)Pe+=be[ie];if((Pe/=255)===q-1&&be.indexOf(0)!==-1)D=[be.indexOf(0)];else if(Pe!==q){for(k=_.decodePixels(),K=new Uint8Array(k.length),ie=0,q=k.length;ie<q;ie++)K[ie]=be[k[ie]];X=n(K,_.width,1)}}var F=function(te){var re;switch(te){case e.image_compression.FAST:re=11;break;case e.image_compression.MEDIUM:re=13;break;case e.image_compression.SLOW:re=14;break;default:re=12}return re}(L);return ae===this.decode.FLATE_DECODE&&(J="/Predictor "+F+" "),J+="/Colors "+M+" /BitsPerComponent "+I+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:j,data:E,index:w,filter:ae,decodeParameters:J,transparency:D,palette:Y,sMask:X,predictor:F,width:_.width,height:_.height,bitsPerComponent:I,colorSpace:P}}}})(It.API),function(e){e.processGIF89A=function(t,n,r,s){var o=new t6(t),f=o.width,d=o.height,p=[];o.decodeAndBlitFrameRGBA(0,p);var x={data:p,width:f,height:d},N=new Th(100).encode(x,100);return e.processJPEG.call(this,N,n,r,s)},e.processGIF87A=e.processGIF89A}(It.API),Ua.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ua.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Bn.log("bit decode error:"+n)}},Ua.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var p=this.palette[o>>7-d&1];this.data[f+4*d]=p.blue,this.data[f+4*d+1]=p.green,this.data[f+4*d+2]=p.red,this.data[f+4*d+3]=255}n!==0&&(this.pos+=4-n)}},Ua.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+2*s*4,d=o>>4,p=15&o,x=this.palette[d];if(this.data[f]=x.blue,this.data[f+1]=x.green,this.data[f+2]=x.red,this.data[f+3]=255,2*s+1>=this.width)break;x=this.palette[p],this.data[f+4]=x.blue,this.data[f+4+1]=x.green,this.data[f+4+2]=x.red,this.data[f+4+3]=255}t!==0&&(this.pos+=4-t)}},Ua.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(s<this.palette.length){var f=this.palette[s];this.data[o]=f.red,this.data[o+1]=f.green,this.data[o+2]=f.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Ua.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(o&t)/t*255|0,d=(o>>5&t)/t*255|0,p=(o>>10&t)/t*255|0,x=o>>15?255:0,N=r*this.width*4+4*s;this.data[N]=p,this.data[N+1]=d,this.data[N+2]=f,this.data[N+3]=x}this.pos+=e}},Ua.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(f&t)/t*255|0,p=(f>>5&n)/n*255|0,x=(f>>11)/t*255|0,N=s*this.width*4+4*o;this.data[N]=x,this.data[N+1]=p,this.data[N+2]=d,this.data[N+3]=255}this.pos+=e}},Ua.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*n;this.data[f]=o,this.data[f+1]=s,this.data[f+2]=r,this.data[f+3]=255}this.pos+=this.width%4}},Ua.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*n;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=r,this.data[d+3]=f}},Ua.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var o=new Ua(t,!1),f=o.width,d=o.height,p={data:o.getData(),width:f,height:d},x=new Th(100).encode(p,100);return e.processJPEG.call(this,x,n,r,s)}}(It.API),gm.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var o=new gm(t),f=o.width,d=o.height,p={data:o.getData(),width:f,height:d},x=new Th(100).encode(p,100);return e.processJPEG.call(this,x,n,r,s)}}(It.API),It.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,o=new Uint8Array(s/4*3),f=new Uint8Array(s/4),d=0,p=0,x=0;x<s;x+=4){var N=r[x],S=r[x+1],E=r[x+2],w=r[x+3];o[d++]=N,o[d++]=S,o[d++]=E,f[p++]=w}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:j,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},It.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ql=It.API,n0=Ql.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),f=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:s.metadata.Unicode.widths,p=d.fof?d.fof:1,x=t.kerning?t.kerning:s.metadata.Unicode.kerning,N=x.fof?x.fof:1,S=t.doKerning!==!1,E=0,w=e.length,j=0,L=d[0]||p,P=[];for(n=0;n<w;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?P.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+f*(1e3/o)||0)/1e3):(E=S&&In(x[r])==="object"&&!isNaN(parseInt(x[r][j],10))?x[r][j]/N:0,P.push((d[r]||L)/p+E)),j=r;return P},um=Ql.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ql.processArabic&&(e=Ql.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:n0.apply(this,arguments).reduce(function(o,f){return o+f},0)},fm=function(e,t,n,r){for(var s=[],o=0,f=e.length,d=0;o!==f&&d+t[o]<n;)d+=t[o],o++;s.push(e.slice(0,o));var p=o;for(d=0;o!==f;)d+t[o]>r&&(s.push(e.slice(p,o)),d=0,p=o),d+=t[o],o++;return p!==o&&s.push(e.slice(p,o)),s},hm=function(e,t,n){n||(n={});var r,s,o,f,d,p,x,N=[],S=[N],E=n.textIndent||0,w=0,j=0,L=e.split(" "),P=n0.apply(this,[" ",n])[0];if(p=n.lineIndent===-1?L[0].length+2:n.lineIndent||0){var I=Array(p).join(" "),_=[];L.map(function(M){(M=M.split(/\s*\n/)).length>1?_=_.concat(M.map(function(Y,X){return(X&&Y.length?`
`:"")+Y})):_.push(M[0])}),L=_,p=um.apply(this,[I,n])}for(o=0,f=L.length;o<f;o++){var D=0;if(r=L[o],p&&r[0]==`
`&&(r=r.substr(1),D=1),E+w+(j=(s=n0.apply(this,[r,n])).reduce(function(M,Y){return M+Y},0))>t||D){if(j>t){for(d=fm.apply(this,[r,s,t-(E+w),t]),N.push(d.shift()),N=[d.pop()];d.length;)S.push([d.shift()]);j=s.slice(r.length-(N[0]?N[0].length:0)).reduce(function(M,Y){return M+Y},0)}else N=[r];S.push(N),E=j+p,w=P}else N.push(r),E+=w+j,w=P}return x=p?function(M,Y){return(Y?I:"")+M.join(" ")}:function(M){return M.join(" ")},S.map(x)},Ql.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(N){if(N.widths&&N.kerning)return{widths:N.widths,kerning:N.kerning};var S=this.internal.getFont(N.fontName,N.fontStyle);return S.metadata.Unicode?{widths:S.metadata.Unicode.widths||{0:1},kerning:S.metadata.Unicode.kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var f=1*this.internal.scaleFactor*t/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var d,p,x=[];for(d=0,p=r.length;d<p;d++)x=x.concat(hm.apply(this,[r[d],f,o]));return x},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var o=function(S){return"0x"+parseInt(S,10).toString(16)},f=e.__fontmetrics__.compress=function(S){var E,w,j,L,P=["{"];for(var I in S){if(E=S[I],isNaN(parseInt(I,10))?w="'"+I+"'":(I=parseInt(I,10),w=(w=o(I).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof E=="number")E<0?(j=o(E).slice(3),L="-"):(j=o(E).slice(2),L=""),j=L+j.slice(0,-1)+r[j.slice(-1)];else{if(In(E)!=="object")throw new Error("Don't know what to do with value type "+In(E)+".");j=f(E)}P.push(w+j)}return P.push("}"),P.join("")},d=e.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,w,j,L,P={},I=1,_=P,D=[],M="",Y="",X=S.length-1,k=1;k<X;k+=1)(L=S[k])=="'"?E?(j=E.join(""),E=void 0):E=[]:E?E.push(L):L=="{"?(D.push([_,j]),_={},j=void 0):L=="}"?((w=D.pop())[0][w[1]]=_,j=void 0,_=w[0]):L=="-"?I=-1:j===void 0?n.hasOwnProperty(L)?(M+=n[L],j=parseInt(M,16)*I,I=1,M=""):M+=L:n.hasOwnProperty(L)?(Y+=n[L],_[j]=parseInt(Y,16)*I,I=1,j=void 0,Y=""):Y+=L;return P},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},N={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(S){var E=S.font,w=N.Unicode[E.postScriptName];w&&(E.metadata.Unicode={},E.metadata.Unicode.widths=w.widths,E.metadata.Unicode.kerning=w.kerning);var j=x.Unicode[E.postScriptName];j&&(E.metadata.Unicode.encoding=j,E.encoding=j.codePages[0])}])}(It.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=n.charCodeAt(o);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(f,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Iu(d)),f.metadata=e.API.TTFFont.open(d),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(s,r)}}])}(It),function(e){function t(){return(Lt.canvg?Promise.resolve(Lt.canvg):Sd(()=>import("./index.es-x88RrjII.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}It.API.addSvgAsImage=function(n,r,s,o,f,d,p,x){if(isNaN(r)||isNaN(s))throw Bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(f))throw Bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var N=document.createElement("canvas");N.width=o,N.height=f;var S=N.getContext("2d");S.fillStyle="#fff",S.fillRect(0,0,N.width,N.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return t().then(function(j){return j.fromString(S,n,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(E)}).then(function(){w.addImage(N.toDataURL("image/jpeg",1),r,s,o,f,p,x)})}}(),It.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},It.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,o,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(f),p=[],x=0,N=0,S=0;function E(j,L){var P,I=!1;for(P=0;P<j.length;P+=1)j[P]===L&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var w=d.length;for(S=0;S<w;S+=1)n[d[S]].value=n[d[S]].defaultValue,n[d[S]].explicitSet=!1}if(In(e)==="object"){for(s in e)if(o=e[s],E(d,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&E(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(x=0;x<o.length;x+=1)if(r=!0,o[x].length===1&&typeof o[x][0]=="number")p.push(String(o[x]-1));else if(o[x].length>1){for(N=0;N<o[x].length;N+=1)typeof o[x][N]!="number"&&(r=!1);r===!0&&p.push([o[x][0]-1,o[x][1]-1].join(" "))}n[s].value="["+p.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,L=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?L.push("/"+j+" /"+n[j].value):L.push("/"+j+" "+n[j].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),x=o.length+f.length+d.length+s.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+x+" >>"),this.internal.write("stream"),this.internal.write(s+o+f+d+p),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(It.API),function(e){var t=e.API,n=t.pdfEscape16=function(o,f){for(var d,p=f.metadata.Unicode.widths,x=["","0","00","000","0000"],N=[""],S=0,E=o.length;S<E;++S){if(d=f.metadata.characterToGlyph(o.charCodeAt(S)),f.metadata.glyIdsUsed.push(d),f.metadata.toUnicode[d]=o.charCodeAt(S),p.indexOf(d)==-1&&(p.push(d),p.push([parseInt(f.metadata.widthOfGlyph(d),10)])),d=="0")return N.join("");d=d.toString(16),N.push(x[4-d.length],d)}return N.join("")},r=function(o){var f,d,p,x,N,S,E;for(N=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],S=0,E=(d=Object.keys(o).sort(function(w,j){return w-j})).length;S<E;S++)f=d[S],p.length>=100&&(N+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),o[f]!==void 0&&o[f]!==null&&typeof o[f].toString=="function"&&(x=("0000"+o[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),p.push("<"+f+"><"+x+">"));return p.length&&(N+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),N+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(f){var d=f.font,p=f.out,x=f.newObject,N=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="Identity-H"){for(var S=d.metadata.Unicode.widths,E=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),w="",j=0;j<E.length;j++)w+=String.fromCharCode(E[j]);var L=x();N({data:w,addLength1:!0,objectId:L}),p("endobj");var P=x();N({data:r(d.metadata.toUnicode),addLength1:!0,objectId:P}),p("endobj");var I=x();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+nc(d.fontName)),p("/FontFile2 "+L+" 0 R"),p("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),p("/Flags "+d.metadata.flags),p("/StemV "+d.metadata.stemV),p("/ItalicAngle "+d.metadata.italicAngle),p("/Ascent "+d.metadata.ascender),p("/Descent "+d.metadata.decender),p("/CapHeight "+d.metadata.capHeight),p(">>"),p("endobj");var _=x();p("<<"),p("/Type /Font"),p("/BaseFont /"+nc(d.fontName)),p("/FontDescriptor "+I+" 0 R"),p("/W "+e.API.PDFObject.convert(S)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+d.encoding+")"),p(">>"),p(">>"),p("endobj"),d.objectNumber=x(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+P+" 0 R"),p("/BaseFont /"+nc(d.fontName)),p("/Encoding /"+d.encoding),p("/DescendantFonts ["+_+" 0 R]"),p(">>"),p("endobj"),d.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(f){var d=f.font,p=f.out,x=f.newObject,N=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var S=d.metadata.rawData,E="",w=0;w<S.length;w++)E+=String.fromCharCode(S[w]);var j=x();N({data:E,addLength1:!0,objectId:j}),p("endobj");var L=x();N({data:r(d.metadata.toUnicode),addLength1:!0,objectId:L}),p("endobj");var P=x();p("<<"),p("/Descent "+d.metadata.decender),p("/CapHeight "+d.metadata.capHeight),p("/StemV "+d.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+j+" 0 R"),p("/Flags 96"),p("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),p("/FontName /"+nc(d.fontName)),p("/ItalicAngle "+d.metadata.italicAngle),p("/Ascent "+d.metadata.ascender),p(">>"),p("endobj"),d.objectNumber=x();for(var I=0;I<d.metadata.hmtx.widths.length;I++)d.metadata.hmtx.widths[I]=parseInt(d.metadata.hmtx.widths[I]*(1e3/d.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+nc(d.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),p("endobj"),d.isAlreadyPutted=!0}})(o)}]);var s=function(o){var f,d=o.text||"",p=o.x,x=o.y,N=o.options||{},S=o.mutex||{},E=S.pdfEscape,w=S.activeFontKey,j=S.fonts,L=w,P="",I=0,_="",D=j[L].encoding;if(j[L].encoding!=="Identity-H")return{text:d,x:p,y:x,options:N,mutex:S};for(_=d,L=w,Array.isArray(d)&&(_=d[0]),I=0;I<_.length;I+=1)j[L].metadata.hasOwnProperty("cmap")&&(f=j[L].metadata.cmap.unicode.codeMap[_[I].charCodeAt(0)]),f||_[I].charCodeAt(0)<256&&j[L].metadata.hasOwnProperty("Unicode")?P+=_[I]:P+="";var M="";return parseInt(L.slice(1))<14||D==="WinAnsiEncoding"?M=E(P,L).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(M=n(P,j[L])),S.isHex=!0,{text:M,x:p,y:x,options:N,mutex:S}};t.events.push(["postProcessText",function(o){var f=o.text||"",d=[],p={text:f,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(f)){var x=0;for(x=0;x<f.length;x+=1)Array.isArray(f[x])&&f[x].length===3?d.push([s(Object.assign({},p,{text:f[x][0]})).text,f[x][1],f[x][2]]):d.push(s(Object.assign({},p,{text:f[x]})).text);o.text=d}else o.text=s(Object.assign({},p,{text:f})).text}])}(It),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(It.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,o,f,d,p,x,N,S=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,D=0;this.__bidiEngine__={};var M=function(U){var B=U.charCodeAt(),ie=B>>8,se=L[ie];return se!==void 0?S[256*se+(255&B)]:ie===252||ie===253?"AL":I.test(ie)?"L":ie===8?"R":"N"},Y=function(U){for(var B,ie=0;ie<U.length;ie++){if((B=M(U.charAt(ie)))==="L")return!1;if(B==="R")return!0}return!1},X=function(U,B,ie,se){var ae,J,$,ce,de=B[se];switch(de){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(de="AN");break;case"AL":_=!0,de="R";break;case"WS":de="N";break;case"CS":se<1||se+1>=B.length||(ae=ie[se-1])!=="EN"&&ae!=="AN"||(J=B[se+1])!=="EN"&&J!=="AN"?de="N":_&&(J="AN"),de=J===ae?J:"N";break;case"ES":de=(ae=se>0?ie[se-1]:"B")==="EN"&&se+1<B.length&&B[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&ie[se-1]==="EN"){de="EN";break}if(_){de="N";break}for($=se+1,ce=B.length;$<ce&&B[$]==="ET";)$++;de=$<ce&&B[$]==="EN"?"EN":"N";break;case"NSM":if(f&&!d){for(ce=B.length,$=se+1;$<ce&&B[$]==="NSM";)$++;if($<ce){var be=U[se],Pe=be>=1425&&be<=2303||be===64286;if(ae=B[$],Pe&&(ae==="R"||ae==="AL")){de="R";break}}}de=se<1||(ae=B[se-1])==="B"?"N":ie[se-1];break;case"B":_=!1,s=!0,de=D;break;case"S":o=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":de="N"}return de},k=function(U,B,ie){var se=U.split("");return ie&&q(se,ie,{hiLevel:D}),se.reverse(),B&&B.reverse(),se.join("")},q=function(U,B,ie){var se,ae,J,$,ce,de=-1,be=U.length,Pe=0,F=[],te=D?w:E,re=[];for(_=!1,s=!1,o=!1,ae=0;ae<be;ae++)re[ae]=M(U[ae]);for(J=0;J<be;J++){if(ce=Pe,F[J]=X(U,re,F,J),se=240&(Pe=te[ce][j[F[J]]]),Pe&=15,B[J]=$=te[Pe][5],se>0)if(se===16){for(ae=de;ae<J;ae++)B[ae]=1;de=-1}else de=-1;if(te[Pe][6])de===-1&&(de=J);else if(de>-1){for(ae=de;ae<J;ae++)B[ae]=$;de=-1}re[J]==="B"&&(B[J]=0),ie.hiLevel|=$}o&&function(me,oe,Le){for(var _e=0;_e<Le;_e++)if(me[_e]==="S"){oe[_e]=D;for(var xe=_e-1;xe>=0&&me[xe]==="WS";xe--)oe[xe]=D}}(re,B,be)},K=function(U,B,ie,se,ae){if(!(ae.hiLevel<U)){if(U===1&&D===1&&!s)return B.reverse(),void(ie&&ie.reverse());for(var J,$,ce,de,be=B.length,Pe=0;Pe<be;){if(se[Pe]>=U){for(ce=Pe+1;ce<be&&se[ce]>=U;)ce++;for(de=Pe,$=ce-1;de<$;de++,$--)J=B[de],B[de]=B[$],B[$]=J,ie&&(J=ie[de],ie[de]=ie[$],ie[$]=J);Pe=ce}Pe++}}},ge=function(U,B,ie){var se=U.split(""),ae={hiLevel:D};return ie||(ie=[]),q(se,ie,ae),function(J,$,ce){if(ce.hiLevel!==0&&N)for(var de,be=0;be<J.length;be++)$[be]===1&&(de=P.indexOf(J[be]))>=0&&(J[be]=P[de+1])}(se,ie,ae),K(2,se,B,ie,ae),K(1,se,B,ie,ae),se.join("")};return this.__bidiEngine__.doBidiReorder=function(U,B,ie){if(function(ae,J){if(J)for(var $=0;$<ae.length;$++)J[$]=$;d===void 0&&(d=Y(ae)),x===void 0&&(x=Y(ae))}(U,B),f||!p||x)if(f&&p&&d^x)D=d?1:0,U=k(U,B,ie);else if(!f&&p&&x)D=d?1:0,U=ge(U,B,ie),U=k(U,B);else if(!f||d||p||x){if(f&&!p&&d^x)U=k(U,B),d?(D=0,U=ge(U,B,ie)):(D=1,U=ge(U,B,ie),U=k(U,B));else if(f&&d&&!p&&x)D=1,U=ge(U,B,ie),U=k(U,B);else if(!f&&!p&&d^x){var se=N;d?(D=1,U=ge(U,B,ie),D=0,N=!1,U=ge(U,B,ie),N=se):(D=0,U=ge(U,B,ie),U=k(U,B),D=1,N=!1,U=ge(U,B,ie),N=se,U=k(U,B))}}else D=0,U=ge(U,B,ie);else D=d?1:0,U=ge(U,B,ie);return U},this.__bidiEngine__.setOptions=function(U){U&&(f=U.isInputVisual,p=U.isOutputVisual,d=U.isInputRtl,x=U.isOutputRtl,N=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,o=(r.x,r.y,r.options||{}),f=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(f=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?f.push([n.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):f.push([n.doBidiReorder(s[d])]);r.text=f}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(It),It.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Go(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new m6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new n6(this.contents),this.head=new r6(this),this.name=new c6(this),this.cmap=new t4(this),this.toUnicode={},this.hhea=new a6(this),this.maxp=new u6(this),this.hmtx=new f6(this),this.post=new o6(this),this.os2=new s6(this),this.loca=new p6(this),this.glyf=new h6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,d,p,x;for(x=[],f=0,d=(p=this.bbox).length;f<d;f++)t=p[f],x.push(Math.round(t*this.scaleFactor));return x}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,o,f,d;for(f=0,o=0,d=(t=""+t).length;0<=d?o<d:o>d;o=0<=d?++o:--o)s=t.charCodeAt(o),f+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return f*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Xa,Go=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,o,f,d,p;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),f=this.readByte(),d=this.readByte(),p=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^f)+256*(255^d)+(255^p)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*o+65536*f+256*d+p},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,o;for(o=[],r=0,s=t.length;r<s;r++)n=t[r],o.push(this.writeByte(n));return o},e}(),n6=function(){var e;function t(n){var r,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,o,f,d,p,x,N,S,E,w,j,L;for(L in w=Object.keys(n).length,p=Math.log(2),S=16*Math.floor(Math.log(w)/p),f=Math.floor(S/p),N=16*w-S,(s=new Go).writeInt(this.scalarType),s.writeShort(w),s.writeShort(S),s.writeShort(f),s.writeShort(N),o=16*w,x=s.pos+o,d=null,j=[],n)for(E=n[L],s.writeString(L),s.writeInt(e(E)),s.writeInt(x),s.writeInt(E.length),j=j.concat(E),L==="head"&&(d=x),x+=E.length;x%4;)j.push(0),x++;return s.write(j),r=2981146554-e(s.data),s.pos=d+8,s.writeUInt32(r),s.data},e=function(n){var r,s,o,f;for(n=n4.call(n);n.length%4;)n.push(0);for(o=new Go(n),s=0,r=0,f=n.length;r<f;r=r+=4)s+=o.readUInt32();return 4294967295&s},t}(),i6={}.hasOwnProperty,ms=function(e,t){for(var n in t)i6.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Xa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var r6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Go).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),pm=function(){function e(t,n){var r,s,o,f,d,p,x,N,S,E,w,j,L,P,I,_,D;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=t.readByte();break;case 4:for(w=t.readUInt16(),E=w/2,t.pos+=6,o=function(){var M,Y;for(Y=[],p=M=0;0<=E?M<E:M>E;p=0<=E?++M:--M)Y.push(t.readUInt16());return Y}(),t.pos+=2,L=function(){var M,Y;for(Y=[],p=M=0;0<=E?M<E:M>E;p=0<=E?++M:--M)Y.push(t.readUInt16());return Y}(),x=function(){var M,Y;for(Y=[],p=M=0;0<=E?M<E:M>E;p=0<=E?++M:--M)Y.push(t.readUInt16());return Y}(),N=function(){var M,Y;for(Y=[],p=M=0;0<=E?M<E:M>E;p=0<=E?++M:--M)Y.push(t.readUInt16());return Y}(),s=(this.length-t.pos+this.offset)/2,d=function(){var M,Y;for(Y=[],p=M=0;0<=s?M<s:M>s;p=0<=s?++M:--M)Y.push(t.readUInt16());return Y}(),p=I=0,D=o.length;I<D;p=++I)for(P=o[p],r=_=j=L[p];j<=P?_<=P:_>=P;r=j<=P?++_:--_)N[p]===0?f=r+x[p]:(f=d[N[p]/2+(r-j)-(E-p)]||0)!==0&&(f+=x[p]),this.codeMap[r]=65535&f}t.pos=S}return e.encode=function(t,n){var r,s,o,f,d,p,x,N,S,E,w,j,L,P,I,_,D,M,Y,X,k,q,K,ge,U,B,ie,se,ae,J,$,ce,de,be,Pe,F,te,re,me,oe,Le,_e,xe,Ee,Ae,Me;switch(se=new Go,f=Object.keys(t).sort(function(Oe,Qe){return Oe-Qe}),n){case"macroman":for(L=0,P=function(){var Oe=[];for(j=0;j<256;++j)Oe.push(0);return Oe}(),_={0:0},o={},ae=0,de=f.length;ae<de;ae++)_[xe=t[s=f[ae]]]==null&&(_[xe]=++L),o[s]={old:t[s],new:_[t[s]]},P[s]=_[t[s]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(P),{charMap:o,subtable:se.data,maxGlyphID:L+1};case"unicode":for(B=[],S=[],D=0,_={},r={},I=x=null,J=0,be=f.length;J<be;J++)_[Y=t[s=f[J]]]==null&&(_[Y]=++D),r[s]={old:Y,new:_[Y]},d=_[Y]-s,I!=null&&d===x||(I&&S.push(I),B.push(s),x=d),I=s;for(I&&S.push(I),S.push(65535),B.push(65535),ge=2*(K=B.length),q=2*Math.pow(Math.log(K)/Math.LN2,2),E=Math.log(q/2)/Math.LN2,k=2*K-q,p=[],X=[],w=[],j=$=0,Pe=B.length;$<Pe;j=++$){if(U=B[j],N=S[j],U===65535){p.push(0),X.push(0);break}if(U-(ie=r[U].new)>=32768)for(p.push(0),X.push(2*(w.length+K-j)),s=ce=U;U<=N?ce<=N:ce>=N;s=U<=N?++ce:--ce)w.push(r[s].new);else p.push(ie-U),X.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*K+2*w.length),se.writeUInt16(0),se.writeUInt16(ge),se.writeUInt16(q),se.writeUInt16(E),se.writeUInt16(k),Le=0,F=S.length;Le<F;Le++)s=S[Le],se.writeUInt16(s);for(se.writeUInt16(0),_e=0,te=B.length;_e<te;_e++)s=B[_e],se.writeUInt16(s);for(Ee=0,re=p.length;Ee<re;Ee++)d=p[Ee],se.writeUInt16(d);for(Ae=0,me=X.length;Ae<me;Ae++)M=X[Ae],se.writeUInt16(M);for(Me=0,oe=w.length;Me<oe;Me++)L=w[Me],se.writeUInt16(L);return{charMap:r,subtable:se.data,maxGlyphID:D+1}}},e}(),t4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)r=new pm(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,o;return r==null&&(r="macroman"),s=pm.encode(n,r),(o=new Go).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},t}(),a6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),s6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),o6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var f;for(s=n.readUInt16(),this.glyphNameIndex=[],f=0;0<=s?f<s:f>s;f=0<=s?++f:--f)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var d,p,x;for(x=[],f=d=0,p=this.file.maxp.numGlyphs;0<=p?d<p:d>p;f=0<=p?++d:--d)x.push(n.readUInt32());return x}).call(this)}},t}(),l6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},c6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,o,f,d,p,x,N,S,E,w;for(n.pos=this.offset,n.readShort(),r=n.readShort(),p=n.readShort(),s=[],f=0;0<=r?f<r:f>r;f=0<=r?++f:--f)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+p+n.readShort()});for(x={},f=S=0,E=s.length;S<E;f=++S)o=s[f],n.pos=o.offset,N=n.readString(o.length),d=new l6(N,o),x[w=o.nameID]==null&&(x[w]=[]),x[o.nameID].push(d);this.strings=x,this.copyright=x[0],this.fontFamily=x[1],this.fontSubfamily=x[2],this.uniqueSubfamily=x[3],this.fontName=x[4],this.version=x[5];try{this.postscriptName=x[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=x[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=x[7],this.manufacturer=x[8],this.designer=x[9],this.description=x[10],this.vendorUrl=x[11],this.designerUrl=x[12],this.license=x[13],this.licenseUrl=x[14],this.preferredFamily=x[15],this.preferredSubfamily=x[17],this.compatibleFull=x[18],this.sampleText=x[19]},t}(),u6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),f6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,o,f,d,p,x;for(n.pos=this.offset,this.metrics=[],r=0,p=this.file.hhea.numberOfMetrics;0<=p?r<p:r>p;r=0<=p?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var N,S;for(S=[],r=N=0;0<=o?N<o:N>o;r=0<=o?++N:--N)S.push(n.readInt16());return S}(),this.widths=(function(){var N,S,E,w;for(w=[],N=0,S=(E=this.metrics).length;N<S;N++)f=E[N],w.push(f.advance);return w}).call(this),s=this.widths[this.widths.length-1],x=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)x.push(this.widths.push(s));return x},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),n4=[].slice,h6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,o,f,d,p,x,N,S,E;return n in this.cache?this.cache[n]:(f=this.file.loca,r=this.file.contents,s=f.indexOf(n),(o=f.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,d=(p=new Go(r.read(o))).readShort(),N=p.readShort(),E=p.readShort(),x=p.readShort(),S=p.readShort(),this.cache[n]=d===-1?new g6(p,N,E,x,S):new d6(p,d,N,E,x,S),this.cache[n]))},t.prototype.encode=function(n,r,s){var o,f,d,p,x;for(d=[],f=[],p=0,x=r.length;p<x;p++)o=n[r[p]],f.push(d.length),o&&(d=d.concat(o.encode(s)));return f.push(d.length),{table:d,offsets:f}},t}(),d6=function(){function e(t,n,r,s,o,f){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=f,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),g6=function(){function e(t,n,r,s,o){var f,d;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;d=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&d;)f.pos+=1&d?4:2,128&d?f.pos+=8:64&d?f.pos+=4:8&d&&(f.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Go(n4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),p6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Xa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=2)f.push(2*n.readUInt16());return f}).call(this):(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=4)f.push(n.readUInt32());return f}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),o=0,f=0,d=0;d<s.length;++d)if(s[d]=o,f<r.length&&r[f]==d){++f,s[d]=o;var p=this.offsets[d],x=this.offsets[d+1]-p;x>0&&(o+=x)}for(var N=new Array(4*s.length),S=0;S<s.length;++S)N[4*S+3]=255&s[S],N[4*S+2]=(65280&s[S])>>8,N[4*S+1]=(16711680&s[S])>>16,N[4*S]=(4278190080&s[S])>>24;return N},t}(),m6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,o;for(n in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,o,f,d,p;for(s={},f=0,d=t.length;f<d;f++)s[o=t[f]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(r=s[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in p=this.glyphsFor(n))r=p[o],s[o]=r;return s},e.prototype.encode=function(t,n){var r,s,o,f,d,p,x,N,S,E,w,j,L,P,I;for(s in r=t4.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(t),w={0:0},I=r.charMap)w[(p=I[s]).old]=p.new;for(j in E=r.maxGlyphID,f)j in w||(w[j]=E++);return N=function(_){var D,M;for(D in M={},_)M[_[D]]=D;return M}(w),S=Object.keys(N).sort(function(_,D){return _-D}),L=function(){var _,D,M;for(M=[],_=0,D=S.length;_<D;_++)d=S[_],M.push(N[d]);return M}(),o=this.font.glyf.encode(f,L,w),x=this.font.loca.encode(o.offsets,L),P={cmap:this.font.cmap.raw(),glyf:o.table,loca:x,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},e}();It.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,o,f;if(Array.isArray(n))return"["+function(){var d,p,x;for(x=[],d=0,p=n.length;d<p;d++)r=n[d],x.push(t.convert(r));return x}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)f=n[s],o.push("/"+s+" "+t.convert(f));return o.push(">>"),o.join(`
`)}return""+n},t}();const x6=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Xw,AcroFormAppearance:mt,AcroFormButton:zi,AcroFormCheckBox:Mu,AcroFormChoiceField:Cl,AcroFormComboBox:Tl,AcroFormEditBox:Du,AcroFormListBox:El,AcroFormPasswordField:Ou,AcroFormPushButton:Lu,AcroFormRadioButton:_l,AcroFormTextField:Fo,GState:Ju,ShadingPattern:So,TilingPattern:xl,default:It,jsPDF:It},Symbol.toStringTag,{value:"Module"}));var y6={exports:{}};const v6=K4(x6);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(r,s){e.exports=s(function(){try{return v6}catch{}}())})(typeof globalThis<"u"?globalThis:typeof yo<"u"?yo:typeof window<"u"?window:typeof self<"u"?self:yo,function(n){return function(){var r={172:function(d,p){var x=this&&this.__extends||function(){var E=function(w,j){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,P){L.__proto__=P}||function(L,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(L[I]=P[I])},E(w,j)};return function(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");E(w,j);function L(){this.constructor=w}w.prototype=j===null?Object.create(j):(L.prototype=j.prototype,new L)}}();Object.defineProperty(p,"__esModule",{value:!0}),p.CellHookData=p.HookData=void 0;var N=function(){function E(w,j,L){this.table=j,this.pageNumber=j.pageNumber,this.pageCount=this.pageNumber,this.settings=j.settings,this.cursor=L,this.doc=w.getDocument()}return E}();p.HookData=N;var S=function(E){x(w,E);function w(j,L,P,I,_,D){var M=E.call(this,j,L,D)||this;return M.cell=P,M.row=I,M.column=_,M.section=I.section,M}return w}(N);p.CellHookData=S},340:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0});var N=x(4),S=x(136),E=x(744),w=x(776),j=x(664),L=x(972);function P(I){I.API.autoTable=function(){for(var _=[],D=0;D<arguments.length;D++)_[D]=arguments[D];var M;_.length===1?M=_[0]:(console.error("Use of deprecated autoTable initiation"),M=_[2]||{},M.columns=_[0],M.body=_[1]);var Y=(0,w.parseInput)(this,M),X=(0,L.createTable)(this,Y);return(0,j.drawTable)(this,X),this},I.API.lastAutoTable=!1,I.API.previousAutoTable=!1,I.API.autoTable.previous=!1,I.API.autoTableText=function(_,D,M,Y){(0,S.default)(_,D,M,Y,this)},I.API.autoTableSetDefaults=function(_){return E.DocHandler.setDefaults(_,this),this},I.autoTableSetDefaults=function(_,D){E.DocHandler.setDefaults(_,D)},I.API.autoTableHtmlToJson=function(_,D){var M;if(D===void 0&&(D=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Y=new E.DocHandler(this),X=(0,N.parseHtml)(Y,_,window,D,!1),k=X.head,q=X.body,K=((M=k[0])===null||M===void 0?void 0:M.map(function(ge){return ge.content}))||[];return{columns:K,rows:q,data:q}},I.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var _=this.lastAutoTable;return _&&_.finalY?_.finalY:0},I.API.autoTableAddPageContent=function(_){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),I.API.autoTable.globalDefaults||(I.API.autoTable.globalDefaults={}),I.API.autoTable.globalDefaults.addPageContent=_,this},I.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}p.default=P},136:function(d,p){Object.defineProperty(p,"__esModule",{value:!0});function x(N,S,E,w,j){w=w||{};var L=1.15,P=j.internal.scaleFactor,I=j.internal.getFontSize()/P,_=j.getLineHeightFactor?j.getLineHeightFactor():L,D=I*_,M=/\r\n|\r|\n/g,Y="",X=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(Y=typeof N=="string"?N.split(M):N,X=Y.length||1),E+=I*(2-L),w.valign==="middle"?E-=X/2*D:w.valign==="bottom"&&(E-=X*D),w.halign==="center"||w.halign==="right"){var k=I;if(w.halign==="center"&&(k*=.5),Y&&X>=1){for(var q=0;q<Y.length;q++)j.text(Y[q],S-j.getStringUnitWidth(Y[q])*k,E),E+=D;return j}S-=j.getStringUnitWidth(N)*k}return w.halign==="justify"?j.text(N,S,E,{maxWidth:w.maxWidth||100,align:"justify"}):j.text(N,S,E),j}p.default=x},420:function(d,p){Object.defineProperty(p,"__esModule",{value:!0}),p.getPageAvailableWidth=p.parseSpacing=p.getFillStyle=p.addTableBorder=p.getStringWidth=void 0;function x(j,L,P){P.applyStyles(L,!0);var I=Array.isArray(j)?j:[j],_=I.map(function(D){return P.getTextWidth(D)}).reduce(function(D,M){return Math.max(D,M)},0);return _}p.getStringWidth=x;function N(j,L,P,I){var _=L.settings.tableLineWidth,D=L.settings.tableLineColor;j.applyStyles({lineWidth:_,lineColor:D});var M=S(_,!1);M&&j.rect(P.x,P.y,L.getWidth(j.pageSize().width),I.y-P.y,M)}p.addTableBorder=N;function S(j,L){var P=j>0,I=L||L===0;return P&&I?"DF":P?"S":I?"F":null}p.getFillStyle=S;function E(j,L){var P,I,_,D;if(j=j||L,Array.isArray(j)){if(j.length>=4)return{top:j[0],right:j[1],bottom:j[2],left:j[3]};if(j.length===3)return{top:j[0],right:j[1],bottom:j[2],left:j[1]};if(j.length===2)return{top:j[0],right:j[1],bottom:j[0],left:j[1]};j.length===1?j=j[0]:j=L}return typeof j=="object"?(typeof j.vertical=="number"&&(j.top=j.vertical,j.bottom=j.vertical),typeof j.horizontal=="number"&&(j.right=j.horizontal,j.left=j.horizontal),{left:(P=j.left)!==null&&P!==void 0?P:L,top:(I=j.top)!==null&&I!==void 0?I:L,right:(_=j.right)!==null&&_!==void 0?_:L,bottom:(D=j.bottom)!==null&&D!==void 0?D:L}):(typeof j!="number"&&(j=L),{top:j,right:j,bottom:j,left:j})}p.parseSpacing=E;function w(j,L){var P=E(L.settings.margin,0);return j.pageSize().width-(P.left+P.right)}p.getPageAvailableWidth=w},796:function(d,p){var x=this&&this.__extends||function(){var w=function(j,L){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,I){P.__proto__=I}||function(P,I){for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(P[_]=I[_])},w(j,L)};return function(j,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");w(j,L);function P(){this.constructor=j}j.prototype=L===null?Object.create(L):(P.prototype=L.prototype,new P)}}();Object.defineProperty(p,"__esModule",{value:!0}),p.getTheme=p.defaultStyles=p.HtmlRowInput=void 0;var N=function(w){x(j,w);function j(L){var P=w.call(this)||this;return P._element=L,P}return j}(Array);p.HtmlRowInput=N;function S(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}p.defaultStyles=S;function E(w){var j={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return j[w]}p.getTheme=E},903:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.parseCss=void 0;var N=x(420);function S(P,I,_,D,M){var Y={},X=1.3333333333333333,k=w(I,function(de){return M.getComputedStyle(de).backgroundColor});k!=null&&(Y.fillColor=k);var q=w(I,function(de){return M.getComputedStyle(de).color});q!=null&&(Y.textColor=q);var K=L(D,_);K&&(Y.cellPadding=K);var ge="borderTopColor",U=X*_,B=D.borderTopWidth;if(D.borderBottomWidth===B&&D.borderRightWidth===B&&D.borderLeftWidth===B){var ie=(parseFloat(B)||0)/U;ie&&(Y.lineWidth=ie)}else Y.lineWidth={top:(parseFloat(D.borderTopWidth)||0)/U,right:(parseFloat(D.borderRightWidth)||0)/U,bottom:(parseFloat(D.borderBottomWidth)||0)/U,left:(parseFloat(D.borderLeftWidth)||0)/U},Y.lineWidth.top||(Y.lineWidth.right?ge="borderRightColor":Y.lineWidth.bottom?ge="borderBottomColor":Y.lineWidth.left&&(ge="borderLeftColor"));var se=w(I,function(de){return M.getComputedStyle(de)[ge]});se!=null&&(Y.lineColor=se);var ae=["left","right","center","justify"];ae.indexOf(D.textAlign)!==-1&&(Y.halign=D.textAlign),ae=["middle","bottom","top"],ae.indexOf(D.verticalAlign)!==-1&&(Y.valign=D.verticalAlign);var J=parseInt(D.fontSize||"");isNaN(J)||(Y.fontSize=J/X);var $=E(D);$&&(Y.fontStyle=$);var ce=(D.fontFamily||"").toLowerCase();return P.indexOf(ce)!==-1&&(Y.font=ce),Y}p.parseCss=S;function E(P){var I="";return(P.fontWeight==="bold"||P.fontWeight==="bolder"||parseInt(P.fontWeight)>=700)&&(I="bold"),(P.fontStyle==="italic"||P.fontStyle==="oblique")&&(I+="italic"),I}function w(P,I){var _=j(P,I);if(!_)return null;var D=_.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!D||!Array.isArray(D))return null;var M=[parseInt(D[1]),parseInt(D[2]),parseInt(D[3])],Y=parseInt(D[4]);return Y===0||isNaN(M[0])||isNaN(M[1])||isNaN(M[2])?null:M}function j(P,I){var _=I(P);return _==="rgba(0, 0, 0, 0)"||_==="transparent"||_==="initial"||_==="inherit"?P.parentElement==null?null:j(P.parentElement,I):_}function L(P,I){var _=[P.paddingTop,P.paddingRight,P.paddingBottom,P.paddingLeft],D=96/(72/I),M=(parseInt(P.lineHeight)-parseInt(P.fontSize))/I/2,Y=_.map(function(k){return parseInt(k||"0")/D}),X=(0,N.parseSpacing)(Y,0);return M>X.top&&(X.top=M),M>X.bottom&&(X.bottom=M),X}},744:function(d,p){Object.defineProperty(p,"__esModule",{value:!0}),p.DocHandler=void 0;var x={},N=function(){function S(E){this.jsPDFDocument=E,this.userStyles={textColor:E.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:E.internal.getFontSize(),fontStyle:E.internal.getFont().fontStyle,font:E.internal.getFont().fontName,lineWidth:E.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:E.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return S.setDefaults=function(E,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=E:x=E},S.unifyColor=function(E){return Array.isArray(E)?E:typeof E=="number"?[E,E,E]:typeof E=="string"?[E]:null},S.prototype.applyStyles=function(E,w){var j,L,P;w===void 0&&(w=!1),E.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E.fontStyle);var I=this.jsPDFDocument.internal.getFont(),_=I.fontStyle,D=I.fontName;if(E.font&&(D=E.font),E.fontStyle){_=E.fontStyle;var M=this.getFontList()[D];M&&M.indexOf(_)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(M[0]),_=M[0])}if(this.jsPDFDocument.setFont(D,_),E.fontSize&&this.jsPDFDocument.setFontSize(E.fontSize),!w){var Y=S.unifyColor(E.fillColor);Y&&(j=this.jsPDFDocument).setFillColor.apply(j,Y),Y=S.unifyColor(E.textColor),Y&&(L=this.jsPDFDocument).setTextColor.apply(L,Y),Y=S.unifyColor(E.lineColor),Y&&(P=this.jsPDFDocument).setDrawColor.apply(P,Y),typeof E.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(E.lineWidth)}},S.prototype.splitTextToSize=function(E,w,j){return this.jsPDFDocument.splitTextToSize(E,w,j)},S.prototype.rect=function(E,w,j,L,P){return this.jsPDFDocument.rect(E,w,j,L,P)},S.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},S.prototype.getTextWidth=function(E){return this.jsPDFDocument.getTextWidth(E)},S.prototype.getDocument=function(){return this.jsPDFDocument},S.prototype.setPage=function(E){this.jsPDFDocument.setPage(E)},S.prototype.addPage=function(){return this.jsPDFDocument.addPage()},S.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},S.prototype.getGlobalOptions=function(){return x||{}},S.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},S.prototype.pageSize=function(){var E=this.jsPDFDocument.internal.pageSize;return E.width==null&&(E={width:E.getWidth(),height:E.getHeight()}),E},S.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},S.prototype.getLineHeightFactor=function(){var E=this.jsPDFDocument;return E.getLineHeightFactor?E.getLineHeightFactor():1.15},S.prototype.getLineHeight=function(E){return E/this.scaleFactor()*this.getLineHeightFactor()},S.prototype.pageNumber=function(){var E=this.jsPDFDocument.internal.getCurrentPageInfo();return E?E.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},S}();p.DocHandler=N},4:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.parseHtml=void 0;var N=x(903),S=x(796);function E(L,P,I,_,D){var M,Y;_===void 0&&(_=!1),D===void 0&&(D=!1);var X;typeof P=="string"?X=I.document.querySelector(P):X=P;var k=Object.keys(L.getFontList()),q=L.scaleFactor(),K=[],ge=[],U=[];if(!X)return console.error("Html table could not be found with input: ",P),{head:K,body:ge,foot:U};for(var B=0;B<X.rows.length;B++){var ie=X.rows[B],se=(Y=(M=ie==null?void 0:ie.parentElement)===null||M===void 0?void 0:M.tagName)===null||Y===void 0?void 0:Y.toLowerCase(),ae=w(k,q,I,ie,_,D);ae&&(se==="thead"?K.push(ae):se==="tfoot"?U.push(ae):ge.push(ae))}return{head:K,body:ge,foot:U}}p.parseHtml=E;function w(L,P,I,_,D,M){for(var Y=new S.HtmlRowInput(_),X=0;X<_.cells.length;X++){var k=_.cells[X],q=I.getComputedStyle(k);if(D||q.display!=="none"){var K=void 0;M&&(K=(0,N.parseCss)(L,k,P,q,I)),Y.push({rowSpan:k.rowSpan,colSpan:k.colSpan,styles:K,_element:k,content:j(k)})}}var ge=I.getComputedStyle(_);if(Y.length>0&&(D||ge.display!=="none"))return Y}function j(L){var P=L.cloneNode(!0);return P.innerHTML=P.innerHTML.replace(/\n/g,"").replace(/ +/g," "),P.innerHTML=P.innerHTML.split(/<br.*?>/).map(function(I){return I.trim()}).join(`
`),P.innerText||P.textContent||""}},776:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.parseInput=void 0;var N=x(4),S=x(356),E=x(420),w=x(744),j=x(792);function L(X,k){var q=new w.DocHandler(X),K=q.getDocumentOptions(),ge=q.getGlobalOptions();(0,j.default)(q,ge,K,k);var U=(0,S.assign)({},ge,K,k),B;typeof window<"u"&&(B=window);var ie=P(ge,K,k),se=I(ge,K,k),ae=_(q,U),J=M(q,U,B);return{id:k.tableId,content:J,hooks:se,styles:ie,settings:ae}}p.parseInput=L;function P(X,k,q){for(var K={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},ge=function(se){if(se==="columnStyles"){var ae=X[se],J=k[se],$=q[se];K.columnStyles=(0,S.assign)({},ae,J,$)}else{var ce=[X,k,q],de=ce.map(function(be){return be[se]||{}});K[se]=(0,S.assign)({},de[0],de[1],de[2])}},U=0,B=Object.keys(K);U<B.length;U++){var ie=B[U];ge(ie)}return K}function I(X,k,q){for(var K=[X,k,q],ge={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},U=0,B=K;U<B.length;U++){var ie=B[U];ie.didParseCell&&ge.didParseCell.push(ie.didParseCell),ie.willDrawCell&&ge.willDrawCell.push(ie.willDrawCell),ie.didDrawCell&&ge.didDrawCell.push(ie.didDrawCell),ie.willDrawPage&&ge.willDrawPage.push(ie.willDrawPage),ie.didDrawPage&&ge.didDrawPage.push(ie.didDrawPage)}return ge}function _(X,k){var q,K,ge,U,B,ie,se,ae,J,$,ce,de,be=(0,E.parseSpacing)(k.margin,40/X.scaleFactor()),Pe=(q=D(X,k.startY))!==null&&q!==void 0?q:be.top,F;k.showFoot===!0?F="everyPage":k.showFoot===!1?F="never":F=(K=k.showFoot)!==null&&K!==void 0?K:"everyPage";var te;k.showHead===!0?te="everyPage":k.showHead===!1?te="never":te=(ge=k.showHead)!==null&&ge!==void 0?ge:"everyPage";var re=(U=k.useCss)!==null&&U!==void 0?U:!1,me=k.theme||(re?"plain":"striped"),oe=!!k.horizontalPageBreak,Le=(B=k.horizontalPageBreakRepeat)!==null&&B!==void 0?B:null;return{includeHiddenHtml:(ie=k.includeHiddenHtml)!==null&&ie!==void 0?ie:!1,useCss:re,theme:me,startY:Pe,margin:be,pageBreak:(se=k.pageBreak)!==null&&se!==void 0?se:"auto",rowPageBreak:(ae=k.rowPageBreak)!==null&&ae!==void 0?ae:"auto",tableWidth:(J=k.tableWidth)!==null&&J!==void 0?J:"auto",showHead:te,showFoot:F,tableLineWidth:($=k.tableLineWidth)!==null&&$!==void 0?$:0,tableLineColor:(ce=k.tableLineColor)!==null&&ce!==void 0?ce:200,horizontalPageBreak:oe,horizontalPageBreakRepeat:Le,horizontalPageBreakBehaviour:(de=k.horizontalPageBreakBehaviour)!==null&&de!==void 0?de:"afterAllRows"}}function D(X,k){var q=X.getLastAutoTable(),K=X.scaleFactor(),ge=X.pageNumber(),U=!1;if(q&&q.startPageNumber){var B=q.startPageNumber+q.pageNumber-1;U=B===ge}return typeof k=="number"?k:(k==null||k===!1)&&U&&(q==null?void 0:q.finalY)!=null?q.finalY+20/K:null}function M(X,k,q){var K=k.head||[],ge=k.body||[],U=k.foot||[];if(k.html){var B=k.includeHiddenHtml;if(q){var ie=(0,N.parseHtml)(X,k.html,q,B,k.useCss)||{};K=ie.head||K,ge=ie.body||K,U=ie.foot||K}else console.error("Cannot parse html in non browser environment")}var se=k.columns||Y(K,ge,U);return{columns:se,head:K,body:ge,foot:U}}function Y(X,k,q){var K=X[0]||k[0]||q[0]||[],ge=[];return Object.keys(K).filter(function(U){return U!=="_element"}).forEach(function(U){var B=1,ie;Array.isArray(K)?ie=K[parseInt(U)]:ie=K[U],typeof ie=="object"&&!Array.isArray(ie)&&(B=(ie==null?void 0:ie.colSpan)||1);for(var se=0;se<B;se++){var ae=void 0;Array.isArray(K)?ae=ge.length:ae=U+(se>0?"_".concat(se):"");var J={dataKey:ae};ge.push(J)}}),ge}},792:function(d,p){Object.defineProperty(p,"__esModule",{value:!0});function x(S,E,w,j){for(var L=function(D){D&&typeof D!="object"&&console.error("The options parameter should be of type object, is: "+typeof D),typeof D.extendWidth<"u"&&(D.tableWidth=D.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof D.margins<"u"&&(typeof D.margin>"u"&&(D.margin=D.margins),console.error("Use of deprecated option: margins, use margin instead.")),D.startY&&typeof D.startY!="number"&&(console.error("Invalid value for startY option",D.startY),delete D.startY),!D.didDrawPage&&(D.afterPageContent||D.beforePageContent||D.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),D.didDrawPage=function(U){S.applyStyles(S.userStyles),D.beforePageContent&&D.beforePageContent(U),S.applyStyles(S.userStyles),D.afterPageContent&&D.afterPageContent(U),S.applyStyles(S.userStyles),D.afterPageAdd&&U.pageNumber>1&&U.afterPageAdd(U),S.applyStyles(S.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(U){D[U]&&console.error('The "'.concat(U,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(U){var B=U[0],ie=U[1];D[ie]&&(console.error("Use of deprecated option ".concat(ie,". Use ").concat(B," instead")),D[B]=D[ie])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(U){var B=typeof U=="string"?U:U[0],ie=typeof U=="string"?U:U[1];typeof D[B]<"u"&&(typeof D.styles[ie]>"u"&&(D.styles[ie]=D[B]),console.error("Use of deprecated option: "+B+", use the style "+ie+" instead."))});for(var M=0,Y=["styles","bodyStyles","headStyles","footStyles"];M<Y.length;M++){var X=Y[M];N(D[X]||{})}for(var k=D.columnStyles||{},q=0,K=Object.keys(k);q<K.length;q++){var ge=K[q];N(k[ge]||{})}},P=0,I=[E,w,j];P<I.length;P++){var _=I[P];L(_)}}p.default=x;function N(S){S.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),S.minCellHeight||(S.minCellHeight=S.rowHeight)):S.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),S.cellWidth||(S.cellWidth=S.columnWidth))}},260:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.Column=p.Cell=p.Row=p.Table=void 0;var N=x(796),S=x(172),E=x(420),w=function(){function I(_,D){this.pageNumber=1,this.pageCount=1,this.id=_.id,this.settings=_.settings,this.styles=_.styles,this.hooks=_.hooks,this.columns=D.columns,this.head=D.head,this.body=D.body,this.foot=D.foot}return I.prototype.getHeadHeight=function(_){return this.head.reduce(function(D,M){return D+M.getMaxCellHeight(_)},0)},I.prototype.getFootHeight=function(_){return this.foot.reduce(function(D,M){return D+M.getMaxCellHeight(_)},0)},I.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},I.prototype.callCellHooks=function(_,D,M,Y,X,k){for(var q=0,K=D;q<K.length;q++){var ge=K[q],U=new S.CellHookData(_,this,M,Y,X,k),B=ge(U)===!1;if(M.text=Array.isArray(M.text)?M.text:[M.text],B)return!1}return!0},I.prototype.callEndPageHooks=function(_,D){_.applyStyles(_.userStyles);for(var M=0,Y=this.hooks.didDrawPage;M<Y.length;M++){var X=Y[M];X(new S.HookData(_,this,D))}},I.prototype.callWillDrawPageHooks=function(_,D){for(var M=0,Y=this.hooks.willDrawPage;M<Y.length;M++){var X=Y[M];X(new S.HookData(_,this,D))}},I.prototype.getWidth=function(_){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var D=this.columns.reduce(function(Y,X){return Y+X.wrappedWidth},0);return D}else{var M=this.settings.margin;return _-M.left-M.right}},I}();p.Table=w;var j=function(){function I(_,D,M,Y,X){X===void 0&&(X=!1),this.height=0,this.raw=_,_ instanceof N.HtmlRowInput&&(this.raw=_._element,this.element=_._element),this.index=D,this.section=M,this.cells=Y,this.spansMultiplePages=X}return I.prototype.getMaxCellHeight=function(_){var D=this;return _.reduce(function(M,Y){var X;return Math.max(M,((X=D.cells[Y.index])===null||X===void 0?void 0:X.height)||0)},0)},I.prototype.hasRowSpan=function(_){var D=this;return _.filter(function(M){var Y=D.cells[M.index];return Y?Y.rowSpan>1:!1}).length>0},I.prototype.canEntireRowFit=function(_,D){return this.getMaxCellHeight(D)<=_},I.prototype.getMinimumRowHeight=function(_,D){var M=this;return _.reduce(function(Y,X){var k=M.cells[X.index];if(!k)return 0;var q=D.getLineHeight(k.styles.fontSize),K=k.padding("vertical"),ge=K+q;return ge>Y?ge:Y},0)},I}();p.Row=j;var L=function(){function I(_,D,M){var Y,X;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=D,this.section=M,this.raw=_;var k=_;_!=null&&typeof _=="object"&&!Array.isArray(_)?(this.rowSpan=_.rowSpan||1,this.colSpan=_.colSpan||1,k=(X=(Y=_.content)!==null&&Y!==void 0?Y:_.title)!==null&&X!==void 0?X:_,_._element&&(this.raw=_._element)):(this.rowSpan=1,this.colSpan=1);var q=k!=null?""+k:"",K=/\r\n|\r|\n/g;this.text=q.split(K)}return I.prototype.getTextPos=function(){var _;if(this.styles.valign==="top")_=this.y+this.padding("top");else if(this.styles.valign==="bottom")_=this.y+this.height-this.padding("bottom");else{var D=this.height-this.padding("vertical");_=this.y+D/2+this.padding("top")}var M;if(this.styles.halign==="right")M=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var Y=this.width-this.padding("horizontal");M=this.x+Y/2+this.padding("left")}else M=this.x+this.padding("left");return{x:M,y:_}},I.prototype.getContentHeight=function(_,D){D===void 0&&(D=1.15);var M=Array.isArray(this.text)?this.text.length:1,Y=this.styles.fontSize/_*D,X=M*Y+this.padding("vertical");return Math.max(X,this.styles.minCellHeight)},I.prototype.padding=function(_){var D=(0,E.parseSpacing)(this.styles.cellPadding,0);return _==="vertical"?D.top+D.bottom:_==="horizontal"?D.left+D.right:D[_]},I}();p.Cell=L;var P=function(){function I(_,D,M){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=_,this.raw=D,this.index=M}return I.prototype.getMaxCustomCellWidth=function(_){for(var D=0,M=0,Y=_.allRows();M<Y.length;M++){var X=Y[M],k=X.cells[this.index];k&&typeof k.styles.cellWidth=="number"&&(D=Math.max(D,k.styles.cellWidth))}return D},I}();p.Column=P},356:function(d,p){Object.defineProperty(p,"__esModule",{value:!0}),p.assign=void 0;function x(N,S,E,w,j){if(N==null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(N),P=1;P<arguments.length;P++){var I=arguments[P];if(I!=null)for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(L[_]=I[_])}return L}p.assign=x},972:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.createTable=void 0;var N=x(744),S=x(260),E=x(324),w=x(796),j=x(356);function L(X,k){var q=new N.DocHandler(X),K=P(k,q.scaleFactor()),ge=new S.Table(k,K);return(0,E.calculateWidths)(q,ge),q.applyStyles(q.userStyles),ge}p.createTable=L;function P(X,k){var q=X.content,K=M(q.columns);if(q.head.length===0){var ge=_(K,"head");ge&&q.head.push(ge)}if(q.foot.length===0){var ge=_(K,"foot");ge&&q.foot.push(ge)}var U=X.settings.theme,B=X.styles;return{columns:K,head:I("head",q.head,K,B,U,k),body:I("body",q.body,K,B,U,k),foot:I("foot",q.foot,K,B,U,k)}}function I(X,k,q,K,ge,U){var B={},ie=k.map(function(se,ae){for(var J=0,$={},ce=0,de=0,be=0,Pe=q;be<Pe.length;be++){var F=Pe[be];if(B[F.index]==null||B[F.index].left===0)if(de===0){var te=void 0;Array.isArray(se)?te=se[F.index-ce-J]:te=se[F.dataKey];var re={};typeof te=="object"&&!Array.isArray(te)&&(re=(te==null?void 0:te.styles)||{});var me=Y(X,F,ae,ge,K,U,re),oe=new S.Cell(te,me,X);$[F.dataKey]=oe,$[F.index]=oe,de=oe.colSpan-1,B[F.index]={left:oe.rowSpan-1,times:de}}else de--,ce++;else B[F.index].left--,de=B[F.index].times,J++}return new S.Row(se,ae,X,$)});return ie}function _(X,k){var q={};return X.forEach(function(K){if(K.raw!=null){var ge=D(k,K.raw);ge!=null&&(q[K.dataKey]=ge)}}),Object.keys(q).length>0?q:null}function D(X,k){if(X==="head"){if(typeof k=="object")return k.header||k.title||null;if(typeof k=="string"||typeof k=="number")return k}else if(X==="foot"&&typeof k=="object")return k.footer;return null}function M(X){return X.map(function(k,q){var K,ge,U;return typeof k=="object"?U=(ge=(K=k.dataKey)!==null&&K!==void 0?K:k.key)!==null&&ge!==void 0?ge:q:U=q,new S.Column(U,k,q)})}function Y(X,k,q,K,ge,U,B){var ie=(0,w.getTheme)(K),se;X==="head"?se=ge.headStyles:X==="body"?se=ge.bodyStyles:X==="foot"&&(se=ge.footStyles);var ae=(0,j.assign)({},ie.table,ie[X],ge.styles,se),J=ge.columnStyles[k.dataKey]||ge.columnStyles[k.index]||{},$=X==="body"?J:{},ce=X==="body"&&q%2===0?(0,j.assign)({},ie.alternateRow,ge.alternateRowStyles):{},de=(0,w.defaultStyles)(U),be=(0,j.assign)({},de,ae,ce,$);return(0,j.assign)(be,B)}},664:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.addPage=p.drawTable=void 0;var N=x(420),S=x(260),E=x(744),w=x(356),j=x(136),L=x(224);function P(J,$){var ce=$.settings,de=ce.startY,be=ce.margin,Pe={x:be.left,y:de},F=$.getHeadHeight($.columns)+$.getFootHeight($.columns),te=de+be.bottom+F;if(ce.pageBreak==="avoid"){var re=$.body,me=re.reduce(function(_e,xe){return _e+xe.height},0);te+=me}var oe=new E.DocHandler(J);(ce.pageBreak==="always"||ce.startY!=null&&te>oe.pageSize().height)&&(ae(oe),Pe.y=be.top),$.callWillDrawPageHooks(oe,Pe);var Le=(0,w.assign)({},Pe);$.startPageNumber=oe.pageNumber(),ce.horizontalPageBreak?I(oe,$,Le,Pe):(oe.applyStyles(oe.userStyles),(ce.showHead==="firstPage"||ce.showHead==="everyPage")&&$.head.forEach(function(_e){return ge(oe,$,_e,Pe,$.columns)}),oe.applyStyles(oe.userStyles),$.body.forEach(function(_e,xe){var Ee=xe===$.body.length-1;K(oe,$,_e,Ee,Le,Pe,$.columns)}),oe.applyStyles(oe.userStyles),(ce.showFoot==="lastPage"||ce.showFoot==="everyPage")&&$.foot.forEach(function(_e){return ge(oe,$,_e,Pe,$.columns)})),(0,N.addTableBorder)(oe,$,Le,Pe),$.callEndPageHooks(oe,Pe),$.finalY=Pe.y,J.lastAutoTable=$,J.previousAutoTable=$,J.autoTable&&(J.autoTable.previous=$),oe.applyStyles(oe.userStyles)}p.drawTable=P;function I(J,$,ce,de){var be=(0,L.calculateAllColumnsCanFitInPage)(J,$),Pe=$.settings;if(Pe.horizontalPageBreakBehaviour==="afterAllRows")be.forEach(function(me,oe){J.applyStyles(J.userStyles),oe>0?se(J,$,ce,de,me.columns,!0):_(J,$,de,me.columns),D(J,$,ce,de,me.columns),Y(J,$,de,me.columns)});else for(var F=-1,te=be[0],re=function(){var me=F;if(te){J.applyStyles(J.userStyles);var oe=te.columns;F>=0?se(J,$,ce,de,oe,!0):_(J,$,de,oe),me=M(J,$,F+1,de,oe),Y(J,$,de,oe)}var Le=me-F;be.slice(1).forEach(function(_e){J.applyStyles(J.userStyles),se(J,$,ce,de,_e.columns,!0),M(J,$,F+1,de,_e.columns,Le),Y(J,$,de,_e.columns)}),F=me};F<$.body.length-1;)re()}function _(J,$,ce,de){var be=$.settings;J.applyStyles(J.userStyles),(be.showHead==="firstPage"||be.showHead==="everyPage")&&$.head.forEach(function(Pe){return ge(J,$,Pe,ce,de)})}function D(J,$,ce,de,be){J.applyStyles(J.userStyles),$.body.forEach(function(Pe,F){var te=F===$.body.length-1;K(J,$,Pe,te,ce,de,be)})}function M(J,$,ce,de,be,Pe){J.applyStyles(J.userStyles),Pe=Pe??$.body.length;var F=Math.min(ce+Pe,$.body.length),te=-1;return $.body.slice(ce,F).forEach(function(re,me){var oe=ce+me===$.body.length-1,Le=ie(J,$,oe,de);re.canEntireRowFit(Le,be)&&(ge(J,$,re,de,be),te=ce+me)}),te}function Y(J,$,ce,de){var be=$.settings;J.applyStyles(J.userStyles),(be.showFoot==="lastPage"||be.showFoot==="everyPage")&&$.foot.forEach(function(Pe){return ge(J,$,Pe,ce,de)})}function X(J,$,ce){var de=ce.getLineHeight(J.styles.fontSize),be=J.padding("vertical"),Pe=Math.floor(($-be)/de);return Math.max(0,Pe)}function k(J,$,ce,de){var be={};J.spansMultiplePages=!0,J.height=0;for(var Pe=0,F=0,te=ce.columns;F<te.length;F++){var re=te[F],me=J.cells[re.index];if(me){Array.isArray(me.text)||(me.text=[me.text]);var oe=new S.Cell(me.raw,me.styles,me.section);oe=(0,w.assign)(oe,me),oe.text=[];var Le=X(me,$,de);me.text.length>Le&&(oe.text=me.text.splice(Le,me.text.length));var _e=de.scaleFactor(),xe=de.getLineHeightFactor();me.contentHeight=me.getContentHeight(_e,xe),me.contentHeight>=$&&(me.contentHeight=$,oe.styles.minCellHeight-=$),me.contentHeight>J.height&&(J.height=me.contentHeight),oe.contentHeight=oe.getContentHeight(_e,xe),oe.contentHeight>Pe&&(Pe=oe.contentHeight),be[re.index]=oe}}var Ee=new S.Row(J.raw,-1,J.section,be,!0);Ee.height=Pe;for(var Ae=0,Me=ce.columns;Ae<Me.length;Ae++){var re=Me[Ae],oe=Ee.cells[re.index];oe&&(oe.height=Ee.height);var me=J.cells[re.index];me&&(me.height=J.height)}return Ee}function q(J,$,ce,de){var be=J.pageSize().height,Pe=de.settings.margin,F=Pe.top+Pe.bottom,te=be-F;$.section==="body"&&(te-=de.getHeadHeight(de.columns)+de.getFootHeight(de.columns));var re=$.getMinimumRowHeight(de.columns,J),me=re<ce;if(re>te)return console.error("Will not be able to print row ".concat($.index," correctly since it's minimum height is larger than page height")),!0;if(!me)return!1;var oe=$.hasRowSpan(de.columns),Le=$.getMaxCellHeight(de.columns)>te;return Le?(oe&&console.error("The content of row ".concat($.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(oe||de.settings.rowPageBreak==="avoid")}function K(J,$,ce,de,be,Pe,F){var te=ie(J,$,de,Pe);if(ce.canEntireRowFit(te,F))ge(J,$,ce,Pe,F);else if(q(J,ce,te,$)){var re=k(ce,te,$,J);ge(J,$,ce,Pe,F),se(J,$,be,Pe,F),K(J,$,re,de,be,Pe,F)}else se(J,$,be,Pe,F),K(J,$,ce,de,be,Pe,F)}function ge(J,$,ce,de,be){de.x=$.settings.margin.left;for(var Pe=0,F=be;Pe<F.length;Pe++){var te=F[Pe],re=ce.cells[te.index];if(!re){de.x+=te.width;continue}J.applyStyles(re.styles),re.x=de.x,re.y=de.y;var me=$.callCellHooks(J,$.hooks.willDrawCell,re,ce,te,de);if(me===!1){de.x+=te.width;continue}U(J,re,de);var oe=re.getTextPos();(0,j.default)(re.text,oe.x,oe.y,{halign:re.styles.halign,valign:re.styles.valign,maxWidth:Math.ceil(re.width-re.padding("left")-re.padding("right"))},J.getDocument()),$.callCellHooks(J,$.hooks.didDrawCell,re,ce,te,de),de.x+=te.width}de.y+=ce.height}function U(J,$,ce){var de=$.styles;if(J.getDocument().setFillColor(J.getDocument().getFillColor()),typeof de.lineWidth=="number"){var be=(0,N.getFillStyle)(de.lineWidth,de.fillColor);be&&J.rect($.x,ce.y,$.width,$.height,be)}else typeof de.lineWidth=="object"&&(de.fillColor&&J.rect($.x,ce.y,$.width,$.height,"F"),B(J,$,ce,de.lineWidth))}function B(J,$,ce,de){var be,Pe,F,te;de.top&&(be=ce.x,Pe=ce.y,F=ce.x+$.width,te=ce.y,de.right&&(F+=.5*de.right),de.left&&(be-=.5*de.left),re(de.top,be,Pe,F,te)),de.bottom&&(be=ce.x,Pe=ce.y+$.height,F=ce.x+$.width,te=ce.y+$.height,de.right&&(F+=.5*de.right),de.left&&(be-=.5*de.left),re(de.bottom,be,Pe,F,te)),de.left&&(be=ce.x,Pe=ce.y,F=ce.x,te=ce.y+$.height,de.top&&(Pe-=.5*de.top),de.bottom&&(te+=.5*de.bottom),re(de.left,be,Pe,F,te)),de.right&&(be=ce.x+$.width,Pe=ce.y,F=ce.x+$.width,te=ce.y+$.height,de.top&&(Pe-=.5*de.top),de.bottom&&(te+=.5*de.bottom),re(de.right,be,Pe,F,te));function re(me,oe,Le,_e,xe){J.getDocument().setLineWidth(me),J.getDocument().line(oe,Le,_e,xe,"S")}}function ie(J,$,ce,de){var be=$.settings.margin.bottom,Pe=$.settings.showFoot;return(Pe==="everyPage"||Pe==="lastPage"&&ce)&&(be+=$.getFootHeight($.columns)),J.pageSize().height-de.y-be}function se(J,$,ce,de,be,Pe){be===void 0&&(be=[]),Pe===void 0&&(Pe=!1),J.applyStyles(J.userStyles),$.settings.showFoot==="everyPage"&&!Pe&&$.foot.forEach(function(te){return ge(J,$,te,de,be)}),$.callEndPageHooks(J,de);var F=$.settings.margin;(0,N.addTableBorder)(J,$,ce,de),ae(J),$.pageNumber++,$.pageCount++,de.x=F.left,de.y=F.top,ce.y=F.top,$.callWillDrawPageHooks(J,de),$.settings.showHead==="everyPage"&&($.head.forEach(function(te){return ge(J,$,te,de,be)}),J.applyStyles(J.userStyles))}p.addPage=se;function ae(J){var $=J.pageNumber();J.setPage($+1);var ce=J.pageNumber();return ce===$?(J.addPage(),!0):!1}},224:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.calculateAllColumnsCanFitInPage=void 0;var N=x(420);function S(w,j,L){var P;L===void 0&&(L={});var I=(0,N.getPageAvailableWidth)(w,j),_=new Map,D=[],M=[],Y=[];j.settings.horizontalPageBreakRepeat,Array.isArray(j.settings.horizontalPageBreakRepeat)?Y=j.settings.horizontalPageBreakRepeat:(typeof j.settings.horizontalPageBreakRepeat=="string"||typeof j.settings.horizontalPageBreakRepeat=="number")&&(Y=[j.settings.horizontalPageBreakRepeat]),Y.forEach(function(K){var ge=j.columns.find(function(U){return U.dataKey===K||U.index===K});ge&&!_.has(ge.index)&&(_.set(ge.index,!0),D.push(ge.index),M.push(j.columns[ge.index]),I-=ge.wrappedWidth)});for(var X=!0,k=(P=L==null?void 0:L.start)!==null&&P!==void 0?P:0;k<j.columns.length;){if(_.has(k)){k++;continue}var q=j.columns[k].wrappedWidth;if(X||I>=q)X=!1,D.push(k),M.push(j.columns[k]),I-=q;else break;k++}return{colIndexes:D,columns:M,lastIndex:k-1}}function E(w,j){for(var L=[],P=0;P<j.columns.length;P++){var I=S(w,j,{start:P});I.columns.length&&(L.push(I),P=I.lastIndex)}return L}p.calculateAllColumnsCanFitInPage=E},324:function(d,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.ellipsize=p.resizeColumns=p.calculateWidths=void 0;var N=x(420);function S(D,M){E(D,M);var Y=[],X=0;M.columns.forEach(function(q){var K=q.getMaxCustomCellWidth(M);K?q.width=K:(q.width=q.wrappedWidth,Y.push(q)),X+=q.width});var k=M.getWidth(D.pageSize().width)-X;k&&(k=w(Y,k,function(q){return Math.max(q.minReadableWidth,q.minWidth)})),k&&(k=w(Y,k,function(q){return q.minWidth})),k=Math.abs(k),!M.settings.horizontalPageBreak&&k>.1/D.scaleFactor()&&(k=k<1?k:Math.round(k),console.warn("Of the table content, ".concat(k," units width could not fit page"))),L(M),P(M,D),j(M)}p.calculateWidths=S;function E(D,M){var Y=D.scaleFactor(),X=M.settings.horizontalPageBreak,k=(0,N.getPageAvailableWidth)(D,M);M.allRows().forEach(function(q){for(var K=0,ge=M.columns;K<ge.length;K++){var U=ge[K],B=q.cells[U.index];if(B){var ie=M.hooks.didParseCell;M.callCellHooks(D,ie,B,q,U,null);var se=B.padding("horizontal");B.contentWidth=(0,N.getStringWidth)(B.text,B.styles,D)+se;var ae=(0,N.getStringWidth)(B.text.join(" ").split(/[^\S\u00A0]+/),B.styles,D);if(B.minReadableWidth=ae+B.padding("horizontal"),typeof B.styles.cellWidth=="number")B.minWidth=B.styles.cellWidth,B.wrappedWidth=B.styles.cellWidth;else if(B.styles.cellWidth==="wrap"||X===!0)B.contentWidth>k?(B.minWidth=k,B.wrappedWidth=k):(B.minWidth=B.contentWidth,B.wrappedWidth=B.contentWidth);else{var J=10/Y;B.minWidth=B.styles.minCellWidth||J,B.wrappedWidth=B.contentWidth,B.minWidth>B.wrappedWidth&&(B.wrappedWidth=B.minWidth)}}}}),M.allRows().forEach(function(q){for(var K=0,ge=M.columns;K<ge.length;K++){var U=ge[K],B=q.cells[U.index];if(B&&B.colSpan===1)U.wrappedWidth=Math.max(U.wrappedWidth,B.wrappedWidth),U.minWidth=Math.max(U.minWidth,B.minWidth),U.minReadableWidth=Math.max(U.minReadableWidth,B.minReadableWidth);else{var ie=M.styles.columnStyles[U.dataKey]||M.styles.columnStyles[U.index]||{},se=ie.cellWidth||ie.minCellWidth;se&&typeof se=="number"&&(U.minWidth=se,U.wrappedWidth=se)}B&&(B.colSpan>1&&!U.minWidth&&(U.minWidth=B.minWidth),B.colSpan>1&&!U.wrappedWidth&&(U.wrappedWidth=B.minWidth))}})}function w(D,M,Y){for(var X=M,k=D.reduce(function(J,$){return J+$.wrappedWidth},0),q=0;q<D.length;q++){var K=D[q],ge=K.wrappedWidth/k,U=X*ge,B=K.width+U,ie=Y(K),se=B<ie?ie:B;M-=se-K.width,K.width=se}if(M=Math.round(M*1e10)/1e10,M){var ae=D.filter(function(J){return M<0?J.width>Y(J):!0});ae.length&&(M=w(ae,M,Y))}return M}p.resizeColumns=w;function j(D){for(var M={},Y=1,X=D.allRows(),k=0;k<X.length;k++)for(var q=X[k],K=0,ge=D.columns;K<ge.length;K++){var U=ge[K],B=M[U.index];if(Y>1)Y--,delete q.cells[U.index];else if(B)B.cell.height+=q.height,Y=B.cell.colSpan,delete q.cells[U.index],B.left--,B.left<=1&&delete M[U.index];else{var ie=q.cells[U.index];if(!ie)continue;if(ie.height=q.height,ie.rowSpan>1){var se=X.length-k,ae=ie.rowSpan>se?se:ie.rowSpan;M[U.index]={cell:ie,left:ae,row:q}}}}}function L(D){for(var M=D.allRows(),Y=0;Y<M.length;Y++)for(var X=M[Y],k=null,q=0,K=0,ge=0;ge<D.columns.length;ge++){var U=D.columns[ge];if(K-=1,K>1&&D.columns[ge+1])q+=U.width,delete X.cells[U.index];else if(k){var B=k;delete X.cells[U.index],k=null,B.width=U.width+q}else{var B=X.cells[U.index];if(!B)continue;if(K=B.colSpan,q=0,B.colSpan>1){k=B,q+=U.width;continue}B.width=U.width+q}}}function P(D,M){for(var Y={count:0,height:0},X=0,k=D.allRows();X<k.length;X++){for(var q=k[X],K=0,ge=D.columns;K<ge.length;K++){var U=ge[K],B=q.cells[U.index];if(B){M.applyStyles(B.styles,!0);var ie=B.width-B.padding("horizontal");if(B.styles.overflow==="linebreak")B.text=M.splitTextToSize(B.text,ie+1/M.scaleFactor(),{fontSize:B.styles.fontSize});else if(B.styles.overflow==="ellipsize")B.text=I(B.text,ie,B.styles,M,"...");else if(B.styles.overflow==="hidden")B.text=I(B.text,ie,B.styles,M,"");else if(typeof B.styles.overflow=="function"){var se=B.styles.overflow(B.text,ie);typeof se=="string"?B.text=[se]:B.text=se}B.contentHeight=B.getContentHeight(M.scaleFactor(),M.getLineHeightFactor());var ae=B.contentHeight/B.rowSpan;B.rowSpan>1&&Y.count*Y.height<ae*B.rowSpan?Y={height:ae,count:B.rowSpan}:Y&&Y.count>0&&Y.height>ae&&(ae=Y.height),ae>q.height&&(q.height=ae)}}Y.count--}}function I(D,M,Y,X,k){return D.map(function(q){return _(q,M,Y,X,k)})}p.ellipsize=I;function _(D,M,Y,X,k){var q=1e4*X.scaleFactor();if(M=Math.ceil(M*q)/q,M>=(0,N.getStringWidth)(D,Y,X))return D;for(;M<(0,N.getStringWidth)(D+k,Y,X)&&!(D.length<=1);)D=D.substring(0,D.length-1);return D.trim()+k}},964:function(d){if(typeof n>"u"){var p=new Error("Cannot find module 'undefined'");throw p.code="MODULE_NOT_FOUND",p}d.exports=n}},s={};function o(d){var p=s[d];if(p!==void 0)return p.exports;var x=s[d]={exports:{}};return r[d].call(x.exports,x,x.exports,o),x.exports}var f={};return function(){var d=f;Object.defineProperty(d,"__esModule",{value:!0}),d.Cell=d.Column=d.Row=d.Table=d.CellHookData=d.__drawTable=d.__createTable=d.applyPlugin=void 0;var p=o(340),x=o(776),N=o(664),S=o(972),E=o(260);Object.defineProperty(d,"Table",{enumerable:!0,get:function(){return E.Table}});var w=o(172);Object.defineProperty(d,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var j=o(260);Object.defineProperty(d,"Cell",{enumerable:!0,get:function(){return j.Cell}}),Object.defineProperty(d,"Column",{enumerable:!0,get:function(){return j.Column}}),Object.defineProperty(d,"Row",{enumerable:!0,get:function(){return j.Row}});function L(M){(0,p.default)(M)}d.applyPlugin=L;function P(M,Y){var X=(0,x.parseInput)(M,Y),k=(0,S.createTable)(M,X);(0,N.drawTable)(M,k)}function I(M,Y){var X=(0,x.parseInput)(M,Y);return(0,S.createTable)(M,X)}d.__createTable=I;function _(M,Y){(0,N.drawTable)(M,Y)}d.__drawTable=_;try{var D=o(964);D.jsPDF&&(D=D.jsPDF),L(D)}catch{}d.default=P}(),f}()})})(y6);const b6=e=>{const t=String(e??"");return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},$u=(e,t,n)=>{const s=[e.join(","),...t.map(d=>d.map(b6).join(","))].join(`
`),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const d=URL.createObjectURL(o);f.setAttribute("href",d),f.setAttribute("download",`${n}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}},b1=({status:e})=>{const t={[lt.PENDING_ASSIGNMENT]:"bg-yellow-100 text-yellow-800",[lt.ASSIGNED_TO_COURIER]:"bg-blue-100 text-blue-800",[lt.PICKED_UP]:"bg-indigo-100 text-indigo-800",[lt.IN_TRANSIT]:"bg-purple-100 text-purple-800",[lt.OUT_FOR_DELIVERY]:"bg-cyan-100 text-cyan-800",[lt.DELIVERED]:"bg-green-100 text-green-800",[lt.DELIVERY_FAILED]:"bg-red-100 text-red-800",[lt.RETURN_REQUESTED]:"bg-orange-100 text-orange-800",[lt.RETURN_IN_PROGRESS]:"bg-fuchsia-100 text-fuchsia-800",[lt.RETURNED]:"bg-slate-100 text-slate-800"};return y.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t[e]}`,children:e})},i4=({shipments:e,onSelect:t})=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"ID"}),y.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Recipient"}),y.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Status"}),y.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Price"}),t&&y.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(n=>y.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[y.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:n.id}),y.jsx("td",{className:"px-6 py-4 text-slate-800 font-medium",children:n.recipientName}),y.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(n.creationDate).toLocaleDateString()}),y.jsx("td",{className:"px-6 py-4",children:y.jsx(b1,{status:n.status})}),y.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800",children:[n.price," EGP"]}),t&&y.jsx("td",{className:"px-6 py-4",children:y.jsx("button",{onClick:()=>t(n),className:"text-primary-600 hover:text-primary-800 font-semibold",children:"Details"})})]},n.id)),e.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:t?6:5,className:"text-center py-8 text-slate-500",children:"No shipments found for the selected period."})})]})]})}),w6=({onSelectShipment:e})=>{const{currentUser:t,shipments:n,users:r}=bi(),[s,o]=Ke.useState(""),[f,d]=Ke.useState("all"),[p,x]=Ke.useState("all"),[N,S]=Ke.useState(""),E=r.filter(L=>L.role===Ot.CLIENT);if(!t)return null;const w=Ke.useMemo(()=>{let L=n;t.role===Ot.CLIENT&&(L=n.filter(I=>I.clientId===t.id));let P=L;return N&&(P=P.filter(I=>I.creationDate.startsWith(N))),t.role===Ot.ADMIN&&(f!=="all"&&(P=P.filter(I=>I.clientId===f)),s.trim()!==""&&(P=P.filter(I=>I.id.toLowerCase().includes(s.trim().toLowerCase()))),p!=="all"&&(P=P.filter(I=>I.status===p))),P.sort((I,_)=>new Date(_.creationDate).getTime()-new Date(I.creationDate).getTime())},[t,n,N,s,f,p]),j=()=>{if(!t)return;const L=w;if(t.role===Ot.ADMIN){const P=["ID","Client","Recipient","Recipient Phone","Date","Status","Courier","Price (EGP)"],I=L.map(_=>{var M;const D=((M=r.find(Y=>Y.id===_.courierId))==null?void 0:M.name)||"N/A";return[_.id,_.clientName,_.recipientName,_.recipientPhone,new Date(_.creationDate).toLocaleDateString(),_.status,D,_.price.toFixed(2)]});$u(P,I,"All_Shipments_Report")}else if(t.role===Ot.CLIENT){const P=["ID","Recipient","Date","Status","Price (EGP)"],I=L.map(_=>[_.id,_.recipientName,new Date(_.creationDate).toLocaleDateString(),_.status,_.price.toFixed(2)]);$u(P,I,`Client_Shipments_${t.name.replace(/\s/g,"_")}`)}};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-between items-center mb-4",children:y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t.role===Ot.CLIENT?"My Shipments":"All Shipments"})}),(t.role===Ot.CLIENT||t.role===Ot.ADMIN)&&y.jsxs("div",{className:"mb-6 bg-white p-4 rounded-xl shadow-sm flex flex-col md:flex-row gap-4 items-center flex-wrap",children:[t.role===Ot.ADMIN&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex-grow w-full md:w-auto",children:y.jsx("input",{type:"text",placeholder:"Search by Shipment ID...",value:s,onChange:L=>o(L.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})}),y.jsx("div",{className:"flex-grow w-full md:w-auto",children:y.jsxs("select",{value:f,onChange:L=>d(L.target.value==="all"?"all":Number(L.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[y.jsx("option",{value:"all",children:"All Clients"}),E.map(L=>y.jsx("option",{value:L.id,children:L.name},L.id))]})}),y.jsx("div",{className:"flex-grow w-full md:w-auto",children:y.jsxs("select",{value:p,onChange:L=>x(L.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[y.jsx("option",{value:"all",children:"All Statuses"}),Object.values(lt).map(L=>y.jsx("option",{value:L,children:L},L))]})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"date",value:N,onChange:L=>S(L.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white","aria-label":"Filter by creation date"}),N&&y.jsx("button",{onClick:()=>S(""),className:"px-4 py-2 text-sm font-semibold text-slate-600 rounded-lg hover:bg-slate-200 transition","aria-label":"Clear date filter",children:"Clear"})]}),y.jsx("div",{className:"md:ml-auto",children:y.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[y.jsx(p1,{className:"w-5 h-5"}),"Export as CSV"]})})]}),y.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:y.jsx(i4,{shipments:w,onSelect:e})})]})},r4=({label:e,value:t,onChange:n})=>{const r=Ke.useRef(null),[s,o]=Ke.useState(t.street);Ke.useEffect(()=>{t.street!==s&&o(t.street)},[t.street,s]),Ke.useEffect(()=>{if(!window.google||!r.current)return;const d=new window.google.maps.places.Autocomplete(r.current,{componentRestrictions:{country:"eg"},fields:["address_components"]});return d.addListener("place_changed",()=>{var L,P;const p=d.getPlace();if(!p.address_components)return;const x=((L=p.address_components.find(I=>I.types.includes("street_number")))==null?void 0:L.long_name)||"",N=((P=p.address_components.find(I=>I.types.includes("route")))==null?void 0:P.long_name)||"",S=`${x} ${N}`.trim();o(S);const E=p.address_components.find(I=>I.types.includes("administrative_area_level_1"));let w=t.city;E!=null&&E.long_name.includes("Cairo")&&(w="Cairo"),E!=null&&E.long_name.includes("Giza")&&(w="Giza");const j=Object.values(hi).find(I=>I.toLowerCase().startsWith(w.toLowerCase()));n({...t,street:S,city:w,zone:j||t.zone})}),()=>{if(window.google&&d){window.google.maps.event.clearInstanceListeners(d);const p=document.getElementsByClassName("pac-container");for(;p.length>0;)p[0].remove()}}},[n,t]);const f=d=>{o(d.target.value),n({...t,street:d.target.value})};return y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:e}),y.jsx("input",{ref:r,type:"text",value:s,onChange:f,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"Start typing a street address...",required:!0})]})},A6=()=>{const{currentUser:e,addShipment:t,addToast:n}=bi(),[r,s]=Ke.useState(""),[o,f]=Ke.useState(""),[d,p]=Ke.useState({street:"",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:""}),[x,N]=Ke.useState(""),[S,E]=Ke.useState(!1),[w,j]=Ke.useState(sa.COD),[L,P]=Ke.useState(os.STANDARD),[I,_]=Ke.useState(0),D=S?300:75,M=X=>{if(X.preventDefault(),!(e!=null&&e.address)){n("Please complete your profile address before creating a shipment.","error");return}if(w===sa.WALLET&&((e==null?void 0:e.walletBalance)??0)<D){n(`Insufficient funds. Your balance is ${((e==null?void 0:e.walletBalance)??0).toFixed(2)} EGP.`,"error");return}t({recipientName:r,recipientPhone:o,fromAddress:e.address,toAddress:d,packageDescription:x,isLargeOrder:S,price:D,paymentMethod:w,priority:L,packageValue:I}),s(""),f(""),p({street:"",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:""}),N(""),E(!1),j(sa.COD),P(os.STANDARD),_(0)},Y=Object.values(hi).filter(X=>X.toLowerCase().startsWith(d.city.toLowerCase()));return y.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm max-w-4xl mx-auto",children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Create a New Shipment"}),y.jsxs("form",{onSubmit:M,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Name"}),y.jsx("input",{type:"text",value:r,onChange:X=>s(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Phone"}),y.jsx("input",{type:"tel",value:o,onChange:X=>f(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),y.jsx(r4,{label:"Recipient Street Address",value:d,onChange:p}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),y.jsxs("select",{value:d.city,onChange:X=>p(k=>({...k,city:X.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-slate-100",disabled:!0,children:[y.jsx("option",{value:"Cairo",children:"Cairo"}),y.jsx("option",{value:"Giza",children:"Giza"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),y.jsx("select",{value:d.zone,onChange:X=>p(k=>({...k,zone:X.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:Y.map(X=>y.jsx("option",{value:X,children:X},X))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Description"}),y.jsx("textarea",{value:x,onChange:X=>N(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",rows:3})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Priority"}),y.jsx("select",{value:L,onChange:X=>P(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:Object.values(os).map(X=>y.jsx("option",{value:X,children:X},X))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Value (EGP)"}),y.jsx("input",{type:"number",value:I,onChange:X=>_(Number(X.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:"largeOrder",type:"checkbox",checked:S,onChange:X=>E(X.target.checked),className:"h-4 w-4 text-primary-600 border-slate-300 rounded focus:ring-primary-500"}),y.jsx("label",{htmlFor:"largeOrder",className:"ml-2 block text-sm text-slate-900",children:"This is a large order"})]}),y.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:["Price: ",y.jsxs("span",{className:"text-primary-600",children:[D," EGP"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method"}),y.jsx("div",{className:"flex gap-4",children:Object.values(sa).map(X=>y.jsx("button",{type:"button",onClick:()=>j(X),className:`px-4 py-2 rounded-lg border-2 transition font-semibold ${w===X?"bg-primary-600 text-white border-primary-600":"bg-white text-slate-700 border-slate-300 hover:border-primary-500"}`,children:X},X))})]}),y.jsx("div",{className:"text-right pt-2",children:y.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition",children:[y.jsx(P2,{className:"w-5 h-5 mr-2"}),"Create Shipment"]})})]})]})},S6=()=>{const{shipments:e,users:t,assignShipmentToCourier:n,canCourierReceiveAssignment:r}=bi(),s=e.filter(d=>d.status===lt.PENDING_ASSIGNMENT),o=t.filter(d=>d.role===Ot.COURIER),f=(d,p)=>{p&&n(d,parseInt(p))};return y.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-5 border-b border-slate-200",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Assign Shipments"}),y.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign pending shipments to available couriers based on their zone."})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Destination Zone"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.map(d=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:d.id}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:d.toAddress.zone})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("select",{onChange:p=>f(d.id,p.target.value),defaultValue:"",className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[y.jsx("option",{value:"",disabled:!0,children:"Select an available courier..."}),o.filter(p=>p.zone===d.toAddress.zone&&r(p.id)).map(p=>y.jsxs("option",{value:p.id,children:[p.name," (",p.zone,")"]},p.id))]})})]},d.id)),s.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:3,className:"text-center py-8 text-slate-500",children:"No shipments pending assignment."})})]})]})})]})};var pt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pt||(pt={}));var mm=new Map([[pt.QR_CODE,"QR_CODE"],[pt.AZTEC,"AZTEC"],[pt.CODABAR,"CODABAR"],[pt.CODE_39,"CODE_39"],[pt.CODE_93,"CODE_93"],[pt.CODE_128,"CODE_128"],[pt.DATA_MATRIX,"DATA_MATRIX"],[pt.MAXICODE,"MAXICODE"],[pt.ITF,"ITF"],[pt.EAN_13,"EAN_13"],[pt.EAN_8,"EAN_8"],[pt.PDF_417,"PDF_417"],[pt.RSS_14,"RSS_14"],[pt.RSS_EXPANDED,"RSS_EXPANDED"],[pt.UPC_A,"UPC_A"],[pt.UPC_E,"UPC_E"],[pt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),xm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(xm||(xm={}));function N6(e){return Object.values(pt).includes(e)}var Vo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vo||(Vo={}));var qa=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Vo.SCAN_TYPE_CAMERA,Vo.SCAN_TYPE_FILE],e}(),a4=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!mm.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,mm.get(t))},e}(),ym=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),jd;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(jd||(jd={}));var s4=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:jd.UNKWOWN_ERROR}},e}(),o4=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function rs(e){return typeof e>"u"||e===null}function C6(e,t,n){return e>n?n:e<t?t:e}var pc=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Tn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),vm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),l4=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),f=Object.keys(t),d=0,p=f;d<p.length;d++){var x=p[d];if(o.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Bd={exports:{}};(function(e,t){(function(n,r){r(t)})(yo,function(n){function r(H){return H==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,i){H.__proto__=i}||function(H,i){for(var a in i)i.hasOwnProperty(a)&&(H[a]=i[a])};function o(H,i){s(H,i);function a(){this.constructor=H}H.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function f(H,i){var a=Object.setPrototypeOf;a?a(H,i):H.__proto__=i}function d(H,i){i===void 0&&(i=H.constructor);var a=Error.captureStackTrace;a&&a(H,i)}var p=function(H){o(i,H);function i(a){var l=this.constructor,c=H.call(this,a)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),f(c,l.prototype),d(c),c}return i}(Error);class x extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class N extends x{}N.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class E{constructor(i){if(this.binarizer=i,i===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,l,c){const u=this.binarizer.getLuminanceSource().crop(i,a,l,c);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class w extends x{static getChecksumInstance(){return new w}}w.kind="ChecksumException";class j{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class L{static arraycopy(i,a,l,c,u){for(;u--;)l[c++]=i[a++]}static currentTimeMillis(){return Date.now()}}class P extends x{}P.kind="IndexOutOfBoundsException";class I extends P{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}I.kind="ArrayIndexOutOfBoundsException";class _{static fill(i,a){for(let l=0,c=i.length;l<c;l++)i[l]=a}static fillWithin(i,a,l,c){_.rangeCheck(i.length,a,l);for(let u=a;u<l;u++)i[u]=c}static rangeCheck(i,a,l){if(a>l)throw new S("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new I(a);if(l>i)throw new I(l)}static asList(...i){return i}static create(i,a,l){return Array.from({length:i}).map(u=>Array.from({length:a}).fill(l))}static createInt32Array(i,a,l){return Array.from({length:i}).map(u=>Int32Array.from({length:a}).fill(l))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let l=0,c=i.length;l<c;l++)if(i[l]!==a[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const l of i)a=31*a+l;return a}static fillUint8Array(i,a){for(let l=0;l!==i.length;l++)i[l]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const l=new Uint8Array(a);return l.set(i),l}return i.slice(0,a)}static copyOfRange(i,a,l){const c=l-a,u=new Int32Array(c);return L.arraycopy(i,a,u,0,c),u}static binarySearch(i,a,l){l===void 0&&(l=_.numberComparator);let c=0,u=i.length-1;for(;c<=u;){const h=u+c>>1,m=l(a,i[h]);if(m>0)c=h+1;else if(m<0)u=h-1;else return h}return-c-1}static numberComparator(i,a){return i-a}}class D{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let l=31;return a=i<<16,a!==0&&(l-=16,i=a),a=i<<8,a!==0&&(l-=8,i=a),a=i<<4,a!==0&&(l-=4,i=a),a=i<<2,a!==0&&(l-=2,i=a),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}D.MIN_VALUE_32_BITS=-2147483648,D.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=M.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=M.makeArray(i);L.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=l[c]}const m=c*32+D.numberOfTrailingZeros(u);return m>a?a:m}getNextUnset(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=~l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=~l[c]}const m=c*32+D.numberOfTrailingZeros(u);return m>a?a:m}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new S;if(a===i)return;a--;const l=Math.floor(i/32),c=Math.floor(a/32),u=this.bits;for(let h=l;h<=c;h++){const m=h>l?0:i&31,C=(2<<(h<c?31:a&31))-(1<<m);u[h]|=C}}clear(){const i=this.bits.length,a=this.bits;for(let l=0;l<i;l++)a[l]=0}isRange(i,a,l){if(a<i||i<0||a>this.size)throw new S;if(a===i)return!0;a--;const c=Math.floor(i/32),u=Math.floor(a/32),h=this.bits;for(let m=c;m<=u;m++){const b=m>c?0:i&31,R=(2<<(m<u?31:a&31))-(1<<b)&4294967295;if((h[m]&R)!==(l?R:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new S("Sizes don't match");const a=this.bits;for(let l=0,c=a.length;l<c;l++)a[l]^=i.bits[l]}toBytes(i,a,l,c){for(let u=0;u<c;u++){let h=0;for(let m=0;m<8;m++)this.get(i)&&(h|=1<<7-m),i++;a[l+u]=h}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,c=this.bits;for(let u=0;u<l;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,i[a-u]=h}if(this.size!==l*32){const u=l*32-this.size;let h=i[0]>>>u;for(let m=1;m<l;m++){const b=i[m];h|=b<<32-u,i[m-1]=h,h=b>>>u}i[l-1]=h}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof M))return!1;const a=i;return this.size===a.size&&_.equals(this.bits,a.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let i="";for(let a=0,l=this.size;a<l;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new M(this.size,this.bits.slice())}}var Y;(function(H){H[H.OTHER=0]="OTHER",H[H.PURE_BARCODE=1]="PURE_BARCODE",H[H.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",H[H.TRY_HARDER=3]="TRY_HARDER",H[H.CHARACTER_SET=4]="CHARACTER_SET",H[H.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",H[H.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",H[H.ASSUME_GS1=7]="ASSUME_GS1",H[H.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",H[H.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",H[H.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var X=Y;class k extends x{static getFormatInstance(){return new k}}k.kind="FormatException";var q;(function(H){H[H.Cp437=0]="Cp437",H[H.ISO8859_1=1]="ISO8859_1",H[H.ISO8859_2=2]="ISO8859_2",H[H.ISO8859_3=3]="ISO8859_3",H[H.ISO8859_4=4]="ISO8859_4",H[H.ISO8859_5=5]="ISO8859_5",H[H.ISO8859_6=6]="ISO8859_6",H[H.ISO8859_7=7]="ISO8859_7",H[H.ISO8859_8=8]="ISO8859_8",H[H.ISO8859_9=9]="ISO8859_9",H[H.ISO8859_10=10]="ISO8859_10",H[H.ISO8859_11=11]="ISO8859_11",H[H.ISO8859_13=12]="ISO8859_13",H[H.ISO8859_14=13]="ISO8859_14",H[H.ISO8859_15=14]="ISO8859_15",H[H.ISO8859_16=15]="ISO8859_16",H[H.SJIS=16]="SJIS",H[H.Cp1250=17]="Cp1250",H[H.Cp1251=18]="Cp1251",H[H.Cp1252=19]="Cp1252",H[H.Cp1256=20]="Cp1256",H[H.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",H[H.UTF8=22]="UTF8",H[H.ASCII=23]="ASCII",H[H.Big5=24]="Big5",H[H.GB18030=25]="GB18030",H[H.EUC_KR=26]="EUC_KR"})(q||(q={}));class K{constructor(i,a,l,...c){this.valueIdentifier=i,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=c,K.VALUE_IDENTIFIER_TO_ECI.set(i,this),K.NAME_TO_ECI.set(l,this);const u=this.values;for(let h=0,m=u.length;h!==m;h++){const b=u[h];K.VALUES_TO_ECI.set(b,this)}for(const h of c)K.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new k("incorect value");const a=K.VALUES_TO_ECI.get(i);if(a===void 0)throw new k("incorect value");return a}static getCharacterSetECIByName(i){const a=K.NAME_TO_ECI.get(i);if(a===void 0)throw new k("incorect value");return a}equals(i){if(!(i instanceof K))return!1;const a=i;return this.getName()===a.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(q.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(q.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(q.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(q.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(q.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(q.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(q.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(q.Big5,28,"Big5"),K.GB18030=new K(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(q.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends x{}ge.kind="UnsupportedOperationException";class U{static decode(i,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!U.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof K?i:K.getCharacterSetECIByName(i)}static decodeFallback(i,a){const l=this.encodingCharacterSet(a);if(U.isDecodeFallbackSupported(l)){let c="";for(let u=0,h=i.length;u<h;u++){let m=i[u].toString(16);m.length<2&&(m="0"+m),c+="%"+m}return decodeURIComponent(c)}if(l.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new ge(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(K.UTF8)||i.equals(K.ISO8859_1)||i.equals(K.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let u=0;u<l.length;u++)c.push(l[u].charCodeAt(0));return new Uint8Array(c)}}class B{static castAsNonUtf8Char(i,a=null){const l=a?a.getName():this.ISO88591;return U.decode(new Uint8Array([i]),l)}static guessEncoding(i,a){if(a!=null&&a.get(X.CHARACTER_SET)!==void 0)return a.get(X.CHARACTER_SET).toString();const l=i.length;let c=!0,u=!0,h=!0,m=0,b=0,C=0,R=0,z=0,Z=0,fe=0,ye=0,we=0,Te=0,Ue=0;const $e=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let nt=0;nt<l&&(c||u||h);nt++){const et=i[nt]&255;h&&(m>0?et&128?m--:h=!1:et&128&&(et&64?(m++,et&32?(m++,et&16?(m++,et&8?h=!1:R++):C++):b++):h=!1)),c&&(et>127&&et<160?c=!1:et>159&&(et<192||et===215||et===247)&&Ue++),u&&(z>0?et<64||et===127||et>252?u=!1:z--:et===128||et===160||et>239?u=!1:et>160&&et<224?(Z++,ye=0,fe++,fe>we&&(we=fe)):et>127?(z++,fe=0,ye++,ye>Te&&(Te=ye)):(fe=0,ye=0))}return h&&m>0&&(h=!1),u&&z>0&&(u=!1),h&&($e||b+C+R>0)?B.UTF8:u&&(B.ASSUME_SHIFT_JIS||we>=3||Te>=3)?B.SHIFT_JIS:c&&u?we===2&&Z===2||Ue*10>=l?B.SHIFT_JIS:B.ISO88591:c?B.ISO88591:u?B.SHIFT_JIS:h?B.UTF8:B.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let l=-1;function c(h,m,b,C,R,z){if(h==="%%")return"%";if(a[++l]===void 0)return;h=C?parseInt(C.substr(1)):void 0;let Z=R?parseInt(R.substr(1)):void 0,fe;switch(z){case"s":fe=a[l];break;case"c":fe=a[l][0];break;case"f":fe=parseFloat(a[l]).toFixed(h);break;case"p":fe=parseFloat(a[l]).toPrecision(h);break;case"e":fe=parseFloat(a[l]).toExponential(h);break;case"x":fe=parseInt(a[l]).toString(Z||16);break;case"d":fe=parseFloat(parseInt(a[l],Z||10).toPrecision(h)).toFixed(0);break}fe=typeof fe=="object"?JSON.stringify(fe):(+fe).toString(Z);let ye=parseInt(b),we=b&&b[0]+""=="0"?"0":" ";for(;fe.length<ye;)fe=m!==void 0?fe+we:we+fe;return fe}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}static getBytes(i,a){return U.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}B.SHIFT_JIS=K.SJIS.getName(),B.GB2312="GB2312",B.ISO88591=K.ISO8859_1.getName(),B.EUC_JP="EUC_JP",B.UTF8=K.UTF8.getName(),B.PLATFORM_DEFAULT_ENCODING=B.UTF8,B.ASSUME_SHIFT_JIS=!1;class ie{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=B.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,l){for(let c=a;a<a+l;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class se{constructor(i,a,l,c){if(this.width=i,this.height=a,this.rowSize=l,this.bits=c,a==null&&(a=i),this.height=a,i<1||a<1)throw new S("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,l=i[0].length,c=new se(l,a);for(let u=0;u<a;u++){const h=i[u];for(let m=0;m<l;m++)h[m]&&c.set(m,u)}return c}static parseFromString(i,a,l){if(i===null)throw new S("stringRepresentation cannot be null");const c=new Array(i.length);let u=0,h=0,m=-1,b=0,C=0;for(;C<i.length;)if(i.charAt(C)===`
`||i.charAt(C)==="\r"){if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new S("row lengths do not match");h=u,b++}C++}else if(i.substring(C,C+a.length)===a)C+=a.length,c[u]=!0,u++;else if(i.substring(C,C+l.length)===l)C+=l.length,c[u]=!1,u++;else throw new S("illegal character encountered: "+i.substring(C));if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new S("row lengths do not match");b++}const R=new se(m,b);for(let z=0;z<u;z++)c[z]&&R.set(Math.floor(z%m),Math.floor(z/m));return R}get(i,a){const l=a*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new S("input matrix dimensions do not match");const a=new M(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const m=u*l,b=i.getRow(u,a).getBitArray();for(let C=0;C<l;C++)c[m+C]^=b[C]}}clear(){const i=this.bits,a=i.length;for(let l=0;l<a;l++)i[l]=0}setRegion(i,a,l,c){if(a<0||i<0)throw new S("Left and top must be nonnegative");if(c<1||l<1)throw new S("Height and width must be at least 1");const u=i+l,h=a+c;if(h>this.height||u>this.width)throw new S("The region must fit inside the matrix");const m=this.rowSize,b=this.bits;for(let C=a;C<h;C++){const R=C*m;for(let z=i;z<u;z++)b[R+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new M(this.width):a.clear();const l=this.rowSize,c=this.bits,u=i*l;for(let h=0;h<l;h++)a.setBulk(h*32,c[u+h]);return a}setRow(i,a){L.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let l=new M(i),c=new M(i);for(let u=0,h=Math.floor((a+1)/2);u<h;u++)l=this.getRow(u,l),c=this.getRow(a-1-u,c),l.reverse(),c.reverse(),this.setRow(u,c),this.setRow(a-1-u,l)}getEnclosingRectangle(){const i=this.width,a=this.height,l=this.rowSize,c=this.bits;let u=i,h=a,m=-1,b=-1;for(let C=0;C<a;C++)for(let R=0;R<l;R++){const z=c[C*l+R];if(z!==0){if(C<h&&(h=C),C>b&&(b=C),R*32<u){let Z=0;for(;!(z<<31-Z&4294967295);)Z++;R*32+Z<u&&(u=R*32+Z)}if(R*32+31>m){let Z=31;for(;!(z>>>Z);)Z--;R*32+Z>m&&(m=R*32+Z)}}}return m<u||b<h?null:Int32Array.from([u,h,m-u+1,b-h+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const c=l/i;let u=l%i*32;const h=a[l];let m=0;for(;!(h<<31-m&4294967295);)m++;return u+=m,Int32Array.from([u,c])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/i);let u=Math.floor(l%i)*32;const h=a[l];let m=31;for(;!(h>>>m);)m--;return u+=m,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof se))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&_.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+_.hashCode(this.bits),i}toString(i="X ",a="  ",l=`
`){return this.buildToString(i,a,l)}buildToString(i,a,l){let c=new ie;for(let u=0,h=this.height;u<h;u++){for(let m=0,b=this.width;m<b;m++)c.append(this.get(m,u)?i:a);c.append(l)}return c.toString()}clone(){return new se(this.width,this.height,this.rowSize,this.bits.slice())}}class ae extends x{static getNotFoundInstance(){return new ae}}ae.kind="NotFoundException";class J extends j{constructor(i){super(i),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(i,a){const l=this.getLuminanceSource(),c=l.getWidth();a==null||a.getSize()<c?a=new M(c):a.clear(),this.initArrays(c);const u=l.getRow(i,this.luminances),h=this.buckets;for(let b=0;b<c;b++)h[(u[b]&255)>>J.LUMINANCE_SHIFT]++;const m=J.estimateBlackPoint(h);if(c<3)for(let b=0;b<c;b++)(u[b]&255)<m&&a.set(b);else{let b=u[0]&255,C=u[1]&255;for(let R=1;R<c-1;R++){const z=u[R+1]&255;(C*4-b-z)/2<m&&a.set(R),b=C,C=z}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight(),c=new se(a,l);this.initArrays(a);const u=this.buckets;for(let b=1;b<5;b++){const C=Math.floor(l*b/5),R=i.getRow(C,this.luminances),z=Math.floor(a*4/5);for(let Z=Math.floor(a/5);Z<z;Z++){const fe=R[Z]&255;u[fe>>J.LUMINANCE_SHIFT]++}}const h=J.estimateBlackPoint(u),m=i.getMatrix();for(let b=0;b<l;b++){const C=b*a;for(let R=0;R<a;R++)(m[C+R]&255)<h&&c.set(R,b)}return c}createBinarizer(i){return new J(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let l=0;l<J.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(i){const a=i.length;let l=0,c=0,u=0;for(let R=0;R<a;R++)i[R]>u&&(c=R,u=i[R]),i[R]>l&&(l=i[R]);let h=0,m=0;for(let R=0;R<a;R++){const z=R-c,Z=i[R]*z*z;Z>m&&(h=R,m=Z)}if(c>h){const R=c;c=h,h=R}if(h-c<=a/16)throw new ae;let b=h-1,C=-1;for(let R=h-1;R>c;R--){const z=R-c,Z=z*z*(h-R)*(l-i[R]);Z>C&&(b=R,C=Z)}return b<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class $ extends J{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight();if(a>=$.MINIMUM_DIMENSION&&l>=$.MINIMUM_DIMENSION){const c=i.getMatrix();let u=a>>$.BLOCK_SIZE_POWER;a&$.BLOCK_SIZE_MASK&&u++;let h=l>>$.BLOCK_SIZE_POWER;l&$.BLOCK_SIZE_MASK&&h++;const m=$.calculateBlackPoints(c,u,h,a,l),b=new se(a,l);$.calculateThresholdForBlock(c,u,h,a,l,m,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new $(i)}static calculateThresholdForBlock(i,a,l,c,u,h,m){const b=u-$.BLOCK_SIZE,C=c-$.BLOCK_SIZE;for(let R=0;R<l;R++){let z=R<<$.BLOCK_SIZE_POWER;z>b&&(z=b);const Z=$.cap(R,2,l-3);for(let fe=0;fe<a;fe++){let ye=fe<<$.BLOCK_SIZE_POWER;ye>C&&(ye=C);const we=$.cap(fe,2,a-3);let Te=0;for(let $e=-2;$e<=2;$e++){const nt=h[Z+$e];Te+=nt[we-2]+nt[we-1]+nt[we]+nt[we+1]+nt[we+2]}const Ue=Te/25;$.thresholdBlock(i,ye,z,Ue,c,m)}}}static cap(i,a,l){return i<a?a:i>l?l:i}static thresholdBlock(i,a,l,c,u,h){for(let m=0,b=l*u+a;m<$.BLOCK_SIZE;m++,b+=u)for(let C=0;C<$.BLOCK_SIZE;C++)(i[b+C]&255)<=c&&h.set(a+C,l+m)}static calculateBlackPoints(i,a,l,c,u){const h=u-$.BLOCK_SIZE,m=c-$.BLOCK_SIZE,b=new Array(l);for(let C=0;C<l;C++){b[C]=new Int32Array(a);let R=C<<$.BLOCK_SIZE_POWER;R>h&&(R=h);for(let z=0;z<a;z++){let Z=z<<$.BLOCK_SIZE_POWER;Z>m&&(Z=m);let fe=0,ye=255,we=0;for(let Ue=0,$e=R*c+Z;Ue<$.BLOCK_SIZE;Ue++,$e+=c){for(let nt=0;nt<$.BLOCK_SIZE;nt++){const et=i[$e+nt]&255;fe+=et,et<ye&&(ye=et),et>we&&(we=et)}if(we-ye>$.MIN_DYNAMIC_RANGE)for(Ue++,$e+=c;Ue<$.BLOCK_SIZE;Ue++,$e+=c)for(let nt=0;nt<$.BLOCK_SIZE;nt++)fe+=i[$e+nt]&255}let Te=fe>>$.BLOCK_SIZE_POWER*2;if(we-ye<=$.MIN_DYNAMIC_RANGE&&(Te=ye/2,C>0&&z>0)){const Ue=(b[C-1][z]+2*b[C][z-1]+b[C-1][z-1])/4;ye<Ue&&(Te=Ue)}b[C][z]=Te}}return b}}$.BLOCK_SIZE_POWER=3,$.BLOCK_SIZE=1<<$.BLOCK_SIZE_POWER,$.BLOCK_SIZE_MASK=$.BLOCK_SIZE-1,$.MINIMUM_DIMENSION=$.BLOCK_SIZE*5,$.MIN_DYNAMIC_RANGE=24;class ce{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,l,c){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new ie;for(let l=0;l<this.height;l++){const c=this.getRow(l,i);for(let u=0;u<this.width;u++){const h=c[u]&255;let m;h<64?m="#":h<128?m="+":h<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class de extends ce{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const l=this.delegate.getRow(i,a),c=this.getWidth();for(let u=0;u<c;u++)l[u]=255-(l[u]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let c=0;c<a;c++)l[c]=255-(i[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,l,c){return new de(this.delegate.crop(i,a,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class be extends ce{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return be.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,l){const c=new Uint8ClampedArray(a*l);for(let u=0,h=0,m=i.length;u<m;u+=4,h++){let b;if(i[u+3]===0)b=255;else{const R=i[u],z=i[u+1],Z=i[u+2];b=306*R+601*z+117*Z+512>>10}c[h]=b}return c}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth(),c=i*l;return a===null?a=this.buffer.slice(c,c+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(c,c+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,l,c){return super.crop(i,a,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),l=a.getContext("2d"),c=i*be.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),b=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return a.width=m,a.height=b,l.translate(m/2,b/2),l.rotate(c),l.drawImage(this.canvas,u/-2,h/-2),this.buffer=be.makeBufferFromCanvasImageData(a),this}invert(){return new de(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class Pe{constructor(i,a,l){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var F=(globalThis||yo||self||window||void 0)&&(globalThis||yo||self||window||void 0).__awaiter||function(H,i,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(R){try{C(l.next(R))}catch(z){h(z)}}function b(R){try{C(l.throw(R))}catch(z){h(z)}}function C(R){R.done?u(R.value):c(R.value).then(m,b)}C((l=l.apply(H,i||[])).next())})};class te{constructor(i,a=500,l){this.reader=i,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return F(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of i){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const u=l.deviceId||l.id,h=l.label||`Video device ${a.length+1}`,m=l.groupId,b={deviceId:u,label:h,kind:c,groupId:m};a.push(b)}return a})}getVideoInputDevices(){return F(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Pe(a.deviceId,a.label))})}findDeviceById(i){return F(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return F(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return F(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,a)})}decodeOnceFromConstraints(i,a){return F(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(i,a){return F(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,a,l){return F(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,l)})}decodeFromVideoDevice(i,a,l){return F(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,a,l)})}decodeFromConstraints(i,a,l){return F(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,a,l)})}decodeFromStream(i,a,l){return F(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return F(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((a,l)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return F(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const l=document.getElementById(i);if(!l)throw new N(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new N(`element with id '${i}' must be an ${a} element`);return l}decodeFromImage(i,a){if(!i&&!a)throw new N("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new N("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,l){if(i===void 0&&a===void 0)throw new N("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new N("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(i){if(!i)throw new N("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=i,l}decodeFromVideoUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=i,l}decodeFromVideoUrlContinuously(i,a){if(!i)throw new N("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,a);return l.src=i,c}_decodeOnLoadImage(i){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return F(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return F(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,l=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new ae("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);u(m)}catch(m){const b=a&&m instanceof ae,R=(m instanceof w||m instanceof k)&&l;if(b||R)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(m)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);a(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){a(null,c);const u=c instanceof w||c instanceof k,h=c instanceof ae;(u||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,l){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new be(a),c=new $(l);return new E(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),a.style.width=l+"px",a.style.height=c+"px",a.width=l,a.height=c,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class re{constructor(i,a,l=a==null?0:8*a.length,c,u,h=L.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=l,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=i,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=L.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(a.length+i.length);L.arraycopy(a,0,l,0,a.length),L.arraycopy(i,0,l,a.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var me;(function(H){H[H.AZTEC=0]="AZTEC",H[H.CODABAR=1]="CODABAR",H[H.CODE_39=2]="CODE_39",H[H.CODE_93=3]="CODE_93",H[H.CODE_128=4]="CODE_128",H[H.DATA_MATRIX=5]="DATA_MATRIX",H[H.EAN_8=6]="EAN_8",H[H.EAN_13=7]="EAN_13",H[H.ITF=8]="ITF",H[H.MAXICODE=9]="MAXICODE",H[H.PDF_417=10]="PDF_417",H[H.QR_CODE=11]="QR_CODE",H[H.RSS_14=12]="RSS_14",H[H.RSS_EXPANDED=13]="RSS_EXPANDED",H[H.UPC_A=14]="UPC_A",H[H.UPC_E=15]="UPC_E",H[H.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(me||(me={}));var oe=me,Le;(function(H){H[H.OTHER=0]="OTHER",H[H.ORIENTATION=1]="ORIENTATION",H[H.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",H[H.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",H[H.ISSUE_NUMBER=4]="ISSUE_NUMBER",H[H.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",H[H.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",H[H.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",H[H.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",H[H.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",H[H.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Le||(Le={}));var _e=Le;class xe{constructor(i,a,l,c,u=-1,h=-1){this.rawBytes=i,this.text=a,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ee{exp(i){return this.expTable[i]}log(i){if(i===0)throw new S;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class Ae{constructor(i,a){if(a.length===0)throw new S;this.field=i;const l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),L.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(i===1){l=0;for(let h=0,m=a.length;h!==m;h++){const b=a[h];l=Ee.addOrSubtract(l,b)}return l}l=a[0];const c=a.length,u=this.field;for(let h=1;h<c;h++)l=Ee.addOrSubtract(u.multiply(i,l),a[h]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){const h=a;a=l,l=h}let c=new Int32Array(l.length);const u=l.length-a.length;L.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=Ee.addOrSubtract(a[h-u],l[h]);return new Ae(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1),m=this.field;for(let b=0;b<l;b++){const C=a[b];for(let R=0;R<u;R++)h[b+R]=Ee.addOrSubtract(h[b+R],m.multiply(C,c[R]))}return new Ae(m,h)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,l=this.field,c=new Int32Array(a),u=this.coefficients;for(let h=0;h<a;h++)c[h]=l.multiply(u[h],i);return new Ae(l,c)}multiplyByMonomial(i,a){if(i<0)throw new S;if(a===0)return this.field.getZero();const l=this.coefficients,c=l.length,u=new Int32Array(c+i),h=this.field;for(let m=0;m<c;m++)u[m]=h.multiply(l[m],a);return new Ae(h,u)}divide(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new S("Divide by 0");const a=this.field;let l=a.getZero(),c=this;const u=i.getCoefficient(i.getDegree()),h=a.inverse(u);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const m=c.getDegree()-i.getDegree(),b=a.multiply(c.getCoefficient(c.getDegree()),h),C=i.multiplyByMonomial(m,b),R=a.buildMonomial(m,b);l=l.addOrSubtract(R),c=c.addOrSubtract(C)}return[l,c]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),a===0||l!==1){const c=this.field.log(l);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class Me extends x{}Me.kind="ArithmeticException";class Oe extends Ee{constructor(i,a,l){super(),this.primitive=i,this.size=a,this.generatorBase=l;const c=new Int32Array(a);let u=1;for(let m=0;m<a;m++)c[m]=u,u*=2,u>=a&&(u^=i,u&=a-1);this.expTable=c;const h=new Int32Array(a);for(let m=0;m<a-1;m++)h[c[m]]=m;this.logTable=h,this.zero=new Ae(this,Int32Array.from([0])),this.one=new Ae(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new S;if(a===0)return this.zero;const l=new Int32Array(i+1);return l[0]=a,new Ae(this,l)}inverse(i){if(i===0)throw new Me;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+D.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Oe.AZTEC_DATA_12=new Oe(4201,4096,1),Oe.AZTEC_DATA_10=new Oe(1033,1024,1),Oe.AZTEC_DATA_6=new Oe(67,64,1),Oe.AZTEC_PARAM=new Oe(19,16,1),Oe.QR_CODE_FIELD_256=new Oe(285,256,0),Oe.DATA_MATRIX_FIELD_256=new Oe(301,256,1),Oe.AZTEC_DATA_8=Oe.DATA_MATRIX_FIELD_256,Oe.MAXICODE_FIELD_64=Oe.AZTEC_DATA_6;class Qe extends x{}Qe.kind="ReedSolomonException";class ke extends x{}ke.kind="IllegalStateException";class pe{constructor(i){this.field=i}decode(i,a){const l=this.field,c=new Ae(l,i),u=new Int32Array(a);let h=!0;for(let fe=0;fe<a;fe++){const ye=c.evaluateAt(l.exp(fe+l.getGeneratorBase()));u[u.length-1-fe]=ye,ye!==0&&(h=!1)}if(h)return;const m=new Ae(l,u),b=this.runEuclideanAlgorithm(l.buildMonomial(a,1),m,a),C=b[0],R=b[1],z=this.findErrorLocations(C),Z=this.findErrorMagnitudes(R,z);for(let fe=0;fe<z.length;fe++){const ye=i.length-1-l.log(z[fe]);if(ye<0)throw new Qe("Bad error location");i[ye]=Oe.addOrSubtract(i[ye],Z[fe])}}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){const fe=i;i=a,a=fe}const c=this.field;let u=i,h=a,m=c.getZero(),b=c.getOne();for(;h.getDegree()>=(l/2|0);){let fe=u,ye=m;if(u=h,m=b,u.isZero())throw new Qe("r_{i-1} was zero");h=fe;let we=c.getZero();const Te=u.getCoefficient(u.getDegree()),Ue=c.inverse(Te);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const $e=h.getDegree()-u.getDegree(),nt=c.multiply(h.getCoefficient(h.getDegree()),Ue);we=we.addOrSubtract(c.buildMonomial($e,nt)),h=h.addOrSubtract(u.multiplyByMonomial($e,nt))}if(b=we.multiply(m).addOrSubtract(ye),h.getDegree()>=u.getDegree())throw new ke("Division algorithm failed to reduce polynomial?")}const C=b.getCoefficient(0);if(C===0)throw new Qe("sigmaTilde(0) was zero");const R=c.inverse(C),z=b.multiplyScalar(R),Z=h.multiplyScalar(R);return[z,Z]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(a);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<a;h++)i.evaluateAt(h)===0&&(l[c]=u.inverse(h),c++);if(c!==a)throw new Qe("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,a){const l=a.length,c=new Int32Array(l),u=this.field;for(let h=0;h<l;h++){const m=u.inverse(a[h]);let b=1;for(let C=0;C<l;C++)if(h!==C){const R=u.multiply(a[C],m),z=R&1?R&-2:R|1;b=u.multiply(b,z)}c[h]=u.multiply(i.evaluateAt(m),u.inverse(b)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],m))}return c}}var ct;(function(H){H[H.UPPER=0]="UPPER",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.DIGIT=3]="DIGIT",H[H.PUNCT=4]="PUNCT",H[H.BINARY=5]="BINARY"})(ct||(ct={}));class it{decode(i){this.ddata=i;let a=i.getBits(),l=this.extractBits(a),c=this.correctBits(l),u=it.convertBoolArrayToByteArray(c),h=it.getEncodedData(c),m=new xe(u,h,null,null);return m.setNumBits(c.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,l=ct.UPPER,c=ct.UPPER,u="",h=0;for(;h<a;)if(c===ct.BINARY){if(a-h<5)break;let m=it.readCode(i,h,5);if(h+=5,m===0){if(a-h<11)break;m=it.readCode(i,h,11)+31,h+=11}for(let b=0;b<m;b++){if(a-h<8){h=a;break}const C=it.readCode(i,h,8);u+=B.castAsNonUtf8Char(C),h+=8}c=l}else{let m=c===ct.DIGIT?4:5;if(a-h<m)break;let b=it.readCode(i,h,m);h+=m;let C=it.getCharacter(c,b);C.startsWith("CTRL_")?(l=c,c=it.getTable(C.charAt(5)),C.charAt(6)==="L"&&(l=c)):(u+=C,c=l)}return u}static getTable(i){switch(i){case"L":return ct.LOWER;case"P":return ct.PUNCT;case"M":return ct.MIXED;case"D":return ct.DIGIT;case"B":return ct.BINARY;case"U":default:return ct.UPPER}}static getCharacter(i,a){switch(i){case ct.UPPER:return it.UPPER_TABLE[a];case ct.LOWER:return it.LOWER_TABLE[a];case ct.MIXED:return it.MIXED_TABLE[a];case ct.PUNCT:return it.PUNCT_TABLE[a];case ct.DIGIT:return it.DIGIT_TABLE[a];default:throw new ke("Bad table")}}correctBits(i){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=Oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=Oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=Oe.AZTEC_DATA_10):(l=12,a=Oe.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=i.length/l;if(u<c)throw new k;let h=i.length%l,m=new Int32Array(u);for(let Z=0;Z<u;Z++,h+=l)m[Z]=it.readCode(i,h,l);try{new pe(a).decode(m,u-c)}catch(Z){throw new k(Z)}let b=(1<<l)-1,C=0;for(let Z=0;Z<c;Z++){let fe=m[Z];if(fe===0||fe===b)throw new k;(fe===1||fe===b-1)&&C++}let R=new Array(c*l-C),z=0;for(let Z=0;Z<c;Z++){let fe=m[Z];if(fe===1||fe===b-1)R.fill(fe>1,z,z+l-1),z+=l-1;else for(let ye=l-1;ye>=0;--ye)R[z++]=(fe&1<<ye)!==0}return R}extractBits(i){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(a?11:14)+l*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let m=0;m<u.length;m++)u[m]=m;else{let m=c+1+2*D.truncDivision(D.truncDivision(c,2)-1,15),b=c/2,C=D.truncDivision(m,2);for(let R=0;R<b;R++){let z=R+D.truncDivision(R,15);u[b-R-1]=C-z-1,u[b+R]=C+z+1}}for(let m=0,b=0;m<l;m++){let C=(l-m)*4+(a?9:12),R=m*2,z=c-1-R;for(let Z=0;Z<C;Z++){let fe=Z*2;for(let ye=0;ye<2;ye++)h[b+fe+ye]=i.get(u[R+ye],u[R+Z]),h[b+2*C+fe+ye]=i.get(u[R+Z],u[z-ye]),h[b+4*C+fe+ye]=i.get(u[z-ye],u[z-Z]),h[b+6*C+fe+ye]=i.get(u[z-Z],u[R+ye])}b+=C*8}return h}static readCode(i,a,l){let c=0;for(let u=a;u<a+l;u++)c<<=1,i[u]&&(c|=1);return c}static readByte(i,a){let l=i.length-a;return l>=8?it.readCode(i,a,8):it.readCode(i,a,l)<<8-l}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let l=0;l<a.length;l++)a[l]=it.readByte(i,8*l);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}it.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],it.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],it.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],it.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],it.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ge{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,l,c){const u=i-l,h=a-c;return Math.sqrt(u*u+h*h)}static sum(i){let a=0;for(let l=0,c=i.length;l!==c;l++){const u=i[l];a+=u}return a}}class at{static floatToIntBits(i){return i}}at.MAX_VALUE=Number.MAX_SAFE_INTEGER;class He{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof He){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*at.floatToIntBits(this.x)+at.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let u,h,m;if(l>=a&&l>=c?(h=i[0],u=i[1],m=i[2]):c>=l&&c>=a?(h=i[1],u=i[0],m=i[2]):(h=i[2],u=i[0],m=i[1]),this.crossProductZ(u,h,m)<0){const b=u;u=m,m=b}i[0]=u,i[1]=h,i[2]=m}static distance(i,a){return Ge.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,l){const c=a.x,u=a.y;return(l.x-c)*(i.y-u)-(l.y-u)*(i.x-c)}}class st{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class At extends st{constructor(i,a,l,c,u){super(i,a),this.compact=l,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ct{constructor(i,a,l,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=Ct.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const u=a/2|0;if(this.leftInit=l-u,this.rightInit=l+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}detect(){let i=this.leftInit,a=this.rightInit,l=this.upInit,c=this.downInit,u=!1,h=!0,m=!1,b=!1,C=!1,R=!1,z=!1;const Z=this.width,fe=this.height;for(;h;){h=!1;let ye=!0;for(;(ye||!b)&&a<Z;)ye=this.containsBlackPoint(l,c,a,!1),ye?(a++,h=!0,b=!0):b||a++;if(a>=Z){u=!0;break}let we=!0;for(;(we||!C)&&c<fe;)we=this.containsBlackPoint(i,a,c,!0),we?(c++,h=!0,C=!0):C||c++;if(c>=fe){u=!0;break}let Te=!0;for(;(Te||!R)&&i>=0;)Te=this.containsBlackPoint(l,c,i,!1),Te?(i--,h=!0,R=!0):R||i--;if(i<0){u=!0;break}let Ue=!0;for(;(Ue||!z)&&l>=0;)Ue=this.containsBlackPoint(i,a,l,!0),Ue?(l--,h=!0,z=!0):z||l--;if(l<0){u=!0;break}h&&(m=!0)}if(!u&&m){const ye=a-i;let we=null;for(let nt=1;we===null&&nt<ye;nt++)we=this.getBlackPointOnSegment(i,c-nt,i+nt,c);if(we==null)throw new ae;let Te=null;for(let nt=1;Te===null&&nt<ye;nt++)Te=this.getBlackPointOnSegment(i,l+nt,i+nt,l);if(Te==null)throw new ae;let Ue=null;for(let nt=1;Ue===null&&nt<ye;nt++)Ue=this.getBlackPointOnSegment(a,l+nt,a-nt,l);if(Ue==null)throw new ae;let $e=null;for(let nt=1;$e===null&&nt<ye;nt++)$e=this.getBlackPointOnSegment(a,c-nt,a-nt,c);if($e==null)throw new ae;return this.centerEdges($e,we,Ue,Te)}else throw new ae}getBlackPointOnSegment(i,a,l,c){const u=Ge.round(Ge.distance(i,a,l,c)),h=(l-i)/u,m=(c-a)/u,b=this.image;for(let C=0;C<u;C++){const R=Ge.round(i+C*h),z=Ge.round(a+C*m);if(b.get(R,z))return new He(R,z)}return null}centerEdges(i,a,l,c){const u=i.getX(),h=i.getY(),m=a.getX(),b=a.getY(),C=l.getX(),R=l.getY(),z=c.getX(),Z=c.getY(),fe=Ct.CORR;return u<this.width/2?[new He(z-fe,Z+fe),new He(m+fe,b+fe),new He(C-fe,R-fe),new He(u+fe,h-fe)]:[new He(z+fe,Z+fe),new He(m+fe,b-fe),new He(C-fe,R+fe),new He(u-fe,h-fe)]}containsBlackPoint(i,a,l,c){const u=this.image;if(c){for(let h=i;h<=a;h++)if(u.get(h,l))return!0}else for(let h=i;h<=a;h++)if(u.get(l,h))return!0;return!1}}Ct.INIT_SIZE=10,Ct.CORR=1;class Ft{static checkAndNudgePoints(i,a){const l=i.getWidth(),c=i.getHeight();let u=!0;for(let h=0;h<a.length&&u;h+=2){const m=Math.floor(a[h]),b=Math.floor(a[h+1]);if(m<-1||m>l||b<-1||b>c)throw new ae;u=!1,m===-1?(a[h]=0,u=!0):m===l&&(a[h]=l-1,u=!0),b===-1?(a[h+1]=0,u=!0):b===c&&(a[h+1]=c-1,u=!0)}u=!0;for(let h=a.length-2;h>=0&&u;h-=2){const m=Math.floor(a[h]),b=Math.floor(a[h+1]);if(m<-1||m>l||b<-1||b>c)throw new ae;u=!1,m===-1?(a[h]=0,u=!0):m===l&&(a[h]=l-1,u=!0),b===-1?(a[h+1]=0,u=!0):b===c&&(a[h+1]=c-1,u=!0)}}}class Dt{constructor(i,a,l,c,u,h,m,b,C){this.a11=i,this.a21=a,this.a31=l,this.a12=c,this.a22=u,this.a32=h,this.a13=m,this.a23=b,this.a33=C}static quadrilateralToQuadrilateral(i,a,l,c,u,h,m,b,C,R,z,Z,fe,ye,we,Te){const Ue=Dt.quadrilateralToSquare(i,a,l,c,u,h,m,b);return Dt.squareToQuadrilateral(C,R,z,Z,fe,ye,we,Te).times(Ue)}transformPoints(i){const a=i.length,l=this.a11,c=this.a12,u=this.a13,h=this.a21,m=this.a22,b=this.a23,C=this.a31,R=this.a32,z=this.a33;for(let Z=0;Z<a;Z+=2){const fe=i[Z],ye=i[Z+1],we=u*fe+b*ye+z;i[Z]=(l*fe+h*ye+C)/we,i[Z+1]=(c*fe+m*ye+R)/we}}transformPointsWithValues(i,a){const l=this.a11,c=this.a12,u=this.a13,h=this.a21,m=this.a22,b=this.a23,C=this.a31,R=this.a32,z=this.a33,Z=i.length;for(let fe=0;fe<Z;fe++){const ye=i[fe],we=a[fe],Te=u*ye+b*we+z;i[fe]=(l*ye+h*we+C)/Te,a[fe]=(c*ye+m*we+R)/Te}}static squareToQuadrilateral(i,a,l,c,u,h,m,b){const C=i-l+u-m,R=a-c+h-b;if(C===0&&R===0)return new Dt(l-i,u-l,i,c-a,h-c,a,0,0,1);{const z=l-u,Z=m-u,fe=c-h,ye=b-h,we=z*ye-Z*fe,Te=(C*ye-Z*R)/we,Ue=(z*R-C*fe)/we;return new Dt(l-i+Te*l,m-i+Ue*m,i,c-a+Te*c,b-a+Ue*b,a,Te,Ue,1)}}static quadrilateralToSquare(i,a,l,c,u,h,m,b){return Dt.squareToQuadrilateral(i,a,l,c,u,h,m,b).buildAdjoint()}buildAdjoint(){return new Dt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Dt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class rn extends Ft{sampleGrid(i,a,l,c,u,h,m,b,C,R,z,Z,fe,ye,we,Te,Ue,$e,nt){const et=Dt.quadrilateralToQuadrilateral(c,u,h,m,b,C,R,z,Z,fe,ye,we,Te,Ue,$e,nt);return this.sampleGridWithTransform(i,a,l,et)}sampleGridWithTransform(i,a,l,c){if(a<=0||l<=0)throw new ae;const u=new se(a,l),h=new Float32Array(2*a);for(let m=0;m<l;m++){const b=h.length,C=m+.5;for(let R=0;R<b;R+=2)h[R]=R/2+.5,h[R+1]=C;c.transformPoints(h),Ft.checkAndNudgePoints(i,h);try{for(let R=0;R<b;R+=2)i.get(Math.floor(h[R]),Math.floor(h[R+1]))&&u.set(R/2,m)}catch{throw new ae}}return u}}class Jt{static setGridSampler(i){Jt.gridSampler=i}static getInstance(){return Jt.gridSampler}}Jt.gridSampler=new rn;class yt{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new He(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Xt{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(i){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),u=this.getMatrixCornerPoints(l);return new At(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ae;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(l,a);let c=0;for(let h=0;h<4;h++){let m=l[(this.shift+h)%4];this.compact?(c<<=7,c+=m>>1&127):(c<<=10,c+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,a){let l=0;i.forEach((c,u,h)=>{let m=(c>>a-2<<1)+(c&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(D.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new ae}getCorrectedParameterData(i,a){let l,c;a?(l=7,c=2):(l=10,c=4);let u=l-c,h=new Int32Array(l);for(let b=l-1;b>=0;--b)h[b]=i&15,i>>=4;try{new pe(Oe.AZTEC_PARAM).decode(h,u)}catch{throw new ae}let m=0;for(let b=0;b<c;b++)m=(m<<4)+h[b];return m}getBullsEyeCorners(i){let a=i,l=i,c=i,u=i,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(a,h,1,-1),Z=this.getFirstDifferent(l,h,1,1),fe=this.getFirstDifferent(c,h,-1,1),ye=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let we=this.distancePoint(ye,z)*this.nbCenterLayers/(this.distancePoint(u,a)*(this.nbCenterLayers+2));if(we<.75||we>1.25||!this.isWhiteOrBlackRectangle(z,Z,fe,ye))break}a=z,l=Z,c=fe,u=ye,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;let m=new He(a.getX()+.5,a.getY()-.5),b=new He(l.getX()+.5,l.getY()+.5),C=new He(c.getX()-.5,c.getY()+.5),R=new He(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,b,C,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,l,c;try{let m=new Ct(this.image).detect();i=m[0],a=m[1],l=m[2],c=m[3]}catch{let b=this.image.getWidth()/2,C=this.image.getHeight()/2;i=this.getFirstDifferent(new yt(b+7,C-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new yt(b+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new yt(b-7,C+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new yt(b-7,C-7),!1,-1,-1).toResultPoint()}let u=Ge.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=Ge.round((i.getY()+c.getY()+a.getY()+l.getY())/4);try{let m=new Ct(this.image,15,u,h).detect();i=m[0],a=m[1],l=m[2],c=m[3]}catch{i=this.getFirstDifferent(new yt(u+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new yt(u+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new yt(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new yt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Ge.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=Ge.round((i.getY()+c.getY()+a.getY()+l.getY())/4),new yt(u,h)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,l,c,u){let h=Jt.getInstance(),m=this.getDimension(),b=m/2-this.nbCenterLayers,C=m/2+this.nbCenterLayers;return h.sampleGrid(i,m,m,b,b,C,b,C,C,b,C,a.getX(),a.getY(),l.getX(),l.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(i,a,l){let c=0,u=this.distanceResultPoint(i,a),h=u/l,m=i.getX(),b=i.getY(),C=h*(a.getX()-i.getX())/u,R=h*(a.getY()-i.getY())/u;for(let z=0;z<l;z++)this.image.get(Ge.round(m+z*C),Ge.round(b+z*R))&&(c|=1<<l-z-1);return c}isWhiteOrBlackRectangle(i,a,l,c){let u=3;i=new yt(i.getX()-u,i.getY()+u),a=new yt(a.getX()-u,a.getY()-u),l=new yt(l.getX()+u,l.getY()-u),c=new yt(c.getX()+u,c.getY()+u);let h=this.getColor(c,i);if(h===0)return!1;let m=this.getColor(i,a);return m!==h||(m=this.getColor(a,l),m!==h)?!1:(m=this.getColor(l,c),m===h)}getColor(i,a){let l=this.distancePoint(i,a),c=(a.getX()-i.getX())/l,u=(a.getY()-i.getY())/l,h=0,m=i.getX(),b=i.getY(),C=this.image.get(i.getX(),i.getY()),R=Math.ceil(l);for(let Z=0;Z<R;Z++)m+=c,b+=u,this.image.get(Ge.round(m),Ge.round(b))!==C&&h++;let z=h/l;return z>.1&&z<.9?0:z<=.1===C?1:-1}getFirstDifferent(i,a,l,c){let u=i.getX()+l,h=i.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l,h+=c;for(u-=l,h-=c;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l;for(u-=l;this.isValid(u,h)&&this.image.get(u,h)===a;)h+=c;return h-=c,new yt(u,h)}expandSquare(i,a,l){let c=l/(2*a),u=i[0].getX()-i[2].getX(),h=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,b=(i[0].getY()+i[2].getY())/2,C=new He(m+c*u,b+c*h),R=new He(m-c*u,b-c*h);u=i[1].getX()-i[3].getX(),h=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,b=(i[1].getY()+i[3].getY())/2;let z=new He(m+c*u,b+c*h),Z=new He(m-c*u,b-c*h);return[C,z,R,Z]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=Ge.round(i.getX()),l=Ge.round(i.getY());return this.isValid(a,l)}distancePoint(i,a){return Ge.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return Ge.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(D.truncDivision(this.nbLayers-4,8)+1)+15}}class ut{decode(i,a=null){let l=null,c=new Xt(i.getBlackMatrix()),u=null,h=null;try{let R=c.detectMirror(!1);u=R.getPoints(),this.reportFoundResultPoints(a,u),h=new it().decode(R)}catch(R){l=R}if(h==null)try{let R=c.detectMirror(!0);u=R.getPoints(),this.reportFoundResultPoints(a,u),h=new it().decode(R)}catch(R){throw l??R}let m=new re(h.getText(),h.getRawBytes(),h.getNumBits(),u,oe.AZTEC,L.currentTimeMillis()),b=h.getByteSegments();b!=null&&m.putMetadata(_e.BYTE_SEGMENTS,b);let C=h.getECLevel();return C!=null&&m.putMetadata(_e.ERROR_CORRECTION_LEVEL,C),m}reportFoundResultPoints(i,a){if(i!=null){let l=i.get(X.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((c,u,h)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class Vi extends te{constructor(i=500){super(new ut,i)}}class Et{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(X.TRY_HARDER)===!0&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),h=this.doDecode(u,a),m=h.getResultMetadata();let b=270;m!==null&&m.get(_e.ORIENTATION)===!0&&(b=b+m.get(_e.ORIENTATION)%360),h.putMetadata(_e.ORIENTATION,b);const C=h.getResultPoints();if(C!==null){const R=u.getHeight();for(let z=0;z<C.length;z++)C[z]=new He(R-C[z].getY()-1,C[z].getX())}return h}else throw new ae}}reset(){}doDecode(i,a){const l=i.getWidth(),c=i.getHeight();let u=new M(l);const h=a&&a.get(X.TRY_HARDER)===!0,m=Math.max(1,c>>(h?8:5));let b;h?b=c:b=15;const C=Math.trunc(c/2);for(let R=0;R<b;R++){const z=Math.trunc((R+1)/2),Z=(R&1)===0,fe=C+m*(Z?z:-z);if(fe<0||fe>=c)break;try{u=i.getBlackRow(fe,u)}catch{continue}for(let ye=0;ye<2;ye++){if(ye===1&&(u.reverse(),a&&a.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const we=new Map;a.forEach((Te,Ue)=>we.set(Ue,Te)),we.delete(X.NEED_RESULT_POINT_CALLBACK),a=we}try{const we=this.decodeRow(fe,u,a);if(ye===1){we.putMetadata(_e.ORIENTATION,180);const Te=we.getResultPoints();Te!==null&&(Te[0]=new He(l-Te[0].getX()-1,Te[0].getY()),Te[1]=new He(l-Te[1].getX()-1,Te[1].getY()))}return we}catch{}}}throw new ae}static recordPattern(i,a,l){const c=l.length;for(let C=0;C<c;C++)l[C]=0;const u=i.getSize();if(a>=u)throw new ae;let h=!i.get(a),m=0,b=a;for(;b<u;){if(i.get(b)!==h)l[m]++;else{if(++m===c)break;l[m]=1,h=!h}b++}if(!(m===c||m===c-1&&b===u))throw new ae}static recordPatternInReverse(i,a,l){let c=l.length,u=i.get(a);for(;a>0&&c>=0;)i.get(--a)!==u&&(c--,u=!u);if(c>=0)throw new ae;Et.recordPattern(i,a+1,l)}static patternMatchVariance(i,a,l){const c=i.length;let u=0,h=0;for(let C=0;C<c;C++)u+=i[C],h+=a[C];if(u<h)return Number.POSITIVE_INFINITY;const m=u/h;l*=m;let b=0;for(let C=0;C<c;C++){const R=i[C],z=a[C]*m,Z=R>z?R-z:z-R;if(Z>l)return Number.POSITIVE_INFINITY;b+=Z}return b/u}}class rt extends Et{static findStartPattern(i){const a=i.getSize(),l=i.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=l,m=!1;const b=6;for(let C=l;C<a;C++)if(i.get(C)!==m)u[c]++;else{if(c===b-1){let R=rt.MAX_AVG_VARIANCE,z=-1;for(let Z=rt.CODE_START_A;Z<=rt.CODE_START_C;Z++){const fe=Et.patternMatchVariance(u,rt.CODE_PATTERNS[Z],rt.MAX_INDIVIDUAL_VARIANCE);fe<R&&(R=fe,z=Z)}if(z>=0&&i.isRange(Math.max(0,h-(C-h)/2),h,!1))return Int32Array.from([h,C,z]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,m=!m}throw new ae}static decodeCode(i,a,l){Et.recordPattern(i,l,a);let c=rt.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<rt.CODE_PATTERNS.length;h++){const m=rt.CODE_PATTERNS[h],b=this.patternMatchVariance(a,m,rt.MAX_INDIVIDUAL_VARIANCE);b<c&&(c=b,u=h)}if(u>=0)return u;throw new ae}decodeRow(i,a,l){const c=l&&l.get(X.ASSUME_GS1)===!0,u=rt.findStartPattern(a),h=u[2];let m=0;const b=new Uint8Array(20);b[m++]=h;let C;switch(h){case rt.CODE_START_A:C=rt.CODE_CODE_A;break;case rt.CODE_START_B:C=rt.CODE_CODE_B;break;case rt.CODE_START_C:C=rt.CODE_CODE_C;break;default:throw new k}let R=!1,z=!1,Z="",fe=u[0],ye=u[1];const we=Int32Array.from([0,0,0,0,0,0]);let Te=0,Ue=0,$e=h,nt=0,et=!0,Wt=!1,Mt=!1;for(;!R;){const va=z;switch(z=!1,Te=Ue,Ue=rt.decodeCode(a,we,ye),b[m++]=Ue,Ue!==rt.CODE_STOP&&(et=!0),Ue!==rt.CODE_STOP&&(nt++,$e+=nt*Ue),fe=ye,ye+=we.reduce((Br,kr)=>Br+kr,0),Ue){case rt.CODE_START_A:case rt.CODE_START_B:case rt.CODE_START_C:throw new k}switch(C){case rt.CODE_CODE_A:if(Ue<64)Mt===Wt?Z+=String.fromCharCode(32+Ue):Z+=String.fromCharCode(32+Ue+128),Mt=!1;else if(Ue<96)Mt===Wt?Z+=String.fromCharCode(Ue-64):Z+=String.fromCharCode(Ue+64),Mt=!1;else switch(Ue!==rt.CODE_STOP&&(et=!1),Ue){case rt.CODE_FNC_1:c&&(Z.length===0?Z+="]C1":Z+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_A:!Wt&&Mt?(Wt=!0,Mt=!1):Wt&&Mt?(Wt=!1,Mt=!1):Mt=!0;break;case rt.CODE_SHIFT:z=!0,C=rt.CODE_CODE_B;break;case rt.CODE_CODE_B:C=rt.CODE_CODE_B;break;case rt.CODE_CODE_C:C=rt.CODE_CODE_C;break;case rt.CODE_STOP:R=!0;break}break;case rt.CODE_CODE_B:if(Ue<96)Mt===Wt?Z+=String.fromCharCode(32+Ue):Z+=String.fromCharCode(32+Ue+128),Mt=!1;else switch(Ue!==rt.CODE_STOP&&(et=!1),Ue){case rt.CODE_FNC_1:c&&(Z.length===0?Z+="]C1":Z+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_B:!Wt&&Mt?(Wt=!0,Mt=!1):Wt&&Mt?(Wt=!1,Mt=!1):Mt=!0;break;case rt.CODE_SHIFT:z=!0,C=rt.CODE_CODE_A;break;case rt.CODE_CODE_A:C=rt.CODE_CODE_A;break;case rt.CODE_CODE_C:C=rt.CODE_CODE_C;break;case rt.CODE_STOP:R=!0;break}break;case rt.CODE_CODE_C:if(Ue<100)Ue<10&&(Z+="0"),Z+=Ue;else switch(Ue!==rt.CODE_STOP&&(et=!1),Ue){case rt.CODE_FNC_1:c&&(Z.length===0?Z+="]C1":Z+="");break;case rt.CODE_CODE_A:C=rt.CODE_CODE_A;break;case rt.CODE_CODE_B:C=rt.CODE_CODE_B;break;case rt.CODE_STOP:R=!0;break}break}va&&(C=C===rt.CODE_CODE_A?rt.CODE_CODE_B:rt.CODE_CODE_A)}const pi=ye-fe;if(ye=a.getNextUnset(ye),!a.isRange(ye,Math.min(a.getSize(),ye+(ye-fe)/2),!1))throw new ae;if($e-=nt*Te,$e%103!==Te)throw new w;const Fi=Z.length;if(Fi===0)throw new ae;Fi>0&&et&&(C===rt.CODE_CODE_C?Z=Z.substring(0,Fi-2):Z=Z.substring(0,Fi-1));const ci=(u[1]+u[0])/2,cn=fe+pi/2,ni=b.length,Ci=new Uint8Array(ni);for(let va=0;va<ni;va++)Ci[va]=b[va];const _r=[new He(ci,i),new He(cn,i)];return new re(Z,Ci,0,_r,oe.CODE_128,new Date().getTime())}}rt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],rt.MAX_AVG_VARIANCE=.25,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.CODE_SHIFT=98,rt.CODE_CODE_C=99,rt.CODE_CODE_B=100,rt.CODE_CODE_A=101,rt.CODE_FNC_1=102,rt.CODE_FNC_2=97,rt.CODE_FNC_3=96,rt.CODE_FNC_4_A=101,rt.CODE_FNC_4_B=100,rt.CODE_START_A=103,rt.CODE_START_B=104,rt.CODE_START_C=105,rt.CODE_STOP=106;class jt extends Et{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=jt.findAsteriskPattern(a,c),h=a.getNextSet(u[1]),m=a.getSize(),b,C;do{jt.recordPattern(a,h,c);let we=jt.toNarrowWidePattern(c);if(we<0)throw new ae;b=jt.patternToChar(we),this.decodeRowResult+=b,C=h;for(let Te of c)h+=Te;h=a.getNextSet(h)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let we of c)R+=we;let z=h-C-R;if(h!==m&&z*2<R)throw new ae;if(this.usingCheckDigit){let we=this.decodeRowResult.length-1,Te=0;for(let Ue=0;Ue<we;Ue++)Te+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ue));if(this.decodeRowResult.charAt(we)!==jt.ALPHABET_STRING.charAt(Te%43))throw new w;this.decodeRowResult=this.decodeRowResult.substring(0,we)}if(this.decodeRowResult.length===0)throw new ae;let Z;this.extendedMode?Z=jt.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;let fe=(u[1]+u[0])/2,ye=C+R/2;return new re(Z,null,0,[new He(fe,i),new He(ye,i)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let l=i.getSize(),c=i.getNextSet(0),u=0,h=c,m=!1,b=a.length;for(let C=c;C<l;C++)if(i.get(C)!==m)a[u]++;else{if(u===b-1){if(this.toNarrowWidePattern(a)===jt.ASTERISK_ENCODING&&i.isRange(Math.max(0,h-Math.floor((C-h)/2)),h,!1))return[h,C];h+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,m=!m}throw new ae}static toNarrowWidePattern(i){let a=i.length,l=0,c;do{let u=2147483647;for(let b of i)b<u&&b>l&&(u=b);l=u,c=0;let h=0,m=0;for(let b=0;b<a;b++){let C=i[b];C>l&&(m|=1<<a-1-b,c++,h+=C)}if(c===3){for(let b=0;b<a&&c>0;b++){let C=i[b];if(C>l&&(c--,C*2>=h))return-1}return m}}while(c>3);return-1}static patternToChar(i){for(let a=0;a<jt.CHARACTER_ENCODINGS.length;a++)if(jt.CHARACTER_ENCODINGS[a]===i)return jt.ALPHABET_STRING.charAt(a);if(i===jt.ASTERISK_ENCODING)return"*";throw new ae}static decodeExtended(i){let a=i.length,l="";for(let c=0;c<a;c++){let u=i.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=i.charAt(c+1),m="\0";switch(u){case"+":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)+32);else throw new k;break;case"$":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)-64);else throw new k;break;case"%":if(h>="A"&&h<="E")m=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")m=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")m=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")m="\0";else if(h==="V")m="@";else if(h==="W")m="`";else if(h==="X"||h==="Y"||h==="Z")m="";else throw new k;break;case"/":if(h>="A"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")m=":";else throw new k;break}l+=m,c++}else l+=u}return l}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class Tt extends Et{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,l){let c=this.decodeStart(a),u=this.decodeEnd(a),h=new ie;Tt.decodeMiddle(a,c[1],u[0],h);let m=h.toString(),b=null;l!=null&&(b=l.get(X.ALLOWED_LENGTHS)),b==null&&(b=Tt.DEFAULT_ALLOWED_LENGTHS);let C=m.length,R=!1,z=0;for(let ye of b){if(C===ye){R=!0;break}ye>z&&(z=ye)}if(!R&&C>z&&(R=!0),!R)throw new k;const Z=[new He(c[1],i),new He(u[0],i)];return new re(m,null,0,Z,oe.ITF,new Date().getTime())}static decodeMiddle(i,a,l,c){let u=new Int32Array(10),h=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),h.fill(0),m.fill(0);a<l;){Et.recordPattern(i,a,u);for(let C=0;C<5;C++){let R=2*C;h[C]=u[R],m[C]=u[R+1]}let b=Tt.decodeDigit(h);c.append(b.toString()),b=this.decodeDigit(m),c.append(b.toString()),u.forEach(function(C){a+=C})}}decodeStart(i){let a=Tt.skipWhiteSpace(i),l=Tt.findGuardPattern(i,a,Tt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let c=a-1;l>0&&c>=0&&!i.get(c);c--)l--;if(l!==0)throw new ae}static skipWhiteSpace(i){const a=i.getSize(),l=i.getNextSet(0);if(l===a)throw new ae;return l}decodeEnd(i){i.reverse();try{let a=Tt.skipWhiteSpace(i),l;try{l=Tt.findGuardPattern(i,a,Tt.END_PATTERN_REVERSED[0])}catch(u){u instanceof ae&&(l=Tt.findGuardPattern(i,a,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let c=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-c,l}finally{i.reverse()}}static findGuardPattern(i,a,l){let c=l.length,u=new Int32Array(c),h=i.getSize(),m=!1,b=0,C=a;u.fill(0);for(let R=a;R<h;R++)if(i.get(R)!==m)u[b]++;else{if(b===c-1){if(Et.patternMatchVariance(u,l,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[C,R];C+=u[0]+u[1],L.arraycopy(u,2,u,0,b-1),u[b-1]=0,u[b]=0,b--}else b++;u[b]=1,m=!m}throw new ae}static decodeDigit(i){let a=Tt.MAX_AVG_VARIANCE,l=-1,c=Tt.PATTERNS.length;for(let u=0;u<c;u++){let h=Tt.PATTERNS[u],m=Et.patternMatchVariance(i,h,Tt.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,l=u):m===a&&(l=-1)}if(l>=0)return l%10;throw new ae}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dn extends Et{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,l,c=0,u=Int32Array.from([0,0,0]);for(;!a;){u=Int32Array.from([0,0,0]),l=dn.findGuardPattern(i,c,!1,this.START_END_PATTERN,u);let h=l[0];c=l[1];let m=h-(c-h);m>=0&&(a=i.isRange(m,h,!1))}return l}static checkChecksum(i){return dn.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return dn.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}return(1e3-l)%10}static decodeEnd(i,a){return dn.findGuardPattern(i,a,!1,dn.START_END_PATTERN,new Int32Array(dn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,l,c){return this.findGuardPattern(i,a,l,c,new Int32Array(c.length))}static findGuardPattern(i,a,l,c,u){let h=i.getSize();a=l?i.getNextUnset(a):i.getNextSet(a);let m=0,b=a,C=c.length,R=l;for(let z=a;z<h;z++)if(i.get(z)!==R)u[m]++;else{if(m===C-1){if(Et.patternMatchVariance(u,c,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return Int32Array.from([b,z]);b+=u[0]+u[1];let Z=u.slice(2,u.length-1);for(let fe=0;fe<m-1;fe++)u[fe]=Z[fe];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,R=!R}throw new ae}static decodeDigit(i,a,l,c){this.recordPattern(i,l,a);let u=this.MAX_AVG_VARIANCE,h=-1,m=c.length;for(let b=0;b<m;b++){let C=c[b],R=Et.patternMatchVariance(a,C,dn.MAX_INDIVIDUAL_VARIANCE);R<u&&(u=R,h=b)}if(h>=0)return h;throw new ae}}dn.MAX_AVG_VARIANCE=.48,dn.MAX_INDIVIDUAL_VARIANCE=.7,dn.START_END_PATTERN=Int32Array.from([1,1,1]),dn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class an{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),m=an.parseExtensionString(h),b=[new He((l[0]+l[1])/2,i),new He(u,i)],C=new re(h,null,0,b,oe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],m=0;for(let C=0;C<5&&h<u;C++){let R=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let z of c)h+=z;R>=10&&(m|=1<<4-C),C!==4&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==5)throw new ae;let b=this.determineCheckDigit(m);if(an.extensionChecksum(l.toString())!==b)throw new ae;return h}static extensionChecksum(i){let a=i.length,l=0;for(let c=a-2;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;l*=3;for(let c=a-1;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new ae}static parseExtensionString(i){if(i.length!==5)return null;let a=an.parseExtension5String(i);return a==null?null:new Map([[_e.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(i.substring(1)),c=(l/100).toString(),u=l%100,h=u<10?"0"+u:u.toString();return a+c+"."+h}}class Ma{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),m=Ma.parseExtensionString(h),b=[new He((l[0]+l[1])/2,i),new He(u,i)],C=new re(h,null,0,b,oe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],m=0;for(let b=0;b<2&&h<u;b++){let C=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let R of c)h+=R;C>=10&&(m|=1<<1-b),b!==1&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==2)throw new ae;if(parseInt(l.toString())%4!==m)throw new ae;return h}static parseExtensionString(i){return i.length!==2?null:new Map([[_e.ISSUE_NUMBER,parseInt(i)]])}}class Gn{static decodeRow(i,a,l){let c=dn.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new an().decodeRow(i,a,c)}catch{return new Ma().decodeRow(i,a,c)}}}Gn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ht extends dn{constructor(){super(),this.decodeRowStringBuffer="",Ht.L_AND_G_PATTERNS=Ht.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=Ht.L_PATTERNS[i-10],l=new Int32Array(a.length);for(let c=0;c<a.length;c++)l[c]=a[a.length-c-1];Ht.L_AND_G_PATTERNS[i]=l}}decodeRow(i,a,l){let c=Ht.findStartGuardPattern(a),u=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);if(u!=null){const et=new He((c[0]+c[1])/2,i);u.foundPossibleResultPoint(et)}let h=this.decodeMiddle(a,c,this.decodeRowStringBuffer),m=h.rowOffset,b=h.resultString;if(u!=null){const et=new He(m,i);u.foundPossibleResultPoint(et)}let C=this.decodeEnd(a,m);if(u!=null){const et=new He((C[0]+C[1])/2,i);u.foundPossibleResultPoint(et)}let R=C[1],z=R+(R-C[0]);if(z>=a.getSize()||!a.isRange(R,z,!1))throw new ae;let Z=b.toString();if(Z.length<8)throw new k;if(!Ht.checkChecksum(Z))throw new w;let fe=(c[1]+c[0])/2,ye=(C[1]+C[0])/2,we=this.getBarcodeFormat(),Te=[new He(fe,i),new He(ye,i)],Ue=new re(Z,null,0,Te,we,new Date().getTime()),$e=0;try{let et=Gn.decodeRow(i,a,C[1]);Ue.putMetadata(_e.UPC_EAN_EXTENSION,et.getText()),Ue.putAllMetadata(et.getResultMetadata()),Ue.addResultPoints(et.getResultPoints()),$e=et.getText().length}catch{}let nt=l==null?null:l.get(X.ALLOWED_EAN_EXTENSIONS);if(nt!=null){let et=!1;for(let Wt in nt)if($e.toString()===Wt){et=!0;break}if(!et)throw new ae}return Ue}decodeEnd(i,a){return Ht.findGuardPattern(i,a,!1,Ht.START_END_PATTERN,new Int32Array(Ht.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ht.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return Ht.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}return(1e3-l)%10}}class nr extends Ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],m=0;for(let C=0;C<6&&h<u;C++){let R=Ht.decodeDigit(i,c,h,Ht.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let z of c)h+=z;R>=10&&(m|=1<<5-C)}l=nr.determineFirstDigit(l,m),h=Ht.findGuardPattern(i,h,!0,Ht.MIDDLE_PATTERN,new Int32Array(Ht.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&h<u;C++){let R=Ht.decodeDigit(i,c,h,Ht.L_PATTERNS);l+=String.fromCharCode(48+R);for(let z of c)h+=z}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(i,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new ae}}nr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Vn extends Ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1];for(let b=0;b<4&&h<u;b++){let C=Ht.decodeDigit(i,c,h,Ht.L_PATTERNS);l+=String.fromCharCode(48+C);for(let R of c)h+=R}h=Ht.findGuardPattern(i,h,!0,Ht.MIDDLE_PATTERN,new Int32Array(Ht.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&h<u;b++){let C=Ht.decodeDigit(i,c,h,Ht.L_PATTERNS);l+=String.fromCharCode(48+C);for(let R of c)h+=R}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return oe.EAN_8}}class Bt extends Ht{constructor(){super(...arguments),this.ean13Reader=new nr}getBarcodeFormat(){return oe.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,l))}decodeMiddle(i,a,l){return this.ean13Reader.decodeMiddle(i,a,l)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let l=new re(a.substring(1),null,null,i.getResultPoints(),oe.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new ae}reset(){this.ean13Reader.reset()}}class Gt extends Ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters.map(C=>C);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=i.getSize();let h=a[1],m=0;for(let C=0;C<6&&h<u;C++){const R=Gt.decodeDigit(i,c,h,Gt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let z of c)h+=z;R>=10&&(m|=1<<5-C)}let b=Gt.determineNumSysAndCheckDigit(l,m);return{rowOffset:h,resultString:b}}decodeEnd(i,a){return Gt.findGuardPatternWithoutCounters(i,a,!0,Gt.MIDDLE_END_PATTERN)}checkChecksum(i){return Ht.checkChecksum(Gt.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let u=String.fromCharCode(48+l),h=String.fromCharCode(48+c);return u+i+h}throw ae.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),l=new ie;l.append(i.charAt(0));let c=a[5];switch(c){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(c),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(c);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Gt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Oa extends Et{constructor(i){super();let a=i==null?null:i.get(X.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new nr),l.push(new Bt),l.push(new Vn),l.push(new Gt)):(a.indexOf(oe.EAN_13)>-1&&l.push(new nr),a.indexOf(oe.UPC_A)>-1&&l.push(new Bt),a.indexOf(oe.EAN_8)>-1&&l.push(new Vn),a.indexOf(oe.UPC_E)>-1&&l.push(new Gt)),this.readers=l}decodeRow(i,a,l){for(let c of this.readers)try{const u=c.decodeRow(i,a,l),h=u.getBarcodeFormat()===oe.EAN_13&&u.getText().charAt(0)==="0",m=l==null?null:l.get(X.POSSIBLE_FORMATS),b=m==null||m.includes(oe.UPC_A);if(h&&b){const C=u.getRawBytes(),R=new re(u.getText().substring(1),C,C?C.length:null,u.getResultPoints(),oe.UPC_A);return R.putAllMetadata(u.getResultMetadata()),R}return u}catch{}throw new ae}reset(){for(let i of this.readers)i.reset()}}class un extends Et{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let l=0;l<a.length;l++)if(Et.patternMatchVariance(i,a[l],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return l;throw new ae}static count(i){return Ge.sum(new Int32Array(i))}static increment(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]>c&&(c=a[u],l=u);i[l]++}static decrement(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]<c&&(c=a[u],l=u);i[l]--}static isFinderPattern(i){let a=i[0]+i[1],l=a+i[2]+i[3],c=a/l;if(c>=un.MIN_FINDER_PATTERN_RATIO&&c<=un.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let m of i)m>h&&(h=m),m<u&&(u=m);return h<10*u}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class ir{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof ir))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Nr{constructor(i,a,l,c,u){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new He(l,u)),this.resultPoints.push(new He(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Nr))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class vt{constructor(){}static getRSSvalue(i,a,l){let c=0;for(let b of i)c+=b;let u=0,h=0,m=i.length;for(let b=0;b<m-1;b++){let C;for(C=1,h|=1<<b;C<i[b];C++,h&=~(1<<b)){let R=vt.combins(c-C-1,m-b-2);if(l&&h===0&&c-C-(m-b-1)>=m-b-1&&(R-=vt.combins(c-C-(m-b),m-b-2)),m-b-1>1){let z=0;for(let Z=c-C-(m-b-2);Z>a;Z--)z+=vt.combins(c-C-Z-1,m-b-3);R-=z*(m-1-b)}else c-C>a&&R--;u+=R}c-=C}return u}static combins(i,a){let l,c;i-a>a?(c=a,l=i-a):(c=i-a,l=a);let u=1,h=1;for(let m=i;m>l;m--)u*=m,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class Yr{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let l=12*a,c=new M(l),u=0,m=i[0].getRightChar().getValue();for(let b=11;b>=0;--b)m&1<<b&&c.set(u),u++;for(let b=1;b<i.length;++b){let C=i[b],R=C.getLeftChar().getValue();for(let z=11;z>=0;--z)R&1<<z&&c.set(u),u++;if(C.getRightChar()!=null){let z=C.getRightChar().getValue();for(let Z=11;Z>=0;--Z)z&1<<Z&&c.set(u),u++}}return c}}class Yi{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Wi{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class fn extends Wi{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class Dn extends Wi{constructor(i,a,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Pn extends Wi{constructor(i,a,l){if(super(i),a<0||a>10||l<0||l>10)throw new k;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Pn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Pn.FNC1}isAnyFNC1(){return this.firstDigit===Pn.FNC1||this.secondDigit===Pn.FNC1}}Pn.FNC1=10;class dt{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ae;let a=i.substring(0,2);for(let u of dt.TWO_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(2,u[2],i):dt.processFixedAI(2,u[1],i);if(i.length<3)throw new ae;let l=i.substring(0,3);for(let u of dt.THREE_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(3,u[2],i):dt.processFixedAI(3,u[1],i);for(let u of dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,u[2],i):dt.processFixedAI(4,u[1],i);if(i.length<4)throw new ae;let c=i.substring(0,4);for(let u of dt.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,u[2],i):dt.processFixedAI(4,u[1],i);throw new ae}static processFixedAI(i,a,l){if(l.length<i)throw new ae;let c=l.substring(0,i);if(l.length<i+a)throw new ae;let u=l.substring(i,i+a),h=l.substring(i+a),m="("+c+")"+u,b=dt.parseFieldsInGeneralPurpose(h);return b==null?m:m+b}static processVariableAI(i,a,l){let c=l.substring(0,i),u;l.length<i+a?u=l.length:u=i+a;let h=l.substring(i,u),m=l.substring(u),b="("+c+")"+h,C=dt.parseFieldsInGeneralPurpose(m);return C==null?b:b+C}}dt.VARIABLE_LENGTH=[],dt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",dt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",dt.VARIABLE_LENGTH,20],["22",dt.VARIABLE_LENGTH,29],["30",dt.VARIABLE_LENGTH,8],["37",dt.VARIABLE_LENGTH,8],["90",dt.VARIABLE_LENGTH,30],["91",dt.VARIABLE_LENGTH,30],["92",dt.VARIABLE_LENGTH,30],["93",dt.VARIABLE_LENGTH,30],["94",dt.VARIABLE_LENGTH,30],["95",dt.VARIABLE_LENGTH,30],["96",dt.VARIABLE_LENGTH,30],["97",dt.VARIABLE_LENGTH,3],["98",dt.VARIABLE_LENGTH,30],["99",dt.VARIABLE_LENGTH,30]],dt.THREE_DIGIT_DATA_LENGTH=[["240",dt.VARIABLE_LENGTH,30],["241",dt.VARIABLE_LENGTH,30],["242",dt.VARIABLE_LENGTH,6],["250",dt.VARIABLE_LENGTH,30],["251",dt.VARIABLE_LENGTH,30],["253",dt.VARIABLE_LENGTH,17],["254",dt.VARIABLE_LENGTH,20],["400",dt.VARIABLE_LENGTH,30],["401",dt.VARIABLE_LENGTH,30],["402",17],["403",dt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",dt.VARIABLE_LENGTH,20],["421",dt.VARIABLE_LENGTH,15],["422",3],["423",dt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",dt.VARIABLE_LENGTH,15],["391",dt.VARIABLE_LENGTH,18],["392",dt.VARIABLE_LENGTH,15],["393",dt.VARIABLE_LENGTH,18],["703",dt.VARIABLE_LENGTH,30]],dt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",dt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",dt.VARIABLE_LENGTH,20],["8003",dt.VARIABLE_LENGTH,30],["8004",dt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",dt.VARIABLE_LENGTH,30],["8008",dt.VARIABLE_LENGTH,12],["8018",18],["8020",dt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",dt.VARIABLE_LENGTH,70],["8200",dt.VARIABLE_LENGTH,70]];class fr{constructor(i){this.buffer=new ie,this.information=i}decodeAllCodes(i,a){let l=a,c=null;do{let u=this.decodeGeneralPurposeField(l,c),h=dt.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&i.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,l===u.getNewPosition())break;l=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new Pn(this.information.getSize(),Pn.FNC1,Pn.FNC1):new Pn(this.information.getSize(),u-1,Pn.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),l=(a-8)/11,c=(a-8)%11;return new Pn(i+7,l,c)}extractNumericValueFromBitArray(i,a){return fr.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,l){let c=0;for(let u=0;u<l;++u)i.get(a+u)&&(c|=1<<l-u-1);return c}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Dn(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Dn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new Dn(this.current.getPosition(),this.buffer.toString()):a=new Dn(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Yi(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new Dn(this.current.getPosition(),this.buffer.toString());return new Yi(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Dn(this.current.getPosition(),this.buffer.toString());return new Yi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Dn(this.current.getPosition(),this.buffer.toString());return new Yi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yi(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new fn(i+7,""+(l+1));if(l>=90&&l<116)return new fn(i+7,""+(l+7));let c=this.extractNumericValueFromBitArray(i,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new k}return new fn(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new fn(i+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new ke("Decoding invalid alphanumeric value: "+l)}return new fn(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class Cr{constructor(i){this.information=i,this.generalDecoder=new fr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Fn extends Cr{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,l)}encodeCompressedGtinWithoutAI(i,a,l){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*c,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}Fn.appendCheckDigit(i,l)}static appendCheckDigit(i,a){let l=0;for(let c=0;c<13;c++){let u=i.charAt(c+a).charCodeAt(0)-48;l+=c&1?u:3*u}l=10-l%10,l===10&&(l=0),i.append(l)}}Fn.GTIN_SIZE=40;class Xi extends Fn{constructor(i){super(i)}parseInformation(){let i=new ie;i.append("(01)");let a=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Xi.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,Xi.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,Xi.HEADER_SIZE+44)}}Xi.HEADER_SIZE=4;class Er extends Cr{constructor(i){super(i)}parseInformation(){let i=new ie;return this.getGeneralDecoder().decodeAllCodes(i,Er.HEADER_SIZE)}}Er.HEADER_SIZE=5;class rr extends Fn{constructor(i){super(i)}encodeCompressedWeight(i,a,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(i,c);let u=this.checkWeight(c),h=1e5;for(let m=0;m<5;++m)u/h===0&&i.append("0"),h/=10;i.append(u)}}class wi extends rr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=wi.HEADER_SIZE+rr.GTIN_SIZE+wi.WEIGHT_SIZE)throw new ae;let i=new ie;return this.encodeCompressedGtin(i,wi.HEADER_SIZE),this.encodeCompressedWeight(i,wi.HEADER_SIZE+rr.GTIN_SIZE,wi.WEIGHT_SIZE),i.toString()}}wi.HEADER_SIZE=5,wi.WEIGHT_SIZE=15;class xs extends wi{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class Ys extends wi{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class ar extends Fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<ar.HEADER_SIZE+Fn.GTIN_SIZE)throw new ae;let i=new ie;this.encodeCompressedGtin(i,ar.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE+Fn.GTIN_SIZE,ar.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(ar.HEADER_SIZE+Fn.GTIN_SIZE+ar.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}ar.HEADER_SIZE=8,ar.LAST_DIGIT_SIZE=2;class di extends Fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<di.HEADER_SIZE+Fn.GTIN_SIZE)throw new ae;let i=new ie;this.encodeCompressedGtin(i,di.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE+Fn.GTIN_SIZE,di.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE+Fn.GTIN_SIZE+di.LAST_DIGIT_SIZE,di.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(di.HEADER_SIZE+Fn.GTIN_SIZE+di.LAST_DIGIT_SIZE+di.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}di.HEADER_SIZE=8,di.LAST_DIGIT_SIZE=2,di.FIRST_THREE_DIGITS_SIZE=10;class yn extends rr{constructor(i,a,l){super(i),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE+yn.DATE_SIZE)throw new ae;let i=new ie;return this.encodeCompressedGtin(i,yn.HEADER_SIZE),this.encodeCompressedWeight(i,yn.HEADER_SIZE+yn.GTIN_SIZE,yn.WEIGHT_SIZE),this.encodeCompressedDate(i,yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,yn.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=l%32;l/=32;let u=l%12+1;l/=12;let h=l;h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}yn.HEADER_SIZE=8,yn.WEIGHT_SIZE=20,yn.DATE_SIZE=16;function Xo(H){try{if(H.get(1))return new Xi(H);if(!H.get(2))return new Er(H);switch(fr.extractNumericValueFromBitArray(H,1,4)){case 4:return new xs(H);case 5:return new Ys(H)}switch(fr.extractNumericValueFromBitArray(H,1,5)){case 12:return new ar(H);case 13:return new di(H)}switch(fr.extractNumericValueFromBitArray(H,1,7)){case 56:return new yn(H,"310","11");case 57:return new yn(H,"320","11");case 58:return new yn(H,"310","13");case 59:return new yn(H,"320","13");case 60:return new yn(H,"310","15");case 61:return new yn(H,"320","15");case 62:return new yn(H,"310","17");case 63:return new yn(H,"320","17")}}catch(i){throw console.log(i),new ke("unknown decoder: "+H)}}class da{constructor(i,a,l,c){this.leftchar=i,this.rightchar=a,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof da?da.equalsOrNull(i.leftchar,a.leftchar)&&da.equalsOrNull(i.rightchar,a.rightchar)&&da.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:da.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zo{constructor(i,a,l){this.pairs=i,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof Zo?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let l;return i.forEach((c,u)=>{a.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class We extends un{constructor(i){super(...arguments),this.pairs=new Array(We.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,l){this.pairs.length=0,this.startFromEven=!1;try{return We.constructResult(this.decodeRow2pairs(i,a))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,We.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(u){if(u instanceof ae){if(!this.pairs.length)throw new ae;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ae}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let l=a;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let h of i)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!We.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(c);try{return this.checkRows(u,l+1)}catch(h){this.verbose&&console.log(h)}}throw new ae}static isValidSequence(i){for(let a of We.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let l=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=a[c]){l=!1;break}if(l)return!0}return!1}storeRow(i,a){let l=0,c=!1,u=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>i){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),l++}u||c||We.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Zo(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let l of a)if(l.getPairs().length!==i.length){for(let c of l.getPairs())for(let u of i)if(da.equals(c,u))break}}static isPartialRow(i,a){for(let l of a){let c=!0;for(let u of i){let h=!1;for(let m of l.getPairs())if(u.equals(m)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=Yr.buildBitArray(i),c=Xo(a).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),h=i[i.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],h[0],h[1]];return new re(c,null,null,m,oe.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let b=this.pairs.get(m);c+=b.getLeftChar().getChecksumPortion(),u++;let C=b.getRightChar();C!=null&&(c+=C.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==a.getValue()}static getNextSecondBar(i,a){let l;return i.get(a)?(l=i.getNextUnset(a),l=i.getNextSet(l)):(l=i.getNextSet(a),l=i.getNextUnset(l)),l}retrieveNextPair(i,a,l){let c=a.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,m=-1;do this.findNextPair(i,a,m),u=this.parseFoundFinderPattern(i,l,c),u==null?m=We.getNextSecondBar(i,this.startEnd[0]):h=!1;while(h);let b=this.decodeDataCharacter(i,u,c,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new ae;let C;try{C=this.decodeDataCharacter(i,u,c,!1)}catch(R){C=null,this.verbose&&console.log(R)}return new da(b,C,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h;l>=0?h=l:this.isEmptyPair(a)?h=0:h=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let b=!1;for(;h<u&&(b=!i.get(h),!!b);)h++;let C=0,R=h;for(let z=h;z<u;z++)if(i.get(z)!=b)c[C]++;else{if(C==3){if(m&&We.reverseCounters(c),We.isFinderPattern(c)){this.startEnd[0]=R,this.startEnd[1]=z;return}m&&We.reverseCounters(c),R+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,C--}else C++;c[C]=1,b=!b}throw new ae}static reverseCounters(i){let a=i.length;for(let l=0;l<a/2;++l){let c=i[l];i[l]=i[a-l-1],i[a-l-1]=c}}parseFoundFinderPattern(i,a,l){let c,u,h;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!i.get(C);)C--;C++,c=this.startEnd[0]-C,u=C,h=this.startEnd[1]}else u=this.startEnd[0],h=i.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let m=this.getDecodeFinderCounters();L.arraycopy(m,0,m,1,m.length-1),m[0]=c;let b;try{b=this.parseFinderValue(m,We.FINDER_PATTERNS)}catch{return null}return new Nr(b,[u,h],u,h,a)}decodeDataCharacter(i,a,l,c){let u=this.getDataCharacterCounters();for(let cn=0;cn<u.length;cn++)u[cn]=0;if(c)We.recordPatternInReverse(i,a.getStartEnd()[0],u);else{We.recordPattern(i,a.getStartEnd()[1],u);for(let cn=0,ni=u.length-1;cn<ni;cn++,ni--){let Ci=u[cn];u[cn]=u[ni],u[ni]=Ci}}let h=17,m=Ge.sum(new Int32Array(u))/h,b=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-b)/b>.3)throw new ae;let C=this.getOddCounts(),R=this.getEvenCounts(),z=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let cn=0;cn<u.length;cn++){let ni=1*u[cn]/m,Ci=ni+.5;if(Ci<1){if(ni<.3)throw new ae;Ci=1}else if(Ci>8){if(ni>8.7)throw new ae;Ci=8}let _r=cn/2;cn&1?(R[_r]=Ci,Z[_r]=ni-Ci):(C[_r]=Ci,z[_r]=ni-Ci)}this.adjustOddEvenCounts(h);let fe=4*a.getValue()+(l?0:2)+(c?0:1)-1,ye=0,we=0;for(let cn=C.length-1;cn>=0;cn--){if(We.isNotA1left(a,l,c)){let ni=We.WEIGHTS[fe][2*cn];we+=C[cn]*ni}ye+=C[cn]}let Te=0;for(let cn=R.length-1;cn>=0;cn--)if(We.isNotA1left(a,l,c)){let ni=We.WEIGHTS[fe][2*cn+1];Te+=R[cn]*ni}let Ue=we+Te;if(ye&1||ye>13||ye<4)throw new ae;let $e=(13-ye)/2,nt=We.SYMBOL_WIDEST[$e],et=9-nt,Wt=vt.getRSSvalue(C,nt,!0),Mt=vt.getRSSvalue(R,et,!1),pi=We.EVEN_TOTAL_SUBSET[$e],Fi=We.GSUM[$e],ci=Wt*pi+Mt+Fi;return new ir(ci,Ue)}static isNotA1left(i,a,l){return!(i.getValue()==0&&a&&l)}adjustOddEvenCounts(i){let a=Ge.sum(new Int32Array(this.getOddCounts())),l=Ge.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let h=!1,m=!1;l>13?m=!0:l<4&&(h=!0);let b=a+l-i,C=(a&1)==1,R=(l&1)==0;if(b==1)if(C){if(R)throw new ae;u=!0}else{if(!R)throw new ae;m=!0}else if(b==-1)if(C){if(R)throw new ae;c=!0}else{if(!R)throw new ae;h=!0}else if(b==0){if(C){if(!R)throw new ae;a<l?(c=!0,m=!0):(u=!0,h=!0)}else if(R)throw new ae}else throw new ae;if(c){if(u)throw new ae;We.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&We.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new ae;We.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&We.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}We.SYMBOL_WIDEST=[7,5,4,3,1],We.EVEN_TOTAL_SUBSET=[4,20,52,104,204],We.GSUM=[0,348,1388,2948,3988],We.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],We.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],We.FINDER_PAT_A=0,We.FINDER_PAT_B=1,We.FINDER_PAT_C=2,We.FINDER_PAT_D=3,We.FINDER_PAT_E=4,We.FINDER_PAT_F=5,We.FINDER_PATTERN_SEQUENCES=[[We.FINDER_PAT_A,We.FINDER_PAT_A],[We.FINDER_PAT_A,We.FINDER_PAT_B,We.FINDER_PAT_B],[We.FINDER_PAT_A,We.FINDER_PAT_C,We.FINDER_PAT_B,We.FINDER_PAT_D],[We.FINDER_PAT_A,We.FINDER_PAT_E,We.FINDER_PAT_B,We.FINDER_PAT_D,We.FINDER_PAT_C],[We.FINDER_PAT_A,We.FINDER_PAT_E,We.FINDER_PAT_B,We.FINDER_PAT_D,We.FINDER_PAT_D,We.FINDER_PAT_F],[We.FINDER_PAT_A,We.FINDER_PAT_E,We.FINDER_PAT_B,We.FINDER_PAT_D,We.FINDER_PAT_E,We.FINDER_PAT_F,We.FINDER_PAT_F],[We.FINDER_PAT_A,We.FINDER_PAT_A,We.FINDER_PAT_B,We.FINDER_PAT_B,We.FINDER_PAT_C,We.FINDER_PAT_C,We.FINDER_PAT_D,We.FINDER_PAT_D],[We.FINDER_PAT_A,We.FINDER_PAT_A,We.FINDER_PAT_B,We.FINDER_PAT_B,We.FINDER_PAT_C,We.FINDER_PAT_C,We.FINDER_PAT_D,We.FINDER_PAT_E,We.FINDER_PAT_E],[We.FINDER_PAT_A,We.FINDER_PAT_A,We.FINDER_PAT_B,We.FINDER_PAT_B,We.FINDER_PAT_C,We.FINDER_PAT_C,We.FINDER_PAT_D,We.FINDER_PAT_E,We.FINDER_PAT_F,We.FINDER_PAT_F],[We.FINDER_PAT_A,We.FINDER_PAT_A,We.FINDER_PAT_B,We.FINDER_PAT_B,We.FINDER_PAT_C,We.FINDER_PAT_D,We.FINDER_PAT_D,We.FINDER_PAT_E,We.FINDER_PAT_E,We.FINDER_PAT_F,We.FINDER_PAT_F]],We.MAX_PAIRS=11;class Pl extends ir{constructor(i,a,l){super(i,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Un extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,l){const c=this.decodePair(a,!1,i,l);Un.addOrTally(this.possibleLeftPairs,c),a.reverse();let u=this.decodePair(a,!0,i,l);Un.addOrTally(this.possibleRightPairs,u),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Un.checkChecksum(h,m))return Un.constructResult(h,m)}throw new ae}static addOrTally(i,a){if(a==null)return;let l=!1;for(let c of i)if(c.getValue()===a.getValue()){c.incrementCount(),l=!0;break}l||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let l=4537077*i.getValue()+a.getValue(),c=new String(l).toString(),u=new ie;for(let C=13-c.length;C>0;C--)u.append("0");u.append(c);let h=0;for(let C=0;C<13;C++){let R=u.charAt(C).charCodeAt(0)-48;h+=C&1?R:3*R}h=10-h%10,h===10&&(h=0),u.append(h.toString());let m=i.getFinderPattern().getResultPoints(),b=a.getFinderPattern().getResultPoints();return new re(u.toString(),null,0,[m[0],m[1],b[0],b[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(i,a){let l=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(i,a,l,c){try{let u=this.findFinderPattern(i,a),h=this.parseFoundFinderPattern(i,l,a,u),m=c==null?null:c.get(X.NEED_RESULT_POINT_CALLBACK);if(m!=null){let R=(u[0]+u[1])/2;a&&(R=i.getSize()-1-R),m.foundPossibleResultPoint(new He(R,l))}let b=this.decodeDataCharacter(i,h,!0),C=this.decodeDataCharacter(i,h,!1);return new Pl(1597*b.getValue()+C.getValue(),b.getChecksumPortion()+4*C.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(i,a,l){let c=this.getDataCharacterCounters();for(let Te=0;Te<c.length;Te++)c[Te]=0;if(l)Et.recordPatternInReverse(i,a.getStartEnd()[0],c);else{Et.recordPattern(i,a.getStartEnd()[1]+1,c);for(let Te=0,Ue=c.length-1;Te<Ue;Te++,Ue--){let $e=c[Te];c[Te]=c[Ue],c[Ue]=$e}}let u=l?16:15,h=Ge.sum(new Int32Array(c))/u,m=this.getOddCounts(),b=this.getEvenCounts(),C=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let Te=0;Te<c.length;Te++){let Ue=c[Te]/h,$e=Math.floor(Ue+.5);$e<1?$e=1:$e>8&&($e=8);let nt=Math.floor(Te/2);Te&1?(b[nt]=$e,R[nt]=Ue-$e):(m[nt]=$e,C[nt]=Ue-$e)}this.adjustOddEvenCounts(l,u);let z=0,Z=0;for(let Te=m.length-1;Te>=0;Te--)Z*=9,Z+=m[Te],z+=m[Te];let fe=0,ye=0;for(let Te=b.length-1;Te>=0;Te--)fe*=9,fe+=b[Te],ye+=b[Te];let we=Z+3*fe;if(l){if(z&1||z>12||z<4)throw new ae;let Te=(12-z)/2,Ue=Un.OUTSIDE_ODD_WIDEST[Te],$e=9-Ue,nt=vt.getRSSvalue(m,Ue,!1),et=vt.getRSSvalue(b,$e,!0),Wt=Un.OUTSIDE_EVEN_TOTAL_SUBSET[Te],Mt=Un.OUTSIDE_GSUM[Te];return new ir(nt*Wt+et+Mt,we)}else{if(ye&1||ye>10||ye<4)throw new ae;let Te=(10-ye)/2,Ue=Un.INSIDE_ODD_WIDEST[Te],$e=9-Ue,nt=vt.getRSSvalue(m,Ue,!0),et=vt.getRSSvalue(b,$e,!1),Wt=Un.INSIDE_ODD_TOTAL_SUBSET[Te],Mt=Un.INSIDE_GSUM[Te];return new ir(et*Wt+nt+Mt,we)}}findFinderPattern(i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),u=!1,h=0;for(;h<c&&(u=!i.get(h),a!==u);)h++;let m=0,b=h;for(let C=h;C<c;C++)if(i.get(C)!==u)l[m]++;else{if(m===3){if(un.isFinderPattern(l))return[b,C];b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,u=!u}throw new ae}parseFoundFinderPattern(i,a,l,c){let u=i.get(c[0]),h=c[0]-1;for(;h>=0&&u!==i.get(h);)h--;h++;const m=c[0]-h,b=this.getDecodeFinderCounters(),C=new Int32Array(b.length);L.arraycopy(b,0,C,1,b.length-1),C[0]=m;const R=this.parseFinderValue(C,Un.FINDER_PATTERNS);let z=h,Z=c[1];return l&&(z=i.getSize()-1-z,Z=i.getSize()-1-Z),new Nr(R,[h,c[1]],z,Z,a)}adjustOddEvenCounts(i,a){let l=Ge.sum(new Int32Array(this.getOddCounts())),c=Ge.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,m=!1,b=!1;i?(l>12?h=!0:l<4&&(u=!0),c>12?b=!0:c<4&&(m=!0)):(l>11?h=!0:l<5&&(u=!0),c>10?b=!0:c<4&&(m=!0));let C=l+c-a,R=(l&1)===(i?1:0),z=(c&1)===1;if(C===1)if(R){if(z)throw new ae;h=!0}else{if(!z)throw new ae;b=!0}else if(C===-1)if(R){if(z)throw new ae;u=!0}else{if(!z)throw new ae;m=!0}else if(C===0){if(R){if(!z)throw new ae;l<c?(u=!0,b=!0):(h=!0,m=!0)}else if(z)throw new ae}else throw new ae;if(u){if(h)throw new ae;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(b)throw new ae;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Un.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Un.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Un.OUTSIDE_GSUM=[0,161,961,2015,2715],Un.INSIDE_GSUM=[0,336,1036,1516],Un.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Un.INSIDE_ODD_WIDEST=[2,4,6,8],Un.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ga extends Et{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const l=i?i.get(X.POSSIBLE_FORMATS):null,c=i&&i.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(oe.EAN_13)||l.includes(oe.UPC_A)||l.includes(oe.EAN_8)||l.includes(oe.UPC_E))&&this.readers.push(new Oa(i)),l.includes(oe.CODE_39)&&this.readers.push(new jt(c)),l.includes(oe.CODE_128)&&this.readers.push(new rt),l.includes(oe.ITF)&&this.readers.push(new Tt),l.includes(oe.RSS_14)&&this.readers.push(new Un),l.includes(oe.RSS_EXPANDED)&&this.readers.push(new We(this.verbose))):(this.readers.push(new Oa(i)),this.readers.push(new jt),this.readers.push(new Oa(i)),this.readers.push(new rt),this.readers.push(new Tt),this.readers.push(new Un),this.readers.push(new We(this.verbose)))}decodeRow(i,a,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,a,l)}catch{}throw new ae}reset(){this.readers.forEach(i=>i.reset())}}class Gc extends te{constructor(i=500,a){super(new ga(a),i,a)}}class on{constructor(i,a,l){this.ecCodewords=i,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ln{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Vt{constructor(i,a,l,c,u,h){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let m=0;const b=h.getECCodewords(),C=h.getECBlocks();for(let R of C)m+=R.getCount()*(R.getDataCodewords()+b);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new k;for(let l of Vt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===a)return l;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new Vt(1,10,10,8,8,new on(5,new ln(1,3))),new Vt(2,12,12,10,10,new on(7,new ln(1,5))),new Vt(3,14,14,12,12,new on(10,new ln(1,8))),new Vt(4,16,16,14,14,new on(12,new ln(1,12))),new Vt(5,18,18,16,16,new on(14,new ln(1,18))),new Vt(6,20,20,18,18,new on(18,new ln(1,22))),new Vt(7,22,22,20,20,new on(20,new ln(1,30))),new Vt(8,24,24,22,22,new on(24,new ln(1,36))),new Vt(9,26,26,24,24,new on(28,new ln(1,44))),new Vt(10,32,32,14,14,new on(36,new ln(1,62))),new Vt(11,36,36,16,16,new on(42,new ln(1,86))),new Vt(12,40,40,18,18,new on(48,new ln(1,114))),new Vt(13,44,44,20,20,new on(56,new ln(1,144))),new Vt(14,48,48,22,22,new on(68,new ln(1,174))),new Vt(15,52,52,24,24,new on(42,new ln(2,102))),new Vt(16,64,64,14,14,new on(56,new ln(2,140))),new Vt(17,72,72,16,16,new on(36,new ln(4,92))),new Vt(18,80,80,18,18,new on(48,new ln(4,114))),new Vt(19,88,88,20,20,new on(56,new ln(4,144))),new Vt(20,96,96,22,22,new on(68,new ln(4,174))),new Vt(21,104,104,24,24,new on(56,new ln(6,136))),new Vt(22,120,120,18,18,new on(68,new ln(6,175))),new Vt(23,132,132,20,20,new on(62,new ln(8,163))),new Vt(24,144,144,22,22,new on(62,new ln(8,156),new ln(2,155))),new Vt(25,8,18,6,16,new on(7,new ln(1,5))),new Vt(26,8,32,6,14,new on(11,new ln(1,10))),new Vt(27,12,26,10,24,new on(14,new ln(1,16))),new Vt(28,12,36,10,16,new on(18,new ln(1,22))),new Vt(29,16,36,14,16,new on(24,new ln(1,32))),new Vt(30,16,48,14,22,new on(28,new ln(1,49)))]}}Vt.VERSIONS=Vt.buildVersions();class Qo{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new k;this.version=Qo.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),l=i.getWidth();return Vt.getVersionForDimensions(a,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let m=!1,b=!1,C=!1,R=!1;do if(l===u&&c===0&&!m)i[a++]=this.readCorner1(u,h)&255,l-=2,c+=2,m=!0;else if(l===u-2&&c===0&&h&3&&!b)i[a++]=this.readCorner2(u,h)&255,l-=2,c+=2,b=!0;else if(l===u+4&&c===2&&!(h&7)&&!C)i[a++]=this.readCorner3(u,h)&255,l-=2,c+=2,C=!0;else if(l===u-2&&c===0&&(h&7)===4&&!R)i[a++]=this.readCorner4(u,h)&255,l-=2,c+=2,R=!0;else{do l<u&&c>=0&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l-=2,c+=2;while(l>=0&&c<h);l+=1,c+=3;do l>=0&&c<h&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l+=2,c-=2;while(l<u&&c>=0);l+=3,c+=1}while(l<u||c<h);if(a!==this.version.getTotalCodewords())throw new k;return i}readModule(i,a,l,c){return i<0&&(i+=l,a+=4-(l+4&7)),a<0&&(a+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,l,c){let u=0;return this.readModule(i-2,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-2,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a,l,c)&&(u|=1),u<<=1,this.readModule(i,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i,a,l,c)&&(u|=1),u}readCorner1(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,1,i,a)&&(l|=1),l<<=1,this.readModule(i-1,2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}readCorner2(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-4,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner3(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-3,i,a)&&(l|=1),l<<=1,this.readModule(1,a-2,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner4(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new S("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=a/c|0,m=l/u|0,b=h*c,C=m*u,R=new se(C,b);for(let z=0;z<h;++z){const Z=z*c;for(let fe=0;fe<m;++fe){const ye=fe*u;for(let we=0;we<c;++we){const Te=z*(c+2)+1+we,Ue=Z+we;for(let $e=0;$e<u;++$e){const nt=fe*(u+2)+1+$e;if(i.get(nt,Te)){const et=ye+$e;R.set(et,Ue)}}}}}return R}}class Yn{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const l=a.getECBlocks();let c=0;const u=l.getECBlocks();for(let we of u)c+=we.getCount();const h=new Array(c);let m=0;for(let we of u)for(let Te=0;Te<we.getCount();Te++){const Ue=we.getDataCodewords(),$e=l.getECCodewords()+Ue;h[m++]=new Yn(Ue,new Uint8Array($e))}const C=h[0].codewords.length-l.getECCodewords(),R=C-1;let z=0;for(let we=0;we<R;we++)for(let Te=0;Te<m;Te++)h[Te].codewords[we]=i[z++];const Z=a.getVersionNumber()===24,fe=Z?8:m;for(let we=0;we<fe;we++)h[we].codewords[C-1]=i[z++];const ye=h[0].codewords.length;for(let we=C;we<ye;we++)for(let Te=0;Te<m;Te++){const Ue=Z?(Te+8)%m:Te,$e=Z&&Ue>7?we-1:we;h[Ue].codewords[$e]=i[z++]}if(z!==i.length)throw new S;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ws{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new S(""+i);let a=0,l=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(l>0){const h=8-l,m=i<h?i:h,b=h-m,C=255>>8-m<<b;a=(u[c]&C)>>b,i-=m,l+=m,l===8&&(l=0,c++)}if(i>0){for(;i>=8;)a=a<<8|u[c]&255,c++,i-=8;if(i>0){const h=8-i,m=255>>h<<h;a=a<<i|(u[c]&m)>>h,l+=i}}return this.bitOffset=l,this.byteOffset=c,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Jn;(function(H){H[H.PAD_ENCODE=0]="PAD_ENCODE",H[H.ASCII_ENCODE=1]="ASCII_ENCODE",H[H.C40_ENCODE=2]="C40_ENCODE",H[H.TEXT_ENCODE=3]="TEXT_ENCODE",H[H.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",H[H.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",H[H.BASE256_ENCODE=6]="BASE256_ENCODE"})(Jn||(Jn={}));class Wr{static decode(i){const a=new Ws(i),l=new ie,c=new ie,u=new Array;let h=Jn.ASCII_ENCODE;do if(h===Jn.ASCII_ENCODE)h=this.decodeAsciiSegment(a,l,c);else{switch(h){case Jn.C40_ENCODE:this.decodeC40Segment(a,l);break;case Jn.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Jn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Jn.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Jn.BASE256_ENCODE:this.decodeBase256Segment(a,l,u);break;default:throw new k}h=Jn.ASCII_ENCODE}while(h!==Jn.PAD_ENCODE&&a.available()>0);return c.length()>0&&l.append(c.toString()),new xe(i,l.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,a,l){let c=!1;do{let u=i.readBits(8);if(u===0)throw new k;if(u<=128)return c&&(u+=128),a.append(String.fromCharCode(u-1)),Jn.ASCII_ENCODE;if(u===129)return Jn.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&a.append("0"),a.append(""+h)}else switch(u){case 230:return Jn.C40_ENCODE;case 231:return Jn.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Jn.ANSIX12_ENCODE;case 239:return Jn.TEXT_ENCODE;case 240:return Jn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new k;break}}while(i.available()>0);return Jn.ASCII_ENCODE}static decodeC40Segment(i,a){let l=!1;const c=[];let u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let m=0;m<3;m++){const b=c[m];switch(u){case 0:if(b<3)u=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else throw new k;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new k}u=0;break;case 3:l?(a.append(String.fromCharCode(b+224)),l=!1):a.append(String.fromCharCode(b+96)),u=0;break;default:throw new k}}}while(i.available()>0)}static decodeTextSegment(i,a){let l=!1,c=[],u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let m=0;m<3;m++){const b=c[m];switch(u){case 0:if(b<3)u=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else throw new k;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new k}u=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C),u=0}else throw new k;break;default:throw new k}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const l=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),l);for(let u=0;u<3;u++){const h=l[u];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else if(h<40)a.append(String.fromCharCode(h+51));else throw new k;break}}}while(i.available()>0)}static parseTwoBytes(i,a,l){let c=(i<<8)+a-1,u=Math.floor(c/1600);l[0]=u,c-=u*1600,u=Math.floor(c/40),l[1]=u,l[2]=c-u*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let c=i.readBits(6);if(c===31){const u=8-i.getBitOffset();u!==8&&i.readBits(u);return}c&32||(c|=64),a.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,a,l){let c=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),c++);let h;if(u===0?h=i.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(i.readBits(8),c++),h<0)throw new k;const m=new Uint8Array(h);for(let b=0;b<h;b++){if(i.available()<8)throw new k;m[b]=this.unrandomize255State(i.readBits(8),c++)}l.push(m);try{a.append(U.decode(m,B.ISO88591))}catch(b){throw new ke("Platform does not support required encoding: "+b.message)}}static unrandomize255State(i,a){const l=149*a%255+1,c=i-l;return c>=0?c:c+256}}Wr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wr.TEXT_SHIFT2_SET_CHARS=Wr.C40_SHIFT2_SET_CHARS,Wr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ko{constructor(){this.rsDecoder=new pe(Oe.DATA_MATRIX_FIELD_256)}decode(i){const a=new Qo(i),l=a.getVersion(),c=a.readCodewords(),u=Yn.getDataBlocks(c,l);let h=0;for(let C of u)h+=C.getNumDataCodewords();const m=new Uint8Array(h),b=u.length;for(let C=0;C<b;C++){const R=u[C],z=R.getCodewords(),Z=R.getNumDataCodewords();this.correctErrors(z,Z);for(let fe=0;fe<Z;fe++)m[fe*b+C]=z[fe]}return Wr.decode(m)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new w}for(let c=0;c<a;c++)i[c]=l[c]}}class Wn{constructor(i){this.image=i,this.rectangleDetector=new Ct(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new ae;a=this.shiftToModuleCenter(a);const l=a[0],c=a[1],u=a[2],h=a[3];let m=this.transitionsBetween(l,h)+1,b=this.transitionsBetween(u,h)+1;(m&1)===1&&(m+=1),(b&1)===1&&(b+=1),4*m<7*b&&4*b<7*m&&(m=b=Math.max(m,b));let C=Wn.sampleGrid(this.image,l,c,u,h,m,b);return new st(C,[l,c,u,h])}static shiftPoint(i,a,l){let c=(a.getX()-i.getX())/(l+1),u=(a.getY()-i.getY())/(l+1);return new He(i.getX()+c,i.getY()+u)}static moveAway(i,a,l){let c=i.getX(),u=i.getY();return c<a?c-=1:c+=1,u<l?u-=1:u+=1,new He(c,u)}detectSolid1(i){let a=i[0],l=i[1],c=i[3],u=i[2],h=this.transitionsBetween(a,l),m=this.transitionsBetween(l,c),b=this.transitionsBetween(c,u),C=this.transitionsBetween(u,a),R=h,z=[u,a,l,c];return R>m&&(R=m,z[0]=a,z[1]=l,z[2]=c,z[3]=u),R>b&&(R=b,z[0]=l,z[1]=c,z[2]=u,z[3]=a),R>C&&(z[0]=c,z[1]=u,z[2]=a,z[3]=l),z}detectSolid2(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),m=Wn.shiftPoint(l,c,(h+1)*4),b=Wn.shiftPoint(c,l,(h+1)*4),C=this.transitionsBetween(m,a),R=this.transitionsBetween(b,u);return C<R?(i[0]=a,i[1]=l,i[2]=c,i[3]=u):(i[0]=l,i[1]=c,i[2]=u,i[3]=a),i}correctTopRight(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),m=this.transitionsBetween(l,u),b=Wn.shiftPoint(a,l,(m+1)*4),C=Wn.shiftPoint(c,l,(h+1)*4);h=this.transitionsBetween(b,u),m=this.transitionsBetween(C,u);let R=new He(u.getX()+(c.getX()-l.getX())/(h+1),u.getY()+(c.getY()-l.getY())/(h+1)),z=new He(u.getX()+(a.getX()-l.getX())/(m+1),u.getY()+(a.getY()-l.getY())/(m+1));if(!this.isValid(R))return this.isValid(z)?z:null;if(!this.isValid(z))return R;let Z=this.transitionsBetween(b,R)+this.transitionsBetween(C,R),fe=this.transitionsBetween(b,z)+this.transitionsBetween(C,z);return Z>fe?R:z}shiftToModuleCenter(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u)+1,m=this.transitionsBetween(c,u)+1,b=Wn.shiftPoint(a,l,m*4),C=Wn.shiftPoint(c,l,h*4);h=this.transitionsBetween(b,u)+1,m=this.transitionsBetween(C,u)+1,(h&1)===1&&(h+=1),(m&1)===1&&(m+=1);let R=(a.getX()+l.getX()+c.getX()+u.getX())/4,z=(a.getY()+l.getY()+c.getY()+u.getY())/4;a=Wn.moveAway(a,R,z),l=Wn.moveAway(l,R,z),c=Wn.moveAway(c,R,z),u=Wn.moveAway(u,R,z);let Z,fe;return b=Wn.shiftPoint(a,l,m*4),b=Wn.shiftPoint(b,u,h*4),Z=Wn.shiftPoint(l,a,m*4),Z=Wn.shiftPoint(Z,c,h*4),C=Wn.shiftPoint(c,u,m*4),C=Wn.shiftPoint(C,l,h*4),fe=Wn.shiftPoint(u,c,m*4),fe=Wn.shiftPoint(fe,a,h*4),[b,Z,C,fe]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,l,c,u,h,m){return Jt.getInstance().sampleGrid(i,h,m,.5,.5,h-.5,.5,h-.5,m-.5,.5,m-.5,a.getX(),a.getY(),u.getX(),u.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(i,a){let l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),m=Math.abs(h-c)>Math.abs(u-l);if(m){let we=l;l=c,c=we,we=u,u=h,h=we}let b=Math.abs(u-l),C=Math.abs(h-c),R=-b/2,z=c<h?1:-1,Z=l<u?1:-1,fe=0,ye=this.image.get(m?c:l,m?l:c);for(let we=l,Te=c;we!==u;we+=Z){let Ue=this.image.get(m?Te:we,m?we:Te);if(Ue!==ye&&(fe++,ye=Ue),R+=C,R>0){if(Te===h)break;Te+=z,R-=b}}return fe}}class Mi{constructor(){this.decoder=new Ko}decode(i,a=null){let l,c;if(a!=null&&a.has(X.PURE_BARCODE)){const C=Mi.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(C),c=Mi.NO_POINTS}else{const C=new Wn(i.getBlackMatrix()).detect();l=this.decoder.decode(C.getBits()),c=C.getPoints()}const u=l.getRawBytes(),h=new re(l.getText(),u,8*u.length,c,oe.DATA_MATRIX,L.currentTimeMillis()),m=l.getByteSegments();m!=null&&h.putMetadata(_e.BYTE_SEGMENTS,m);const b=l.getECLevel();return b!=null&&h.putMetadata(_e.ERROR_CORRECTION_LEVEL,b),h}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a==null||l==null)throw new ae;const c=this.moduleSize(a,i);let u=a[1];const h=l[1];let m=a[0];const C=(l[0]-m+1)/c,R=(h-u+1)/c;if(C<=0||R<=0)throw new ae;const z=c/2;u+=z,m+=z;const Z=new se(C,R);for(let fe=0;fe<R;fe++){const ye=u+fe*c;for(let we=0;we<C;we++)i.get(m+we*c,ye)&&Z.set(we,fe)}return Z}static moduleSize(i,a){const l=a.getWidth();let c=i[0];const u=i[1];for(;c<l&&a.get(c,u);)c++;if(c===l)throw new ae;const h=c-i[0];if(h===0)throw new ae;return h}}Mi.NO_POINTS=[];class Xs extends te{constructor(i=500){super(new Mi,i)}}var Ai;(function(H){H[H.L=0]="L",H[H.M=1]="M",H[H.Q=2]="Q",H[H.H=3]="H"})(Ai||(Ai={}));class xn{constructor(i,a,l){this.value=i,this.stringValue=a,this.bits=l,xn.FOR_BITS.set(l,this),xn.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return xn.L;case"M":return xn.M;case"Q":return xn.Q;case"H":return xn.H;default:throw new N(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof xn))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=xn.FOR_BITS.size)throw new S;return xn.FOR_BITS.get(i)}}xn.FOR_BITS=new Map,xn.FOR_VALUE=new Map,xn.L=new xn(Ai.L,"L",1),xn.M=new xn(Ai.M,"M",0),xn.Q=new xn(Ai.Q,"Q",3),xn.H=new xn(Ai.H,"H",2);class Si{constructor(i){this.errorCorrectionLevel=xn.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return D.bitCount(i^a)}static decodeFormatInformation(i,a){const l=Si.doDecodeFormatInformation(i,a);return l!==null?l:Si.doDecodeFormatInformation(i^Si.FORMAT_INFO_MASK_QR,a^Si.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let l=Number.MAX_SAFE_INTEGER,c=0;for(const u of Si.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===i||h===a)return new Si(u[1]);let m=Si.numBitsDiffering(i,h);m<l&&(c=u[1],l=m),i!==a&&(m=Si.numBitsDiffering(a,h),m<l&&(c=u[1],l=m))}return l<=3?new Si(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Si))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Si.FORMAT_INFO_MASK_QR=21522,Si.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Re{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const l of a)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class le{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class bt{constructor(i,a,...l){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=l;let c=0;const u=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const m of h)c+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new k;try{return this.getVersionForNumber((i-17)/4)}catch{throw new k}}static getVersionForNumber(i){if(i<1||i>40)throw new S;return bt.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<bt.VERSION_DECODE_INFO.length;c++){const u=bt.VERSION_DECODE_INFO[c];if(u===i)return bt.getVersionForNumber(c+7);const h=Si.numBitsDiffering(i,u);h<a&&(l=c+7,a=h)}return a<=3?bt.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new se(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<l;h++)c===0&&(h===0||h===l-1)||c===l-1&&h===0||a.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}bt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),bt.VERSIONS=[new bt(1,new Int32Array(0),new Re(7,new le(1,19)),new Re(10,new le(1,16)),new Re(13,new le(1,13)),new Re(17,new le(1,9))),new bt(2,Int32Array.from([6,18]),new Re(10,new le(1,34)),new Re(16,new le(1,28)),new Re(22,new le(1,22)),new Re(28,new le(1,16))),new bt(3,Int32Array.from([6,22]),new Re(15,new le(1,55)),new Re(26,new le(1,44)),new Re(18,new le(2,17)),new Re(22,new le(2,13))),new bt(4,Int32Array.from([6,26]),new Re(20,new le(1,80)),new Re(18,new le(2,32)),new Re(26,new le(2,24)),new Re(16,new le(4,9))),new bt(5,Int32Array.from([6,30]),new Re(26,new le(1,108)),new Re(24,new le(2,43)),new Re(18,new le(2,15),new le(2,16)),new Re(22,new le(2,11),new le(2,12))),new bt(6,Int32Array.from([6,34]),new Re(18,new le(2,68)),new Re(16,new le(4,27)),new Re(24,new le(4,19)),new Re(28,new le(4,15))),new bt(7,Int32Array.from([6,22,38]),new Re(20,new le(2,78)),new Re(18,new le(4,31)),new Re(18,new le(2,14),new le(4,15)),new Re(26,new le(4,13),new le(1,14))),new bt(8,Int32Array.from([6,24,42]),new Re(24,new le(2,97)),new Re(22,new le(2,38),new le(2,39)),new Re(22,new le(4,18),new le(2,19)),new Re(26,new le(4,14),new le(2,15))),new bt(9,Int32Array.from([6,26,46]),new Re(30,new le(2,116)),new Re(22,new le(3,36),new le(2,37)),new Re(20,new le(4,16),new le(4,17)),new Re(24,new le(4,12),new le(4,13))),new bt(10,Int32Array.from([6,28,50]),new Re(18,new le(2,68),new le(2,69)),new Re(26,new le(4,43),new le(1,44)),new Re(24,new le(6,19),new le(2,20)),new Re(28,new le(6,15),new le(2,16))),new bt(11,Int32Array.from([6,30,54]),new Re(20,new le(4,81)),new Re(30,new le(1,50),new le(4,51)),new Re(28,new le(4,22),new le(4,23)),new Re(24,new le(3,12),new le(8,13))),new bt(12,Int32Array.from([6,32,58]),new Re(24,new le(2,92),new le(2,93)),new Re(22,new le(6,36),new le(2,37)),new Re(26,new le(4,20),new le(6,21)),new Re(28,new le(7,14),new le(4,15))),new bt(13,Int32Array.from([6,34,62]),new Re(26,new le(4,107)),new Re(22,new le(8,37),new le(1,38)),new Re(24,new le(8,20),new le(4,21)),new Re(22,new le(12,11),new le(4,12))),new bt(14,Int32Array.from([6,26,46,66]),new Re(30,new le(3,115),new le(1,116)),new Re(24,new le(4,40),new le(5,41)),new Re(20,new le(11,16),new le(5,17)),new Re(24,new le(11,12),new le(5,13))),new bt(15,Int32Array.from([6,26,48,70]),new Re(22,new le(5,87),new le(1,88)),new Re(24,new le(5,41),new le(5,42)),new Re(30,new le(5,24),new le(7,25)),new Re(24,new le(11,12),new le(7,13))),new bt(16,Int32Array.from([6,26,50,74]),new Re(24,new le(5,98),new le(1,99)),new Re(28,new le(7,45),new le(3,46)),new Re(24,new le(15,19),new le(2,20)),new Re(30,new le(3,15),new le(13,16))),new bt(17,Int32Array.from([6,30,54,78]),new Re(28,new le(1,107),new le(5,108)),new Re(28,new le(10,46),new le(1,47)),new Re(28,new le(1,22),new le(15,23)),new Re(28,new le(2,14),new le(17,15))),new bt(18,Int32Array.from([6,30,56,82]),new Re(30,new le(5,120),new le(1,121)),new Re(26,new le(9,43),new le(4,44)),new Re(28,new le(17,22),new le(1,23)),new Re(28,new le(2,14),new le(19,15))),new bt(19,Int32Array.from([6,30,58,86]),new Re(28,new le(3,113),new le(4,114)),new Re(26,new le(3,44),new le(11,45)),new Re(26,new le(17,21),new le(4,22)),new Re(26,new le(9,13),new le(16,14))),new bt(20,Int32Array.from([6,34,62,90]),new Re(28,new le(3,107),new le(5,108)),new Re(26,new le(3,41),new le(13,42)),new Re(30,new le(15,24),new le(5,25)),new Re(28,new le(15,15),new le(10,16))),new bt(21,Int32Array.from([6,28,50,72,94]),new Re(28,new le(4,116),new le(4,117)),new Re(26,new le(17,42)),new Re(28,new le(17,22),new le(6,23)),new Re(30,new le(19,16),new le(6,17))),new bt(22,Int32Array.from([6,26,50,74,98]),new Re(28,new le(2,111),new le(7,112)),new Re(28,new le(17,46)),new Re(30,new le(7,24),new le(16,25)),new Re(24,new le(34,13))),new bt(23,Int32Array.from([6,30,54,78,102]),new Re(30,new le(4,121),new le(5,122)),new Re(28,new le(4,47),new le(14,48)),new Re(30,new le(11,24),new le(14,25)),new Re(30,new le(16,15),new le(14,16))),new bt(24,Int32Array.from([6,28,54,80,106]),new Re(30,new le(6,117),new le(4,118)),new Re(28,new le(6,45),new le(14,46)),new Re(30,new le(11,24),new le(16,25)),new Re(30,new le(30,16),new le(2,17))),new bt(25,Int32Array.from([6,32,58,84,110]),new Re(26,new le(8,106),new le(4,107)),new Re(28,new le(8,47),new le(13,48)),new Re(30,new le(7,24),new le(22,25)),new Re(30,new le(22,15),new le(13,16))),new bt(26,Int32Array.from([6,30,58,86,114]),new Re(28,new le(10,114),new le(2,115)),new Re(28,new le(19,46),new le(4,47)),new Re(28,new le(28,22),new le(6,23)),new Re(30,new le(33,16),new le(4,17))),new bt(27,Int32Array.from([6,34,62,90,118]),new Re(30,new le(8,122),new le(4,123)),new Re(28,new le(22,45),new le(3,46)),new Re(30,new le(8,23),new le(26,24)),new Re(30,new le(12,15),new le(28,16))),new bt(28,Int32Array.from([6,26,50,74,98,122]),new Re(30,new le(3,117),new le(10,118)),new Re(28,new le(3,45),new le(23,46)),new Re(30,new le(4,24),new le(31,25)),new Re(30,new le(11,15),new le(31,16))),new bt(29,Int32Array.from([6,30,54,78,102,126]),new Re(30,new le(7,116),new le(7,117)),new Re(28,new le(21,45),new le(7,46)),new Re(30,new le(1,23),new le(37,24)),new Re(30,new le(19,15),new le(26,16))),new bt(30,Int32Array.from([6,26,52,78,104,130]),new Re(30,new le(5,115),new le(10,116)),new Re(28,new le(19,47),new le(10,48)),new Re(30,new le(15,24),new le(25,25)),new Re(30,new le(23,15),new le(25,16))),new bt(31,Int32Array.from([6,30,56,82,108,134]),new Re(30,new le(13,115),new le(3,116)),new Re(28,new le(2,46),new le(29,47)),new Re(30,new le(42,24),new le(1,25)),new Re(30,new le(23,15),new le(28,16))),new bt(32,Int32Array.from([6,34,60,86,112,138]),new Re(30,new le(17,115)),new Re(28,new le(10,46),new le(23,47)),new Re(30,new le(10,24),new le(35,25)),new Re(30,new le(19,15),new le(35,16))),new bt(33,Int32Array.from([6,30,58,86,114,142]),new Re(30,new le(17,115),new le(1,116)),new Re(28,new le(14,46),new le(21,47)),new Re(30,new le(29,24),new le(19,25)),new Re(30,new le(11,15),new le(46,16))),new bt(34,Int32Array.from([6,34,62,90,118,146]),new Re(30,new le(13,115),new le(6,116)),new Re(28,new le(14,46),new le(23,47)),new Re(30,new le(44,24),new le(7,25)),new Re(30,new le(59,16),new le(1,17))),new bt(35,Int32Array.from([6,30,54,78,102,126,150]),new Re(30,new le(12,121),new le(7,122)),new Re(28,new le(12,47),new le(26,48)),new Re(30,new le(39,24),new le(14,25)),new Re(30,new le(22,15),new le(41,16))),new bt(36,Int32Array.from([6,24,50,76,102,128,154]),new Re(30,new le(6,121),new le(14,122)),new Re(28,new le(6,47),new le(34,48)),new Re(30,new le(46,24),new le(10,25)),new Re(30,new le(2,15),new le(64,16))),new bt(37,Int32Array.from([6,28,54,80,106,132,158]),new Re(30,new le(17,122),new le(4,123)),new Re(28,new le(29,46),new le(14,47)),new Re(30,new le(49,24),new le(10,25)),new Re(30,new le(24,15),new le(46,16))),new bt(38,Int32Array.from([6,32,58,84,110,136,162]),new Re(30,new le(4,122),new le(18,123)),new Re(28,new le(13,46),new le(32,47)),new Re(30,new le(48,24),new le(14,25)),new Re(30,new le(42,15),new le(32,16))),new bt(39,Int32Array.from([6,26,54,82,110,138,166]),new Re(30,new le(20,117),new le(4,118)),new Re(28,new le(40,47),new le(7,48)),new Re(30,new le(43,24),new le(22,25)),new Re(30,new le(10,15),new le(67,16))),new bt(40,Int32Array.from([6,30,58,86,114,142,170]),new Re(30,new le(19,118),new le(6,119)),new Re(28,new le(18,47),new le(31,48)),new Re(30,new le(34,24),new le(34,25)),new Re(30,new le(20,15),new le(61,16)))];var si;(function(H){H[H.DATA_MASK_000=0]="DATA_MASK_000",H[H.DATA_MASK_001=1]="DATA_MASK_001",H[H.DATA_MASK_010=2]="DATA_MASK_010",H[H.DATA_MASK_011=3]="DATA_MASK_011",H[H.DATA_MASK_100=4]="DATA_MASK_100",H[H.DATA_MASK_101=5]="DATA_MASK_101",H[H.DATA_MASK_110=6]="DATA_MASK_110",H[H.DATA_MASK_111=7]="DATA_MASK_111"})(si||(si={}));class hr{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let l=0;l<a;l++)for(let c=0;c<a;c++)this.isMasked(l,c)&&i.flip(c,l)}}hr.values=new Map([[si.DATA_MASK_000,new hr(si.DATA_MASK_000,(H,i)=>(H+i&1)===0)],[si.DATA_MASK_001,new hr(si.DATA_MASK_001,(H,i)=>(H&1)===0)],[si.DATA_MASK_010,new hr(si.DATA_MASK_010,(H,i)=>i%3===0)],[si.DATA_MASK_011,new hr(si.DATA_MASK_011,(H,i)=>(H+i)%3===0)],[si.DATA_MASK_100,new hr(si.DATA_MASK_100,(H,i)=>(Math.floor(H/2)+Math.floor(i/3)&1)===0)],[si.DATA_MASK_101,new hr(si.DATA_MASK_101,(H,i)=>H*i%6===0)],[si.DATA_MASK_110,new hr(si.DATA_MASK_110,(H,i)=>H*i%6<3)],[si.DATA_MASK_111,new hr(si.DATA_MASK_111,(H,i)=>(H+i+H*i%3&1)===0)]]);class Jo{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new k;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const a=this.bitMatrix.getHeight();let l=0;const c=a-7;for(let u=a-1;u>=c;u--)l=this.copyBit(8,u,l);for(let u=a-8;u<a;u++)l=this.copyBit(u,8,l);if(this.parsedFormatInfo=Si.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return bt.getVersionForNumber(a);let l=0;const c=i-11;for(let h=5;h>=0;h--)for(let m=i-9;m>=c;m--)l=this.copyBit(m,h,l);let u=bt.decodeVersionInformation(l);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;l=0;for(let h=5;h>=0;h--)for(let m=i-9;m>=c;m--)l=this.copyBit(h,m,l);if(u=bt.decodeVersionInformation(l),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new k}copyBit(i,a,l){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),l=hr.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const u=a.buildFunctionPattern();let h=!0;const m=new Uint8Array(a.getTotalCodewords());let b=0,C=0,R=0;for(let z=c-1;z>0;z-=2){z===6&&z--;for(let Z=0;Z<c;Z++){const fe=h?c-1-Z:Z;for(let ye=0;ye<2;ye++)u.get(z-ye,fe)||(R++,C<<=1,this.bitMatrix.get(z-ye,fe)&&(C|=1),R===8&&(m[b++]=C,R=0,C=0))}h=!h}if(b!==a.getTotalCodewords())throw new k;return m}remask(){if(this.parsedFormatInfo===null)return;const i=hr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,l=i.getWidth();a<l;a++)for(let c=a+1,u=i.getHeight();c<u;c++)i.get(a,c)!==i.get(c,a)&&(i.flip(c,a),i.flip(a,c))}}class $o{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,l){if(i.length!==a.getTotalCodewords())throw new S;const c=a.getECBlocksForLevel(l);let u=0;const h=c.getECBlocks();for(const ye of h)u+=ye.getCount();const m=new Array(u);let b=0;for(const ye of h)for(let we=0;we<ye.getCount();we++){const Te=ye.getDataCodewords(),Ue=c.getECCodewordsPerBlock()+Te;m[b++]=new $o(Te,new Uint8Array(Ue))}const C=m[0].codewords.length;let R=m.length-1;for(;R>=0&&m[R].codewords.length!==C;)R--;R++;const z=C-c.getECCodewordsPerBlock();let Z=0;for(let ye=0;ye<z;ye++)for(let we=0;we<b;we++)m[we].codewords[ye]=i[Z++];for(let ye=R;ye<b;ye++)m[ye].codewords[z]=i[Z++];const fe=m[0].codewords.length;for(let ye=z;ye<fe;ye++)for(let we=0;we<b;we++){const Te=we<R?ye:ye+1;m[we].codewords[Te]=i[Z++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var dr;(function(H){H[H.TERMINATOR=0]="TERMINATOR",H[H.NUMERIC=1]="NUMERIC",H[H.ALPHANUMERIC=2]="ALPHANUMERIC",H[H.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",H[H.BYTE=4]="BYTE",H[H.ECI=5]="ECI",H[H.KANJI=6]="KANJI",H[H.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",H[H.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",H[H.HANZI=9]="HANZI"})(dr||(dr={}));class Nt{constructor(i,a,l,c){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=c,Nt.FOR_BITS.set(c,this),Nt.FOR_VALUE.set(i,this)}static forBits(i){const a=Nt.FOR_BITS.get(i);if(a===void 0)throw new S;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Nt))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}Nt.FOR_BITS=new Map,Nt.FOR_VALUE=new Map,Nt.TERMINATOR=new Nt(dr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Nt.NUMERIC=new Nt(dr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Nt.ALPHANUMERIC=new Nt(dr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Nt.STRUCTURED_APPEND=new Nt(dr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Nt.BYTE=new Nt(dr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Nt.ECI=new Nt(dr.ECI,"ECI",Int32Array.from([0,0,0]),7),Nt.KANJI=new Nt(dr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Nt.FNC1_FIRST_POSITION=new Nt(dr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Nt.FNC1_SECOND_POSITION=new Nt(dr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Nt.HANZI=new Nt(dr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gn{static decode(i,a,l,c){const u=new Ws(i);let h=new ie;const m=new Array;let b=-1,C=-1;try{let R=null,z=!1,Z;do{if(u.available()<4)Z=Nt.TERMINATOR;else{const fe=u.readBits(4);Z=Nt.forBits(fe)}switch(Z){case Nt.TERMINATOR:break;case Nt.FNC1_FIRST_POSITION:case Nt.FNC1_SECOND_POSITION:z=!0;break;case Nt.STRUCTURED_APPEND:if(u.available()<16)throw new k;b=u.readBits(8),C=u.readBits(8);break;case Nt.ECI:const fe=gn.parseECIValue(u);if(R=K.getCharacterSetECIByValue(fe),R===null)throw new k;break;case Nt.HANZI:const ye=u.readBits(4),we=u.readBits(Z.getCharacterCountBits(a));ye===gn.GB2312_SUBSET&&gn.decodeHanziSegment(u,h,we);break;default:const Te=u.readBits(Z.getCharacterCountBits(a));switch(Z){case Nt.NUMERIC:gn.decodeNumericSegment(u,h,Te);break;case Nt.ALPHANUMERIC:gn.decodeAlphanumericSegment(u,h,Te,z);break;case Nt.BYTE:gn.decodeByteSegment(u,h,Te,R,m,c);break;case Nt.KANJI:gn.decodeKanjiSegment(u,h,Te);break;default:throw new k}break}}while(Z!==Nt.TERMINATOR)}catch{throw new k}return new xe(i,h.toString(),m.length===0?null:m,l===null?null:l.toString(),b,C)}static decodeHanziSegment(i,a,l){if(l*13>i.available())throw new k;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let m=h/96<<8&4294967295|h%96;m<959?m+=41377:m+=42657,c[u]=m>>8&255,c[u+1]=m&255,u+=2,l--}try{a.append(U.decode(c,B.GB2312))}catch(h){throw new k(h)}}static decodeKanjiSegment(i,a,l){if(l*13>i.available())throw new k;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let m=h/192<<8&4294967295|h%192;m<7936?m+=33088:m+=49472,c[u]=m>>8,c[u+1]=m,u+=2,l--}try{a.append(U.decode(c,B.SHIFT_JIS))}catch(h){throw new k(h)}}static decodeByteSegment(i,a,l,c,u,h){if(8*l>i.available())throw new k;const m=new Uint8Array(l);for(let C=0;C<l;C++)m[C]=i.readBits(8);let b;c===null?b=B.guessEncoding(m,h):b=c.getName();try{a.append(U.decode(m,b))}catch(C){throw new k(C)}u.push(m)}static toAlphaNumericChar(i){if(i>=gn.ALPHANUMERIC_CHARS.length)throw new k;return gn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,l,c){const u=a.length();for(;l>1;){if(i.available()<11)throw new k;const h=i.readBits(11);a.append(gn.toAlphaNumericChar(Math.floor(h/45))),a.append(gn.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(i.available()<6)throw new k;a.append(gn.toAlphaNumericChar(i.readBits(6)))}if(c)for(let h=u;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,""))}static decodeNumericSegment(i,a,l){for(;l>=3;){if(i.available()<10)throw new k;const c=i.readBits(10);if(c>=1e3)throw new k;a.append(gn.toAlphaNumericChar(Math.floor(c/100))),a.append(gn.toAlphaNumericChar(Math.floor(c/10)%10)),a.append(gn.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(i.available()<7)throw new k;const c=i.readBits(7);if(c>=100)throw new k;a.append(gn.toAlphaNumericChar(Math.floor(c/10))),a.append(gn.toAlphaNumericChar(c%10))}else if(l===1){if(i.available()<4)throw new k;const c=i.readBits(4);if(c>=10)throw new k;a.append(gn.toAlphaNumericChar(c))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=i.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=i.readBits(16);return(a&31)<<16&4294967295|l}throw new k}}gn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gn.GB2312_SUBSET=1;class ys{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class Zs{constructor(){this.rsDecoder=new pe(Oe.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(se.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const l=new Jo(i);let c=null;try{return this.decodeBitMatrixParser(l,a)}catch(u){c=u}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const u=this.decodeBitMatrixParser(l,a);return u.setOther(new ys(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(i,a){const l=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),h=$o.getDataBlocks(u,l,c);let m=0;for(const R of h)m+=R.getNumDataCodewords();const b=new Uint8Array(m);let C=0;for(const R of h){const z=R.getCodewords(),Z=R.getNumDataCodewords();this.correctErrors(z,Z);for(let fe=0;fe<Z;fe++)b[C++]=z[fe]}return gn.decode(b,l,c,a)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new w}for(let c=0;c<a;c++)i[c]=l[c]}}class Qs extends He{constructor(i,a,l){super(i,a),this.estimatedModuleSize=l}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=(this.getX()+a)/2,u=(this.getY()+i)/2,h=(this.estimatedModuleSize+l)/2;return new Qs(c,u,h)}}class Ni{constructor(i,a,l,c,u,h,m){this.image=i,this.startX=a,this.startY=l,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,l=this.width,c=i+l,u=this.startY+a/2,h=new Int32Array(3),m=this.image;for(let b=0;b<a;b++){const C=u+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));h[0]=0,h[1]=0,h[2]=0;let R=i;for(;R<c&&!m.get(R,C);)R++;let z=0;for(;R<c;){if(m.get(R,C))if(z===1)h[1]++;else if(z===2){if(this.foundPatternCross(h)){const Z=this.handlePossibleCenter(h,C,R);if(Z!==null)return Z}h[0]=h[2],h[1]=1,h[2]=0,z=1}else h[++z]++;else z===1&&z++,h[z]++;R++}if(this.foundPatternCross(h)){const Z=this.handlePossibleCenter(h,C,c);if(Z!==null)return Z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,l=a/2;for(let c=0;c<3;c++)if(Math.abs(a-i[c])>=l)return!1;return!0}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let b=i;for(;b>=0&&u.get(a,b)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&!u.get(a,b)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=i+1;b<h&&u.get(a,b)&&m[1]<=l;)m[1]++,b++;if(b===h||m[1]>l)return NaN;for(;b<h&&!u.get(a,b)&&m[2]<=l;)m[2]++,b++;if(m[2]>l)return NaN;const C=m[0]+m[1]+m[2];return 5*Math.abs(C-c)>=2*c?NaN:this.foundPatternCross(m)?Ni.centerFromEnd(m,b):NaN}handlePossibleCenter(i,a,l){const c=i[0]+i[1]+i[2],u=Ni.centerFromEnd(i,l),h=this.crossCheckVertical(a,u,2*i[1],c);if(!isNaN(h)){const m=(i[0]+i[1]+i[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(m,h,u))return C.combineEstimate(h,u,m);const b=new Qs(u,h,m);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class el extends He{constructor(i,a,l,c){super(i,a),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=this.count+1,u=(this.count*this.getX()+a)/c,h=(this.count*this.getY()+i)/c,m=(this.count*this.estimatedModuleSize+l)/c;return new el(u,h,m,c)}}class Fl{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class xt{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(X.TRY_HARDER)!==void 0,l=i!=null&&i.get(X.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let m=Math.floor(3*u/(4*xt.MAX_MODULES));(m<xt.MIN_SKIP||a)&&(m=xt.MIN_SKIP);let b=!1;const C=new Int32Array(5);for(let z=m-1;z<u&&!b;z+=m){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let Z=0;for(let fe=0;fe<h;fe++)if(c.get(fe,z))(Z&1)===1&&Z++,C[Z]++;else if(Z&1)C[Z]++;else if(Z===4)if(xt.foundPatternCross(C)){if(this.handlePossibleCenter(C,z,fe,l)===!0)if(m=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const we=this.findRowSkip();we>C[2]&&(z+=we-C[2]-m,fe=h-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Z=3;continue}Z=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Z=3;else C[++Z]++;xt.foundPatternCross(C)&&this.handlePossibleCenter(C,z,h,l)===!0&&(m=C[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return He.orderBestPatterns(R),new Fl(R)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let u=0;u<5;u++){const h=i[u];if(h===0)return!1;a+=h}if(a<7)return!1;const l=a/7,c=l/2;return Math.abs(l-i[0])<c&&Math.abs(l-i[1])<c&&Math.abs(3*l-i[2])<3*c&&Math.abs(l-i[3])<c&&Math.abs(l-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,l,c){const u=this.getCrossCheckStateCount();let h=0;const m=this.image;for(;i>=h&&a>=h&&m.get(a-h,i-h);)u[2]++,h++;if(i<h||a<h)return!1;for(;i>=h&&a>=h&&!m.get(a-h,i-h)&&u[1]<=l;)u[1]++,h++;if(i<h||a<h||u[1]>l)return!1;for(;i>=h&&a>=h&&m.get(a-h,i-h)&&u[0]<=l;)u[0]++,h++;if(u[0]>l)return!1;const b=m.getHeight(),C=m.getWidth();for(h=1;i+h<b&&a+h<C&&m.get(a+h,i+h);)u[2]++,h++;if(i+h>=b||a+h>=C)return!1;for(;i+h<b&&a+h<C&&!m.get(a+h,i+h)&&u[3]<l;)u[3]++,h++;if(i+h>=b||a+h>=C||u[3]>=l)return!1;for(;i+h<b&&a+h<C&&m.get(a+h,i+h)&&u[4]<l;)u[4]++,h++;if(u[4]>=l)return!1;const R=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(R-c)<2*c&&xt.foundPatternCross(u)}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),m=this.getCrossCheckStateCount();let b=i;for(;b>=0&&u.get(a,b);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(a,b)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&u.get(a,b)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=i+1;b<h&&u.get(a,b);)m[2]++,b++;if(b===h)return NaN;for(;b<h&&!u.get(a,b)&&m[3]<l;)m[3]++,b++;if(b===h||m[3]>=l)return NaN;for(;b<h&&u.get(a,b)&&m[4]<l;)m[4]++,b++;if(m[4]>=l)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-c)>=2*c?NaN:xt.foundPatternCross(m)?xt.centerFromEnd(m,b):NaN}crossCheckHorizontal(i,a,l,c){const u=this.image,h=u.getWidth(),m=this.getCrossCheckStateCount();let b=i;for(;b>=0&&u.get(b,a);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(b,a)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&u.get(b,a)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=i+1;b<h&&u.get(b,a);)m[2]++,b++;if(b===h)return NaN;for(;b<h&&!u.get(b,a)&&m[3]<l;)m[3]++,b++;if(b===h||m[3]>=l)return NaN;for(;b<h&&u.get(b,a)&&m[4]<l;)m[4]++,b++;if(m[4]>=l)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-c)>=c?NaN:xt.foundPatternCross(m)?xt.centerFromEnd(m,b):NaN}handlePossibleCenter(i,a,l,c){const u=i[0]+i[1]+i[2]+i[3]+i[4];let h=xt.centerFromEnd(i,l),m=this.crossCheckVertical(a,Math.floor(h),i[2],u);if(!isNaN(m)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(m),i[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(m),Math.floor(h),i[2],u)))){const b=u/7;let C=!1;const R=this.possibleCenters;for(let z=0,Z=R.length;z<Z;z++){const fe=R[z];if(fe.aboutEquals(b,m,h)){R[z]=fe.combineEstimate(m,h,b),C=!0;break}}if(!C){const z=new el(h,m,b);R.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=xt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=xt.CENTER_QUORUM&&(i++,a+=h.getEstimatedModuleSize());if(i<3)return!1;const c=a/l;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ae;const a=this.possibleCenters;let l;if(i>3){let c=0,u=0;for(const b of this.possibleCenters){const C=b.getEstimatedModuleSize();c+=C,u+=C*C}l=c/i;let h=Math.sqrt(u/i-l*l);a.sort((b,C)=>{const R=Math.abs(C.getEstimatedModuleSize()-l),z=Math.abs(b.getEstimatedModuleSize()-l);return R<z?-1:R>z?1:0});const m=Math.max(.2*l,h);for(let b=0;b<a.length&&a.length>3;b++){const C=a[b];Math.abs(C.getEstimatedModuleSize()-l)>m&&(a.splice(b,1),b--)}}if(a.length>3){let c=0;for(const u of a)c+=u.getEstimatedModuleSize();l=c/a.length,a.sort((u,h)=>{if(h.getCount()===u.getCount()){const m=Math.abs(h.getEstimatedModuleSize()-l),b=Math.abs(u.getEstimatedModuleSize()-l);return m<b?1:m>b?-1:0}else return h.getCount()-u.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}xt.CENTER_QUORUM=2,xt.MIN_SKIP=3,xt.MAX_MODULES=57;class vs{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(X.NEED_RESULT_POINT_CALLBACK);const l=new xt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const a=i.getTopLeft(),l=i.getTopRight(),c=i.getBottomLeft(),u=this.calculateModuleSize(a,l,c);if(u<1)throw new ae("No pattern found in proccess finder.");const h=vs.computeDimension(a,l,c,u),m=bt.getProvisionalVersionForDimension(h),b=m.getDimensionForVersion()-7;let C=null;if(m.getAlignmentPatternCenters().length>0){const fe=l.getX()-a.getX()+c.getX(),ye=l.getY()-a.getY()+c.getY(),we=1-3/b,Te=Math.floor(a.getX()+we*(fe-a.getX())),Ue=Math.floor(a.getY()+we*(ye-a.getY()));for(let $e=4;$e<=16;$e<<=1)try{C=this.findAlignmentInRegion(u,Te,Ue,$e);break}catch(nt){if(!(nt instanceof ae))throw nt}}const R=vs.createTransform(a,l,c,C,h),z=vs.sampleGrid(this.image,R,h);let Z;return C===null?Z=[c,a,l]:Z=[c,a,l,C],new st(z,Z)}static createTransform(i,a,l,c,u){const h=u-3.5;let m,b,C,R;return c!==null?(m=c.getX(),b=c.getY(),C=h-3,R=C):(m=a.getX()-i.getX()+l.getX(),b=a.getY()-i.getY()+l.getY(),C=h,R=h),Dt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,C,R,3.5,h,i.getX(),i.getY(),a.getX(),a.getY(),m,b,l.getX(),l.getY())}static sampleGrid(i,a,l){return Jt.getInstance().sampleGridWithTransform(i,l,l,a)}static computeDimension(i,a,l,c){const u=Ge.round(He.distance(i,a)/c),h=Ge.round(He.distance(i,l)/c);let m=Math.floor((u+h)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new ae("Dimensions could be not found.")}return m}calculateModuleSize(i,a,l){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,l,c){let u=this.sizeOfBlackWhiteBlackRun(i,a,l,c),h=1,m=i-(l-i);m<0?(h=i/(i-m),m=0):m>=this.image.getWidth()&&(h=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let b=Math.floor(a-(c-a)*h);return h=1,b<0?(h=a/(a-b),b=0):b>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(b-a),b=this.image.getHeight()-1),m=Math.floor(i+(m-i)*h),u+=this.sizeOfBlackWhiteBlackRun(i,a,m,b),u-1}sizeOfBlackWhiteBlackRun(i,a,l,c){const u=Math.abs(c-a)>Math.abs(l-i);if(u){let fe=i;i=a,a=fe,fe=l,l=c,c=fe}const h=Math.abs(l-i),m=Math.abs(c-a);let b=-h/2;const C=i<l?1:-1,R=a<c?1:-1;let z=0;const Z=l+C;for(let fe=i,ye=a;fe!==Z;fe+=C){const we=u?ye:fe,Te=u?fe:ye;if(z===1===this.image.get(we,Te)){if(z===2)return Ge.distance(fe,ye,i,a);z++}if(b+=m,b>0){if(ye===c)break;ye+=R,b-=h}}return z===2?Ge.distance(l+C,c,i,a):NaN}findAlignmentInRegion(i,a,l,c){const u=Math.floor(c*i),h=Math.max(0,a-u),m=Math.min(this.image.getWidth()-1,a+u);if(m-h<i*3)throw new ae("Alignment top exceeds estimated module size.");const b=Math.max(0,l-u),C=Math.min(this.image.getHeight()-1,l+u);if(C-b<i*3)throw new ae("Alignment bottom exceeds estimated module size.");return new Ni(this.image,h,b,m-h,C-b,i,this.resultPointCallback).find()}}class pa{constructor(){this.decoder=new Zs}getDecoder(){return this.decoder}decode(i,a){let l,c;if(a!=null&&a.get(X.PURE_BARCODE)!==void 0){const b=pa.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(b,a),c=pa.NO_POINTS}else{const b=new vs(i.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(b.getBits(),a),c=b.getPoints()}l.getOther()instanceof ys&&l.getOther().applyMirroredCorrection(c);const u=new re(l.getText(),l.getRawBytes(),void 0,c,oe.QR_CODE,void 0),h=l.getByteSegments();h!==null&&u.putMetadata(_e.BYTE_SEGMENTS,h);const m=l.getECLevel();return m!==null&&u.putMetadata(_e.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(u.putMetadata(_e.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),u.putMetadata(_e.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a===null||l===null)throw new ae;const c=this.moduleSize(a,i);let u=a[1],h=l[1],m=a[0],b=l[0];if(m>=b||u>=h)throw new ae;if(h-u!==b-m&&(b=m+(h-u),b>=i.getWidth()))throw new ae;const C=Math.round((b-m+1)/c),R=Math.round((h-u+1)/c);if(C<=0||R<=0)throw new ae;if(R!==C)throw new ae;const z=Math.floor(c/2);u+=z,m+=z;const Z=m+Math.floor((C-1)*c)-b;if(Z>0){if(Z>z)throw new ae;m-=Z}const fe=u+Math.floor((R-1)*c)-h;if(fe>0){if(fe>z)throw new ae;u-=fe}const ye=new se(C,R);for(let we=0;we<R;we++){const Te=u+Math.floor(we*c);for(let Ue=0;Ue<C;Ue++)i.get(m+Math.floor(Ue*c),Te)&&ye.set(Ue,we)}return ye}static moduleSize(i,a){const l=a.getHeight(),c=a.getWidth();let u=i[0],h=i[1],m=!0,b=0;for(;u<c&&h<l;){if(m!==a.get(u,h)){if(++b===5)break;m=!m}u++,h++}if(u===c||h===l)throw new ae;return(u-i[0])/7}}pa.NO_POINTS=new Array;class wt{PDF417Common(){}static getBitCountSum(i){return Ge.sum(i)}static toIntArray(i){if(i==null||!i.length)return wt.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let l=0;for(const c of i)a[l++]=c;return a}static getCodeword(i){const a=_.binarySearch(wt.SYMBOL_TABLE,i&262143);return a<0?-1:(wt.CODEWORD_TABLE[a]-1)%wt.NUMBER_OF_CODEWORDS}}wt.NUMBER_OF_CODEWORDS=929,wt.MAX_CODEWORDS_IN_BARCODE=wt.NUMBER_OF_CODEWORDS-1,wt.MIN_ROWS_IN_BARCODE=3,wt.MAX_ROWS_IN_BARCODE=90,wt.MODULES_IN_CODEWORD=17,wt.MODULES_IN_STOP_PATTERN=18,wt.BARS_IN_MODULE=8,wt.EMPTY_INT_ARRAY=new Int32Array([]),wt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),wt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ul{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ut{static detectMultiple(i,a,l){let c=i.getBlackMatrix(),u=Ut.detect(l,c);return u.length||(c=c.clone(),c.rotate180(),u=Ut.detect(l,c)),new Ul(c,u)}static detect(i,a){const l=new Array;let c=0,u=0,h=!1;for(;c<a.getHeight();){const m=Ut.findVertices(a,c,u);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,u=0;for(const b of l)b[1]!=null&&(c=Math.trunc(Math.max(c,b[1].getY()))),b[3]!=null&&(c=Math.max(c,Math.trunc(b[3].getY())));c+=Ut.ROW_STEP;continue}if(h=!0,l.push(m),!i)break;m[2]!=null?(u=Math.trunc(m[2].getX()),c=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),c=Math.trunc(m[4].getY()))}return l}static findVertices(i,a,l){const c=i.getHeight(),u=i.getWidth(),h=new Array(8);return Ut.copyToResult(h,Ut.findRowsWithPattern(i,c,u,a,l,Ut.START_PATTERN),Ut.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),Ut.copyToResult(h,Ut.findRowsWithPattern(i,c,u,a,l,Ut.STOP_PATTERN),Ut.INDEXES_STOP_PATTERN),h}static copyToResult(i,a,l){for(let c=0;c<l.length;c++)i[l[c]]=a[c]}static findRowsWithPattern(i,a,l,c,u,h){const m=new Array(4);let b=!1;const C=new Int32Array(h.length);for(;c<a;c+=Ut.ROW_STEP){let z=Ut.findGuardPattern(i,u,c,l,!1,h,C);if(z!=null){for(;c>0;){const Z=Ut.findGuardPattern(i,u,--c,l,!1,h,C);if(Z!=null)z=Z;else{c++;break}}m[0]=new He(z[0],c),m[1]=new He(z[1],c),b=!0;break}}let R=c+1;if(b){let z=0,Z=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;R<a;R++){const fe=Ut.findGuardPattern(i,Z[0],R,l,!1,h,C);if(fe!=null&&Math.abs(Z[0]-fe[0])<Ut.MAX_PATTERN_DRIFT&&Math.abs(Z[1]-fe[1])<Ut.MAX_PATTERN_DRIFT)Z=fe,z=0;else{if(z>Ut.SKIPPED_ROW_COUNT_MAX)break;z++}}R-=z+1,m[2]=new He(Z[0],R),m[3]=new He(Z[1],R)}return R-c<Ut.BARCODE_MIN_HEIGHT&&_.fill(m,null),m}static findGuardPattern(i,a,l,c,u,h,m){_.fillWithin(m,0,m.length,0);let b=a,C=0;for(;i.get(b,l)&&b>0&&C++<Ut.MAX_PIXEL_DRIFT;)b--;let R=b,z=0,Z=h.length;for(let fe=u;R<c;R++)if(i.get(R,l)!==fe)m[z]++;else{if(z===Z-1){if(Ut.patternMatchVariance(m,h,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return new Int32Array([b,R]);b+=m[0]+m[1],L.arraycopy(m,2,m,0,z-1),m[z-1]=0,m[z]=0,z--}else z++;m[z]=1,fe=!fe}return z===Z-1&&Ut.patternMatchVariance(m,h,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE?new Int32Array([b,R-1]):null}static patternMatchVariance(i,a,l){let c=i.length,u=0,h=0;for(let C=0;C<c;C++)u+=i[C],h+=a[C];if(u<h)return 1/0;let m=u/h;l*=m;let b=0;for(let C=0;C<c;C++){let R=i[C],z=a[C]*m,Z=R>z?R-z:z-R;if(Z>l)return 1/0;b+=Z}return b/u}}Ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ut.MAX_AVG_VARIANCE=.42,Ut.MAX_INDIVIDUAL_VARIANCE=.8,Ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ut.MAX_PIXEL_DRIFT=3,Ut.MAX_PATTERN_DRIFT=5,Ut.SKIPPED_ROW_COUNT_MAX=25,Ut.ROW_STEP=5,Ut.BARCODE_MIN_HEIGHT=10;class $n{constructor(i,a){if(a.length===0)throw new S;this.field=i;let l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),L.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let a=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)a=this.field.add(this.field.multiply(i,a),this.coefficients[c]);return a}add(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){let h=a;a=l,l=h}let c=new Int32Array(l.length),u=l.length-a.length;L.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=this.field.add(a[h-u],l[h]);return new $n(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof $n?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new $n(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1);for(let m=0;m<l;m++){let b=a[m];for(let C=0;C<u;C++)h[m+C]=this.field.add(h[m+C],this.field.multiply(b,c[C]))}return new $n(this.field,h)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new $n(this.field,a)}multiplyScalar(i){if(i===0)return new $n(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let c=0;c<a;c++)l[c]=this.field.multiply(this.coefficients[c],i);return new $n(this.field,l)}multiplyByMonomial(i,a){if(i<0)throw new S;if(a===0)return new $n(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+i);for(let u=0;u<l;u++)c[u]=this.field.multiply(this.coefficients[u],a);return new $n(this.field,c)}toString(){let i=new ie;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(a===0||l!==1)&&i.append(l),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class tl{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new S;return this.logTable[i]}inverse(i){if(i===0)throw new Me;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class nl extends tl{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let c=0;c<i;c++)this.expTable[c]=l,l=l*a%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new $n(this,new Int32Array([0])),this.one=new $n(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new S;if(a===0)return this.zero;let l=new Int32Array(i+1);return l[0]=a,new $n(this,l)}}nl.PDF417_GF=new nl(wt.NUMBER_OF_CODEWORDS,3);class zl{constructor(){this.field=nl.PDF417_GF}decode(i,a,l){let c=new $n(this.field,i),u=new Int32Array(a),h=!1;for(let ye=a;ye>0;ye--){let we=c.evaluateAt(this.field.exp(ye));u[a-ye]=we,we!==0&&(h=!0)}if(!h)return 0;let m=this.field.getOne();if(l!=null)for(const ye of l){let we=this.field.exp(i.length-1-ye),Te=new $n(this.field,new Int32Array([this.field.subtract(0,we),1]));m=m.multiply(Te)}let b=new $n(this.field,u),C=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),b,a),R=C[0],z=C[1],Z=this.findErrorLocations(R),fe=this.findErrorMagnitudes(z,R,Z);for(let ye=0;ye<Z.length;ye++){let we=i.length-1-this.field.log(Z[ye]);if(we<0)throw w.getChecksumInstance();i[we]=this.field.subtract(i[we],fe[ye])}return Z.length}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){let Z=i;i=a,a=Z}let c=i,u=a,h=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(l/2);){let Z=c,fe=h;if(c=u,h=m,c.isZero())throw w.getChecksumInstance();u=Z;let ye=this.field.getZero(),we=c.getCoefficient(c.getDegree()),Te=this.field.inverse(we);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let Ue=u.getDegree()-c.getDegree(),$e=this.field.multiply(u.getCoefficient(u.getDegree()),Te);ye=ye.add(this.field.buildMonomial(Ue,$e)),u=u.subtract(c.multiplyByMonomial(Ue,$e))}m=ye.multiply(h).subtract(fe).negative()}let b=m.getCoefficient(0);if(b===0)throw w.getChecksumInstance();let C=this.field.inverse(b),R=m.multiply(C),z=u.multiply(C);return[R,z]}findErrorLocations(i){let a=i.getDegree(),l=new Int32Array(a),c=0;for(let u=1;u<this.field.getSize()&&c<a;u++)i.evaluateAt(u)===0&&(l[c]=this.field.inverse(u),c++);if(c!==a)throw w.getChecksumInstance();return l}findErrorMagnitudes(i,a,l){let c=a.getDegree(),u=new Int32Array(c);for(let C=1;C<=c;C++)u[c-C]=this.field.multiply(C,a.getCoefficient(C));let h=new $n(this.field,u),m=l.length,b=new Int32Array(m);for(let C=0;C<m;C++){let R=this.field.inverse(l[C]),z=this.field.subtract(0,i.evaluateAt(R)),Z=this.field.inverse(h.evaluateAt(R));b[C]=this.field.multiply(z,Z)}return b}}class Ra{constructor(i,a,l,c,u){i instanceof Ra?this.constructor_2(i):this.constructor_1(i,a,l,c,u)}constructor_1(i,a,l,c,u){const h=a==null||l==null,m=c==null||u==null;if(h&&m)throw new ae;h?(a=new He(0,c.getY()),l=new He(0,u.getY())):m&&(c=new He(i.getWidth()-1,a.getY()),u=new He(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=a,this.bottomLeft=l,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(a.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new Ra(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,l){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,m=this.bottomRight;if(i>0){let b=l?this.topLeft:this.topRight,C=Math.trunc(b.getY()-i);C<0&&(C=0);let R=new He(b.getX(),C);l?c=R:h=R}if(a>0){let b=l?this.bottomLeft:this.bottomRight,C=Math.trunc(b.getY()+a);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let R=new He(b.getX(),C);l?u=R:m=R}return new Ra(this.image,c,u,h,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class il{constructor(i,a,l,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xr{constructor(){this.buffer=""}static form(i,a){let l=-1;function c(h,m,b,C,R,z){if(h==="%%")return"%";if(a[++l]===void 0)return;h=C?parseInt(C.substr(1)):void 0;let Z=R?parseInt(R.substr(1)):void 0,fe;switch(z){case"s":fe=a[l];break;case"c":fe=a[l][0];break;case"f":fe=parseFloat(a[l]).toFixed(h);break;case"p":fe=parseFloat(a[l]).toPrecision(h);break;case"e":fe=parseFloat(a[l]).toExponential(h);break;case"x":fe=parseInt(a[l]).toString(Z||16);break;case"d":fe=parseFloat(parseInt(a[l],Z||10).toPrecision(h)).toFixed(0);break}fe=typeof fe=="object"?JSON.stringify(fe):(+fe).toString(Z);let ye=parseInt(b),we=b&&b[0]+""=="0"?"0":" ";for(;fe.length<ye;)fe=m!==void 0?fe+we:we+fe;return fe}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}format(i,...a){this.buffer+=Xr.form(i,a)}toString(){return this.buffer}}class Rr{constructor(i){this.boundingBox=new Ra(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let l=1;l<Rr.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(i)-l;if(c>=0&&(a=this.codewords[c],a!=null)||(c=this.imageRowToCodewordIndex(i)+l,c<this.codewords.length&&(a=this.codewords[c],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Xr;let a=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return i.toString()}}Rr.MAX_NEARBY_DISTANCE=5;class bs{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[l,c]of this.values.entries()){const u={getKey:()=>l,getValue:()=>c};u.getValue()>i?(i=u.getValue(),a=[],a.push(u.getKey())):u.getValue()===i&&a.push(u.getKey())}return wt.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class Za extends Rr{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),u=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),b=-1,C=1,R=0;for(let z=h;z<m;z++){if(a[z]==null)continue;let Z=a[z],fe=Z.getRowNumber()-b;if(fe===0)R++;else if(fe===1)C=Math.max(C,R),R=1,b=Z.getRowNumber();else if(fe<0||Z.getRowNumber()>=i.getRowCount()||fe>z)a[z]=null;else{let ye;C>2?ye=(C-2)*fe:ye=fe;let we=ye>=z;for(let Te=1;Te<=ye&&!we;Te++)we=a[z-Te]!=null;we?a[z]=null:(b=Z.getRowNumber(),R=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=a.length)continue;a[c]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.getCodewords(),b=-1;for(let C=u;C<h;C++){if(m[C]==null)continue;let R=m[C];R.setRowNumberAsRowIndicatorColumn();let z=R.getRowNumber()-b;z===0||(z===1?b=R.getRowNumber():R.getRowNumber()>=i.getRowCount()?m[C]=null:b=R.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new bs,l=new bs,c=new bs,u=new bs;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let b=m.getValue()%30,C=m.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(b*3+1);break;case 1:u.setValue(b/3),c.setValue(b%3);break;case 2:a.setValue(b+1);break}}if(a.getValue().length===0||l.getValue().length===0||c.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<wt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>wt.MAX_ROWS_IN_BARCODE)return null;let h=new il(a.getValue()[0],l.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,h),h}removeIncorrectCodewords(i,a){for(let l=0;l<i.length;l++){let c=i[l];if(i[l]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>a.getRowCount()){i[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==a.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(u/3)!==a.getErrorCorrectionLevel()||u%3!==a.getRowCountLowerPart())&&(i[l]=null);break;case 2:u+1!==a.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ja{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=wt.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(a,c,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&a[l]!=null&&i[l].getRowNumber()===a[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[l];u!=null&&(u.setRowNumber(i[l].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let m=this.detectionResultColumns[h].getCodewords()[l];m!=null&&(u=ja.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let m=this.detectionResultColumns[h].getCodewords()[l];m!=null&&(u=ja.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,l){if(!this.detectionResultColumns[i-1])return;let c=l[a],u=this.detectionResultColumns[i-1].getCodewords(),h=u;this.detectionResultColumns[i+1]!=null&&(h=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=u[a],m[3]=h[a],a>0&&(m[0]=l[a-1],m[4]=u[a-1],m[5]=h[a-1]),a>1&&(m[8]=l[a-2],m[10]=u[a-2],m[11]=h[a-2]),a<l.length-1&&(m[1]=l[a+1],m[6]=u[a+1],m[7]=h[a+1]),a<l.length-2&&(m[9]=l[a+2],m[12]=u[a+2],m[13]=h[a+2]);for(let b of m)if(ja.adjustRowNumber(c,b))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Xr;for(let l=0;l<i.getCodewords().length;l++){a.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){a.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[l];if(u==null){a.format("    |   ");continue}a.format(" %3d|%3d",u.getRowNumber(),u.getValue())}a.format("%n")}return a.toString()}}class ma{constructor(i,a,l,c){this.rowNumber=ma.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==ma.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}ma.BARCODE_ROW_UNKNOWN=-1;class ki{static initialize(){for(let i=0;i<wt.SYMBOL_TABLE.length;i++){let a=wt.SYMBOL_TABLE[i],l=a&1;for(let c=0;c<wt.BARS_IN_MODULE;c++){let u=0;for(;(a&1)===l;)u+=1,a>>=1;l=a&1,ki.RATIOS_TABLE[i]||(ki.RATIOS_TABLE[i]=new Array(wt.BARS_IN_MODULE)),ki.RATIOS_TABLE[i][wt.BARS_IN_MODULE-c-1]=Math.fround(u/wt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=ki.getDecodedCodewordValue(ki.sampleBitCounts(i));return a!==-1?a:ki.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=Ge.sum(i),l=new Int32Array(wt.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<wt.MODULES_IN_CODEWORD;h++){let m=a/(2*wt.MODULES_IN_CODEWORD)+h*a/wt.MODULES_IN_CODEWORD;u+i[c]<=m&&(u+=i[c],c++),l[c]++}return l}static getDecodedCodewordValue(i){let a=ki.getBitValue(i);return wt.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let l=0;l<i.length;l++)for(let c=0;c<i[l];c++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=Ge.sum(i),l=new Array(wt.BARS_IN_MODULE);if(a>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(i[h]/a);let c=at.MAX_VALUE,u=-1;this.bSymbolTableReady||ki.initialize();for(let h=0;h<ki.RATIOS_TABLE.length;h++){let m=0,b=ki.RATIOS_TABLE[h];for(let C=0;C<wt.BARS_IN_MODULE;C++){let R=Math.fround(b[C]-l[C]);if(m+=Math.fround(R*R),m>=c)break}m<c&&(c=m,u=wt.SYMBOL_TABLE[h])}return u}}ki.bSymbolTableReady=!1,ki.RATIOS_TABLE=new Array(wt.SYMBOL_TABLE.length).map(H=>new Array(wt.BARS_IN_MODULE));class rl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class al{static parseLong(i,a=void 0){return parseInt(i,a)}}class sl extends x{}sl.kind="NullPointerException";class xa{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,l){if(i==null)throw new sl;if(a<0||a>i.length||l<0||a+l>i.length||a+l<0)throw new P;if(l===0)return;for(let c=0;c<l;c++)this.write(i[a+c])}flush(){}close(){}}class Ba extends x{}class Vc extends xa{constructor(i=32){if(super(),this.count=0,i<0)throw new S("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Ba;l=D.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,l){if(a<0||a>i.length||l<0||a+l-i.length>0)throw new P;this.ensureCapacity(this.count+l),L.arraycopy(i,a,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var $t;(function(H){H[H.ALPHA=0]="ALPHA",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.PUNCT=3]="PUNCT",H[H.ALPHA_SHIFT=4]="ALPHA_SHIFT",H[H.PUNCT_SHIFT=5]="PUNCT_SHIFT"})($t||($t={}));function jr(){if(typeof window<"u")return window.BigInt||null;if(typeof yo<"u")return yo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qa;function gr(H){if(typeof Qa>"u"&&(Qa=jr()),Qa===null)throw new Error("BigInt is not supported!");return Qa(H)}function Yc(){let H=[];H[0]=gr(1);let i=gr(900);H[1]=i;for(let a=2;a<16;a++)H[a]=H[a-1]*i;return H}class Fe{static decode(i,a){let l=new ie(""),c=K.ISO8859_1;l.enableDecoding(c);let u=1,h=i[u++],m=new rl;for(;u<i[0];){switch(h){case Fe.TEXT_COMPACTION_MODE_LATCH:u=Fe.textCompaction(i,u,l);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:u=Fe.byteCompaction(h,i,c,u,l);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:u=Fe.numericCompaction(i,u,l);break;case Fe.ECI_CHARSET:K.getCharacterSetECIByValue(i[u++]);break;case Fe.ECI_GENERAL_PURPOSE:u+=2;break;case Fe.ECI_USER_DEFINED:u++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Fe.decodeMacroBlock(i,u,m);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new k;default:u--,u=Fe.textCompaction(i,u,l);break}if(u<i.length)h=i[u++];else throw k.getFormatInstance()}if(l.length()===0)throw k.getFormatInstance();let b=new xe(null,l.toString(),null,a);return b.setOther(m),b}static decodeMacroBlock(i,a,l){if(a+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw k.getFormatInstance();let c=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)c[m]=i[a];l.setSegmentIndex(D.parseInt(Fe.decodeBase900toBase10(c,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ie;a=Fe.textCompaction(i,a,u),l.setFileId(u.toString());let h=-1;for(i[a]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<i[0];)switch(i[a]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new ie;a=Fe.textCompaction(i,a+1,m),l.setFileName(m.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new ie;a=Fe.textCompaction(i,a+1,b),l.setSender(b.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new ie;a=Fe.textCompaction(i,a+1,C),l.setAddressee(C.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new ie;a=Fe.numericCompaction(i,a+1,R),l.setSegmentCount(D.parseInt(R.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new ie;a=Fe.numericCompaction(i,a+1,z),l.setTimestamp(al.parseLong(z.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Z=new ie;a=Fe.numericCompaction(i,a+1,Z),l.setChecksum(D.parseInt(Z.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let fe=new ie;a=Fe.numericCompaction(i,a+1,fe),l.setFileSize(al.parseLong(fe.toString()));break;default:throw k.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(h!==-1){let m=a-h;l.isLastSegment()&&m--,l.setOptionalData(_.copyOfRange(i,h,h+m))}return a}static textCompaction(i,a,l){let c=new Int32Array((i[0]-a)*2),u=new Int32Array((i[0]-a)*2),h=0,m=!1;for(;a<i[0]&&!m;){let b=i[a++];if(b<Fe.TEXT_COMPACTION_MODE_LATCH)c[h]=b/30,c[h+1]=b%30,h+=2;else switch(b){case Fe.TEXT_COMPACTION_MODE_LATCH:c[h++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=i[a++],u[h]=b,h++;break}}return Fe.decodeTextCompaction(c,u,h,l),a}static decodeTextCompaction(i,a,l,c){let u=$t.ALPHA,h=$t.ALPHA,m=0;for(;m<l;){let b=i[m],C="";switch(u){case $t.ALPHA:if(b<26)C=String.fromCharCode(65+b);else switch(b){case 26:C=" ";break;case Fe.LL:u=$t.LOWER;break;case Fe.ML:u=$t.MIXED;break;case Fe.PS:h=u,u=$t.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.LOWER:if(b<26)C=String.fromCharCode(97+b);else switch(b){case 26:C=" ";break;case Fe.AS:h=u,u=$t.ALPHA_SHIFT;break;case Fe.ML:u=$t.MIXED;break;case Fe.PS:h=u,u=$t.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.MIXED:if(b<Fe.PL)C=Fe.MIXED_CHARS[b];else switch(b){case Fe.PL:u=$t.PUNCT;break;case 26:C=" ";break;case Fe.LL:u=$t.LOWER;break;case Fe.AL:u=$t.ALPHA;break;case Fe.PS:h=u,u=$t.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.PUNCT:if(b<Fe.PAL)C=Fe.PUNCT_CHARS[b];else switch(b){case Fe.PAL:u=$t.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.ALPHA_SHIFT:if(u=h,b<26)C=String.fromCharCode(65+b);else switch(b){case 26:C=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break;case $t.PUNCT_SHIFT:if(u=h,b<Fe.PAL)C=Fe.PUNCT_CHARS[b];else switch(b){case Fe.PAL:u=$t.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:u=$t.ALPHA;break}break}C!==""&&c.append(C),m++}}static byteCompaction(i,a,l,c,u){let h=new Vc,m=0,b=0,C=!1;switch(i){case Fe.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),z=a[c++];for(;c<a[0]&&!C;)switch(R[m++]=z,b=900*b+z,z=a[c++],z){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:c--,C=!0;break;default:if(m%5===0&&m>0){for(let Z=0;Z<6;++Z)h.write(Number(gr(b)>>gr(8*(5-Z))));b=0,m=0}break}c===a[0]&&z<Fe.TEXT_COMPACTION_MODE_LATCH&&(R[m++]=z);for(let Z=0;Z<m;Z++)h.write(R[Z]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;c<a[0]&&!C;){let Z=a[c++];if(Z<Fe.TEXT_COMPACTION_MODE_LATCH)m++,b=900*b+Z;else switch(Z){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:c--,C=!0;break}if(m%5===0&&m>0){for(let fe=0;fe<6;++fe)h.write(Number(gr(b)>>gr(8*(5-fe))));b=0,m=0}}break}return u.append(U.decode(h.toByteArray(),l)),c}static numericCompaction(i,a,l){let c=0,u=!1,h=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!u;){let m=i[a++];if(a===i[0]&&(u=!0),m<Fe.TEXT_COMPACTION_MODE_LATCH)h[c]=m,c++;else switch(m){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:a--,u=!0;break}(c%Fe.MAX_NUMERIC_CODEWORDS===0||m===Fe.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(l.append(Fe.decodeBase900toBase10(h,c)),c=0)}return a}static decodeBase900toBase10(i,a){let l=gr(0);for(let u=0;u<a;u++)l+=Fe.EXP900[a-u-1]*gr(i[u]);let c=l.toString();if(c.charAt(0)!=="1")throw new k;return c.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=jr()?Yc():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qt{constructor(){}static decode(i,a,l,c,u,h,m){let b=new Ra(i,a,l,c,u),C=null,R=null,z;for(let ye=!0;;ye=!1){if(a!=null&&(C=qt.getRowIndicatorColumn(i,b,a,!0,h,m)),c!=null&&(R=qt.getRowIndicatorColumn(i,b,c,!1,h,m)),z=qt.merge(C,R),z==null)throw ae.getNotFoundInstance();let we=z.getBoundingBox();if(ye&&we!=null&&(we.getMinY()<b.getMinY()||we.getMaxY()>b.getMaxY()))b=we;else break}z.setBoundingBox(b);let Z=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,C),z.setDetectionResultColumn(Z,R);let fe=C!=null;for(let ye=1;ye<=Z;ye++){let we=fe?ye:Z-ye;if(z.getDetectionResultColumn(we)!==void 0)continue;let Te;we===0||we===Z?Te=new Za(b,we===0):Te=new Rr(b),z.setDetectionResultColumn(we,Te);let Ue=-1,$e=Ue;for(let nt=b.getMinY();nt<=b.getMaxY();nt++){if(Ue=qt.getStartColumn(z,we,nt,fe),Ue<0||Ue>b.getMaxX()){if($e===-1)continue;Ue=$e}let et=qt.detectCodeword(i,b.getMinX(),b.getMaxX(),fe,Ue,nt,h,m);et!=null&&(Te.setCodeword(nt,et),$e=Ue,h=Math.min(h,et.getWidth()),m=Math.max(m,et.getWidth()))}}return qt.createDecoderResult(z)}static merge(i,a){if(i==null&&a==null)return null;let l=qt.getBarcodeMetadata(i,a);if(l==null)return null;let c=Ra.merge(qt.adjustBoundingBox(i),qt.adjustBoundingBox(a));return new ja(l,c)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let l=qt.getMax(a),c=0;for(let m of a)if(c+=l-m,m>0)break;let u=i.getCodewords();for(let m=0;c>0&&u[m]==null;m++)c--;let h=0;for(let m=a.length-1;m>=0&&(h+=l-a[m],!(a[m]>0));m--);for(let m=u.length-1;h>0&&u[m]==null;m--)h--;return i.getBoundingBox().addMissingRows(c,h,i.isLeft())}static getMax(i){let a=-1;for(let l of i)a=Math.max(a,l);return a}static getBarcodeMetadata(i,a){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let c;return a==null||(c=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(i,a,l,c,u,h){let m=new Za(a,c);for(let b=0;b<2;b++){let C=b===0?1:-1,R=Math.trunc(Math.trunc(l.getX()));for(let z=Math.trunc(Math.trunc(l.getY()));z<=a.getMaxY()&&z>=a.getMinY();z+=C){let Z=qt.detectCodeword(i,0,i.getWidth(),c,R,z,u,h);Z!=null&&(m.setCodeword(z,Z),c?R=Z.getStartX():R=Z.getEndX())}}return m}static adjustCodewordCount(i,a){let l=a[0][1],c=l.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-qt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(u<1||u>wt.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();l.setValue(u)}else c[0]!==u&&l.setValue(u)}static createDecoderResult(i){let a=qt.createBarcodeMatrix(i);qt.adjustCodewordCount(i,a);let l=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],h=new Array;for(let b=0;b<i.getBarcodeRowCount();b++)for(let C=0;C<i.getBarcodeColumnCount();C++){let R=a[b][C+1].getValue(),z=b*i.getBarcodeColumnCount()+C;R.length===0?l.push(z):R.length===1?c[z]=R[0]:(h.push(z),u.push(R))}let m=new Array(u.length);for(let b=0;b<m.length;b++)m[b]=u[b];return qt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,wt.toIntArray(l),wt.toIntArray(h),m)}static createDecoderResultFromAmbiguousValues(i,a,l,c,u){let h=new Int32Array(c.length),m=100;for(;m-- >0;){for(let b=0;b<h.length;b++)a[c[b]]=u[b][h[b]];try{return qt.decodeCodewords(a,i,l)}catch(b){if(!(b instanceof w))throw b}if(h.length===0)throw w.getChecksumInstance();for(let b=0;b<h.length;b++)if(h[b]<u[b].length-1){h[b]++;break}else if(h[b]=0,b===h.length-1)throw w.getChecksumInstance()}throw w.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<a.length;c++)for(let u=0;u<a[c].length;u++)a[c][u]=new bs;let l=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][l].setValue(u.getValue())}}}l++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,l,c){let u=c?1:-1,h=null;if(qt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodeword(l)),h!=null)return c?h.getEndX():h.getStartX();if(h=i.getDetectionResultColumn(a).getCodewordNearby(l),h!=null)return c?h.getStartX():h.getEndX();if(qt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodewordNearby(l)),h!=null)return c?h.getEndX():h.getStartX();let m=0;for(;qt.isValidBarcodeColumn(i,a-u);){a-=u;for(let b of i.getDetectionResultColumn(a).getCodewords())if(b!=null)return(c?b.getEndX():b.getStartX())+u*m*(b.getEndX()-b.getStartX());m++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,l,c,u,h,m,b){u=qt.adjustCodewordStartColumn(i,a,l,c,u,h);let C=qt.getModuleBitCount(i,a,l,c,u,h);if(C==null)return null;let R,z=Ge.sum(C);if(c)R=u+z;else{for(let ye=0;ye<C.length/2;ye++){let we=C[ye];C[ye]=C[C.length-1-ye],C[C.length-1-ye]=we}R=u,u=R-z}if(!qt.checkCodewordSkew(z,m,b))return null;let Z=ki.getDecodedValue(C),fe=wt.getCodeword(Z);return fe===-1?null:new ma(u,R,qt.getCodewordBucketNumber(Z),fe)}static getModuleBitCount(i,a,l,c,u,h){let m=u,b=new Int32Array(8),C=0,R=c?1:-1,z=c;for(;(c?m<l:m>=a)&&C<b.length;)i.get(m,h)===z?(b[C]++,m+=R):(C++,z=!z);return C===b.length||m===(c?l:a)&&C===b.length-1?b:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,l,c,u,h){let m=u,b=c?-1:1;for(let C=0;C<2;C++){for(;(c?m>=a:m<l)&&c===i.get(m,h);){if(Math.abs(u-m)>qt.CODEWORD_SKEW_SIZE)return u;m+=b}b=-b,c=!c}return m}static checkCodewordSkew(i,a,l){return a-qt.CODEWORD_SKEW_SIZE<=i&&i<=l+qt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,l){if(i.length===0)throw k.getFormatInstance();let c=1<<a+1,u=qt.correctErrors(i,l,c);qt.verifyCodewordCount(i,c);let h=Fe.decode(i,""+a);return h.setErrorsCorrected(u),h.setErasures(l.length),h}static correctErrors(i,a,l){if(a!=null&&a.length>l/2+qt.MAX_ERRORS||l<0||l>qt.MAX_EC_CODEWORDS)throw w.getChecksumInstance();return qt.errorCorrection.decode(i,l,a)}static verifyCodewordCount(i,a){if(i.length<4)throw k.getFormatInstance();let l=i[0];if(l>i.length)throw k.getFormatInstance();if(l===0)if(a<i.length)i[0]=i.length-a;else throw k.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),l=0,c=a.length-1;for(;!((i&1)!==l&&(l=i&1,c--,c<0));)a[c]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return qt.getCodewordBucketNumber(qt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new Xr;for(let l=0;l<i.length;l++){a.format("Row %2d: ",l);for(let c=0;c<i[l].length;c++){let u=i[l][c];u.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}a.format("%n")}return a.toString()}}qt.CODEWORD_SKEW_SIZE=2,qt.MAX_ERRORS=3,qt.MAX_EC_CODEWORDS=512,qt.errorCorrection=new zl;class oi{decode(i,a=null){let l=oi.decode(i,a,!1);if(l==null||l.length===0||l[0]==null)throw ae.getNotFoundInstance();return l[0]}decodeMultiple(i,a=null){try{return oi.decode(i,a,!0)}catch(l){throw l instanceof k||l instanceof w?ae.getNotFoundInstance():l}}static decode(i,a,l){const c=new Array,u=Ut.detectMultiple(i,a,l);for(const h of u.getPoints()){const m=qt.decode(u.getBits(),h[4],h[5],h[6],h[7],oi.getMinCodewordWidth(h),oi.getMaxCodewordWidth(h)),b=new re(m.getText(),m.getRawBytes(),void 0,h,oe.PDF_417);b.putMetadata(_e.ERROR_CORRECTION_LEVEL,m.getECLevel());const C=m.getOther();C!=null&&b.putMetadata(_e.PDF417_EXTRA_METADATA,C),c.push(b)}return c.map(h=>h)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?D.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(oi.getMaxWidth(i[0],i[4]),oi.getMaxWidth(i[6],i[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.max(oi.getMaxWidth(i[1],i[5]),oi.getMaxWidth(i[7],i[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(oi.getMinWidth(i[0],i[4]),oi.getMinWidth(i[6],i[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.min(oi.getMinWidth(i[1],i[5]),oi.getMinWidth(i[7],i[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ka extends x{}Ka.kind="ReaderException";class ol{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!r(i)&&i.get(X.TRY_HARDER)===!0,l=r(i)?null:i.get(X.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const u=l.some(h=>h===oe.UPC_A||h===oe.UPC_E||h===oe.EAN_13||h===oe.EAN_8||h===oe.CODABAR||h===oe.CODE_39||h===oe.CODE_93||h===oe.CODE_128||h===oe.ITF||h===oe.RSS_14||h===oe.RSS_EXPANDED);u&&!a&&c.push(new ga(i,this.verbose)),l.includes(oe.QR_CODE)&&c.push(new pa),l.includes(oe.DATA_MATRIX)&&c.push(new Mi),l.includes(oe.AZTEC)&&c.push(new ut),l.includes(oe.PDF_417)&&c.push(new oi),u&&a&&c.push(new ga(i,this.verbose))}c.length===0&&(a||c.push(new ga(i,this.verbose)),c.push(new pa),c.push(new Mi),c.push(new ut),c.push(new oi),a&&c.push(new ga(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Ka("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(l){if(l instanceof Ka)continue}throw new ae("No MultiFormat Readers were able to detect the code.")}}class Ks extends te{constructor(i=null,a=500){const l=new ol;l.setHints(i),super(l,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class ll extends te{constructor(i=500){super(new oi,i)}}class cl extends te{constructor(i=500){super(new pa,i)}}var Js;(function(H){H[H.ERROR_CORRECTION=0]="ERROR_CORRECTION",H[H.CHARACTER_SET=1]="CHARACTER_SET",H[H.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",H[H.MIN_SIZE=3]="MIN_SIZE",H[H.MAX_SIZE=4]="MAX_SIZE",H[H.MARGIN=5]="MARGIN",H[H.PDF417_COMPACT=6]="PDF417_COMPACT",H[H.PDF417_COMPACTION=7]="PDF417_COMPACTION",H[H.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",H[H.AZTEC_LAYERS=9]="AZTEC_LAYERS",H[H.QR_VERSION=10]="QR_VERSION"})(Js||(Js={}));var li=Js;class Ja{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Ae(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let l=a[a.length-1];const c=this.field;for(let u=a.length;u<=i;u++){const h=l.multiply(new Ae(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));a.push(h),l=h}}return a[i]}encode(i,a){if(a===0)throw new S("No error correction bytes");const l=i.length-a;if(l<=0)throw new S("No data bytes provided");const c=this.buildGenerator(a),u=new Int32Array(l);L.arraycopy(i,0,u,0,l);let h=new Ae(this.field,u);h=h.multiplyByMonomial(a,1);const b=h.divide(c)[1].getCoefficients(),C=a-b.length;for(let R=0;R<C;R++)i[l+R]=0;L.arraycopy(b,0,i,l+C,b.length)}}class An{constructor(){}static applyMaskPenaltyRule1(i){return An.applyMaskPenaltyRule1Internal(i,!0)+An.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u-1;h++){const m=l[h];for(let b=0;b<c-1;b++){const C=m[b];C===m[b+1]&&C===l[h+1][b]&&C===l[h+1][b+1]&&a++}}return An.N2*a}static applyMaskPenaltyRule3(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u;h++)for(let m=0;m<c;m++){const b=l[h];m+6<c&&b[m]===1&&b[m+1]===0&&b[m+2]===1&&b[m+3]===1&&b[m+4]===1&&b[m+5]===0&&b[m+6]===1&&(An.isWhiteHorizontal(b,m-4,m)||An.isWhiteHorizontal(b,m+7,m+11))&&a++,h+6<u&&l[h][m]===1&&l[h+1][m]===0&&l[h+2][m]===1&&l[h+3][m]===1&&l[h+4][m]===1&&l[h+5][m]===0&&l[h+6][m]===1&&(An.isWhiteVertical(l,m,h-4,h)||An.isWhiteVertical(l,m,h+7,h+11))&&a++}return a*An.N3}static isWhiteHorizontal(i,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let c=a;c<l;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,a,l,c){l=Math.max(l,0),c=Math.min(c,i.length);for(let u=l;u<c;u++)if(i[u][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let b=0;b<u;b++){const C=l[b];for(let R=0;R<c;R++)C[R]===1&&a++}const h=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*An.N4}static getDataMaskBit(i,a,l){let c,u;switch(i){case 0:c=l+a&1;break;case 1:c=l&1;break;case 2:c=a%3;break;case 3:c=(l+a)%3;break;case 4:c=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:u=l*a,c=(u&1)+u%3;break;case 6:u=l*a,c=(u&1)+u%3&1;break;case 7:u=l*a,c=u%3+(l+a&1)&1;break;default:throw new S("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,a){let l=0;const c=a?i.getHeight():i.getWidth(),u=a?i.getWidth():i.getHeight(),h=i.getArray();for(let m=0;m<c;m++){let b=0,C=-1;for(let R=0;R<u;R++){const z=a?h[m][R]:h[R][m];z===C?b++:(b>=5&&(l+=An.N1+(b-5)),b=1,C=z)}b>=5&&(l+=An.N1+(b-5))}return l}}An.N1=3,An.N2=3,An.N3=40,An.N4=10;class $a{constructor(i,a){this.width=i,this.height=a;const l=new Array(a);for(let c=0;c!==a;c++)l[c]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,l){this.bytes[a][i]=l}setBoolean(i,a,l){this.bytes[a][i]=l?1:0}clear(i){for(const a of this.bytes)_.fill(a,i)}equals(i){if(!(i instanceof $a))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,c=this.height;l<c;++l){const u=this.bytes[l],h=a.bytes[l];for(let m=0,b=this.width;m<b;++m)if(u[m]!==h[m])return!1}return!0}toString(){const i=new ie;for(let a=0,l=this.height;a<l;++a){const c=this.bytes[a];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class pr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ie;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<pr.NUM_MASK_PATTERNS}}pr.NUM_MASK_PATTERNS=8;class pn extends x{}pn.kind="WriterException";class A{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,l,c,u){A.clearMatrix(u),A.embedBasicPatterns(l,u),A.embedTypeInfo(a,c,u),A.maybeEmbedVersionInfo(l,u),A.embedDataBits(i,c,u)}static embedBasicPatterns(i,a){A.embedPositionDetectionPatternsAndSeparators(a),A.embedDarkDotAtLeftBottomCorner(a),A.maybeEmbedPositionAdjustmentPatterns(i,a),A.embedTimingPatterns(a)}static embedTypeInfo(i,a,l){const c=new M;A.makeTypeInfoBits(i,a,c);for(let u=0,h=c.getSize();u<h;++u){const m=c.get(c.getSize()-1-u),b=A.TYPE_INFO_COORDINATES[u],C=b[0],R=b[1];if(l.setBoolean(C,R,m),u<8){const z=l.getWidth()-u-1;l.setBoolean(z,8,m)}else{const Z=l.getHeight()-7+(u-8);l.setBoolean(8,Z,m)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const l=new M;A.makeVersionInfoBits(i,l);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const m=l.get(c);c--,a.setBoolean(u,a.getHeight()-11+h,m),a.setBoolean(a.getHeight()-11+h,u,m)}}static embedDataBits(i,a,l){let c=0,u=-1,h=l.getWidth()-1,m=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);m>=0&&m<l.getHeight();){for(let b=0;b<2;++b){const C=h-b;if(!A.isEmpty(l.get(C,m)))continue;let R;c<i.getSize()?(R=i.get(c),++c):R=!1,a!==255&&An.getDataMaskBit(a,C,m)&&(R=!R),l.setBoolean(C,m,R)}m+=u}u=-u,m+=u,h-=2}if(c!==i.getSize())throw new pn("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-D.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new S("0 polynomial");const l=A.findMSBSet(a);for(i<<=l-1;A.findMSBSet(i)>=l;)i^=a<<A.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,a,l){if(!pr.isValidMaskPattern(a))throw new pn("Invalid mask pattern");const c=i.getBits()<<3|a;l.appendBits(c,5);const u=A.calculateBCHCode(c,A.TYPE_INFO_POLY);l.appendBits(u,10);const h=new M;if(h.appendBits(A.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new pn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const l=A.calculateBCHCode(i.getVersionNumber(),A.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new pn("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const l=(a+1)%2;A.isEmpty(i.get(a,6))&&i.setNumber(a,6,l),A.isEmpty(i.get(6,a))&&i.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new pn;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,l){for(let c=0;c<8;++c){if(!A.isEmpty(l.get(i+c,a)))throw new pn;l.setNumber(i+c,a,0)}}static embedVerticalSeparationPattern(i,a,l){for(let c=0;c<7;++c){if(!A.isEmpty(l.get(i,a+c)))throw new pn;l.setNumber(i,a+c,0)}}static embedPositionAdjustmentPattern(i,a,l){for(let c=0;c<5;++c){const u=A.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPattern(i,a,l){for(let c=0;c<7;++c){const u=A.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(i){const a=A.POSITION_DETECTION_PATTERN[0].length;A.embedPositionDetectionPattern(0,0,i),A.embedPositionDetectionPattern(i.getWidth()-a,0,i),A.embedPositionDetectionPattern(0,i.getWidth()-a,i);const l=8;A.embedHorizontalSeparationPattern(0,l-1,i),A.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),A.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const c=7;A.embedVerticalSeparationPattern(c,0,i),A.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),A.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,c=A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let u=0,h=c.length;u!==h;u++){const m=c[u];if(m>=0)for(let b=0;b!==h;b++){const C=c[b];C>=0&&A.isEmpty(a.get(C,m))&&A.embedPositionAdjustmentPattern(C-2,m-2,a)}}}}A.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),A.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),A.VERSION_INFO_POLY=7973,A.TYPE_INFO_POLY=1335,A.TYPE_INFO_MASK_PATTERN=21522;class V{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ue{constructor(){}static calculateMaskPenalty(i){return An.applyMaskPenaltyRule1(i)+An.applyMaskPenaltyRule2(i)+An.applyMaskPenaltyRule3(i)+An.applyMaskPenaltyRule4(i)}static encode(i,a,l=null){let c=ue.DEFAULT_BYTE_MODE_ENCODING;const u=l!==null&&l.get(li.CHARACTER_SET)!==void 0;u&&(c=l.get(li.CHARACTER_SET).toString());const h=this.chooseMode(i,c),m=new M;if(h===Nt.BYTE&&(u||ue.DEFAULT_BYTE_MODE_ENCODING!==c)){const nt=K.getCharacterSetECIByName(c);nt!==void 0&&this.appendECI(nt,m)}this.appendModeInfo(h,m);const b=new M;this.appendBytes(i,h,b,c);let C;if(l!==null&&l.get(li.QR_VERSION)!==void 0){const nt=Number.parseInt(l.get(li.QR_VERSION).toString(),10);C=bt.getVersionForNumber(nt);const et=this.calculateBitsNeeded(h,m,b,C);if(!this.willFit(et,C,a))throw new pn("Data too big for requested version")}else C=this.recommendVersion(a,h,m,b);const R=new M;R.appendBitArray(m);const z=h===Nt.BYTE?b.getSizeInBytes():i.length;this.appendLengthInfo(z,C,h,R),R.appendBitArray(b);const Z=C.getECBlocksForLevel(a),fe=C.getTotalCodewords()-Z.getTotalECCodewords();this.terminateBits(fe,R);const ye=this.interleaveWithECBytes(R,C.getTotalCodewords(),fe,Z.getNumBlocks()),we=new pr;we.setECLevel(a),we.setMode(h),we.setVersion(C);const Te=C.getDimensionForVersion(),Ue=new $a(Te,Te),$e=this.chooseMaskPattern(ye,a,C,Ue);return we.setMaskPattern($e),A.buildMatrix(ye,a,C,$e,Ue),we.setMatrix(Ue),we}static recommendVersion(i,a,l,c){const u=this.calculateBitsNeeded(a,l,c,bt.getVersionForNumber(1)),h=this.chooseVersion(u,i),m=this.calculateBitsNeeded(a,l,c,h);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,a,l,c){return a.getSize()+i.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(i){return i<ue.ALPHANUMERIC_TABLE.length?ue.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(K.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return Nt.KANJI;let l=!1,c=!1;for(let u=0,h=i.length;u<h;++u){const m=i.charAt(u);if(ue.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)c=!0;else return Nt.BYTE}return c?Nt.ALPHANUMERIC:l?Nt.NUMERIC:Nt.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=U.encode(i,K.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const u=a[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,a,l,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let m=0;m<pr.NUM_MASK_PATTERNS;m++){A.buildMatrix(i,a,l,m,c);let b=this.calculateMaskPenalty(c);b<u&&(u=b,h=m)}return h}static chooseVersion(i,a){for(let l=1;l<=40;l++){const c=bt.getVersionForNumber(l);if(ue.willFit(i,c,a))return c}throw new pn("Data too big")}static willFit(i,a,l){const c=a.getTotalCodewords(),h=a.getECBlocksForLevel(l).getTotalECCodewords(),m=c-h,b=(i+7)/8;return m>=b}static terminateBits(i,a){const l=i*8;if(a.getSize()>l)throw new pn("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let h=0;h<4&&a.getSize()<l;++h)a.appendBit(!1);const c=a.getSize()&7;if(c>0)for(let h=c;h<8;h++)a.appendBit(!1);const u=i-a.getSizeInBytes();for(let h=0;h<u;++h)a.appendBits(h&1?17:236,8);if(a.getSize()!==l)throw new pn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,l,c,u,h){if(c>=l)throw new pn("Block ID too large");const m=i%l,b=l-m,C=Math.floor(i/l),R=C+1,z=Math.floor(a/l),Z=z+1,fe=C-z,ye=R-Z;if(fe!==ye)throw new pn("EC bytes mismatch");if(l!==b+m)throw new pn("RS blocks mismatch");if(i!==(z+fe)*b+(Z+ye)*m)throw new pn("Total bytes mismatch");c<b?(u[0]=z,h[0]=fe):(u[0]=Z,h[0]=ye)}static interleaveWithECBytes(i,a,l,c){if(i.getSizeInBytes()!==l)throw new pn("Number of bits and data bytes does not match");let u=0,h=0,m=0;const b=new Array;for(let R=0;R<c;++R){const z=new Int32Array(1),Z=new Int32Array(1);ue.getNumDataBytesAndNumECBytesForBlockID(a,l,c,R,z,Z);const fe=z[0],ye=new Uint8Array(fe);i.toBytes(8*u,ye,0,fe);const we=ue.generateECBytes(ye,Z[0]);b.push(new V(ye,we)),h=Math.max(h,fe),m=Math.max(m,we.length),u+=z[0]}if(l!==u)throw new pn("Data bytes does not match offset");const C=new M;for(let R=0;R<h;++R)for(const z of b){const Z=z.getDataBytes();R<Z.length&&C.appendBits(Z[R],8)}for(let R=0;R<m;++R)for(const z of b){const Z=z.getErrorCorrectionBytes();R<Z.length&&C.appendBits(Z[R],8)}if(a!==C.getSizeInBytes())throw new pn("Interleaving error: "+a+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(i,a){const l=i.length,c=new Int32Array(l+a);for(let h=0;h<l;h++)c[h]=i[h]&255;new Ja(Oe.QR_CODE_FIELD_256).encode(c,a);const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=c[l+h];return u}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,l,c){const u=l.getCharacterCountBits(a);if(i>=1<<u)throw new pn(i+" is bigger than "+((1<<u)-1));c.appendBits(i,u)}static appendBytes(i,a,l,c){switch(a){case Nt.NUMERIC:ue.appendNumericBytes(i,l);break;case Nt.ALPHANUMERIC:ue.appendAlphanumericBytes(i,l);break;case Nt.BYTE:ue.append8BitBytes(i,l,c);break;case Nt.KANJI:ue.appendKanjiBytes(i,l);break;default:throw new pn("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=ue.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=ue.getDigit(i.charAt(c));if(c+2<l){const h=ue.getDigit(i.charAt(c+1)),m=ue.getDigit(i.charAt(c+2));a.appendBits(u*100+h*10+m,10),c+=3}else if(c+1<l){const h=ue.getDigit(i.charAt(c+1));a.appendBits(u*10+h,7),c+=2}else a.appendBits(u,4),c++}}static appendAlphanumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=ue.getAlphanumericCode(i.charCodeAt(c));if(u===-1)throw new pn;if(c+1<l){const h=ue.getAlphanumericCode(i.charCodeAt(c+1));if(h===-1)throw new pn;a.appendBits(u*45+h,11),c+=2}else a.appendBits(u,6),c++}}static append8BitBytes(i,a,l){let c;try{c=U.encode(i,l)}catch(u){throw new pn(u)}for(let u=0,h=c.length;u!==h;u++){const m=c[u];a.appendBits(m,8)}}static appendKanjiBytes(i,a){let l;try{l=U.encode(i,K.SJIS)}catch(u){throw new pn(u)}const c=l.length;for(let u=0;u<c;u+=2){const h=l[u]&255,m=l[u+1]&255,b=h<<8&4294967295|m;let C=-1;if(b>=33088&&b<=40956?C=b-33088:b>=57408&&b<=60351&&(C=b-49472),C===-1)throw new pn("Invalid byte sequence");const R=(C>>8)*192+(C&255);a.appendBits(R,13)}}static appendECI(i,a){a.appendBits(Nt.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}ue.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ue.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class ve{write(i,a,l,c=null){if(i.length===0)throw new S("Found empty contents");if(a<0||l<0)throw new S("Requested dimensions are too small: "+a+"x"+l);let u=xn.L,h=ve.QUIET_ZONE_SIZE;c!==null&&(c.get(li.ERROR_CORRECTION)!==void 0&&(u=xn.fromString(c.get(li.ERROR_CORRECTION).toString())),c.get(li.MARGIN)!==void 0&&(h=Number.parseInt(c.get(li.MARGIN).toString(),10)));const m=ue.encode(i,u,c);return this.renderResult(m,a,l,h)}writeToDom(i,a,l,c,u=null){typeof i=="string"&&(i=document.querySelector(i));const h=this.write(a,l,c,u);i&&i.appendChild(h)}renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new ke;const h=u.getWidth(),m=u.getHeight(),b=h+c*2,C=m+c*2,R=Math.max(a,b),z=Math.max(l,C),Z=Math.min(Math.floor(R/b),Math.floor(z/C)),fe=Math.floor((R-h*Z)/2),ye=Math.floor((z-m*Z)/2),we=this.createSVGElement(R,z);for(let Te=0,Ue=ye;Te<m;Te++,Ue+=Z)for(let $e=0,nt=fe;$e<h;$e++,nt+=Z)if(u.get($e,Te)===1){const et=this.createSvgRectElement(nt,Ue,Z,Z);we.appendChild(et)}return we}createSVGElement(i,a){const l=document.createElementNS(ve.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(i,a,l,c){const u=document.createElementNS(ve.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"height",l.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ve.QUIET_ZONE_SIZE=4,ve.SVG_NS="http://www.w3.org/2000/svg";class De{encode(i,a,l,c,u){if(i.length===0)throw new S("Found empty contents");if(a!==oe.QR_CODE)throw new S("Can only encode QR_CODE, but got "+a);if(l<0||c<0)throw new S(`Requested dimensions are too small: ${l}x${c}`);let h=xn.L,m=De.QUIET_ZONE_SIZE;u!==null&&(u.get(li.ERROR_CORRECTION)!==void 0&&(h=xn.fromString(u.get(li.ERROR_CORRECTION).toString())),u.get(li.MARGIN)!==void 0&&(m=Number.parseInt(u.get(li.MARGIN).toString(),10)));const b=ue.encode(i,h,u);return De.renderResult(b,l,c,m)}static renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new ke;const h=u.getWidth(),m=u.getHeight(),b=h+c*2,C=m+c*2,R=Math.max(a,b),z=Math.max(l,C),Z=Math.min(Math.floor(R/b),Math.floor(z/C)),fe=Math.floor((R-h*Z)/2),ye=Math.floor((z-m*Z)/2),we=new se(R,z);for(let Te=0,Ue=ye;Te<m;Te++,Ue+=Z)for(let $e=0,nt=fe;$e<h;$e++,nt+=Z)u.get($e,Te)===1&&we.setRegion(nt,Ue,Z,Z);return we}}De.QUIET_ZONE_SIZE=4;class qe{encode(i,a,l,c,u){let h;switch(a){case oe.QR_CODE:h=new De;break;default:throw new S("No encoder available for format "+a)}return h.encode(i,a,l,c,u)}}class Ze extends ce{constructor(i,a,l,c,u,h,m,b){if(super(h,m),this.yuvData=i,this.dataWidth=a,this.dataHeight=l,this.left=c,this.top=u,c+h>a||u+m>l)throw new S("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(h,m)}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return L.arraycopy(this.yuvData,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return L.arraycopy(this.yuvData,u,c,0,l),c;for(let h=0;h<a;h++){const m=h*i;L.arraycopy(this.yuvData,u,c,m,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new Ze(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,l,c,!1)}renderThumbnail(){const i=this.getWidth()/Ze.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ze.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*a),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const m=h*i;for(let b=0;b<i;b++){const C=c[u+b*Ze.THUMBNAIL_SCALE_FACTOR]&255;l[m+b]=4278190080|C*65793}u+=this.dataWidth*Ze.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Ze.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ze.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const l=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<a;c++,u+=this.dataWidth){const h=u+i/2;for(let m=u,b=u+i-1;m<h;m++,b--){const C=l[m];l[m]=l[b],l[b]=C}}}invert(){return new de(this)}}Ze.THUMBNAIL_SCALE_FACTOR=2;class ht extends ce{constructor(i,a,l,c,u,h,m){if(super(a,l),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=m,i.BYTES_PER_ELEMENT===4){const b=a*l,C=new Uint8ClampedArray(b);for(let R=0;R<b;R++){const z=i[R],Z=z>>16&255,fe=z>>7&510,ye=z&255;C[R]=(Z+fe+ye)/4&255}this.luminances=C}else this.luminances=i;if(c===void 0&&(this.dataWidth=a),u===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return L.arraycopy(this.luminances,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return L.arraycopy(this.luminances,u,c,0,l),c;for(let h=0;h<a;h++){const m=h*i;L.arraycopy(this.luminances,u,c,m,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new ht(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new de(this)}}class St extends K{static forName(i){return this.getCharacterSetECIByName(i)}}class kt{}kt.ISO_8859_1=K.ISO8859_1;class Pt{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class en{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class Xn{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Sn extends Xn{constructor(i,a,l){super(i),this.value=a,this.bitCount=l}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new Sn(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Sn(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+D.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ei extends Sn{constructor(i,a,l){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(i,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(i,a){return new ei(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zi(H,i,a){return new ei(H,i,a)}function ti(H,i,a){return new Sn(H,i,a)}const Zr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gi=0,Tr=1,sr=2,$s=3,mr=4,eo=new Sn(null,0,0),ws=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ul(H){for(let i of H)_.fill(i,-1);return H[gi][mr]=0,H[Tr][mr]=0,H[Tr][gi]=28,H[$s][mr]=0,H[sr][mr]=0,H[sr][gi]=15,H}const As=ul(_.createInt32Array(6,6));class Ln{constructor(i,a,l,c){this.token=i,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let l=this.bitCount,c=this.token;if(i!==this.mode){let h=ws[this.mode][i];c=ti(c,h&65535,h>>16),l+=h>>16}let u=i===sr?4:5;return c=ti(c,a,u),new Ln(c,i,0,l+u)}shiftAndAppend(i,a){let l=this.token,c=this.mode===sr?4:5;return l=ti(l,As[this.mode][i],c),l=ti(l,a,5),new Ln(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let a=this.token,l=this.mode,c=this.bitCount;if(this.mode===mr||this.mode===sr){let m=ws[l][gi];a=ti(a,m&65535,m>>16),c+=m>>16,l=gi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Ln(a,l,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(i+1)),h}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Zi(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ln(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(ws[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Ln.calculateBinaryShiftCost(i)-Ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())a.unshift(c);let l=new M;for(const c of a)c.appendTo(l,i);return l}toString(){return B.format("%s bits=%d bytes=%d",Zr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Ln.INITIAL_STATE=new Ln(eo,gi,0,0);function to(H){const i=B.getCharCode(" "),a=B.getCharCode("."),l=B.getCharCode(",");H[gi][i]=1;const c=B.getCharCode("Z"),u=B.getCharCode("A");for(let Z=u;Z<=c;Z++)H[gi][Z]=Z-u+2;H[Tr][i]=1;const h=B.getCharCode("z"),m=B.getCharCode("a");for(let Z=m;Z<=h;Z++)H[Tr][Z]=Z-m+2;H[sr][i]=1;const b=B.getCharCode("9"),C=B.getCharCode("0");for(let Z=C;Z<=b;Z++)H[sr][Z]=Z-C+2;H[sr][l]=12,H[sr][a]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Z=0;Z<R.length;Z++)H[$s][B.getCharCode(R[Z])]=Z;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Z=0;Z<z.length;Z++)B.getCharCode(z[Z])>0&&(H[mr][B.getCharCode(z[Z])]=Z);return H}const es=to(_.createInt32Array(5,256));class ya{constructor(i){this.text=i}encode(){const i=B.getCharCode(" "),a=B.getCharCode(`
`);let l=en.singletonList(Ln.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case B.getCharCode("\r"):h=m===a?2:0;break;case B.getCharCode("."):h=m===i?3:0;break;case B.getCharCode(","):h=m===i?4:0;break;case B.getCharCode(":"):h=m===i?5:0;break;default:h=0}h>0?(l=ya.updateStateListForPair(l,u,h),u++):l=this.updateStateListForChar(l,u)}return en.min(l,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const l=[];for(let c of i)this.updateStateForChar(c,a,l);return ya.simplifyStates(l)}updateStateForChar(i,a,l){let c=this.text[a]&255,u=es[i.getMode()][c]>0,h=null;for(let m=0;m<=mr;m++){let b=es[m][c];if(b>0){if(h==null&&(h=i.endBinaryShift(a)),!u||m===i.getMode()||m===sr){const C=h.latchAndAppend(m,b);l.push(C)}if(!u&&As[i.getMode()][m]>=0){const C=h.shiftAndAppend(m,b);l.push(C)}}}if(i.getBinaryShiftByteCount()>0||es[i.getMode()][c]===0){let m=i.addBinaryShiftChar(a);l.push(m)}}static updateStateListForPair(i,a,l){const c=[];for(let u of i)this.updateStateForPair(u,a,l,c);return this.simplifyStates(c)}static updateStateForPair(i,a,l,c){let u=i.endBinaryShift(a);if(c.push(u.latchAndAppend(mr,l)),i.getMode()!==mr&&c.push(u.shiftAndAppend(mr,l)),l===3||l===4){let h=u.latchAndAppend(sr,16-l).latchAndAppend(sr,1);c.push(h)}if(i.getBinaryShiftByteCount()>0){let h=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);c.push(h)}}static simplifyStates(i){let a=[];for(const l of i){let c=!0;for(const u of a){if(u.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(u)&&(a=a.filter(h=>h!==u))}c&&a.push(l)}return a}}class Qt{constructor(){}static encodeBytes(i){return Qt.encode(i,Qt.DEFAULT_EC_PERCENT,Qt.DEFAULT_AZTEC_LAYERS)}static encode(i,a,l){let c=new ya(i).encode(),u=D.truncDivision(c.getSize()*a,100)+11,h=c.getSize()+u,m,b,C,R,z;if(l!==Qt.DEFAULT_AZTEC_LAYERS){if(m=l<0,b=Math.abs(l),b>(m?Qt.MAX_NB_BITS_COMPACT:Qt.MAX_NB_BITS))throw new S(B.format("Illegal value %s for layers",l));C=Qt.totalBitsInLayer(b,m),R=Qt.WORD_SIZE[b];let et=C-C%R;if(z=Qt.stuffBits(c,R),z.getSize()+u>et)throw new S("Data to large for user specified layer");if(m&&z.getSize()>R*64)throw new S("Data to large for user specified layer")}else{R=0,z=null;for(let et=0;;et++){if(et>Qt.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(m=et<=3,b=m?et+1:et,C=Qt.totalBitsInLayer(b,m),h>C)continue;(z==null||R!==Qt.WORD_SIZE[b])&&(R=Qt.WORD_SIZE[b],z=Qt.stuffBits(c,R));let Wt=C-C%R;if(!(m&&z.getSize()>R*64)&&z.getSize()+u<=Wt)break}}let Z=Qt.generateCheckWords(z,C,R),fe=z.getSize()/R,ye=Qt.generateModeMessage(m,b,fe),we=(m?11:14)+b*4,Te=new Int32Array(we),Ue;if(m){Ue=we;for(let et=0;et<Te.length;et++)Te[et]=et}else{Ue=we+1+2*D.truncDivision(D.truncDivision(we,2)-1,15);let et=D.truncDivision(we,2),Wt=D.truncDivision(Ue,2);for(let Mt=0;Mt<et;Mt++){let pi=Mt+D.truncDivision(Mt,15);Te[et-Mt-1]=Wt-pi-1,Te[et+Mt]=Wt+pi+1}}let $e=new se(Ue);for(let et=0,Wt=0;et<b;et++){let Mt=(b-et)*4+(m?9:12);for(let pi=0;pi<Mt;pi++){let Fi=pi*2;for(let ci=0;ci<2;ci++)Z.get(Wt+Fi+ci)&&$e.set(Te[et*2+ci],Te[et*2+pi]),Z.get(Wt+Mt*2+Fi+ci)&&$e.set(Te[et*2+pi],Te[we-1-et*2-ci]),Z.get(Wt+Mt*4+Fi+ci)&&$e.set(Te[we-1-et*2-ci],Te[we-1-et*2-pi]),Z.get(Wt+Mt*6+Fi+ci)&&$e.set(Te[we-1-et*2-pi],Te[et*2+ci])}Wt+=Mt*8}if(Qt.drawModeMessage($e,m,Ue,ye),m)Qt.drawBullsEye($e,D.truncDivision(Ue,2),5);else{Qt.drawBullsEye($e,D.truncDivision(Ue,2),7);for(let et=0,Wt=0;et<D.truncDivision(we,2)-1;et+=15,Wt+=16)for(let Mt=D.truncDivision(Ue,2)&1;Mt<Ue;Mt+=2)$e.set(D.truncDivision(Ue,2)-Wt,Mt),$e.set(D.truncDivision(Ue,2)+Wt,Mt),$e.set(Mt,D.truncDivision(Ue,2)-Wt),$e.set(Mt,D.truncDivision(Ue,2)+Wt)}let nt=new Pt;return nt.setCompact(m),nt.setSize(Ue),nt.setLayers(b),nt.setCodeWords(fe),nt.setMatrix($e),nt}static drawBullsEye(i,a,l){for(let c=0;c<l;c+=2)for(let u=a-c;u<=a+c;u++)i.set(u,a-c),i.set(u,a+c),i.set(a-c,u),i.set(a+c,u);i.set(a-l,a-l),i.set(a-l+1,a-l),i.set(a-l,a-l+1),i.set(a+l,a-l),i.set(a+l,a-l+1),i.set(a+l,a+l-1)}static generateModeMessage(i,a,l){let c=new M;return i?(c.appendBits(a-1,2),c.appendBits(l-1,6),c=Qt.generateCheckWords(c,28,4)):(c.appendBits(a-1,5),c.appendBits(l-1,11),c=Qt.generateCheckWords(c,40,4)),c}static drawModeMessage(i,a,l,c){let u=D.truncDivision(l,2);if(a)for(let h=0;h<7;h++){let m=u-3+h;c.get(h)&&i.set(m,u-5),c.get(h+7)&&i.set(u+5,m),c.get(20-h)&&i.set(m,u+5),c.get(27-h)&&i.set(u-5,m)}else for(let h=0;h<10;h++){let m=u-5+h+D.truncDivision(h,5);c.get(h)&&i.set(m,u-7),c.get(h+10)&&i.set(u+7,m),c.get(29-h)&&i.set(m,u+7),c.get(39-h)&&i.set(u-7,m)}}static generateCheckWords(i,a,l){let c=i.getSize()/l,u=new Ja(Qt.getGF(l)),h=D.truncDivision(a,l),m=Qt.bitsToWords(i,l,h);u.encode(m,h-c);let b=a%l,C=new M;C.appendBits(0,b);for(const R of Array.from(m))C.appendBits(R,l);return C}static bitsToWords(i,a,l){let c=new Int32Array(l),u,h;for(u=0,h=i.getSize()/a;u<h;u++){let m=0;for(let b=0;b<a;b++)m|=i.get(u*a+b)?1<<a-b-1:0;c[u]=m}return c}static getGF(i){switch(i){case 4:return Oe.AZTEC_PARAM;case 6:return Oe.AZTEC_DATA_6;case 8:return Oe.AZTEC_DATA_8;case 10:return Oe.AZTEC_DATA_10;case 12:return Oe.AZTEC_DATA_12;default:throw new S("Unsupported word size "+i)}}static stuffBits(i,a){let l=new M,c=i.getSize(),u=(1<<a)-2;for(let h=0;h<c;h+=a){let m=0;for(let b=0;b<a;b++)(h+b>=c||i.get(h+b))&&(m|=1<<a-1-b);(m&u)===u?(l.appendBits(m&u,a),h--):m&u?l.appendBits(m,a):(l.appendBits(m|1,a),h--)}return l}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Qt.DEFAULT_EC_PERCENT=33,Qt.DEFAULT_AZTEC_LAYERS=0,Qt.MAX_NB_BITS=32,Qt.MAX_NB_BITS_COMPACT=4,Qt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Pi{encode(i,a,l,c){return this.encodeWithHints(i,a,l,c,null)}encodeWithHints(i,a,l,c,u){let h=kt.ISO_8859_1,m=Qt.DEFAULT_EC_PERCENT,b=Qt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(li.CHARACTER_SET)&&(h=St.forName(u.get(li.CHARACTER_SET).toString())),u.has(li.ERROR_CORRECTION)&&(m=D.parseInt(u.get(li.ERROR_CORRECTION).toString())),u.has(li.AZTEC_LAYERS)&&(b=D.parseInt(u.get(li.AZTEC_LAYERS).toString()))),Pi.encodeLayers(i,a,l,c,h,m,b)}static encodeLayers(i,a,l,c,u,h,m){if(a!==oe.AZTEC)throw new S("Can only encode AZTEC, but got "+a);let b=Qt.encode(B.getBytes(i,u),h,m);return Pi.renderResult(b,l,c)}static renderResult(i,a,l){let c=i.getMatrix();if(c==null)throw new ke;let u=c.getWidth(),h=c.getHeight(),m=Math.max(a,u),b=Math.max(l,h),C=Math.min(m/u,b/h),R=(m-u*C)/2,z=(b-h*C)/2,Z=new se(m,b);for(let fe=0,ye=z;fe<h;fe++,ye+=C)for(let we=0,Te=R;we<u;we++,Te+=C)c.get(we,fe)&&Z.setRegion(Te,ye,C,C);return Z}}n.AbstractExpandedDecoder=Cr,n.ArgumentException=N,n.ArithmeticException=Me,n.AztecCode=Pt,n.AztecCodeReader=ut,n.AztecCodeWriter=Pi,n.AztecDecoder=it,n.AztecDetector=Xt,n.AztecDetectorResult=At,n.AztecEncoder=Qt,n.AztecHighLevelEncoder=ya,n.AztecPoint=yt,n.BarcodeFormat=oe,n.Binarizer=j,n.BinaryBitmap=E,n.BitArray=M,n.BitMatrix=se,n.BitSource=Ws,n.BrowserAztecCodeReader=Vi,n.BrowserBarcodeReader=Gc,n.BrowserCodeReader=te,n.BrowserDatamatrixCodeReader=Xs,n.BrowserMultiFormatReader=Ks,n.BrowserPDF417Reader=ll,n.BrowserQRCodeReader=cl,n.BrowserQRCodeSvgWriter=ve,n.CharacterSetECI=K,n.ChecksumException=w,n.Code128Reader=rt,n.Code39Reader=jt,n.DataMatrixDecodedBitStreamParser=Wr,n.DataMatrixReader=Mi,n.DecodeHintType=X,n.DecoderResult=xe,n.DefaultGridSampler=rn,n.DetectorResult=st,n.EAN13Reader=nr,n.EncodeHintType=li,n.Exception=x,n.FormatException=k,n.GenericGF=Oe,n.GenericGFPoly=Ae,n.GlobalHistogramBinarizer=J,n.GridSampler=Ft,n.GridSamplerInstance=Jt,n.HTMLCanvasElementLuminanceSource=be,n.HybridBinarizer=$,n.ITFReader=Tt,n.IllegalArgumentException=S,n.IllegalStateException=ke,n.InvertedLuminanceSource=de,n.LuminanceSource=ce,n.MathUtils=Ge,n.MultiFormatOneDReader=ga,n.MultiFormatReader=ol,n.MultiFormatWriter=qe,n.NotFoundException=ae,n.OneDReader=Et,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=zl,n.PDF417Reader=oi,n.PDF417ResultMetadata=rl,n.PerspectiveTransform=Dt,n.PlanarYUVLuminanceSource=Ze,n.QRCodeByteMatrix=$a,n.QRCodeDataMask=hr,n.QRCodeDecodedBitStreamParser=gn,n.QRCodeDecoderErrorCorrectionLevel=xn,n.QRCodeDecoderFormatInformation=Si,n.QRCodeEncoder=ue,n.QRCodeEncoderQRCode=pr,n.QRCodeMaskUtil=An,n.QRCodeMatrixUtil=A,n.QRCodeMode=Nt,n.QRCodeReader=pa,n.QRCodeVersion=bt,n.QRCodeWriter=De,n.RGBLuminanceSource=ht,n.RSS14Reader=Un,n.RSSExpandedReader=We,n.ReaderException=Ka,n.ReedSolomonDecoder=pe,n.ReedSolomonEncoder=Ja,n.ReedSolomonException=Qe,n.Result=re,n.ResultMetadataType=_e,n.ResultPoint=He,n.StringUtils=B,n.UnsupportedOperationException=ge,n.VideoInputDevice=Pe,n.WhiteRectangleDetector=Ct,n.WriterException=pn,n.ZXingArrays=_,n.ZXingCharset=St,n.ZXingInteger=D,n.ZXingStandardCharsets=kt,n.ZXingStringBuilder=ie,n.ZXingStringEncoding=U,n.ZXingSystem=L,n.createAbstractExpandedDecoder=Xo,Object.defineProperty(n,"__esModule",{value:!0})})})(Bd,Bd.exports);var Zn=Bd.exports;const E6=kd(Zn),T6=Q4({__proto__:null,default:E6},[Zn]);var bm=function(){function e(t,n,r){if(this.formatMap=new Map([[pt.QR_CODE,Zn.BarcodeFormat.QR_CODE],[pt.AZTEC,Zn.BarcodeFormat.AZTEC],[pt.CODABAR,Zn.BarcodeFormat.CODABAR],[pt.CODE_39,Zn.BarcodeFormat.CODE_39],[pt.CODE_93,Zn.BarcodeFormat.CODE_93],[pt.CODE_128,Zn.BarcodeFormat.CODE_128],[pt.DATA_MATRIX,Zn.BarcodeFormat.DATA_MATRIX],[pt.MAXICODE,Zn.BarcodeFormat.MAXICODE],[pt.ITF,Zn.BarcodeFormat.ITF],[pt.EAN_13,Zn.BarcodeFormat.EAN_13],[pt.EAN_8,Zn.BarcodeFormat.EAN_8],[pt.PDF_417,Zn.BarcodeFormat.PDF_417],[pt.RSS_14,Zn.BarcodeFormat.RSS_14],[pt.RSS_EXPANDED,Zn.BarcodeFormat.RSS_EXPANDED],[pt.UPC_A,Zn.BarcodeFormat.UPC_A],[pt.UPC_E,Zn.BarcodeFormat.UPC_E],[pt.UPC_EAN_EXTENSION,Zn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!T6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),o=new Map;o.set(Zn.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Zn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(o){s(o)}})},e.prototype.decode=function(t){var n=new Zn.MultiFormatReader(this.verbose,this.hints),r=new Zn.HTMLCanvasElementLuminanceSource(t),s=new Zn.BinaryBitmap(new Zn.HybridBinarizer(r)),o=n.decode(s);return{text:o.text,format:a4.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),_6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function p(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,p)}x((r=r.apply(e,t||[])).next())})},I6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return p([x,N])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},wm=function(){function e(t,n,r){if(this.formatMap=new Map([[pt.QR_CODE,"qr_code"],[pt.AZTEC,"aztec"],[pt.CODABAR,"codabar"],[pt.CODE_39,"code_39"],[pt.CODE_93,"code_93"],[pt.CODE_128,"code_128"],[pt.DATA_MATRIX,"data_matrix"],[pt.ITF,"itf"],[pt.EAN_13,"ean_13"],[pt.EAN_8,"ean_8"],[pt.PDF_417,"pdf417"],[pt.UPC_A,"upc_a"],[pt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return _6(this,void 0,void 0,function(){var n,r;return I6(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:a4.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,o=t;s<o.length;s++){var f=o[s],d=f.boundingBox.width*f.boundingBox.height;d>r&&(r=d,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Am=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function p(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,p)}x((r=r.apply(e,t||[])).next())})},Sm=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return p([x,N])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},D6=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&wm.isSupported()?(this.primaryDecoder=new wm(t,r,s),this.secondaryDecoder=new bm(t,r,s)):this.primaryDecoder=new bm(t,r,s)}return e.prototype.decodeAsync=function(t){return Am(this,void 0,void 0,function(){var n;return Sm(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Am(this,void 0,void 0,function(){var n,r;return Sm(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),V2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z0=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function p(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,p)}x((r=r.apply(e,t||[])).next())})},Q0=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return p([x,N])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},c4=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),L6=function(e){V2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(c4),M6=function(e){V2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(L6),O6=function(e){V2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(c4),R6=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new M6(this.track)},e.prototype.torchFeature=function(){return new O6(this.track)},e}(),j6=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return Z0(this,void 0,void 0,function(){var o,f;return Q0(this,function(d){switch(d.label){case 0:return o=new e(t,n,s),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:d.sent(),d.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Z0(this,void 0,void 0,function(){return Q0(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),o=s.length,f=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++f,f>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new R6(this.getFirstTrackOrFail())},e}(),B6=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Z0(this,void 0,void 0,function(){return Q0(this,function(s){return[2,j6.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Z0(this,void 0,void 0,function(){var n,r;return Q0(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),Nm=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function p(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,p)}x((r=r.apply(e,t||[])).next())})},Cm=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return p([x,N])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},k6=function(){function e(){}return e.failIfNotSupported=function(){return Nm(this,void 0,void 0,function(){return Cm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Nm(this,void 0,void 0,function(){return Cm(this,function(n){return[2,B6.create(t)]})})},e}(),P6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function p(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,p)}x((r=r.apply(e,t||[])).next())})},F6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return p([x,N])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},U6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=pc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=pc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return P6(this,void 0,void 0,function(){var t,n,r,s,o,f,d;return F6(this,function(p){switch(p.label){case 0:return t=function(x){for(var N=x.getVideoTracks(),S=0,E=N;S<E.length;S++){var w=E[S];w.enabled=!1,w.stop(),x.removeTrack(w)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),s=[],o=0,f=r;o<f.length;o++)d=f[o],d.kind==="videoinput"&&s.push({id:d.deviceId,label:d.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var f=[],d=0,p=o;d<p.length;d++){var x=p[d];x.kind==="video"&&f.push({id:x.id,label:x.label})}t(f)},s=MediaStreamTrack;s.getSources(r)})},e}(),fi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(fi||(fi={}));var z6=function(){function e(){this.state=fi.NOT_STARTED,this.onGoingTransactionNewState=fi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===fi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=fi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===fi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=fi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==fi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case fi.UNKNOWN:throw"Transition from unknown is not allowed";case fi.NOT_STARTED:this.failIfNewStateIs(t,[fi.PAUSED]);break;case fi.SCANNING:break;case fi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var o=s[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),H6=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===fi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==fi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===fi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===fi.PAUSED},e}(),q6=function(){function e(){}return e.create=function(){return new H6(new z6)},e}(),G6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ta=function(e){G6(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(qa),V6=function(){function e(t,n){this.logger=n,this.fps=ta.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ta.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?l4.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!rs(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Em=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new o4(this.verbose),this.qrcode=new D6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=q6.create()}return e.prototype.start=function(t,n,r,s){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;s?f=s:f=this.verbose?this.logger.log:function(){};var d=V6.create(n,this.logger);this.clearElement();var p=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=p,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:ta.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var S=this,E=this.stateManagerProxy.startTransition(fi.SCANNING);return new Promise(function(w,j){var L=x?d.videoConstraints:S.createVideoConstraints(t);if(!L){E.cancel(),j("videoConstraints should be defined");return}var P={};(!x||d.aspectRatio)&&(P.aspectRatio=d.aspectRatio);var I={onRenderSurfaceReady:function(_,D){S.setupUi(_,D,d),S.isScanning=!0,S.foreverScan(d,r,f)}};k6.failIfNotSupported().then(function(_){_.create(L).then(function(D){return D.render(o.element,P,I).then(function(M){S.renderedCamera=M,E.execute(),w(null)}).catch(function(M){E.cancel(),j(M)})}).catch(function(D){E.cancel(),j(pc.errorGettingUserMedia(D))})}).catch(function(_){E.cancel(),j(pc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(fi.PAUSED),this.showPausedState(),(rs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(fi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(fi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(ta.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(rs(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var d=f.width,p=f.height,x=document.getElementById(r.elementId),N=x.clientWidth?x.clientWidth:ta.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:p,ta.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(d,p,N,S);if(n){var w=r.createCanvasElement(N,S,"qr-canvas-visible");w.style.display="inline-block",x.appendChild(w);var j=w.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=N,j.canvas.height=S,j.drawImage(f,0,0,d,p,E.x,E.y,E.width,E.height)}var L=ta.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(f.width,E.width),I=Math.max(f.height,E.height),_=P+2*L,D=I+2*L,M=r.createCanvasElement(_,D);x.appendChild(M);var Y=M.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=_,Y.canvas.height=D,Y.drawImage(f,0,0,d,p,L,L,P,I);try{r.qrcode.decodeRobustlyAsync(M).then(function(X){s(ym.createFromQrcodeResult(X))}).catch(o)}catch(X){o("QR code parse error, error = ".concat(X))}},f.onerror=o,f.onabort=o,f.onstalled=o,f.onsuspend=o,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return U6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!l4.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[pt.QR_CODE,pt.AZTEC,pt.CODABAR,pt.CODE_39,pt.CODE_93,pt.CODE_128,pt.DATA_MATRIX,pt.MAXICODE,pt.ITF,pt.EAN_13,pt.EAN_8,pt.PDF_417,pt.RSS_14,pt.RSS_EXPANDED,pt.UPC_A,pt.UPC_E,pt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=t.formatsToSupport;s<o.length;s++){var f=o[s];N6(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(rs(t))return!0;if(!rs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(rs(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return rs(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var f=this.toQrdimensions(t,n,o),d=function(x){if(x<ta.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ta.MIN_QR_BOX_SIZE,"px.")},p=function(x){return x>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};d(f.width),d(f.height),f.width=p(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=rs(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&o.height<=n,d={x:0,y:0,width:t,height:n},p=f?this.getShadedRegionBounds(t,n,o):d,x=this.createCanvasElement(p.width,p.height),N={willReadFrequently:!0},S=x.getContext("2d",N);S.canvas.width=p.width,S.canvas.height=p.height,this.element.append(x),f&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=pc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,ym.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=pc.codeParseError(s);return n(o,s4.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),f=o.videoWidth/o.clientWidth,d=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*f,x=this.qrRegion.height*d,N=this.qrRegion.x*f,S=this.qrRegion.y*d;this.context.drawImage(o,N,S,p,x,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(w){!w&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){E()})):E()}).catch(function(w){s.logger.logError("Error happend while scanning context",w),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={},o="exact",f=function(j){if(j in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var x=t.facingMode;if(typeof x=="string"){if(f(x))return{facingMode:x}}else if(typeof x=="object")if(o in x){if(f(x["".concat(o)]))return{facingMode:{exact:x["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var N=typeof x;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(o in S)return{deviceId:{exact:S["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var E=typeof S;throw"Invalid type of 'deviceId' = ".concat(E)}}}var w=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(w)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var o=(r-t)/2,f=(s-n)/2;return{x:o,y:f,width:t,height:n}}else{var d=t,p=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ta.BORDER_SHADER_MATCH_COLOR:ta.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,o=n,f=document.createElement("canvas");return f.style.width="".concat(s,"px"),f.style.height="".concat(o,"px"),f.style.display="none",f.id=rs(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var f=(n-s.width)/2,d=(r-s.height)/2;if(o.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(ta.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var p=5,x=40;this.insertShaderBorders(o,x,p,-p,null,0,!0),this.insertShaderBorders(o,x,p,-p,null,0,!1),this.insertShaderBorders(o,x,p,null,-p,0,!0),this.insertShaderBorders(o,x,p,null,-p,0,!1),this.insertShaderBorders(o,p,x+p,-p,null,-p,!0),this.insertShaderBorders(o,p,x+p,null,-p,-p,!0),this.insertShaderBorders(o,p,x+p,-p,null,-p,!1),this.insertShaderBorders(o,p,x+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,s,o,f,d){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=ta.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),s!==null&&(p.style.top="".concat(s,"px")),o!==null&&(p.style.bottom="".concat(o,"px")),d?p.style.left="".concat(f,"px"):p.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Y2="data:image/svg+xml;base64,",Y6=Y2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",W6=Y2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Tm=Y2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",X6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",_m=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Z6=function(){function e(){this.data=_m.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=_m.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Q6=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=vm.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=vm.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),K6=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Tm,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=X6,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Tm,this.infoIcon.style.opacity="0.6")},e}(),J6=function(){function e(){var t=this;this.infoDiv=new Q6,this.infoIcon=new K6(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),$6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function p(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,p)}x((r=r.apply(e,t||[])).next())})},e8=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return p([x,N])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Im=function(){function e(){}return e.hasPermissions=function(){return $6(this,void 0,void 0,function(){var t,n,r,s;return e8(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),go=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Vo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Vo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return qa.DEFAULT_SUPPORTED_SCAN_TYPE;var n=qa.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var o=s[r];if(!qa.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),aa=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Ps=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(aa.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),u4=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{x(r.next(N))}catch(S){f(S)}}function p(N){try{x(r.throw(N))}catch(S){f(S)}}function x(N){N.done?o(N.value):s(N.value).then(d,p)}x((r=r.apply(e,t||[])).next())})},f4=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(N){return p([x,N])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(N){x=[6,N],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Dm=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return u4(this,void 0,void 0,function(){var t,n;return f4(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Tn.torchOffButton():Tn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Tn.torchOnFailedMessage():Tn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),t8=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Ps.createElement("button",aa.TORCH_BUTTON_ID),this.torchController=new Dm(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Tn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return u4(r,void 0,void 0,function(){return f4(this,function(f){switch(f.label){case 0:return[4,s.torchController.flipState()];case 1:return f.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Dm(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Tn.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var o=new e(n,s);return o.render(t,r),o},e}(),n8=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Ps.createElement("button",aa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Ps.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var p=d.target;if(!(p.files&&p.files.length===0)){var x=p.files,N=x[0],S=N.name;o.setImageNameToButton(S),r(N)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var p=d.dataTransfer;if(p){var x=p.files;if(!x||x.length===0)return;for(var N=!1,S=0;S<x.length;++S){var E=x.item(S);if(E){var w=/image.*/;if(E.type.match(w)){N=!0;var j=E.name;o.setImageNameToButton(j),r(E),f.innerText=Tn.dragAndDropMessage();break}}}N||(f.innerText=Tn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Tn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,o=t.substring(s-8,s);t="".concat(r,"....").concat(o)}var f=Tn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=Tn.fileSelectionChooseImage()+" - "+Tn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),i8=function(){function e(t){this.selectElement=Ps.createElement("select",aa.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Tn.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,f=0,d=this.cameras;f<d.length;f++){var p=d[f],x=p.id,N=p.label==null?x:p.label;(!N||N==="")&&(N=[Tn.anonymousCameraPrefix(),o++].join(" "));var S=document.createElement("option");S.value=x,S.innerText=N,this.options.push(S),this.selectElement.appendChild(S)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),r8=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ps.createElement("input",aa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),na;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(na||(na={}));function a8(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function s8(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var o8=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new go(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new o4(this.verbose),this.persistedDataManager=new Z6,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,f){if(t)t(o,f);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Tn.lastMatch(o),na.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,f){n&&n(o,f)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Em(this.getScanRegionId(),s8(this.config,this.verbose))},e.prototype.pause=function(t){(rs(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=qa.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!qa.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=qa.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=qa.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:qa.SCAN_DEFAULT_FPS,rememberLastUsedCamera:qa.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:qa.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),go.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new J6;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Tn.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(t,n)};Em.getCameras().then(function(f){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),s.renderCameraSelection(f)):(s.setHeaderMessage(Tn.noCameraFound(),na.STATUS_WARNING),o())}).catch(function(f){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(f,na.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Ps.createElement("button",this.getCameraPermissionButtonId());s.innerText=Tn.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(go.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Im.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=go.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=go.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";go.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Tn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,na.STATUS_WARNING),r.qrCodeErrorCallback(f,s4.createFrom(f))}))};this.fileSelectionUi=n8.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=r8.create(s,!1),f=function(L){var P=L.zoomFeature();if(P.isSupported()){o.setOnCameraZoomValueChangeCallback(function(_){P.apply(_)});var I=1;n.config.defaultZoomValueIfSupported&&(I=n.config.defaultZoomValueIfSupported),I=C6(I,P.min(),P.max()),o.setValues(P.min(),P.max(),I,P.step()),o.show()}},d=i8.create(s,t),p=document.createElement("span"),x=Ps.createElement("button",aa.CAMERA_START_BUTTON_ID);x.innerText=Tn.scanButtonStartScanningText(),p.appendChild(x);var N=Ps.createElement("button",aa.CAMERA_STOP_BUTTON_ID);N.innerText=Tn.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,p.appendChild(N);var S,E=function(L){if(!L.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(L.torchFeature()):S=t8.create(p,L.torchFeature(),{display:"none",marginLeft:"5px"},function(P){r.setHeaderMessage(P,na.STATUS_WARNING)}),S.show()};s.appendChild(p);var w=function(L){L||(x.style.display="none"),x.innerText=Tn.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,L&&(x.style.display="inline-block")};if(x.addEventListener("click",function(L){x.innerText=Tn.scanButtonScanningStarting(),d.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var P=d.getValue();r.persistedDataManager.setLastUsedCameraId(P),r.html5Qrcode.start(P,a8(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(I){N.disabled=!1,N.style.display="inline-block",w(!1);var _=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(_),n.config.showZoomSliderIfSupported===!0&&f(_)}).catch(function(I){r.showHideScanTypeSwapLink(!0),d.enable(),w(!0),r.setHeaderMessage(I,na.STATUS_WARNING)})}),d.hasSingleItem()&&x.click(),N.addEventListener("click",function(L){if(!r.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,r.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),x.disabled=!1,N.style.display="none",x.style.display="inline-block",S&&(S.reset(),S.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(P){N.disabled=!1,r.setHeaderMessage(P,na.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var j=r.persistedDataManager.getLastUsedCameraId();d.hasValue(j)?(d.setValue(j),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Tn.textIfCameraScanSelected(),r=Tn.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var f=Ps.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=go.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,go.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=r,t.currentScanType=Vo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=Vo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(f),s.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Im.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=na.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case na.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case na.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case na.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Y6,this.cameraScanImage.alt=Tn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=W6,this.fileScanImage.alt=Tn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return aa.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return aa.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const l8=({onScanSuccess:e})=>(Ke.useEffect(()=>{const t=new o8("reader",{fps:10,qrbox:{width:250,height:250}},!1),n=s=>{t.clear(),e(s)},r=s=>{};return t.render(n,r),()=>{t&&t.getState()!==fi.NOT_STARTED&&t.clear().catch(s=>{console.error("Failed to clear html5-qrcode-scanner.",s)})}},[e]),y.jsx("div",{id:"reader",className:"w-full"})),c8=({onSave:e})=>{const t=Ke.useRef(null),[n,r]=Ke.useState(!1),s=N=>{const S=t.current;if(!S)return{x:0,y:0};const E=S.getBoundingClientRect();return N.nativeEvent instanceof MouseEvent?{x:N.nativeEvent.offsetX,y:N.nativeEvent.offsetY}:N.nativeEvent instanceof TouchEvent?{x:N.nativeEvent.touches[0].clientX-E.left,y:N.nativeEvent.touches[0].clientY-E.top}:{x:0,y:0}},o=N=>{const S=t.current,E=S==null?void 0:S.getContext("2d");if(!E)return;r(!0);const{x:w,y:j}=s(N);E.beginPath(),E.moveTo(w,j)},f=N=>{if(!n)return;const S=t.current,E=S==null?void 0:S.getContext("2d");if(!E)return;const{x:w,y:j}=s(N);E.lineTo(w,j),E.stroke()},d=()=>{r(!1)},p=()=>{const N=t.current,S=N==null?void 0:N.getContext("2d");S&&N&&S.clearRect(0,0,N.width,N.height)},x=()=>{const N=t.current;N&&e(N.toDataURL("image/png"))};return Ke.useEffect(()=>{const N=t.current,S=N==null?void 0:N.getContext("2d");S&&(S.strokeStyle="#000",S.lineWidth=2)},[]),y.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[y.jsx("canvas",{ref:t,width:"400",height:"200",className:"bg-slate-100 border-2 border-dashed border-slate-300 rounded-lg cursor-crosshair",onMouseDown:o,onMouseMove:f,onMouseUp:d,onMouseLeave:d,onTouchStart:o,onTouchMove:f,onTouchEnd:d}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{onClick:p,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 transition font-semibold",children:"Clear"}),y.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition font-semibold",children:"Save Signature"})]})]})},ds=({isOpen:e,onClose:t,title:n,children:r,size:s="2xl"})=>e?y.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full max-w-${s} max-h-[90vh] flex flex-col`,children:[y.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:n}),y.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition",children:y.jsx(U2,{className:"w-7 h-7"})})]}),y.jsx("div",{className:"p-6 overflow-y-auto",children:r})]})}):null,u8=()=>{const{currentUser:e,shipments:t,updateShipmentStatus:n,addToast:r}=bi(),[s,o]=Ke.useState(null),[f,d]=Ke.useState(!1),[p,x]=Ke.useState(!1),[N,S]=Ke.useState(null),E=Ke.useRef({});if(!e)return null;const w=t.filter(Y=>Y.courierId===e.id&&[lt.ASSIGNED_TO_COURIER,lt.PICKED_UP,lt.IN_TRANSIT,lt.OUT_FOR_DELIVERY].includes(Y.status)),j=t.filter(Y=>Y.courierId===e.id&&Y.status===lt.RETURN_IN_PROGRESS),L=(Y,X)=>{n(Y,X)},P=Y=>{o(Y),d(!0)},I=Y=>{s&&n(s.id,lt.DELIVERED,{signature:Y}),d(!1),o(null)},_=Ke.useCallback(Y=>{if(x(!1),[...w,...j].find(q=>q.id===Y)){r(`Scanned: ${Y}. Task is ready.`,"success");const q=E.current[Y];q&&(q.scrollIntoView({behavior:"smooth",block:"center"}),S(Y),setTimeout(()=>S(null),3e3))}else r(`Scanned code ${Y} not found in your current tasks.`,"error")},[w,j,r]),D={[lt.ASSIGNED_TO_COURIER]:{label:"Mark as Picked Up",nextStatus:lt.PICKED_UP},[lt.PICKED_UP]:{label:"Mark In Transit",nextStatus:lt.IN_TRANSIT},[lt.IN_TRANSIT]:{label:"Mark Out for Delivery",nextStatus:lt.OUT_FOR_DELIVERY},[lt.OUT_FOR_DELIVERY]:null,[lt.PENDING_ASSIGNMENT]:null,[lt.DELIVERED]:null,[lt.DELIVERY_FAILED]:null,[lt.RETURN_REQUESTED]:null,[lt.RETURN_IN_PROGRESS]:null,[lt.RETURNED]:null},M=({task:Y,isReturn:X=!1})=>y.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 ${X?"border-l-4 border-orange-500":""}`,children:[y.jsxs("div",{children:[y.jsxs("p",{className:"font-mono text-sm text-slate-500 flex items-center gap-2",children:[X&&y.jsx(m1,{className:"w-4 h-4 text-orange-600"})," ",Y.id]}),y.jsx("p",{className:"text-lg font-bold text-slate-800",children:X?`Return from: ${Y.recipientName}`:`Deliver to: ${Y.recipientName}`}),y.jsxs("p",{className:"text-slate-600",children:[Y.toAddress.street,", ",Y.toAddress.zone]}),y.jsxs("p",{className:"text-sm font-semibold text-slate-700 mt-1",children:["Payment: ",Y.paymentMethod," (",Y.price," EGP)"]})]}),y.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3 w-full md:w-auto",children:[y.jsx("div",{className:"flex-grow",children:y.jsx(b1,{status:Y.status})}),X?y.jsx("button",{onClick:()=>L(Y.id,lt.RETURNED),className:"px-4 py-2 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 transition w-full md:w-auto",children:"Confirm Return Pickup"}):y.jsxs(y.Fragment,{children:[D[Y.status]&&y.jsx("button",{onClick:()=>L(Y.id,D[Y.status].nextStatus),className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition w-full md:w-auto",children:D[Y.status].label}),Y.status===lt.OUT_FOR_DELIVERY&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>P(Y),className:"px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition w-full md:w-auto",children:"Mark as Delivered"}),y.jsx("button",{onClick:()=>L(Y.id,lt.DELIVERY_FAILED),className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition w-full md:w-auto",children:"Delivery Failed"})]})]})]})]});return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Delivery Tasks"}),y.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[y.jsx(fw,{className:"w-5 h-5"}),"Scan Package"]})]}),y.jsxs("div",{className:"space-y-4",children:[w.length===0&&y.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active delivery tasks."}),w.map(Y=>y.jsx("div",{ref:X=>{E.current[Y.id]=X},className:`rounded-xl transition-all duration-500 ${N===Y.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:y.jsx(M,{task:Y})},Y.id))]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Return Tasks"}),y.jsxs("div",{className:"space-y-4 mt-4",children:[j.length===0&&y.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active return tasks."}),j.map(Y=>y.jsx("div",{ref:X=>{E.current[Y.id]=X},className:`rounded-xl transition-all duration-500 ${N===Y.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:y.jsx(M,{task:Y,isReturn:!0})},Y.id))]})]}),y.jsx(ds,{isOpen:f,onClose:()=>d(!1),title:"Capture Signature for Proof of Delivery",children:s&&y.jsx(c8,{onSave:I})}),y.jsx(ds,{isOpen:p,onClose:()=>x(!1),title:"Scan Package Barcode",children:y.jsx("div",{className:"w-full h-96 flex justify-center items-center",children:p&&y.jsx(l8,{onScanSuccess:_})})})]})},f8=()=>{const{users:e,addUser:t,updateUser:n,removeUser:r,resetPassword:s}=bi(),[o,f]=Ke.useState(null),[d,p]=Ke.useState(null),[x,N]=Ke.useState({}),S=(_,D)=>{f(_),p(D||null),N(D?{...D}:{role:Ot.CLIENT,zone:hi.CAIRO_ZONE_A})},E=()=>{f(null),p(null),N({})},w=_=>{const{name:D,value:M}=_.target;N(Y=>({...Y,[D]:M}))},j=_=>{_.preventDefault(),o==="add"?t(x):o==="edit"&&d?n(d.id,x):o==="reset"&&d&&x.password&&s(d.id,x.password),E()},L=()=>{d&&r(d.id),E()},P=()=>{const _=["ID","Name","Email","Role","Zone","Wallet Balance (EGP)"],D=e.map(M=>[M.id,M.name,M.email,M.role,M.zone||"N/A",M.walletBalance!=null?M.walletBalance.toFixed(2):"N/A"]);$u(_,D,"User_List_Export")},I=()=>o==="delete"&&d?y.jsxs("div",{children:[y.jsxs("p",{children:["Are you sure you want to delete the user ",y.jsx("strong",{children:d.name}),"? This action cannot be undone."]}),y.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[y.jsx("button",{onClick:E,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),y.jsx("button",{onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold",children:"Delete User"})]})]}):o==="reset"&&d?y.jsxs("form",{onSubmit:j,className:"space-y-4",children:[y.jsxs("p",{children:["Resetting password for ",y.jsx("strong",{children:d.name}),"."]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),y.jsx("input",{type:"password",name:"password",onChange:w,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),y.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[y.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:"Reset Password"})]})]}):o==="add"||o==="edit"?y.jsxs("form",{onSubmit:j,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),y.jsx("input",{type:"text",name:"name",value:x.name||"",onChange:w,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:x.email||"",onChange:w,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),o==="add"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),y.jsx("input",{type:"password",name:"password",onChange:w,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),y.jsx("select",{name:"role",value:x.role||"",onChange:w,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:Object.values(Ot).map(_=>y.jsx("option",{value:_,children:_},_))})]}),x.role===Ot.COURIER&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),y.jsx("select",{name:"zone",value:x.zone||"",onChange:w,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:Object.values(hi).map(_=>y.jsx("option",{value:_,children:_},_))})]})]}),y.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[y.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:o==="add"?"Create User":"Save Changes"})]})]}):null;return y.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[y.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),y.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Add, edit, or remove users from the platform."})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[y.jsx(p1,{className:"w-5 h-5"}),"Export as CSV"]}),y.jsxs("button",{onClick:()=>S("add"),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[y.jsx(P2,{className:"w-5 h-5"}),"Add User"]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Zone"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(_=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 font-semibold text-slate-800",children:_.name}),y.jsx("td",{className:"px-6 py-4 text-slate-600",children:_.email}),y.jsx("td",{className:"px-6 py-4 text-slate-600",children:_.role}),y.jsx("td",{className:"px-6 py-4 text-slate-600",children:_.zone||"N/A"}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{onClick:()=>S("edit",_),title:"Edit",className:"p-2 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md",children:y.jsx(D3,{})}),y.jsx("button",{onClick:()=>S("reset",_),title:"Reset Password",className:"p-2 text-slate-500 hover:text-orange-600 hover:bg-slate-100 rounded-md",children:y.jsx(M3,{})}),y.jsx("button",{onClick:()=>S("delete",_),title:"Delete",className:"p-2 text-slate-500 hover:text-red-600 hover:bg-slate-100 rounded-md",children:y.jsx(lw,{})})]})})]},_.id))})]})}),y.jsx(ds,{isOpen:!!o,onClose:E,title:o==="add"?"Add New User":o==="edit"?"Edit User":o==="reset"?"Reset Password":"Confirm Deletion",children:I()})]})},h8=()=>{const{shipments:e,users:t,assignReturn:n,canCourierReceiveAssignment:r}=bi(),s=e.filter(d=>d.status===lt.RETURN_REQUESTED),o=t.filter(d=>d.role===Ot.COURIER),f=(d,p)=>{p&&n(d,parseInt(p))};return y.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-5 border-b border-slate-200",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Manage Return Requests"}),y.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign couriers to pick up returned items from customers."})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pickup Zone"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.map(d=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:d.id}),y.jsx("td",{className:"px-6 py-4 text-slate-800",children:d.clientName}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:d.toAddress.zone})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("select",{onChange:p=>f(d.id,p.target.value),defaultValue:"",className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[y.jsx("option",{value:"",disabled:!0,children:"Select an available courier..."}),o.filter(p=>p.zone===d.toAddress.zone&&r(p.id)).map(p=>y.jsxs("option",{value:p.id,children:[p.name," (",p.zone,")"]},p.id))]})})]},d.id)),s.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No pending return requests."})})]})]})})]})},d8=()=>{const{currentUser:e,clientTransactions:t,topUpWallet:n}=bi(),[r,s]=Ke.useState(!1),[o,f]=Ke.useState(100);if(!e)return null;const d=t.filter(x=>x.userId===e.id),p=()=>{n(e.id,o),s(!1)};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Wallet"}),y.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your balance and view your transaction history."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx("div",{className:"md:col-span-1",children:y.jsx(Dr,{title:"Current Balance",value:`${(e.walletBalance??0).toFixed(2)} EGP`,icon:y.jsx(Qu,{className:"w-7 h-7"}),color:"#22c55e"})}),y.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm flex items-center justify-center md:col-span-2",children:y.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-3 px-8 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition shadow-sm hover:shadow-md transform hover:-translate-y-0.5",children:[y.jsx(O3,{className:"w-6 h-6"}),y.jsx("span",{className:"text-lg",children:"Top Up Wallet"})]})})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-5 border-b border-slate-200",children:y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Transaction History"})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Description"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Amount"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[d.sort((x,N)=>new Date(N.date).getTime()-new Date(x.date).getTime()).map(x=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(x.date).toLocaleString()}),y.jsx("td",{className:"px-6 py-4 text-slate-800",children:x.description}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.type===Po.DEPOSIT?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.type})}),y.jsxs("td",{className:`px-6 py-4 font-semibold text-right ${x.type===Po.DEPOSIT?"text-green-600":"text-red-600"}`,children:[x.amount.toFixed(2)," EGP"]})]},x.id)),d.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No transactions yet."})})]})]})})]}),y.jsx(ds,{isOpen:r,onClose:()=>s(!1),title:"Top Up Your Wallet",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("p",{children:"Select an amount to add to your wallet balance. In a real application, this would redirect to a payment gateway."}),y.jsx("div",{className:"flex justify-center gap-4",children:[100,250,500,1e3].map(x=>y.jsxs("button",{onClick:()=>f(x),className:`px-8 py-4 text-xl font-bold rounded-lg border-2 transition ${o===x?"bg-primary-600 text-white border-primary-600":"bg-white text-slate-700 border-slate-300 hover:border-primary-500"}`,children:[x," EGP"]},x))}),y.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[y.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:p,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Add Funds"})]})]})})]})},g8=()=>{const{shipments:e}=bi(),t=e.filter(S=>S.status===lt.DELIVERED&&S.deliveryDate),n=t.reduce((S,E)=>S+E.price,0),r=t.length,s=r>0?n/r:0,o=t.filter(S=>S.paymentMethod===sa.COD).reduce((S,E)=>S+E.price,0),f={},d=new Date;for(let S=29;S>=0;S--){const E=new Date(d);E.setDate(d.getDate()-S);const w=E.toISOString().split("T")[0];f[w]=0}t.forEach(S=>{if(S.deliveryDate){const E=S.deliveryDate.split("T")[0];f.hasOwnProperty(E)&&(f[E]+=S.price)}});const p=Object.entries(f).map(([S,E])=>({date:new Date(S).getDate().toString(),revenue:E})),x=Math.max(...p.map(S=>S.revenue),1),N=()=>{const S=["Shipment ID","Delivery Date","Client","Payment Method","Revenue (EGP)"],E=t.sort((w,j)=>new Date(j.deliveryDate).getTime()-new Date(w.deliveryDate).getTime()).map(w=>[w.id,new Date(w.deliveryDate).toLocaleDateString(),w.clientName,w.paymentMethod,w.price.toFixed(2)]);$u(S,E,"Financial_Report")};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Financial Reports"}),y.jsx("p",{className:"text-slate-500 mt-1",children:"An overview of the company's financial performance."})]}),y.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[y.jsx(p1,{className:"w-5 h-5"}),"Export as CSV"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx(Dr,{title:"Total Revenue",value:`${n.toFixed(2)} EGP`,icon:y.jsx(k2,{className:"w-7 h-7"}),color:"#16a34a"}),y.jsx(Dr,{title:"Shipments Delivered",value:r,icon:y.jsx(F2,{className:"w-7 h-7"}),color:"#3b82f6"}),y.jsx(Dr,{title:"COD to Collect",value:`${o.toFixed(2)} EGP`,icon:y.jsx(Qu,{className:"w-7 h-7"}),color:"#f97316"}),y.jsx(Dr,{title:"Avg. Revenue/Shipment",value:`${s.toFixed(2)} EGP`,icon:y.jsx(Zu,{className:"w-7 h-7"}),color:"#8b5cf6"})]}),y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Daily Revenue (Last 30 Days)"}),y.jsx("div",{className:"h-64 flex items-end gap-2 border-l border-b border-slate-200 pl-4 pb-4",children:p.map(({date:S,revenue:E})=>y.jsxs("div",{className:"flex-1 h-full flex flex-col justify-end items-center group",children:[y.jsx("div",{className:"w-full bg-primary-400 hover:bg-primary-500 transition-colors rounded-t-md",style:{height:`${E/x*100}%`},title:`Day ${S}: ${E.toFixed(2)} EGP`}),y.jsx("span",{className:"text-xs text-slate-500 mt-1",children:S})]},S))})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-5",children:y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Delivery Date"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payment Method"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Revenue"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[t.sort((S,E)=>new Date(E.deliveryDate).getTime()-new Date(S.deliveryDate).getTime()).map(S=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:S.id}),y.jsx("td",{className:"px-6 py-4 text-slate-800",children:new Date(S.deliveryDate).toLocaleDateString()}),y.jsx("td",{className:"px-6 py-4 text-slate-600",children:S.clientName}),y.jsx("td",{className:"px-6 py-4 text-slate-600",children:S.paymentMethod}),y.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800 text-right",children:[S.price.toFixed(2)," EGP"]})]},S.id)),t.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500",children:"No delivered shipments yet."})})]})]})})]})]})},p8=()=>{const{notifications:e,notificationStatus:t,resendNotification:n}=bi(),r={sending:{text:"Sending...",color:"bg-yellow-100 text-yellow-800"},sent:{text:"Sent",color:"bg-green-100 text-green-800"},failed:{text:"Failed",color:"bg-red-100 text-red-800"}};return y.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[y.jsxs("div",{className:"p-5 border-b border-slate-200",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Notifications Log"}),y.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"A log of all automated email notifications and their delivery status."})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Recipient"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Subject"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.sort((s,o)=>new Date(o.date).getTime()-new Date(s.date).getTime()).map(s=>{const o=t[s.id]||(s.sent?"sent":"failed");return y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:new Date(s.date).toLocaleString()}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r[o].color}`,children:r[o].text})}),y.jsx("td",{className:"px-6 py-4 text-sm",children:s.recipient}),y.jsx("td",{className:"px-6 py-4 text-sm",children:s.message.split(`

`)[0]}),y.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:s.shipmentId}),y.jsx("td",{className:"px-6 py-4",children:o==="failed"&&y.jsxs("button",{onClick:()=>n(s.id),className:"flex items-center gap-2 px-3 py-1 bg-primary-500 text-white text-xs font-semibold rounded-lg hover:bg-primary-600 transition",children:[y.jsx(m1,{className:"w-4 h-4 transform -scale-x-100"}),"Resend"]})})]},s.id)}),e.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"No notifications have been generated yet."})})]})]})})]})},m8=()=>{var x,N,S;const{currentUser:e,updateUser:t}=bi(),[n,r]=Ke.useState(!1),[s,o]=Ke.useState({});if(Ke.useEffect(()=>{e&&o({name:e.name,phone:e.phone||"",address:e.address||{street:"",city:"Cairo",zone:hi.CAIRO_ZONE_A,details:""}})},[e]),!e)return null;const f=E=>{o(w=>({...w,address:E}))},d=()=>{t(e.id,s),r(!1)},p=Object.values(hi).filter(E=>{var w;return E.toLowerCase().startsWith(((w=s.address)==null?void 0:w.city.toLowerCase())||"")});return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Profile"}),y.jsx("p",{className:"text-slate-500 mt-1",children:"View and edit your personal information and default address."})]}),n?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Cancel"}),y.jsx("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Save Changes"})]}):y.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[y.jsx(D3,{className:"w-5 h-5"}),"Edit Profile"]})]}),y.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm space-y-8",children:[y.jsxs("div",{className:"border-b border-slate-200 pb-8",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Personal Information"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),n?y.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:E=>o(w=>({...w,name:E.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):y.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.name})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),y.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.email})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),n?y.jsx("input",{type:"tel",name:"phone",value:s.phone||"",onChange:E=>o(w=>({...w,phone:E.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):y.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.phone||"Not set"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),y.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.role})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Default Pickup Address"}),n?y.jsxs("div",{className:"space-y-4",children:[y.jsx(r4,{label:"Street Address",value:s.address,onChange:f}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),y.jsxs("select",{name:"address.city",value:((x=s.address)==null?void 0:x.city)||"Cairo",onChange:E=>f({...s.address,city:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-100",disabled:!0,children:[y.jsx("option",{value:"Cairo",children:"Cairo"}),y.jsx("option",{value:"Giza",children:"Giza"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),y.jsx("select",{name:"address.zone",value:((N=s.address)==null?void 0:N.zone)||"",onChange:E=>f({...s.address,zone:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:p.map(E=>y.jsx("option",{value:E,children:E},E))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Apartment, Suite, etc."}),y.jsx("input",{type:"text",name:"address.details",value:((S=s.address)==null?void 0:S.details)||"",onChange:E=>f({...s.address,details:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]})]}):e.address?y.jsxs("div",{className:"text-lg text-slate-800 p-4 bg-slate-50 rounded-lg",children:[y.jsx("p",{className:"font-semibold",children:e.address.street}),y.jsx("p",{children:e.address.details}),y.jsxs("p",{children:[e.address.city,", ",e.address.zone]})]}):y.jsx("p",{className:"text-slate-500",children:"Please set your default address."})]})]})]})},x8=()=>{const{users:e}=bi(),t=Ke.useRef(null),[n,r]=Ke.useState(!1),s=e.filter(o=>o.role===Ot.COURIER&&o.location);return Ke.useEffect(()=>{const o=()=>{window.google&&window.google.maps?r(!0):setTimeout(o,100)};o()},[]),Ke.useEffect(()=>{if(!n||!t.current)return;const o=new window.google.maps.Map(t.current,{center:{lat:30.0444,lng:31.2357},zoom:11,mapTypeControl:!1,streetViewControl:!1}),f=new window.google.maps.InfoWindow;s.forEach(d=>{if(!d.location)return;const p=new window.google.maps.Marker({position:d.location,map:o,title:d.name,animation:window.google.maps.Animation.DROP});p.addListener("click",()=>{f.setContent(`
                    <div class="font-sans">
                        <div class="font-bold text-md">${d.name}</div>
                        <div class="text-sm text-slate-600">Zone: ${d.zone}</div>
                    </div>
                `),f.open(o,p)})})},[n,s]),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm h-full w-full flex flex-col overflow-hidden",children:[y.jsxs("div",{className:"p-5 border-b border-slate-200",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Live Courier Tracking"}),y.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Real-time locations of all active couriers."})]}),y.jsx("div",{className:"flex-1 bg-slate-200",children:n?y.jsx("div",{ref:t,className:"w-full h-full"}):y.jsxs("div",{className:"w-full h-full flex items-center justify-center flex-col gap-4",children:[y.jsx("p",{className:"text-slate-600 font-semibold",children:"Loading Map..."}),y.jsx("p",{className:"text-xs text-slate-500 max-w-sm text-center",children:`If the map doesn't load, please ensure the Google Maps API key is set correctly in your environment and has the "Maps JavaScript API" enabled.`})]})})]})},y8=({onSelectShipment:e})=>{const{users:t,shipments:n}=bi(),[r,s]=Ke.useState("asc"),[o,f]=Ke.useState(null),[d,p]=Ke.useState(""),[x,N]=Ke.useState(""),[S,E]=Ke.useState("all"),w=Ke.useMemo(()=>t.filter(X=>X.role===Ot.CLIENT).map(X=>({id:X.id,name:X.name,shipmentCount:n.filter(k=>k.clientId===X.id).length})).sort((X,k)=>r==="asc"?X.shipmentCount-k.shipmentCount:k.shipmentCount-X.shipmentCount),[t,n,r]),j=Ke.useMemo(()=>{if(!o)return[];let M=n.filter(Y=>Y.clientId===o.id);return d&&(M=M.filter(Y=>Y.creationDate.startsWith(d))),x.trim()!==""&&(M=M.filter(Y=>Y.id.toLowerCase().includes(x.trim().toLowerCase()))),S!=="all"&&(M=M.filter(Y=>Y.status===S)),M.sort((Y,X)=>new Date(X.creationDate).getTime()-new Date(Y.creationDate).getTime())},[o,n,d,x,S]),L=()=>{f(null),N(""),E("all"),p("")},P=M=>{e(M),L()},I=M=>{const Y=t.find(X=>X.id===M.id);Y&&f(Y)},_=()=>{s(M=>M==="asc"?"desc":"asc")},D=()=>{const M=["Client Name","Number of Shipments"],Y=w.map(X=>[X.name,X.shipmentCount]);$u(M,Y,"Client_Shipment_Analytics")};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[y.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Client Shipment Analytics"}),y.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"A summary of shipment volumes per client."})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[y.jsx(p1,{className:"w-5 h-5"}),"Export as CSV"]}),y.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition","aria-label":`Sort by ${r==="asc"?"highest first":"lowest first"}`,children:[y.jsx(O3,{className:`w-5 h-5 transition-transform duration-300 ${r==="desc"?"rotate-180":""}`}),y.jsxs("span",{children:["Sort by ",r==="asc"?"Highest":"Lowest"]})]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client Name"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Number of Shipments"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[w.map(M=>y.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>I(M),children:[y.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800 flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-bold text-sm flex-shrink-0",children:M.name.charAt(0)}),M.name]}),y.jsx("td",{className:"px-6 py-4 font-semibold text-slate-800 text-right font-mono text-lg",children:M.shipmentCount})]},M.id)),w.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:2,className:"text-center py-8 text-slate-500",children:"No client data available."})})]})]})})]}),o&&y.jsx(ds,{isOpen:!!o,onClose:L,title:`Client Details: ${o.name}`,size:"4xl",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Contact Information"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(z2,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Name"}),y.jsx("p",{className:"font-semibold text-slate-800",children:o.name})]})]}),y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(j3,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Email"}),y.jsx("p",{className:"font-semibold text-slate-800",children:o.email})]})]}),y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(L3,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Phone"}),y.jsx("p",{className:"font-semibold text-slate-800",children:o.phone||"N/A"})]})]}),y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(Y0,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Address"}),o.address?y.jsx("p",{className:"font-semibold text-slate-800",children:`${o.address.street}, ${o.address.city}`}):y.jsx("p",{className:"font-semibold text-slate-800",children:"N/A"})]})]})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:["Shipment History (",j.length,")"]}),y.jsxs("div",{className:"mb-4 bg-slate-100 p-3 rounded-lg flex flex-col sm:flex-row gap-3 items-center",children:[y.jsx("input",{type:"text",placeholder:"Search by Shipment ID...",value:x,onChange:M=>N(M.target.value),className:"w-full sm:w-auto flex-grow px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 text-sm"}),y.jsxs("select",{value:S,onChange:M=>E(M.target.value),className:"w-full sm:w-auto px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white text-sm",children:[y.jsx("option",{value:"all",children:"All Statuses"}),Object.values(lt).map(M=>y.jsx("option",{value:M,children:M},M))]}),y.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[y.jsx("input",{type:"date",value:d,onChange:M=>p(M.target.value),className:"w-full sm:w-auto px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white text-sm","aria-label":"Filter by date"}),d&&y.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 text-sm font-semibold text-slate-600 rounded-lg hover:bg-slate-200 transition","aria-label":"Clear date filter",children:"Clear"})]})]}),y.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200",children:y.jsx("div",{className:"max-h-96 overflow-y-auto",children:y.jsx(i4,{shipments:j,onSelect:P})})})]})]})})]})},v8=({courierStats:e})=>{const t=e.deliveriesCompleted+e.deliveriesFailed>0?e.deliveriesCompleted/(e.deliveriesCompleted+e.deliveriesFailed)*100:100,n=e.deliveriesCompleted>0?e.totalEarnings/e.deliveriesCompleted:0;return y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-sm text-slate-500",children:"Total Earnings"}),y.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.totalEarnings.toFixed(2)," EGP"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm text-slate-500",children:"Current Balance"}),y.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[e.currentBalance.toFixed(2)," EGP"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm text-slate-500",children:"Pending Earnings"}),y.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.pendingEarnings.toFixed(2)," EGP"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm text-slate-500",children:"Avg. Per Delivery"}),y.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[n.toFixed(2)," EGP"]})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("span",{className:"text-sm text-gray-600",children:"Performance:"}),y.jsxs("div",{className:"flex items-center",title:`Rating: ${e.performanceRating}`,children:[[...Array(5)].map((r,s)=>y.jsx("span",{className:`text-xl ${s<Math.floor(e.performanceRating)?"text-yellow-400":"text-gray-300"}`,children:"⭐"},s)),y.jsxs("span",{className:"ml-1 text-sm font-medium",children:["(",e.performanceRating,"/5.0)"]})]})]}),y.jsxs("div",{className:"text-sm text-gray-600",children:["Success Rate: ",y.jsxs("span",{className:"font-bold",children:[t.toFixed(1),"%"]})]}),e.isRestricted&&y.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"🚫 Restricted"})]})]})},b8=({transactions:e})=>{const t={[Ga.PENDING]:"bg-yellow-100 text-yellow-800",[Ga.PROCESSED]:"bg-green-100 text-green-800",[Ga.FAILED]:"bg-red-100 text-red-800"};return y.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-5 border-b border-slate-200",children:y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Transaction History"})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Description"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Type"}),y.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase text-right",children:"Amount (EGP)"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(n=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 whitespace-nowrap",children:new Date(n.timestamp).toLocaleDateString()}),y.jsx("td",{className:"px-6 py-4 text-sm text-slate-800",children:n.description}),y.jsxs("td",{className:"px-6 py-4 text-sm",children:[y.jsx("span",{className:`px-2 py-1 font-semibold text-xs rounded-full ${n.amount>=0?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:n.type}),n.type===_o.WITHDRAWAL_REQUEST&&y.jsx("span",{className:`ml-2 px-2 py-1 font-semibold text-xs rounded-full ${t[n.status]}`,children:n.status})]}),y.jsx("td",{className:`px-6 py-4 text-right font-bold ${n.amount>=0?"text-green-600":"text-red-600"}`,children:n.amount.toFixed(2)})]},n.id)),e.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No transactions recorded."})})]})]})})]})},w8=()=>{const{currentUser:e,courierStats:t,courierTransactions:n,requestCourierPayout:r}=bi(),[s,o]=Ke.useState(!1);if(!e)return null;const f=t.find(x=>x.courierId===e.id),d=n.filter(x=>x.courierId===e.id).sort((x,N)=>new Date(N.timestamp).getTime()-new Date(x.timestamp).getTime()),p=()=>{!f||f.pendingEarnings<=0||(r(e.id,f.pendingEarnings),o(!1))};return f?y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Earnings"}),y.jsx("p",{className:"text-slate-500 mt-1",children:"Your performance and financial summary."})]}),y.jsxs("button",{onClick:()=>o(!0),disabled:f.pendingEarnings<=0,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-sm hover:bg-green-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed",children:["Request Payout (",f.pendingEarnings.toFixed(2)," EGP)"]})]}),y.jsx(v8,{courierStats:f}),y.jsx(b8,{transactions:d}),y.jsx(ds,{isOpen:s,onClose:()=>o(!1),title:"Confirm Payout Request",children:y.jsxs("div",{children:[y.jsxs("p",{className:"text-lg",children:["You are about to request a payout for all your pending earnings of ",y.jsxs("strong",{className:"text-green-600",children:[f.pendingEarnings.toFixed(2)," EGP"]}),"."]}),y.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Once confirmed, an administrator will process your request. The funds will then be deducted from your pending balance and transferred to you."}),y.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[y.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),y.jsx("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold",children:"Confirm Request"})]})]})})]}):y.jsx("div",{className:"text-center p-8 bg-white rounded-lg",children:"Could not load your financial data."})},A8=()=>{const{users:e,courierStats:t,courierTransactions:n,updateCourierSettings:r,applyManualPenalty:s,processCourierPayout:o}=bi(),[f,d]=Ke.useState(null),[p,x]=Ke.useState(!1),N=e.filter(j=>j.role==="Courier"),S=j=>{const L=t.find(P=>P.courierId===j);L&&(d(L),x(!0))},E=()=>{x(!1),d(null)},w=N.map(j=>{const L=t.find(_=>_.courierId===j.id),P=n.filter(_=>_.courierId===j.id&&_.type===_o.WITHDRAWAL_REQUEST&&_.status===Ga.PENDING),I=L&&L.deliveriesCompleted+L.deliveriesFailed>0?L.deliveriesCompleted/(L.deliveriesCompleted+L.deliveriesFailed)*100:100;return{user:j,stats:L,pendingPayouts:P,successRate:I}});return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Courier Performance"}),y.jsx("p",{className:"text-slate-500 mt-1",children:"Manage courier financials, restrictions, and view performance metrics."})]}),y.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Courier"}),y.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Performance"}),y.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Earnings (Total / Balance)"}),y.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Commission"}),y.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Status"}),y.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-200",children:w.map(({user:j,stats:L,pendingPayouts:P,successRate:I})=>y.jsxs("tr",{children:[y.jsx("td",{className:"p-4 font-semibold",children:j.name}),y.jsx("td",{className:"p-4",children:y.jsxs("div",{className:"flex items-center gap-1",title:`Rating: ${L==null?void 0:L.performanceRating}`,children:[y.jsx("span",{className:`text-lg ${Math.floor((L==null?void 0:L.performanceRating)||0)>0?"text-yellow-400":"text-gray-300"}`,children:"⭐"}),y.jsx("span",{children:L==null?void 0:L.performanceRating.toFixed(1)}),y.jsxs("span",{className:"text-slate-500 text-xs",children:["(",I.toFixed(0),"% succ.)"]})]})}),y.jsxs("td",{className:"p-4 font-mono",children:[L==null?void 0:L.totalEarnings.toFixed(2)," / ",L==null?void 0:L.currentBalance.toFixed(2)]}),y.jsx("td",{className:"p-4 text-sm",children:(L==null?void 0:L.commissionType)==="flat"?`${L.commissionValue} EGP`:`${L==null?void 0:L.commissionValue}%`}),y.jsxs("td",{className:"p-4",children:[L!=null&&L.isRestricted?y.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Restricted"}):y.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}),P.length>0&&y.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Payout Pending"})]}),y.jsx("td",{className:"p-4",children:y.jsx("button",{onClick:()=>S(j.id),className:"px-3 py-1.5 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 text-sm",children:"Manage"})})]},j.id))})]})})}),f&&p&&y.jsx(S8,{isOpen:p,onClose:E,courierStats:f,courierUser:e.find(j=>j.id===f.courierId),payoutRequests:n.filter(j=>j.courierId===f.courierId&&j.type===_o.WITHDRAWAL_REQUEST&&j.status===Ga.PENDING),onUpdateSettings:r,onApplyPenalty:s,onProcessPayout:o})]})},S8=({isOpen:e,onClose:t,courierStats:n,courierUser:r,payoutRequests:s,onUpdateSettings:o,onApplyPenalty:f,onProcessPayout:d})=>{const[p,x]=Ke.useState({commissionType:n.commissionType,commissionValue:n.commissionValue,penaltyAmount:n.penaltyAmount}),[N,S]=Ke.useState(0),[E,w]=Ke.useState("");Ke.useEffect(()=>{x({commissionType:n.commissionType,commissionValue:n.commissionValue,penaltyAmount:n.penaltyAmount})},[n]);const j=()=>{o(r.id,p),t()},L=()=>{N>0&&E&&(f(r.id,N,E),S(0),w(""),t())};return y.jsx(ds,{isOpen:e,onClose:t,title:`Manage ${r.name}`,size:"4xl",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-6 p-6 bg-slate-50 rounded-lg",children:[y.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Financial Settings"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Commission Type"}),y.jsxs("select",{value:p.commissionType,onChange:P=>x(I=>({...I,commissionType:P.target.value})),className:"w-full mt-1 p-2 border border-slate-300 rounded-md",children:[y.jsx("option",{value:ks.FLAT,children:"Flat Rate (EGP)"}),y.jsx("option",{value:ks.PERCENTAGE,children:"Percentage (%)"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Commission Value"}),y.jsx("input",{type:"number",value:p.commissionValue,onChange:P=>x(I=>({...I,commissionValue:Number(P.target.value)})),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Standard Penalty Amount (EGP)"}),y.jsx("input",{type:"number",value:p.penaltyAmount,onChange:P=>x(I=>({...I,penaltyAmount:Number(P.target.value)})),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),y.jsx("button",{onClick:j,className:"w-full bg-primary-600 text-white font-semibold py-2 rounded-lg",children:"Save Settings"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"space-y-4 p-6 bg-red-50 rounded-lg",children:[y.jsx("h3",{className:"font-bold text-lg text-red-800",children:"Apply Manual Penalty"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Penalty Amount (EGP)"}),y.jsx("input",{type:"number",value:N,onChange:P=>S(Number(P.target.value)),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),y.jsx("input",{type:"text",placeholder:"e.g., Damaged item, Stolen item",value:E,onChange:P=>w(P.target.value),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),y.jsx("button",{onClick:L,disabled:N<=0||!E,className:"w-full bg-red-600 text-white font-semibold py-2 rounded-lg disabled:bg-red-300",children:"Apply Penalty"})]}),y.jsxs("div",{className:"space-y-4 p-6 bg-green-50 rounded-lg",children:[y.jsx("h3",{className:"font-bold text-lg text-green-800",children:"Process Payouts"}),s.length>0?s.map(P=>y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("p",{children:["Request for ",-P.amount," EGP"]}),y.jsx("button",{onClick:()=>{d(P.id),t()},className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm",children:"Process"})]},P.id)):y.jsx("p",{className:"text-slate-600 text-sm text-center",children:"No pending payout requests."})]})]})]})})},N8=({shipment:e})=>{const t=()=>y.jsxs("svg",{x:"0px",y:"0px",viewBox:"0 0 200 60",className:"w-full h-12",children:[y.jsx("rect",{x:"0",y:"0",width:"4",height:"50",fill:"#000000"}),y.jsx("rect",{x:"7",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"15",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"18",y:"0",width:"5",height:"50",fill:"#000000"}),y.jsx("rect",{x:"26",y:"0",width:"1",height:"50",fill:"#000000"}),y.jsx("rect",{x:"30",y:"0",width:"3",height:"50",fill:"#000000"}),y.jsx("rect",{x:"36",y:"0",width:"3",height:"50",fill:"#000000"}),y.jsx("rect",{x:"42",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"47",y:"0",width:"1",height:"50",fill:"#000000"}),y.jsx("rect",{x:"51",y:"0",width:"5",height:"50",fill:"#000000"}),y.jsx("rect",{x:"59",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"64",y:"0",width:"4",height:"50",fill:"#000000"}),y.jsx("rect",{x:"71",y:"0",width:"1",height:"50",fill:"#000000"}),y.jsx("rect",{x:"75",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"80",y:"0",width:"4",height:"50",fill:"#000000"}),y.jsx("rect",{x:"87",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"92",y:"0",width:"3",height:"50",fill:"#000000"}),y.jsx("rect",{x:"98",y:"0",width:"3",height:"50",fill:"#000000"}),y.jsx("rect",{x:"104",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"109",y:"0",width:"1",height:"50",fill:"#000000"}),y.jsx("rect",{x:"113",y:"0",width:"5",height:"50",fill:"#000000"}),y.jsx("rect",{x:"121",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"126",y:"0",width:"4",height:"50",fill:"#000000"}),y.jsx("rect",{x:"133",y:"0",width:"1",height:"50",fill:"#000000"}),y.jsx("rect",{x:"137",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"142",y:"0",width:"4",height:"50",fill:"#000000"}),y.jsx("rect",{x:"149",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"154",y:"0",width:"3",height:"50",fill:"#000000"}),y.jsx("rect",{x:"160",y:"0",width:"3",height:"50",fill:"#000000"}),y.jsx("rect",{x:"166",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"171",y:"0",width:"1",height:"50",fill:"#000000"}),y.jsx("rect",{x:"175",y:"0",width:"5",height:"50",fill:"#000000"}),y.jsx("rect",{x:"183",y:"0",width:"2",height:"50",fill:"#000000"}),y.jsx("rect",{x:"188",y:"0",width:"4",height:"50",fill:"#000000"}),y.jsx("rect",{x:"195",y:"0",width:"1",height:"50",fill:"#000000"})]});return y.jsx("div",{className:"bg-white p-8 border-4 border-dashed border-slate-300 w-full printable-label-container",children:y.jsxs("div",{className:"printable-label",style:{fontFamily:"sans-serif",color:"black"},children:[y.jsxs("header",{className:"flex justify-between items-center pb-4 border-b-2 border-black",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Xu,{className:"w-12 h-12"}),y.jsx("div",{children:y.jsx("h1",{className:"text-2xl font-extrabold text-black",children:"Flash Express"})})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-sm",children:["Date: ",new Date(e.creationDate).toLocaleDateString()]}),y.jsx("p",{className:"text-sm",children:"Shipment ID:"}),y.jsx("p",{className:"font-bold font-mono text-lg",children:e.id})]})]}),y.jsxs("main",{className:"grid grid-cols-2 gap-8 my-8",children:[y.jsxs("div",{className:"pr-8 border-r-2 border-dashed border-slate-400",children:[y.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"FROM"}),y.jsx("p",{className:"font-bold text-lg",children:e.clientName}),y.jsxs("p",{children:[e.fromAddress.street,", ",e.fromAddress.details]}),y.jsxs("p",{children:[e.fromAddress.city,", ",e.fromAddress.zone]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"TO"}),y.jsx("p",{className:"font-bold text-xl",children:e.recipientName}),y.jsxs("p",{className:"text-lg",children:[e.toAddress.street,", ",e.toAddress.details]}),y.jsxs("p",{className:"text-lg",children:[e.toAddress.city,", ",e.toAddress.zone]}),y.jsxs("p",{className:"font-bold text-lg mt-2",children:["Phone: ",e.recipientPhone]})]})]}),y.jsx("footer",{className:"border-t-2 border-black pt-4",children:y.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase font-bold text-slate-600",children:"Payment Details"}),y.jsx("p",{className:"text-2xl font-bold",children:e.paymentMethod}),e.paymentMethod===sa.COD&&y.jsxs("p",{className:"text-3xl font-extrabold text-green-600",children:[e.price.toFixed(2)," EGP"]}),y.jsx("p",{className:"text-xs uppercase font-bold text-slate-600 mt-4",children:"Package"}),y.jsxs("p",{children:[e.packageDescription,e.isLargeOrder&&" (Large Order)"]})]}),y.jsxs("div",{className:"text-center",children:[y.jsx(t,{}),y.jsx("p",{className:"font-mono tracking-widest text-sm",children:e.id})]})]})})]})})},C8=()=>{var X;const{currentUser:e,logout:t,users:n,updateShipmentStatus:r,reassignCourier:s}=bi(),[o,f]=Ke.useState("dashboard"),[d,p]=Ke.useState(null),[x,N]=Ke.useState(null),[S,E]=Ke.useState(null),[w,j]=Ke.useState(!1),[L,P]=Ke.useState(null),I=()=>{p(null),j(!1),P(null)},_=()=>{d&&L&&(s(d.id,L),I())};if(Ke.useEffect(()=>(x?document.body.classList.add("printing-label"):document.body.classList.remove("printing-label"),()=>document.body.classList.remove("printing-label")),[x]),!e)return null;const D=()=>{window.print()},M=()=>{S&&r(S.id,lt.RETURN_REQUESTED),E(null)},Y=()=>{switch(o){case"dashboard":return y.jsx(Xp,{setActiveView:f});case"shipments":return y.jsx(w6,{onSelectShipment:p});case"create":return y.jsx(A6,{});case"assign":return y.jsx(S6,{});case"tasks":return y.jsx(u8,{});case"users":return y.jsx(f8,{});case"returns":return y.jsx(h8,{});case"wallet":return y.jsx(d8,{});case"financials":return y.jsx(g8,{});case"client-analytics":return y.jsx(y8,{onSelectShipment:p});case"notifications":return y.jsx(p8,{});case"profile":return y.jsx(m8,{});case"map":return y.jsx(x8,{});case"courier-financials":return y.jsx(w8,{});case"courier-performance":return y.jsx(A8,{});default:return y.jsx(Xp,{setActiveView:f})}};return y.jsxs("div",{className:"flex h-screen bg-slate-100",children:[y.jsx(pw,{role:e.role,activeView:o,setActiveView:f}),y.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[y.jsx(mw,{onLogout:t,user:e,onNavigate:f}),y.jsx("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:Y()})]}),y.jsx(ds,{isOpen:!!d,onClose:I,title:`Shipment Details: ${d==null?void 0:d.id}`,children:d&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-start gap-4",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"mb-1",children:[y.jsx("strong",{children:"Status:"})," ",y.jsx(b1,{status:d.status})]}),y.jsxs("p",{className:"text-sm text-slate-600",children:[y.jsx("strong",{children:"From:"})," ",d.fromAddress.street,", ",d.fromAddress.city]}),y.jsxs("p",{className:"text-sm text-slate-600",children:[y.jsx("strong",{children:"To:"})," ",d.toAddress.street,", ",d.toAddress.city]}),y.jsxs("p",{className:"text-sm text-slate-600",children:[y.jsx("strong",{children:"Courier:"})," ",((X=n.find(k=>k.id===d.courierId))==null?void 0:X.name)||"Not Assigned"]})]}),y.jsxs("div",{className:"flex flex-col gap-2 items-end flex-shrink-0",children:[(e.role===Ot.ADMIN||e.role===Ot.CLIENT)&&y.jsxs("button",{onClick:()=>N(d),className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition w-full justify-center text-sm",children:[y.jsx(Yp,{className:"w-5 h-5"}),"Print Label"]}),e.role===Ot.CLIENT&&d.status===lt.DELIVERED&&y.jsxs("button",{onClick:()=>E(d),className:"flex items-center gap-2 px-3 py-2 bg-orange-100 text-orange-800 font-semibold rounded-lg hover:bg-orange-200 transition w-full justify-center text-sm",children:[y.jsx(m1,{className:"w-5 h-5"}),"Request Return"]})]})]}),d.signature&&y.jsxs("div",{children:[y.jsx("strong",{children:"Signature:"}),y.jsx("img",{src:d.signature,alt:"Recipient Signature",className:"border rounded-lg mt-2"})]}),e.role===Ot.ADMIN&&d.courierId&&![lt.DELIVERED,lt.RETURNED,lt.DELIVERY_FAILED].includes(d.status)&&y.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:w?y.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg",children:[y.jsx("h4",{className:"font-semibold text-slate-700",children:"Select new courier:"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{onChange:k=>P(parseInt(k.target.value)),defaultValue:"",className:"flex-grow px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[y.jsx("option",{value:"",disabled:!0,children:"Available Couriers..."}),n.filter(k=>k.role===Ot.COURIER).map(k=>y.jsxs("option",{value:k.id,children:[k.name," (",k.zone,")"]},k.id))]}),y.jsx("button",{onClick:_,disabled:!L,className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition disabled:bg-slate-400",children:"Save"}),y.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Cancel"})]})]}):y.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-3 py-2 bg-yellow-100 text-yellow-800 font-semibold rounded-lg hover:bg-yellow-200 transition text-sm",children:[y.jsx(cw,{className:"w-5 h-5"}),"Re-assign Courier"]})})]})}),y.jsx(ds,{isOpen:!!x,onClose:()=>N(null),title:"Print Shipment Label",size:"4xl",children:x&&y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx(N8,{shipment:x}),y.jsxs("div",{className:"flex justify-end gap-4 p-4 -mb-6 -mx-6 bg-slate-50 rounded-b-xl",children:[y.jsx("button",{onClick:()=>N(null),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Close"}),y.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[y.jsx(Yp,{className:"w-5 h-5"}),"Print"]})]})]})}),y.jsx(ds,{isOpen:!!S,onClose:()=>E(null),title:"Confirm Return Request",size:"md",children:S&&y.jsxs("div",{children:[y.jsxs("p",{children:["Are you sure you want to request a return for shipment ",y.jsx("strong",{children:S.id}),"? A courier will be assigned to pick up the item from ",y.jsx("strong",{children:S.recipientName}),"."]}),y.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[y.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),y.jsx("button",{onClick:M,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold",children:"Confirm Request"})]})]})})]})},E8=[lt.PENDING_ASSIGNMENT,lt.ASSIGNED_TO_COURIER,lt.PICKED_UP,lt.IN_TRANSIT,lt.OUT_FOR_DELIVERY,lt.DELIVERED],T8=[{status:lt.PENDING_ASSIGNMENT,icon:y.jsx(W0,{}),title:"Shipment Created",description:"The shipment request has been received."},{status:lt.ASSIGNED_TO_COURIER,icon:y.jsx(z2,{}),title:"Courier Assigned",description:"A courier is on their way to pick up the package."},{status:lt.PICKED_UP,icon:y.jsx(jc,{}),title:"Picked Up",description:"The courier has collected the package."},{status:lt.IN_TRANSIT,icon:y.jsx(jc,{}),title:"In Transit",description:"The package is on its way to the destination city."},{status:lt.OUT_FOR_DELIVERY,icon:y.jsx(Y0,{}),title:"Out for Delivery",description:"The package is on its final leg of the journey."},{status:lt.DELIVERED,icon:y.jsx(F2,{}),title:"Delivered",description:"The package has been successfully delivered."}],_8=({shipment:e})=>{const t=E8.indexOf(e.status),n=e.status===lt.DELIVERY_FAILED;return y.jsxs("div",{className:"relative pl-8",children:[y.jsx("div",{className:"absolute left-4 top-4 bottom-4 w-0.5 bg-slate-200"}),y.jsxs("div",{className:"space-y-8",children:[T8.map((r,s)=>{const o=t>=s,f=t===s;return y.jsxs("div",{className:"relative flex items-start gap-4",children:[y.jsx("div",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 flex items-center justify-center w-8 h-8 rounded-full z-10 ${o?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"}`,children:kc.cloneElement(r.icon,{className:"w-5 h-5"})}),y.jsxs("div",{className:"pt-1",children:[y.jsx("p",{className:`font-bold ${o?"text-slate-800":"text-slate-500"}`,children:r.title}),y.jsx("p",{className:"text-sm text-slate-600",children:r.description}),f&&e.deliveryDate&&r.status===lt.DELIVERED&&y.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:new Date(e.deliveryDate).toLocaleString()})]})]},r.status)}),n&&y.jsxs("div",{className:"relative flex items-start gap-4",children:[y.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 flex items-center justify-center w-8 h-8 rounded-full z-10 bg-red-600 text-white",children:y.jsx(U2,{className:"w-5 h-5"})}),y.jsxs("div",{className:"pt-1",children:[y.jsx("p",{className:"font-bold text-red-800",children:"Delivery Attempt Failed"}),y.jsx("p",{className:"text-sm text-slate-600",children:"The courier was unable to deliver the package. They will try again."})]})]})]})]})},I8=({onBackToApp:e})=>{const{trackShipment:t,addToast:n}=bi(),[r,s]=Ke.useState(""),[o,f]=Ke.useState(""),[d,p]=Ke.useState(null),[x,N]=Ke.useState(!1),S=E=>{if(E.preventDefault(),!r.trim()||!o.trim()){n("Please enter both a tracking ID and phone number.","error");return}N(!0),p(null),setTimeout(()=>{const w=t(r,o);w?(p(w),n("Shipment found!","success")):n("No shipment found with those details.","error"),N(!1)},500)};return y.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[y.jsx("header",{className:"p-4 border-b border-slate-200 bg-white",children:y.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Xu,{className:"w-9 h-9"}),y.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Flash Express Tracking"})]}),y.jsx("button",{onClick:e,className:"text-sm font-semibold text-primary-600 hover:text-primary-800",children:"Back to Portal"})]})}),y.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:y.jsx("div",{className:"w-full max-w-6xl mx-auto",children:d?y.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg animate-fade-in-up",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6 pb-6 border-b border-slate-200",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Shipment Details"}),y.jsx("p",{className:"font-mono text-slate-600",children:d.id})]}),y.jsx(b1,{status:d.status})]}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"From"}),y.jsx("p",{className:"text-lg font-medium text-slate-800",children:d.clientName}),y.jsxs("p",{className:"text-slate-600",children:[d.fromAddress.street,", ",d.fromAddress.city]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"To"}),y.jsx("p",{className:"text-lg font-medium text-slate-800",children:d.recipientName}),y.jsxs("p",{className:"text-slate-600",children:[d.toAddress.street,", ",d.toAddress.city]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"Last Updated"}),y.jsx("p",{className:"text-lg font-medium text-slate-800",children:new Date(d.creationDate).toLocaleString()})]})]}),y.jsxs("div",{className:"lg:col-span-2",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Tracking History"}),y.jsx(_8,{shipment:d})]})]})]}):y.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white p-8 rounded-xl shadow-lg",children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center",children:"Track Your Shipment"}),y.jsx("p",{className:"text-slate-600 text-center mt-2 mb-8",children:"Enter the shipment ID and your phone number to see its status."}),y.jsxs("form",{onSubmit:S,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"trackingId",className:"block text-sm font-medium text-slate-700",children:"Shipment ID"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:y.jsx("svg",{className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-4V3a1 1 0 00-1-1H9zm-1 4a1 1 0 100 2 1 1 0 000-2zM8 9a1 1 0 112 0 1 1 0 01-2 0z",clipRule:"evenodd"})})}),y.jsx("input",{id:"trackingId",type:"text",value:r,onChange:E=>s(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., FLS123456",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-slate-700",children:"Phone Number (Sender or Recipient)"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:y.jsx(L3,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"phoneNumber",type:"tel",value:o,onChange:E=>f(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 01012345678",required:!0})]})]}),y.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-300 disabled:bg-slate-400",children:x?"Searching...":"Track Now"})]})]})})})]})},D8=()=>{var s,o;const{currentUser:e,addToast:t}=bi(),[n,r]=Ke.useState(!1);return rw((o=(s=globalThis.process)==null?void 0:s.env)==null?void 0:o.API_KEY,t),n?y.jsx(I8,{onBackToApp:()=>r(!1)}):y.jsxs(y.Fragment,{children:[(e==null?void 0:e.role)===Ot.COURIER&&y.jsx(aw,{}),y.jsx("div",{className:"transition-opacity duration-500 opacity-100",children:e?y.jsx(C8,{}):y.jsx(gw,{onTrackPackageClick:()=>r(!0)})}),y.jsx(dw,{})]})},L8=()=>y.jsx(nw,{children:y.jsx(D8,{})}),h4=document.getElementById("root");if(!h4)throw new Error("Could not find root element to mount to");const M8=Xb.createRoot(h4);M8.render(y.jsx(kc.StrictMode,{children:y.jsx(L8,{})}));export{In as _,yo as c,kd as g};
