function Ky(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var km={exports:{}},t1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=Symbol.for("react.transitional.element"),e4=Symbol.for("react.fragment");function Pm(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:$y,type:e,key:r,ref:t!==void 0?t:null,props:n}}t1.Fragment=e4;t1.jsx=Pm;t1.jsxs=Pm;km.exports=t1;var x=km.exports,Fm={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.transitional.element"),t4=Symbol.for("react.portal"),n4=Symbol.for("react.fragment"),i4=Symbol.for("react.strict_mode"),r4=Symbol.for("react.profiler"),a4=Symbol.for("react.consumer"),s4=Symbol.for("react.context"),o4=Symbol.for("react.forward_ref"),l4=Symbol.for("react.suspense"),c4=Symbol.for("react.memo"),Um=Symbol.for("react.lazy"),Cg=Symbol.iterator;function u4(e){return e===null||typeof e!="object"?null:(e=Cg&&e[Cg]||e["@@iterator"],typeof e=="function"?e:null)}var zm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hm=Object.assign,qm={};function Uc(e,t,n){this.props=e,this.context=t,this.refs=qm,this.updater=n||zm}Uc.prototype.isReactComponent={};Uc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gm(){}Gm.prototype=Uc.prototype;function Vd(e,t,n){this.props=e,this.context=t,this.refs=qm,this.updater=n||zm}var Yd=Vd.prototype=new Gm;Yd.constructor=Vd;Hm(Yd,Uc.prototype);Yd.isPureReactComponent=!0;var Eg=Array.isArray,ai={H:null,A:null,T:null,S:null,V:null},Vm=Object.prototype.hasOwnProperty;function Xd(e,t,n,r,s,o){return n=o.ref,{$$typeof:Gd,type:e,key:t,ref:n!==void 0?n:null,props:o}}function f4(e,t){return Xd(e.type,t,void 0,void 0,void 0,e.props)}function Wd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gd}function h4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tg=/\/+/g;function H1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h4(""+e.key):t.toString(36)}function _g(){}function d4(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(_g,_g):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ec(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(o){case"bigint":case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Gd:case t4:f=!0;break;case Um:return f=e._init,ec(f(e._payload),t,n,r,s)}}if(f)return s=s(e),f=r===""?"."+H1(e,0):r,Eg(s)?(n="",f!=null&&(n=f.replace(Tg,"$&/")+"/"),ec(s,t,n,"",function(y){return y})):s!=null&&(Wd(s)&&(s=f4(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Tg,"$&/")+"/")+f)),t.push(s)),1;f=0;var d=r===""?".":r+":";if(Eg(e))for(var p=0;p<e.length;p++)r=e[p],o=d+H1(r,p),f+=ec(r,t,n,o,s);else if(p=u4(e),typeof p=="function")for(e=p.call(e),p=0;!(r=e.next()).done;)r=r.value,o=d+H1(r,p++),f+=ec(r,t,n,o,s);else if(o==="object"){if(typeof e.then=="function")return ec(d4(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return f}function Hf(e,t,n){if(e==null)return e;var r=[],s=0;return ec(e,r,"","",function(o){return t.call(n,o,s++)}),r}function g4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ig=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function p4(){}Kt.Children={map:Hf,forEach:function(e,t,n){Hf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hf(e,function(){t++}),t},toArray:function(e){return Hf(e,function(t){return t})||[]},only:function(e){if(!Wd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kt.Component=Uc;Kt.Fragment=n4;Kt.Profiler=r4;Kt.PureComponent=Vd;Kt.StrictMode=i4;Kt.Suspense=l4;Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ai;Kt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ai.H.useMemoCache(e)}};Kt.cache=function(e){return function(){return e.apply(null,arguments)}};Kt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Hm({},e.props),s=e.key,o=void 0;if(t!=null)for(f in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(s=""+t.key),t)!Vm.call(t,f)||f==="key"||f==="__self"||f==="__source"||f==="ref"&&t.ref===void 0||(r[f]=t[f]);var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){for(var d=Array(f),p=0;p<f;p++)d[p]=arguments[p+2];r.children=d}return Xd(e.type,s,void 0,void 0,o,r)};Kt.createContext=function(e){return e={$$typeof:s4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:a4,_context:e},e};Kt.createElement=function(e,t,n){var r,s={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)Vm.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=t[r]);var f=arguments.length-2;if(f===1)s.children=n;else if(1<f){for(var d=Array(f),p=0;p<f;p++)d[p]=arguments[p+2];s.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)s[r]===void 0&&(s[r]=f[r]);return Xd(e,o,void 0,void 0,null,s)};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(e){return{$$typeof:o4,render:e}};Kt.isValidElement=Wd;Kt.lazy=function(e){return{$$typeof:Um,_payload:{_status:-1,_result:e},_init:g4}};Kt.memo=function(e,t){return{$$typeof:c4,type:e,compare:t===void 0?null:t}};Kt.startTransition=function(e){var t=ai.T,n={};ai.T=n;try{var r=e(),s=ai.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(p4,Ig)}catch(o){Ig(o)}finally{ai.T=t}};Kt.unstable_useCacheRefresh=function(){return ai.H.useCacheRefresh()};Kt.use=function(e){return ai.H.use(e)};Kt.useActionState=function(e,t,n){return ai.H.useActionState(e,t,n)};Kt.useCallback=function(e,t){return ai.H.useCallback(e,t)};Kt.useContext=function(e){return ai.H.useContext(e)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(e,t){return ai.H.useDeferredValue(e,t)};Kt.useEffect=function(e,t,n){var r=ai.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};Kt.useId=function(){return ai.H.useId()};Kt.useImperativeHandle=function(e,t,n){return ai.H.useImperativeHandle(e,t,n)};Kt.useInsertionEffect=function(e,t){return ai.H.useInsertionEffect(e,t)};Kt.useLayoutEffect=function(e,t){return ai.H.useLayoutEffect(e,t)};Kt.useMemo=function(e,t){return ai.H.useMemo(e,t)};Kt.useOptimistic=function(e,t){return ai.H.useOptimistic(e,t)};Kt.useReducer=function(e,t,n){return ai.H.useReducer(e,t,n)};Kt.useRef=function(e){return ai.H.useRef(e)};Kt.useState=function(e){return ai.H.useState(e)};Kt.useSyncExternalStore=function(e,t,n){return ai.H.useSyncExternalStore(e,t,n)};Kt.useTransition=function(){return ai.H.useTransition()};Kt.version="19.1.1";Fm.exports=Kt;var Ge=Fm.exports;const zc=qd(Ge);var Ym={exports:{}},n1={},Xm={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,$){var ce=J.length;J.push($);e:for(;0<ce;){var ge=ce-1>>>1,ve=J[ge];if(0<s(ve,$))J[ge]=$,J[ce]=ve,ce=ge;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var $=J[0],ce=J.pop();if(ce!==$){J[0]=ce;e:for(var ge=0,ve=J.length,ke=ve>>>1;ge<ke;){var U=2*(ge+1)-1,te=J[U],se=U+1,me=J[se];if(0>s(te,ce))se<ve&&0>s(me,te)?(J[ge]=me,J[se]=ce,ge=se):(J[ge]=te,J[U]=ce,ge=U);else if(se<ve&&0>s(me,ce))J[ge]=me,J[se]=ce,ge=se;else break e}}return $}function s(J,$){var ce=J.sortIndex-$.sortIndex;return ce!==0?ce:J.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var f=Date,d=f.now();e.unstable_now=function(){return f.now()-d}}var p=[],y=[],N=1,S=null,E=3,w=!1,B=!1,M=!1,P=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(J){for(var $=n(y);$!==null;){if($.callback===null)r(y);else if($.startTime<=J)r(y),$.sortIndex=$.expirationTime,t(p,$);else break;$=n(y)}}function F(J){if(M=!1,L(J),!B)if(n(p)!==null)B=!0,X||(X=!0,j());else{var $=n(y);$!==null&&ae(F,$.startTime-J)}}var X=!1,k=-1,H=5,W=-1;function de(){return P?!0:!(e.unstable_now()-W<H)}function z(){if(P=!1,X){var J=e.unstable_now();W=J;var $=!0;try{e:{B=!1,M&&(M=!1,I(k),k=-1),w=!0;var ce=E;try{t:{for(L(J),S=n(p);S!==null&&!(S.expirationTime>J&&de());){var ge=S.callback;if(typeof ge=="function"){S.callback=null,E=S.priorityLevel;var ve=ge(S.expirationTime<=J);if(J=e.unstable_now(),typeof ve=="function"){S.callback=ve,L(J),$=!0;break t}S===n(p)&&r(p),L(J)}else r(p);S=n(p)}if(S!==null)$=!0;else{var ke=n(y);ke!==null&&ae(F,ke.startTime-J),$=!1}}break e}finally{S=null,E=ce,w=!1}$=void 0}}finally{$?j():X=!1}}}var j;if(typeof D=="function")j=function(){D(z)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,re=ie.port2;ie.port1.onmessage=z,j=function(){re.postMessage(null)}}else j=function(){T(z,0)};function ae(J,$){k=T(function(){J(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(J){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var ce=E;E=$;try{return J()}finally{E=ce}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(J,$){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=E;E=J;try{return $()}finally{E=ce}},e.unstable_scheduleCallback=function(J,$,ce){var ge=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ge+ce:ge):ce=ge,J){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ce+ve,J={id:N++,callback:$,priorityLevel:J,startTime:ce,expirationTime:ve,sortIndex:-1},ce>ge?(J.sortIndex=ce,t(y,J),n(p)===null&&J===n(y)&&(M?(I(k),k=-1):M=!0,ae(F,ce-ge))):(J.sortIndex=ve,t(p,J),B||w||(B=!0,X||(X=!0,j()))),J},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(J){var $=E;return function(){var ce=E;E=$;try{return J.apply(this,arguments)}finally{E=ce}}}})(Wm);Xm.exports=Wm;var m4=Xm.exports,Zm={exports:{}},Rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=Ge;function Qm(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function co(){}var Or={d:{f:co,r:function(){throw Error(Qm(522))},D:co,C:co,L:co,m:co,X:co,S:co,M:co},p:0,findDOMNode:null},y4=Symbol.for("react.portal");function v4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y4,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var vu=x4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function i1(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Or;Rr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Qm(299));return v4(e,t,null,n)};Rr.flushSync=function(e){var t=vu.T,n=Or.p;try{if(vu.T=null,Or.p=2,e)return e()}finally{vu.T=t,Or.p=n,Or.d.f()}};Rr.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Or.d.C(e,t))};Rr.prefetchDNS=function(e){typeof e=="string"&&Or.d.D(e)};Rr.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=i1(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Or.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):n==="script"&&Or.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Rr.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=i1(t.as,t.crossOrigin);Or.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Or.d.M(e)};Rr.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=i1(n,t.crossOrigin);Or.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Rr.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=i1(t.as,t.crossOrigin);Or.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Or.d.m(e)};Rr.requestFormReset=function(e){Or.d.r(e)};Rr.unstable_batchedUpdates=function(e,t){return e(t)};Rr.useFormState=function(e,t,n){return vu.H.useFormState(e,t,n)};Rr.useFormStatus=function(){return vu.H.useHostTransitionStatus()};Rr.version="19.1.1";function Km(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Km)}catch(e){console.error(e)}}Km(),Zm.exports=Rr;var b4=Zm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=m4,Jm=Ge,w4=b4;function $e(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function e5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dg(e){if(sf(e)!==e)throw Error($e(188))}function A4(e){var t=e.alternate;if(!t){if(t=sf(e),t===null)throw Error($e(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Dg(s),e;if(o===r)return Dg(s),t;o=o.sibling}throw Error($e(188))}if(n.return!==r.return)n=s,r=o;else{for(var f=!1,d=s.child;d;){if(d===n){f=!0,n=s,r=o;break}if(d===r){f=!0,r=s,n=o;break}d=d.sibling}if(!f){for(d=o.child;d;){if(d===n){f=!0,n=o,r=s;break}if(d===r){f=!0,r=o,n=s;break}d=d.sibling}if(!f)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?e:t}function t5(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=t5(e),t!==null)return t;e=e.sibling}return null}var Jn=Object.assign,S4=Symbol.for("react.element"),qf=Symbol.for("react.transitional.element"),pu=Symbol.for("react.portal"),sc=Symbol.for("react.fragment"),n5=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),N4=Symbol.for("react.provider"),i5=Symbol.for("react.consumer"),Os=Symbol.for("react.context"),Zd=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),jh=Symbol.for("react.activity"),C4=Symbol.for("react.memo_cache_sentinel"),Lg=Symbol.iterator;function ru(e){return e===null||typeof e!="object"?null:(e=Lg&&e[Lg]||e["@@iterator"],typeof e=="function"?e:null)}var E4=Symbol.for("react.client.reference");function Bh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===E4?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sc:return"Fragment";case Mh:return"Profiler";case n5:return"StrictMode";case Oh:return"Suspense";case Rh:return"SuspenseList";case jh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case pu:return"Portal";case Os:return(e.displayName||"Context")+".Provider";case i5:return(e._context.displayName||"Context")+".Consumer";case Zd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qd:return t=e.displayName||null,t!==null?t:Bh(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return Bh(e(t))}catch{}}return null}var mu=Array.isArray,kt=Jm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wn=w4.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vl={pending:!1,data:null,method:null,action:null},kh=[],oc=-1;function ps(e){return{current:e}}function nr(e){0>oc||(e.current=kh[oc],kh[oc]=null,oc--)}function si(e,t){oc++,kh[oc]=e.current,e.current=t}var fs=ps(null),zu=ps(null),Do=ps(null),w0=ps(null);function A0(e,t){switch(si(Do,t),si(zu,e),si(fs,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bp(t),e=b3(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nr(fs),si(fs,e)}function Tc(){nr(fs),nr(zu),nr(Do)}function Ph(e){e.memoizedState!==null&&si(w0,e);var t=fs.current,n=b3(t,e.type);t!==n&&(si(zu,e),si(fs,n))}function S0(e){zu.current===e&&(nr(fs),nr(zu)),w0.current===e&&(nr(w0),Ku._currentValue=vl)}var Fh=Object.prototype.hasOwnProperty,Kd=Vi.unstable_scheduleCallback,q1=Vi.unstable_cancelCallback,T4=Vi.unstable_shouldYield,_4=Vi.unstable_requestPaint,hs=Vi.unstable_now,I4=Vi.unstable_getCurrentPriorityLevel,r5=Vi.unstable_ImmediatePriority,a5=Vi.unstable_UserBlockingPriority,N0=Vi.unstable_NormalPriority,D4=Vi.unstable_LowPriority,s5=Vi.unstable_IdlePriority,L4=Vi.log,M4=Vi.unstable_setDisableYieldValue,of=null,fa=null;function No(e){if(typeof L4=="function"&&M4(e),fa&&typeof fa.setStrictMode=="function")try{fa.setStrictMode(of,e)}catch{}}var ha=Math.clz32?Math.clz32:j4,O4=Math.log,R4=Math.LN2;function j4(e){return e>>>=0,e===0?32:31-(O4(e)/R4|0)|0}var Gf=256,Vf=4194304;function dl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function r1(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var d=r&134217727;return d!==0?(r=d&~o,r!==0?s=dl(r):(f&=d,f!==0?s=dl(f):n||(n=d&~e,n!==0&&(s=dl(n))))):(d=r&~o,d!==0?s=dl(d):f!==0?s=dl(f):n||(n=r&~e,n!==0&&(s=dl(n)))),s===0?0:t!==0&&t!==s&&!(t&o)&&(o=s&-s,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:s}function lf(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function B4(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o5(){var e=Gf;return Gf<<=1,!(Gf&4194048)&&(Gf=256),e}function l5(){var e=Vf;return Vf<<=1,!(Vf&62914560)&&(Vf=4194304),e}function G1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cf(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function k4(e,t,n,r,s,o){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,p=e.expirationTimes,y=e.hiddenUpdates;for(n=f&~n;0<n;){var N=31-ha(n),S=1<<N;d[N]=0,p[N]=-1;var E=y[N];if(E!==null)for(y[N]=null,N=0;N<E.length;N++){var w=E[N];w!==null&&(w.lane&=-536870913)}n&=~S}r!==0&&c5(e,r,0),o!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function c5(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ha(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function u5(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ha(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Jd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $d(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function f5(){var e=wn.p;return e!==0?e:(e=window.event,e===void 0?32:D3(e.type))}function P4(e,t){var n=wn.p;try{return wn.p=e,t()}finally{wn.p=n}}var Yo=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Yo,Vr="__reactProps$"+Yo,Hc="__reactContainer$"+Yo,Uh="__reactEvents$"+Yo,F4="__reactListeners$"+Yo,U4="__reactHandles$"+Yo,Mg="__reactResources$"+Yo,uf="__reactMarker$"+Yo;function e2(e){delete e[Nr],delete e[Vr],delete e[Uh],delete e[F4],delete e[U4]}function lc(e){var t=e[Nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hc]||n[Nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fp(e);e!==null;){if(n=e[Nr])return n;e=Fp(e)}return t}e=n,n=e.parentNode}return null}function qc(e){if(e=e[Nr]||e[Hc]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function xu(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($e(33))}function vc(e){var t=e[Mg];return t||(t=e[Mg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function er(e){e[uf]=!0}var h5=new Set,d5={};function Bl(e,t){_c(e,t),_c(e+"Capture",t)}function _c(e,t){for(d5[e]=t,e=0;e<t.length;e++)h5.add(t[e])}var z4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Og={},Rg={};function H4(e){return Fh.call(Rg,e)?!0:Fh.call(Og,e)?!1:z4.test(e)?Rg[e]=!0:(Og[e]=!0,!1)}function o0(e,t,n){if(H4(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Yf(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function _s(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var V1,jg;function tc(e){if(V1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V1=t&&t[1]||"",jg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V1+e+jg}var Y1=!1;function X1(e,t){if(!e||Y1)return"";Y1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var S=function(){throw Error()};if(Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(w){var E=w}Reflect.construct(e,[],S)}else{try{S.call()}catch(w){E=w}e.call(S.prototype)}}else{try{throw Error()}catch(w){E=w}(S=e())&&typeof S.catch=="function"&&S.catch(function(){})}}catch(w){if(w&&E&&typeof w.stack=="string")return[w.stack,E.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),f=o[0],d=o[1];if(f&&d){var p=f.split(`
`),y=d.split(`
`);for(s=r=0;r<p.length&&!p[r].includes("DetermineComponentFrameRoot");)r++;for(;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;if(r===p.length||s===y.length)for(r=p.length-1,s=y.length-1;1<=r&&0<=s&&p[r]!==y[s];)s--;for(;1<=r&&0<=s;r--,s--)if(p[r]!==y[s]){if(r!==1||s!==1)do if(r--,s--,0>s||p[r]!==y[s]){var N=`
`+p[r].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=r&&0<=s);break}}}finally{Y1=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tc(n):""}function q4(e){switch(e.tag){case 26:case 27:case 5:return tc(e.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 15:return X1(e.type,!1);case 11:return X1(e.type.render,!1);case 1:return X1(e.type,!0);case 31:return tc("Activity");default:return""}}function Bg(e){try{var t="";do t+=q4(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ta(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function g5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G4(e){var t=g5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){r=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function C0(e){e._valueTracker||(e._valueTracker=G4(e))}function p5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=g5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function E0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var V4=/[\n"\\]/g;function Da(e){return e.replace(V4,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zh(e,t,n,r,s,o,f,d){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ta(t)):e.value!==""+Ta(t)&&(e.value=""+Ta(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Hh(e,f,Ta(t)):n!=null?Hh(e,f,Ta(n)):r!=null&&e.removeAttribute("value"),s==null&&o!=null&&(e.defaultChecked=!!o),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Ta(d):e.removeAttribute("name")}function m5(e,t,n,r,s,o,f,d){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Ta(n):"",t=t!=null?""+Ta(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=d?e.checked:!!r,e.defaultChecked=!!r,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function Hh(e,t,n){t==="number"&&E0(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ta(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function x5(e,t,n){if(t!=null&&(t=""+Ta(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ta(n):""}function y5(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error($e(92));if(mu(r)){if(1<r.length)throw Error($e(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Ta(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Ic(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Y4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Y4.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function v5(e,t,n){if(t!=null&&typeof t!="object")throw Error($e(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&kg(e,s,r)}else for(var o in t)t.hasOwnProperty(o)&&kg(e,o,t[o])}function t2(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function l0(e){return W4.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qh=null;function n2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cc=null,wc=null;function Pg(e){var t=qc(e);if(t&&(e=t.stateNode)){var n=e[Vr]||null;e:switch(e=t.stateNode,t.type){case"input":if(zh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Da(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Vr]||null;if(!s)throw Error($e(90));zh(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&p5(r)}break e;case"textarea":x5(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&bc(e,!!n.multiple,t,!1)}}}var W1=!1;function b5(e,t,n){if(W1)return e(t,n);W1=!0;try{var r=e(t);return r}finally{if(W1=!1,(cc!==null||wc!==null)&&(g1(),cc&&(t=cc,e=wc,wc=cc=null,Pg(t),e)))for(t=0;t<e.length;t++)Pg(e[t])}}function Hu(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Vr]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($e(231,t,typeof n));return n}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=!1;if(zs)try{var au={};Object.defineProperty(au,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Gh=!1}var Co=null,i2=null,c0=null;function w5(){if(c0)return c0;var e,t=i2,n=t.length,r,s="value"in Co?Co.value:Co.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===s[o-r];r++);return c0=s.slice(e,1<r?1-r:void 0)}function u0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xf(){return!0}function Fg(){return!1}function Yr(e){function t(n,r,s,o,f){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xf:Fg,this.isPropagationStopped=Fg,this}return Jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),t}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a1=Yr(kl),ff=Jn({},kl,{view:0,detail:0}),Z4=Yr(ff),Z1,Q1,su,s1=Jn({},ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==su&&(su&&e.type==="mousemove"?(Z1=e.screenX-su.screenX,Q1=e.screenY-su.screenY):Q1=Z1=0,su=e),Z1)},movementY:function(e){return"movementY"in e?e.movementY:Q1}}),Ug=Yr(s1),Q4=Jn({},s1,{dataTransfer:0}),K4=Yr(Q4),J4=Jn({},ff,{relatedTarget:0}),K1=Yr(J4),$4=Jn({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),ev=Yr($4),tv=Jn({},kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nv=Yr(tv),iv=Jn({},kl,{data:0}),zg=Yr(iv),rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sv[e])?!!t[e]:!1}function r2(){return ov}var lv=Jn({},ff,{key:function(e){if(e.key){var t=rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=u0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r2,charCode:function(e){return e.type==="keypress"?u0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?u0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cv=Yr(lv),uv=Jn({},s1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hg=Yr(uv),fv=Jn({},ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r2}),hv=Yr(fv),dv=Jn({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gv=Yr(dv),pv=Jn({},s1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=Yr(pv),xv=Jn({},kl,{newState:0,oldState:0}),yv=Yr(xv),vv=[9,13,27,32],a2=zs&&"CompositionEvent"in window,bu=null;zs&&"documentMode"in document&&(bu=document.documentMode);var bv=zs&&"TextEvent"in window&&!bu,A5=zs&&(!a2||bu&&8<bu&&11>=bu),qg=" ",Gg=!1;function S5(e,t){switch(e){case"keyup":return vv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uc=!1;function wv(e,t){switch(e){case"compositionend":return N5(t);case"keypress":return t.which!==32?null:(Gg=!0,qg);case"textInput":return e=t.data,e===qg&&Gg?null:e;default:return null}}function Av(e,t){if(uc)return e==="compositionend"||!a2&&S5(e,t)?(e=w5(),c0=i2=Co=null,uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A5&&t.locale!=="ko"?null:t.data;default:return null}}var Sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sv[e.type]:t==="textarea"}function C5(e,t,n,r){cc?wc?wc.push(r):wc=[r]:cc=r,t=G0(t,"onChange"),0<t.length&&(n=new a1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wu=null,qu=null;function Nv(e){x3(e,0)}function o1(e){var t=xu(e);if(p5(t))return e}function Yg(e,t){if(e==="change")return t}var E5=!1;if(zs){var J1;if(zs){var $1="oninput"in document;if(!$1){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),$1=typeof Xg.oninput=="function"}J1=$1}else J1=!1;E5=J1&&(!document.documentMode||9<document.documentMode)}function Wg(){wu&&(wu.detachEvent("onpropertychange",T5),qu=wu=null)}function T5(e){if(e.propertyName==="value"&&o1(qu)){var t=[];C5(t,qu,e,n2(e)),b5(Nv,t)}}function Cv(e,t,n){e==="focusin"?(Wg(),wu=t,qu=n,wu.attachEvent("onpropertychange",T5)):e==="focusout"&&Wg()}function Ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return o1(qu)}function Tv(e,t){if(e==="click")return o1(t)}function _v(e,t){if(e==="input"||e==="change")return o1(t)}function Iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pa=typeof Object.is=="function"?Object.is:Iv;function Gu(e,t){if(pa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fh.call(t,s)||!pa(e[s],t[s]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,t){var n=Zg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zg(n)}}function _5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I5(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=E0(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=E0(e.document)}return t}function s2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dv=zs&&"documentMode"in document&&11>=document.documentMode,fc=null,Vh=null,Au=null,Yh=!1;function Kg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||fc==null||fc!==E0(r)||(r=fc,"selectionStart"in r&&s2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Au&&Gu(Au,r)||(Au=r,r=G0(Vh,"onSelect"),0<r.length&&(t=new a1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fc)))}function hl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hc={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionrun:hl("Transition","TransitionRun"),transitionstart:hl("Transition","TransitionStart"),transitioncancel:hl("Transition","TransitionCancel"),transitionend:hl("Transition","TransitionEnd")},eh={},D5={};zs&&(D5=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function Pl(e){if(eh[e])return eh[e];if(!hc[e])return e;var t=hc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in D5)return eh[e]=t[n];return e}var L5=Pl("animationend"),M5=Pl("animationiteration"),O5=Pl("animationstart"),Lv=Pl("transitionrun"),Mv=Pl("transitionstart"),Ov=Pl("transitioncancel"),R5=Pl("transitionend"),j5=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Za(e,t){j5.set(e,t),Bl(t,[e])}var Jg=new WeakMap;function La(e,t){if(typeof e=="object"&&e!==null){var n=Jg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Bg(t)},Jg.set(e,t),t)}return{value:e,source:t,stack:Bg(t)}}var Ea=[],dc=0,o2=0;function l1(){for(var e=dc,t=o2=dc=0;t<e;){var n=Ea[t];Ea[t++]=null;var r=Ea[t];Ea[t++]=null;var s=Ea[t];Ea[t++]=null;var o=Ea[t];if(Ea[t++]=null,r!==null&&s!==null){var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}o!==0&&B5(n,s,o)}}function c1(e,t,n,r){Ea[dc++]=e,Ea[dc++]=t,Ea[dc++]=n,Ea[dc++]=r,o2|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function l2(e,t,n,r){return c1(e,t,n,r),T0(e)}function Gc(e,t){return c1(e,null,null,t),T0(e)}function B5(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var s=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(s=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,s&&t!==null&&(s=31-ha(n),e=o.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=n|536870912),o):null}function T0(e){if(50<Mu)throw Mu=0,gd=null,Error($e(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gc={};function Rv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(e,t,n,r){return new Rv(e,t,n,r)}function c2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fs(e,t){var n=e.alternate;return n===null?(n=la(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function k5(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function f0(e,t,n,r,s,o){var f=0;if(r=e,typeof e=="function")c2(e)&&(f=1);else if(typeof e=="string")f=Bb(e,n,fs.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case jh:return e=la(31,n,t,s),e.elementType=jh,e.lanes=o,e;case sc:return bl(n.children,s,o,t);case n5:f=8,s|=24;break;case Mh:return e=la(12,n,t,s|2),e.elementType=Mh,e.lanes=o,e;case Oh:return e=la(13,n,t,s),e.elementType=Oh,e.lanes=o,e;case Rh:return e=la(19,n,t,s),e.elementType=Rh,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N4:case Os:f=10;break e;case i5:f=9;break e;case Zd:f=11;break e;case Qd:f=14;break e;case mo:f=16,r=null;break e}f=29,n=Error($e(130,e===null?"null":typeof e,"")),r=null}return t=la(f,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function bl(e,t,n,r){return e=la(7,e,r,t),e.lanes=n,e}function th(e,t,n){return e=la(6,e,null,t),e.lanes=n,e}function nh(e,t,n){return t=la(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pc=[],mc=0,_0=null,I0=0,_a=[],Ia=0,wl=null,Rs=1,js="";function gl(e,t){pc[mc++]=I0,pc[mc++]=_0,_0=e,I0=t}function P5(e,t,n){_a[Ia++]=Rs,_a[Ia++]=js,_a[Ia++]=wl,wl=e;var r=Rs;e=js;var s=32-ha(r)-1;r&=~(1<<s),n+=1;var o=32-ha(t)+s;if(30<o){var f=s-s%5;o=(r&(1<<f)-1).toString(32),r>>=f,s-=f,Rs=1<<32-ha(t)+s|n<<s|r,js=o+e}else Rs=1<<o|n<<s|r,js=e}function u2(e){e.return!==null&&(gl(e,1),P5(e,1,0))}function f2(e){for(;e===_0;)_0=pc[--mc],pc[mc]=null,I0=pc[--mc],pc[mc]=null;for(;e===wl;)wl=_a[--Ia],_a[Ia]=null,js=_a[--Ia],_a[Ia]=null,Rs=_a[--Ia],_a[Ia]=null}var Mr=null,vi=null,bn=!1,Al=null,ls=!1,Wh=Error($e(519));function Ll(e){var t=Error($e(418,""));throw Vu(La(t,e)),Wh}function $g(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Nr]=e,t[Vr]=r,n){case"dialog":nn("cancel",t),nn("close",t);break;case"iframe":case"object":case"embed":nn("load",t);break;case"video":case"audio":for(n=0;n<Wu.length;n++)nn(Wu[n],t);break;case"source":nn("error",t);break;case"img":case"image":case"link":nn("error",t),nn("load",t);break;case"details":nn("toggle",t);break;case"input":nn("invalid",t),m5(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),C0(t);break;case"select":nn("invalid",t);break;case"textarea":nn("invalid",t),y5(t,r.value,r.defaultValue,r.children),C0(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||v3(t.textContent,n)?(r.popover!=null&&(nn("beforetoggle",t),nn("toggle",t)),r.onScroll!=null&&nn("scroll",t),r.onScrollEnd!=null&&nn("scrollend",t),r.onClick!=null&&(t.onclick=x1),t=!0):t=!1,t||Ll(e)}function ep(e){for(Mr=e.return;Mr;)switch(Mr.tag){case 5:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:Mr=Mr.return}}function ou(e){if(e!==Mr)return!1;if(!bn)return ep(e),bn=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bd(e.type,e.memoizedProps)),n=!n),n&&vi&&Ll(e),ep(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){vi=Xa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}vi=null}}else t===27?(t=vi,Xo(e.type)?(e=Sd,Sd=null,vi=e):vi=t):vi=Mr?Xa(e.stateNode.nextSibling):null;return!0}function hf(){vi=Mr=null,bn=!1}function tp(){var e=Al;return e!==null&&(qr===null?qr=e:qr.push.apply(qr,e),Al=null),e}function Vu(e){Al===null?Al=[e]:Al.push(e)}var Zh=ps(null),Fl=null,Bs=null;function vo(e,t,n){si(Zh,t._currentValue),t._currentValue=n}function Us(e){e._currentValue=Zh.current,nr(Zh)}function Qh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kh(e,t,n,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){var f=s.child;o=o.firstContext;e:for(;o!==null;){var d=o;o=s;for(var p=0;p<t.length;p++)if(d.context===t[p]){o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Qh(o.return,n,e),r||(f=null);break e}o=d.next}}else if(s.tag===18){if(f=s.return,f===null)throw Error($e(341));f.lanes|=n,o=f.alternate,o!==null&&(o.lanes|=n),Qh(f,n,e),f=null}else f=s.child;if(f!==null)f.return=s;else for(f=s;f!==null;){if(f===e){f=null;break}if(s=f.sibling,s!==null){s.return=f.return,f=s;break}f=f.return}s=f}}function df(e,t,n,r){e=null;for(var s=t,o=!1;s!==null;){if(!o){if(s.flags&524288)o=!0;else if(s.flags&262144)break}if(s.tag===10){var f=s.alternate;if(f===null)throw Error($e(387));if(f=f.memoizedProps,f!==null){var d=s.type;pa(s.pendingProps.value,f.value)||(e!==null?e.push(d):e=[d])}}else if(s===w0.current){if(f=s.alternate,f===null)throw Error($e(387));f.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ku):e=[Ku])}s=s.return}e!==null&&Kh(t,e,n,r),t.flags|=262144}function D0(e){for(e=e.firstContext;e!==null;){if(!pa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ml(e){Fl=e,Bs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Cr(e){return F5(Fl,e)}function Wf(e,t){return Fl===null&&Ml(e),F5(e,t)}function F5(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bs===null){if(e===null)throw Error($e(308));Bs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bs=Bs.next=t;return n}var jv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Bv=Vi.unstable_scheduleCallback,kv=Vi.unstable_NormalPriority,qi={$$typeof:Os,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h2(){return{controller:new jv,data:new Map,refCount:0}}function gf(e){e.refCount--,e.refCount===0&&Bv(kv,function(){e.controller.abort()})}var Su=null,Jh=0,Dc=0,Ac=null;function Pv(e,t){if(Su===null){var n=Su=[];Jh=0,Dc=j2(),Ac={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Jh++,t.then(np,np),t}function np(){if(--Jh===0&&Su!==null){Ac!==null&&(Ac.status="fulfilled");var e=Su;Su=null,Dc=0,Ac=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fv(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var ip=kt.S;kt.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Pv(e,t),ip!==null&&ip(e,t)};var Sl=ps(null);function d2(){var e=Sl.current;return e!==null?e:Gn.pooledCache}function h0(e,t){t===null?si(Sl,Sl.current):si(Sl,t.pool)}function U5(){var e=d2();return e===null?null:{parent:qi._currentValue,pool:e}}var pf=Error($e(460)),z5=Error($e(474)),u1=Error($e(542)),$h={then:function(){}};function rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zf(){}function H5(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Zf,Zf),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sp(e),e;default:if(typeof t.status=="string")t.then(Zf,Zf);else{if(e=Gn,e!==null&&100<e.shellSuspendCounter)throw Error($e(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sp(e),e}throw Nu=t,pf}}var Nu=null;function ap(){if(Nu===null)throw Error($e(459));var e=Nu;return Nu=null,e}function sp(e){if(e===pf||e===u1)throw Error($e(483))}var xo=!1;function g2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=T0(e),B5(e,null,n),t}return c1(e,r,t,n),T0(e)}function Cu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u5(e,n)}}function ih(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?s=o=f:o=o.next=f,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var td=!1;function Eu(){if(td){var e=Ac;if(e!==null)throw e}}function Tu(e,t,n,r){td=!1;var s=e.updateQueue;xo=!1;var o=s.firstBaseUpdate,f=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var p=d,y=p.next;p.next=null,f===null?o=y:f.next=y,f=p;var N=e.alternate;N!==null&&(N=N.updateQueue,d=N.lastBaseUpdate,d!==f&&(d===null?N.firstBaseUpdate=y:d.next=y,N.lastBaseUpdate=p))}if(o!==null){var S=s.baseState;f=0,N=y=p=null,d=o;do{var E=d.lane&-536870913,w=E!==d.lane;if(w?(hn&E)===E:(r&E)===E){E!==0&&E===Dc&&(td=!0),N!==null&&(N=N.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var B=e,M=d;E=t;var P=n;switch(M.tag){case 1:if(B=M.payload,typeof B=="function"){S=B.call(P,S,E);break e}S=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=M.payload,E=typeof B=="function"?B.call(P,S,E):B,E==null)break e;S=Jn({},S,E);break e;case 2:xo=!0}}E=d.callback,E!==null&&(e.flags|=64,w&&(e.flags|=8192),w=s.callbacks,w===null?s.callbacks=[E]:w.push(E))}else w={lane:E,tag:d.tag,payload:d.payload,callback:d.callback,next:null},N===null?(y=N=w,p=S):N=N.next=w,f|=E;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;w=d,d=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);N===null&&(p=S),s.baseState=p,s.firstBaseUpdate=y,s.lastBaseUpdate=N,o===null&&(s.shared.lanes=0),Ho|=f,e.lanes=f,e.memoizedState=S}}function q5(e,t){if(typeof e!="function")throw Error($e(191,e));e.call(t)}function G5(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)q5(n[e],t)}var Lc=ps(null),L0=ps(0);function op(e,t){e=Gs,si(L0,e),si(Lc,t),Gs=e|t.baseLanes}function nd(){si(L0,Gs),si(Lc,Lc.current)}function p2(){Gs=L0.current,nr(Lc),nr(L0)}var Uo=0,$t=null,Rn=null,ji=null,M0=!1,Sc=!1,Ol=!1,O0=0,Yu=0,Nc=null,Uv=0;function Ti(){throw Error($e(321))}function m2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pa(e[n],t[n]))return!1;return!0}function x2(e,t,n,r,s,o){return Uo=o,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kt.H=e===null||e.memoizedState===null?wx:Ax,Ol=!1,o=n(r,s),Ol=!1,Sc&&(o=Y5(t,n,r,s)),V5(e),o}function V5(e){kt.H=R0;var t=Rn!==null&&Rn.next!==null;if(Uo=0,ji=Rn=$t=null,M0=!1,Yu=0,Nc=null,t)throw Error($e(300));e===null||tr||(e=e.dependencies,e!==null&&D0(e)&&(tr=!0))}function Y5(e,t,n,r){$t=e;var s=0;do{if(Sc&&(Nc=null),Yu=0,Sc=!1,25<=s)throw Error($e(301));if(s+=1,ji=Rn=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}kt.H=Xv,o=t(n,r)}while(Sc);return o}function zv(){var e=kt.H,t=e.useState()[0];return t=typeof t.then=="function"?mf(t):t,e=e.useState()[0],(Rn!==null?Rn.memoizedState:null)!==e&&($t.flags|=1024),t}function y2(){var e=O0!==0;return O0=0,e}function v2(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function b2(e){if(M0){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}M0=!1}Uo=0,ji=Rn=$t=null,Sc=!1,Yu=O0=0,Nc=null}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?$t.memoizedState=ji=e:ji=ji.next=e,ji}function Bi(){if(Rn===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=ji===null?$t.memoizedState:ji.next;if(t!==null)ji=t,Rn=e;else{if(e===null)throw $t.alternate===null?Error($e(467)):Error($e(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},ji===null?$t.memoizedState=ji=e:ji=ji.next=e}return ji}function w2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mf(e){var t=Yu;return Yu+=1,Nc===null&&(Nc=[]),e=H5(Nc,e,t),t=$t,(ji===null?t.memoizedState:ji.next)===null&&(t=t.alternate,kt.H=t===null||t.memoizedState===null?wx:Ax),e}function f1(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mf(e);if(e.$$typeof===Os)return Cr(e)}throw Error($e(438,String(e)))}function A2(e){var t=null,n=$t.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=$t.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=w2(),$t.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C4;return t.index++,n}function Hs(e,t){return typeof t=="function"?t(e):t}function d0(e){var t=Bi();return S2(t,Rn,e)}function S2(e,t,n){var r=e.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=n;var s=e.baseQueue,o=r.pending;if(o!==null){if(s!==null){var f=s.next;s.next=o.next,o.next=f}t.baseQueue=s=o,r.pending=null}if(o=e.baseState,s===null)e.memoizedState=o;else{t=s.next;var d=f=null,p=null,y=t,N=!1;do{var S=y.lane&-536870913;if(S!==y.lane?(hn&S)===S:(Uo&S)===S){var E=y.revertLane;if(E===0)p!==null&&(p=p.next={lane:0,revertLane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),S===Dc&&(N=!0);else if((Uo&E)===E){y=y.next,E===Dc&&(N=!0);continue}else S={lane:0,revertLane:y.revertLane,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null},p===null?(d=p=S,f=o):p=p.next=S,$t.lanes|=E,Ho|=E;S=y.action,Ol&&n(o,S),o=y.hasEagerState?y.eagerState:n(o,S)}else E={lane:S,revertLane:y.revertLane,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null},p===null?(d=p=E,f=o):p=p.next=E,$t.lanes|=S,Ho|=S;y=y.next}while(y!==null&&y!==t);if(p===null?f=o:p.next=d,!pa(o,e.memoizedState)&&(tr=!0,N&&(n=Ac,n!==null)))throw n;e.memoizedState=o,e.baseState=f,e.baseQueue=p,r.lastRenderedState=o}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function rh(e){var t=Bi(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var f=s=s.next;do o=e(o,f.action),f=f.next;while(f!==s);pa(o,t.memoizedState)||(tr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function X5(e,t,n){var r=$t,s=Bi(),o=bn;if(o){if(n===void 0)throw Error($e(407));n=n()}else n=t();var f=!pa((Rn||s).memoizedState,n);f&&(s.memoizedState=n,tr=!0),s=s.queue;var d=Q5.bind(null,r,s,e);if(xf(2048,8,d,[e]),s.getSnapshot!==t||f||ji!==null&&ji.memoizedState.tag&1){if(r.flags|=2048,Mc(9,h1(),Z5.bind(null,r,s,n,t),null),Gn===null)throw Error($e(349));o||Uo&124||W5(r,t,n)}return n}function W5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$t.updateQueue,t===null?(t=w2(),$t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Z5(e,t,n,r){t.value=n,t.getSnapshot=r,K5(t)&&J5(e)}function Q5(e,t,n){return n(function(){K5(t)&&J5(e)})}function K5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pa(e,n)}catch{return!0}}function J5(e){var t=Gc(e,2);t!==null&&ga(t,e,2)}function id(e){var t=zr();if(typeof e=="function"){var n=e;if(e=n(),Ol){No(!0);try{n()}finally{No(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function $5(e,t,n,r){return e.baseState=n,S2(e,Rn,typeof r=="function"?r:Hs)}function Hv(e,t,n,r,s){if(d1(e))throw Error($e(485));if(e=t.action,e!==null){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};kt.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,ex(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ex(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var o=kt.T,f={};kt.T=f;try{var d=n(s,r),p=kt.S;p!==null&&p(f,d),lp(e,t,d)}catch(y){rd(e,t,y)}finally{kt.T=o}}else try{o=n(s,r),lp(e,t,o)}catch(y){rd(e,t,y)}}function lp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){cp(e,t,r)},function(r){return rd(e,t,r)}):cp(e,t,n)}function cp(e,t,n){t.status="fulfilled",t.value=n,tx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ex(e,n)))}function rd(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,tx(t),t=t.next;while(t!==r)}e.action=null}function tx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function nx(e,t){return t}function up(e,t){if(bn){var n=Gn.formState;if(n!==null){e:{var r=$t;if(bn){if(vi){t:{for(var s=vi,o=ls;s.nodeType!==8;){if(!o){s=null;break t}if(s=Xa(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){vi=Xa(s.nextSibling),r=s.data==="F!";break e}}Ll(r)}r=!1}r&&(t=n[0])}}return n=zr(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nx,lastRenderedState:t},n.queue=r,n=yx.bind(null,$t,r),r.dispatch=n,r=id(!1),o=T2.bind(null,$t,!1,r.queue),r=zr(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,n=Hv.bind(null,$t,s,o,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function fp(e){var t=Bi();return ix(t,Rn,e)}function ix(e,t,n){if(t=S2(e,t,nx)[0],e=d0(Hs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=mf(t)}catch(f){throw f===pf?u1:f}else r=t;t=Bi();var s=t.queue,o=s.dispatch;return n!==t.memoizedState&&($t.flags|=2048,Mc(9,h1(),qv.bind(null,s,n),null)),[r,o,e]}function qv(e,t){e.action=t}function hp(e){var t=Bi(),n=Rn;if(n!==null)return ix(t,n,e);Bi(),t=t.memoizedState,n=Bi();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Mc(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=$t.updateQueue,t===null&&(t=w2(),$t.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function h1(){return{destroy:void 0,resource:void 0}}function rx(){return Bi().memoizedState}function g0(e,t,n,r){var s=zr();r=r===void 0?null:r,$t.flags|=e,s.memoizedState=Mc(1|t,h1(),n,r)}function xf(e,t,n,r){var s=Bi();r=r===void 0?null:r;var o=s.memoizedState.inst;Rn!==null&&r!==null&&m2(r,Rn.memoizedState.deps)?s.memoizedState=Mc(t,o,n,r):($t.flags|=e,s.memoizedState=Mc(1|t,o,n,r))}function dp(e,t){g0(8390656,8,e,t)}function ax(e,t){xf(2048,8,e,t)}function sx(e,t){return xf(4,2,e,t)}function ox(e,t){return xf(4,4,e,t)}function lx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cx(e,t,n){n=n!=null?n.concat([e]):null,xf(4,4,lx.bind(null,t,e),n)}function N2(){}function ux(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&m2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fx(e,t){var n=Bi();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&m2(t,r[1]))return r[0];if(r=e(),Ol){No(!0);try{e()}finally{No(!1)}}return n.memoizedState=[r,t],r}function C2(e,t,n){return n===void 0||Uo&1073741824?e.memoizedState=t:(e.memoizedState=n,e=t3(),$t.lanes|=e,Ho|=e,n)}function hx(e,t,n,r){return pa(n,t)?n:Lc.current!==null?(e=C2(e,n,r),pa(e,t)||(tr=!0),e):Uo&42?(e=t3(),$t.lanes|=e,Ho|=e,t):(tr=!0,e.memoizedState=n)}function dx(e,t,n,r,s){var o=wn.p;wn.p=o!==0&&8>o?o:8;var f=kt.T,d={};kt.T=d,T2(e,!1,t,n);try{var p=s(),y=kt.S;if(y!==null&&y(d,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var N=Fv(p,r);_u(e,t,N,da(e))}else _u(e,t,r,da(e))}catch(S){_u(e,t,{then:function(){},status:"rejected",reason:S},da())}finally{wn.p=o,kt.T=f}}function Gv(){}function ad(e,t,n,r){if(e.tag!==5)throw Error($e(476));var s=gx(e).queue;dx(e,s,t,vl,n===null?Gv:function(){return px(e),n(r)})}function gx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:vl,baseState:vl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:vl},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function px(e){var t=gx(e).next.queue;_u(e,t,{},da())}function E2(){return Cr(Ku)}function mx(){return Bi().memoizedState}function xx(){return Bi().memoizedState}function Vv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=da();e=Lo(n);var r=Mo(t,e,n);r!==null&&(ga(r,t,n),Cu(r,t,n)),t={cache:h2()},e.payload=t;return}t=t.return}}function Yv(e,t,n){var r=da();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},d1(e)?vx(t,n):(n=l2(e,t,n,r),n!==null&&(ga(n,e,r),bx(n,t,r)))}function yx(e,t,n){var r=da();_u(e,t,n,r)}function _u(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(d1(e))vx(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,d=o(f,n);if(s.hasEagerState=!0,s.eagerState=d,pa(d,f))return c1(e,t,s,0),Gn===null&&l1(),!1}catch{}finally{}if(n=l2(e,t,s,r),n!==null)return ga(n,e,r),bx(n,t,r),!0}return!1}function T2(e,t,n,r){if(r={lane:2,revertLane:j2(),action:r,hasEagerState:!1,eagerState:null,next:null},d1(e)){if(t)throw Error($e(479))}else t=l2(e,n,r,2),t!==null&&ga(t,e,2)}function d1(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function vx(e,t){Sc=M0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bx(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u5(e,n)}}var R0={readContext:Cr,use:f1,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useLayoutEffect:Ti,useInsertionEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useSyncExternalStore:Ti,useId:Ti,useHostTransitionStatus:Ti,useFormState:Ti,useActionState:Ti,useOptimistic:Ti,useMemoCache:Ti,useCacheRefresh:Ti},wx={readContext:Cr,use:f1,useCallback:function(e,t){return zr().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:dp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,g0(4194308,4,lx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return g0(4194308,4,e,t)},useInsertionEffect:function(e,t){g0(4,2,e,t)},useMemo:function(e,t){var n=zr();t=t===void 0?null:t;var r=e();if(Ol){No(!0);try{e()}finally{No(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zr();if(n!==void 0){var s=n(t);if(Ol){No(!0);try{n(t)}finally{No(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Yv.bind(null,$t,e),[r.memoizedState,e]},useRef:function(e){var t=zr();return e={current:e},t.memoizedState=e},useState:function(e){e=id(e);var t=e.queue,n=yx.bind(null,$t,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:N2,useDeferredValue:function(e,t){var n=zr();return C2(n,e,t)},useTransition:function(){var e=id(!1);return e=dx.bind(null,$t,e.queue,!0,!1),zr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$t,s=zr();if(bn){if(n===void 0)throw Error($e(407));n=n()}else{if(n=t(),Gn===null)throw Error($e(349));hn&124||W5(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,dp(Q5.bind(null,r,o,e),[e]),r.flags|=2048,Mc(9,h1(),Z5.bind(null,r,o,n,t),null),n},useId:function(){var e=zr(),t=Gn.identifierPrefix;if(bn){var n=js,r=Rs;n=(r&~(1<<32-ha(r)-1)).toString(32)+n,t="«"+t+"R"+n,n=O0++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Uv++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:E2,useFormState:up,useActionState:up,useOptimistic:function(e){var t=zr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=T2.bind(null,$t,!0,n),n.dispatch=t,[e,t]},useMemoCache:A2,useCacheRefresh:function(){return zr().memoizedState=Vv.bind(null,$t)}},Ax={readContext:Cr,use:f1,useCallback:ux,useContext:Cr,useEffect:ax,useImperativeHandle:cx,useInsertionEffect:sx,useLayoutEffect:ox,useMemo:fx,useReducer:d0,useRef:rx,useState:function(){return d0(Hs)},useDebugValue:N2,useDeferredValue:function(e,t){var n=Bi();return hx(n,Rn.memoizedState,e,t)},useTransition:function(){var e=d0(Hs)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:mf(e),t]},useSyncExternalStore:X5,useId:mx,useHostTransitionStatus:E2,useFormState:fp,useActionState:fp,useOptimistic:function(e,t){var n=Bi();return $5(n,Rn,e,t)},useMemoCache:A2,useCacheRefresh:xx},Xv={readContext:Cr,use:f1,useCallback:ux,useContext:Cr,useEffect:ax,useImperativeHandle:cx,useInsertionEffect:sx,useLayoutEffect:ox,useMemo:fx,useReducer:rh,useRef:rx,useState:function(){return rh(Hs)},useDebugValue:N2,useDeferredValue:function(e,t){var n=Bi();return Rn===null?C2(n,e,t):hx(n,Rn.memoizedState,e,t)},useTransition:function(){var e=rh(Hs)[0],t=Bi().memoizedState;return[typeof e=="boolean"?e:mf(e),t]},useSyncExternalStore:X5,useId:mx,useHostTransitionStatus:E2,useFormState:hp,useActionState:hp,useOptimistic:function(e,t){var n=Bi();return Rn!==null?$5(n,Rn,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:A2,useCacheRefresh:xx},Cc=null,Xu=0;function Qf(e){var t=Xu;return Xu+=1,Cc===null&&(Cc=[]),H5(Cc,e,t)}function lu(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Kf(e,t){throw t.$$typeof===S4?Error($e(525)):(e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gp(e){var t=e._init;return t(e._payload)}function Sx(e){function t(T,I){if(e){var D=T.deletions;D===null?(T.deletions=[I],T.flags|=16):D.push(I)}}function n(T,I){if(!e)return null;for(;I!==null;)t(T,I),I=I.sibling;return null}function r(T){for(var I=new Map;T!==null;)T.key!==null?I.set(T.key,T):I.set(T.index,T),T=T.sibling;return I}function s(T,I){return T=Fs(T,I),T.index=0,T.sibling=null,T}function o(T,I,D){return T.index=D,e?(D=T.alternate,D!==null?(D=D.index,D<I?(T.flags|=67108866,I):D):(T.flags|=67108866,I)):(T.flags|=1048576,I)}function f(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function d(T,I,D,L){return I===null||I.tag!==6?(I=th(D,T.mode,L),I.return=T,I):(I=s(I,D),I.return=T,I)}function p(T,I,D,L){var F=D.type;return F===sc?N(T,I,D.props.children,L,D.key):I!==null&&(I.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mo&&gp(F)===I.type)?(I=s(I,D.props),lu(I,D),I.return=T,I):(I=f0(D.type,D.key,D.props,null,T.mode,L),lu(I,D),I.return=T,I)}function y(T,I,D,L){return I===null||I.tag!==4||I.stateNode.containerInfo!==D.containerInfo||I.stateNode.implementation!==D.implementation?(I=nh(D,T.mode,L),I.return=T,I):(I=s(I,D.children||[]),I.return=T,I)}function N(T,I,D,L,F){return I===null||I.tag!==7?(I=bl(D,T.mode,L,F),I.return=T,I):(I=s(I,D),I.return=T,I)}function S(T,I,D){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=th(""+I,T.mode,D),I.return=T,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case qf:return D=f0(I.type,I.key,I.props,null,T.mode,D),lu(D,I),D.return=T,D;case pu:return I=nh(I,T.mode,D),I.return=T,I;case mo:var L=I._init;return I=L(I._payload),S(T,I,D)}if(mu(I)||ru(I))return I=bl(I,T.mode,D,null),I.return=T,I;if(typeof I.then=="function")return S(T,Qf(I),D);if(I.$$typeof===Os)return S(T,Wf(T,I),D);Kf(T,I)}return null}function E(T,I,D,L){var F=I!==null?I.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return F!==null?null:d(T,I,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case qf:return D.key===F?p(T,I,D,L):null;case pu:return D.key===F?y(T,I,D,L):null;case mo:return F=D._init,D=F(D._payload),E(T,I,D,L)}if(mu(D)||ru(D))return F!==null?null:N(T,I,D,L,null);if(typeof D.then=="function")return E(T,I,Qf(D),L);if(D.$$typeof===Os)return E(T,I,Wf(T,D),L);Kf(T,D)}return null}function w(T,I,D,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(D)||null,d(I,T,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case qf:return T=T.get(L.key===null?D:L.key)||null,p(I,T,L,F);case pu:return T=T.get(L.key===null?D:L.key)||null,y(I,T,L,F);case mo:var X=L._init;return L=X(L._payload),w(T,I,D,L,F)}if(mu(L)||ru(L))return T=T.get(D)||null,N(I,T,L,F,null);if(typeof L.then=="function")return w(T,I,D,Qf(L),F);if(L.$$typeof===Os)return w(T,I,D,Wf(I,L),F);Kf(I,L)}return null}function B(T,I,D,L){for(var F=null,X=null,k=I,H=I=0,W=null;k!==null&&H<D.length;H++){k.index>H?(W=k,k=null):W=k.sibling;var de=E(T,k,D[H],L);if(de===null){k===null&&(k=W);break}e&&k&&de.alternate===null&&t(T,k),I=o(de,I,H),X===null?F=de:X.sibling=de,X=de,k=W}if(H===D.length)return n(T,k),bn&&gl(T,H),F;if(k===null){for(;H<D.length;H++)k=S(T,D[H],L),k!==null&&(I=o(k,I,H),X===null?F=k:X.sibling=k,X=k);return bn&&gl(T,H),F}for(k=r(k);H<D.length;H++)W=w(k,T,H,D[H],L),W!==null&&(e&&W.alternate!==null&&k.delete(W.key===null?H:W.key),I=o(W,I,H),X===null?F=W:X.sibling=W,X=W);return e&&k.forEach(function(z){return t(T,z)}),bn&&gl(T,H),F}function M(T,I,D,L){if(D==null)throw Error($e(151));for(var F=null,X=null,k=I,H=I=0,W=null,de=D.next();k!==null&&!de.done;H++,de=D.next()){k.index>H?(W=k,k=null):W=k.sibling;var z=E(T,k,de.value,L);if(z===null){k===null&&(k=W);break}e&&k&&z.alternate===null&&t(T,k),I=o(z,I,H),X===null?F=z:X.sibling=z,X=z,k=W}if(de.done)return n(T,k),bn&&gl(T,H),F;if(k===null){for(;!de.done;H++,de=D.next())de=S(T,de.value,L),de!==null&&(I=o(de,I,H),X===null?F=de:X.sibling=de,X=de);return bn&&gl(T,H),F}for(k=r(k);!de.done;H++,de=D.next())de=w(k,T,H,de.value,L),de!==null&&(e&&de.alternate!==null&&k.delete(de.key===null?H:de.key),I=o(de,I,H),X===null?F=de:X.sibling=de,X=de);return e&&k.forEach(function(j){return t(T,j)}),bn&&gl(T,H),F}function P(T,I,D,L){if(typeof D=="object"&&D!==null&&D.type===sc&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case qf:e:{for(var F=D.key;I!==null;){if(I.key===F){if(F=D.type,F===sc){if(I.tag===7){n(T,I.sibling),L=s(I,D.props.children),L.return=T,T=L;break e}}else if(I.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mo&&gp(F)===I.type){n(T,I.sibling),L=s(I,D.props),lu(L,D),L.return=T,T=L;break e}n(T,I);break}else t(T,I);I=I.sibling}D.type===sc?(L=bl(D.props.children,T.mode,L,D.key),L.return=T,T=L):(L=f0(D.type,D.key,D.props,null,T.mode,L),lu(L,D),L.return=T,T=L)}return f(T);case pu:e:{for(F=D.key;I!==null;){if(I.key===F)if(I.tag===4&&I.stateNode.containerInfo===D.containerInfo&&I.stateNode.implementation===D.implementation){n(T,I.sibling),L=s(I,D.children||[]),L.return=T,T=L;break e}else{n(T,I);break}else t(T,I);I=I.sibling}L=nh(D,T.mode,L),L.return=T,T=L}return f(T);case mo:return F=D._init,D=F(D._payload),P(T,I,D,L)}if(mu(D))return B(T,I,D,L);if(ru(D)){if(F=ru(D),typeof F!="function")throw Error($e(150));return D=F.call(D),M(T,I,D,L)}if(typeof D.then=="function")return P(T,I,Qf(D),L);if(D.$$typeof===Os)return P(T,I,Wf(T,D),L);Kf(T,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,I!==null&&I.tag===6?(n(T,I.sibling),L=s(I,D),L.return=T,T=L):(n(T,I),L=th(D,T.mode,L),L.return=T,T=L),f(T)):n(T,I)}return function(T,I,D,L){try{Xu=0;var F=P(T,I,D,L);return Cc=null,F}catch(k){if(k===pf||k===u1)throw k;var X=la(29,k,null,T.mode);return X.lanes=L,X.return=T,X}finally{}}}var Oc=Sx(!0),Nx=Sx(!1),Oa=ps(null),ds=null;function bo(e){var t=e.alternate;si(Gi,Gi.current&1),si(Oa,e),ds===null&&(t===null||Lc.current!==null||t.memoizedState!==null)&&(ds=e)}function Cx(e){if(e.tag===22){if(si(Gi,Gi.current),si(Oa,e),ds===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ds=e)}}else wo()}function wo(){si(Gi,Gi.current),si(Oa,Oa.current)}function ks(e){nr(Oa),ds===e&&(ds=null),nr(Gi)}var Gi=ps(0);function j0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ad(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ah(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sd={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=da(),s=Lo(r);s.payload=t,n!=null&&(s.callback=n),t=Mo(e,s,r),t!==null&&(ga(t,e,r),Cu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=da(),s=Lo(r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Mo(e,s,r),t!==null&&(ga(t,e,r),Cu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=da(),r=Lo(n);r.tag=2,t!=null&&(r.callback=t),t=Mo(e,r,n),t!==null&&(ga(t,e,n),Cu(t,e,n))}};function pp(e,t,n,r,s,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,f):t.prototype&&t.prototype.isPureReactComponent?!Gu(n,r)||!Gu(s,o):!0}function mp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function Rl(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Jn({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var B0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ex(e){B0(e)}function Tx(e){console.error(e)}function _x(e){B0(e)}function k0(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function xp(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function od(e,t,n){return n=Lo(n),n.tag=3,n.payload={element:null},n.callback=function(){k0(e,t)},n}function Ix(e){return e=Lo(e),e.tag=3,e}function Dx(e,t,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var o=r.value;e.payload=function(){return s(o)},e.callback=function(){xp(t,n,r)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){xp(t,n,r),typeof s!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var d=r.stack;this.componentDidCatch(r.value,{componentStack:d!==null?d:""})})}function Wv(e,t,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&df(t,n,s,!0),n=Oa.current,n!==null){switch(n.tag){case 13:return ds===null?pd():n.alternate===null&&bi===0&&(bi=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===$h?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),mh(e,r,s)),!1;case 22:return n.flags|=65536,r===$h?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),mh(e,r,s)),!1}throw Error($e(435,n.tag))}return mh(e,r,s),pd(),!1}if(bn)return t=Oa.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==Wh&&(e=Error($e(422),{cause:r}),Vu(La(e,n)))):(r!==Wh&&(t=Error($e(423),{cause:r}),Vu(La(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=La(r,n),s=od(e.stateNode,r,s),ih(e,s),bi!==4&&(bi=2)),!1;var o=Error($e(520),{cause:r});if(o=La(o,n),Lu===null?Lu=[o]:Lu.push(o),bi!==4&&(bi=2),t===null)return!0;r=La(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=od(n.stateNode,r,e),ih(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Oo===null||!Oo.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Ix(s),Dx(s,e,n,r),ih(n,s),!1}n=n.return}while(n!==null);return!1}var Lx=Error($e(461)),tr=!1;function cr(e,t,n,r){t.child=e===null?Nx(t,null,n,r):Oc(t,e.child,n,r)}function yp(e,t,n,r,s){n=n.render;var o=t.ref;if("ref"in r){var f={};for(var d in r)d!=="ref"&&(f[d]=r[d])}else f=r;return Ml(t),r=x2(e,t,n,f,o,s),d=y2(),e!==null&&!tr?(v2(e,t,s),qs(e,t,s)):(bn&&d&&u2(t),t.flags|=1,cr(e,t,r,s),t.child)}function vp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!c2(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Mx(e,t,o,r,s)):(e=f0(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!_2(e,s)){var f=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gu,n(f,r)&&e.ref===t.ref)return qs(e,t,s)}return t.flags|=1,e=Fs(o,r),e.ref=t.ref,e.return=t,t.child=e}function Mx(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Gu(o,r)&&e.ref===t.ref)if(tr=!1,t.pendingProps=r=o,_2(e,s))e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,qs(e,t,s)}return ld(e,t,n,r,s)}function Ox(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return bp(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&h0(t,o!==null?o.cachePool:null),o!==null?op(t,o):nd(),Cx(t);else return t.lanes=t.childLanes=536870912,bp(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(h0(t,o.cachePool),op(t,o),wo(),t.memoizedState=null):(e!==null&&h0(t,null),nd(),wo());return cr(e,t,s,n),t.child}function bp(e,t,n,r){var s=d2();return s=s===null?null:{parent:qi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&h0(t,null),nd(),Cx(t),e!==null&&df(e,t,r,!0),null}function p0(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($e(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ld(e,t,n,r,s){return Ml(t),n=x2(e,t,n,r,void 0,s),r=y2(),e!==null&&!tr?(v2(e,t,s),qs(e,t,s)):(bn&&r&&u2(t),t.flags|=1,cr(e,t,n,s),t.child)}function wp(e,t,n,r,s,o){return Ml(t),t.updateQueue=null,n=Y5(t,r,n,s),V5(e),r=y2(),e!==null&&!tr?(v2(e,t,o),qs(e,t,o)):(bn&&r&&u2(t),t.flags|=1,cr(e,t,n,o),t.child)}function Ap(e,t,n,r,s){if(Ml(t),t.stateNode===null){var o=gc,f=n.contextType;typeof f=="object"&&f!==null&&(o=Cr(f)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=sd,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},g2(t),f=n.contextType,o.context=typeof f=="object"&&f!==null?Cr(f):gc,o.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(ah(t,n,f,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&sd.enqueueReplaceState(o,o.state,null),Tu(t,r,o,s),Eu(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var d=t.memoizedProps,p=Rl(n,d);o.props=p;var y=o.context,N=n.contextType;f=gc,typeof N=="object"&&N!==null&&(f=Cr(N));var S=n.getDerivedStateFromProps;N=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,N||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d||y!==f)&&mp(t,o,r,f),xo=!1;var E=t.memoizedState;o.state=E,Tu(t,r,o,s),Eu(),y=t.memoizedState,d||E!==y||xo?(typeof S=="function"&&(ah(t,n,S,r),y=t.memoizedState),(p=xo||pp(t,n,p,r,E,y,f))?(N||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=f,r=p):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ed(e,t),f=t.memoizedProps,N=Rl(n,f),o.props=N,S=t.pendingProps,E=o.context,y=n.contextType,p=gc,typeof y=="object"&&y!==null&&(p=Cr(y)),d=n.getDerivedStateFromProps,(y=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==S||E!==p)&&mp(t,o,r,p),xo=!1,E=t.memoizedState,o.state=E,Tu(t,r,o,s),Eu();var w=t.memoizedState;f!==S||E!==w||xo||e!==null&&e.dependencies!==null&&D0(e.dependencies)?(typeof d=="function"&&(ah(t,n,d,r),w=t.memoizedState),(N=xo||pp(t,n,N,r,E,w,p)||e!==null&&e.dependencies!==null&&D0(e.dependencies))?(y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,p),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,p)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=p,r=N):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,p0(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Oc(t,e.child,null,s),t.child=Oc(t,null,n,s)):cr(e,t,n,s),t.memoizedState=o.state,e=t.child):e=qs(e,t,s),e}function Sp(e,t,n,r){return hf(),t.flags|=256,cr(e,t,n,r),t.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oh(e){return{baseLanes:e,cachePool:U5()}}function lh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ma),e}function Rx(e,t,n){var r=t.pendingProps,s=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(Gi.current&2)!==0),f&&(s=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(bn){if(s?bo(t):wo(),bn){var d=vi,p;if(p=d){e:{for(p=d,d=ls;p.nodeType!==8;){if(!d){d=null;break e}if(p=Xa(p.nextSibling),p===null){d=null;break e}}d=p}d!==null?(t.memoizedState={dehydrated:d,treeContext:wl!==null?{id:Rs,overflow:js}:null,retryLane:536870912,hydrationErrors:null},p=la(18,null,null,0),p.stateNode=d,p.return=t,t.child=p,Mr=t,vi=null,p=!0):p=!1}p||Ll(t)}if(d=t.memoizedState,d!==null&&(d=d.dehydrated,d!==null))return Ad(d)?t.lanes=32:t.lanes=536870912,null;ks(t)}return d=r.children,r=r.fallback,s?(wo(),s=t.mode,d=P0({mode:"hidden",children:d},s),r=bl(r,s,n,null),d.return=t,r.return=t,d.sibling=r,t.child=d,s=t.child,s.memoizedState=oh(n),s.childLanes=lh(e,f,n),t.memoizedState=sh,r):(bo(t),cd(t,d))}if(p=e.memoizedState,p!==null&&(d=p.dehydrated,d!==null)){if(o)t.flags&256?(bo(t),t.flags&=-257,t=ch(e,t,n)):t.memoizedState!==null?(wo(),t.child=e.child,t.flags|=128,t=null):(wo(),s=r.fallback,d=t.mode,r=P0({mode:"visible",children:r.children},d),s=bl(s,d,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,Oc(t,e.child,null,n),r=t.child,r.memoizedState=oh(n),r.childLanes=lh(e,f,n),t.memoizedState=sh,t=s);else if(bo(t),Ad(d)){if(f=d.nextSibling&&d.nextSibling.dataset,f)var y=f.dgst;f=y,r=Error($e(419)),r.stack="",r.digest=f,Vu({value:r,source:null,stack:null}),t=ch(e,t,n)}else if(tr||df(e,t,n,!1),f=(n&e.childLanes)!==0,tr||f){if(f=Gn,f!==null&&(r=n&-n,r=r&42?1:Jd(r),r=r&(f.suspendedLanes|n)?0:r,r!==0&&r!==p.retryLane))throw p.retryLane=r,Gc(e,r),ga(f,e,r),Lx;d.data==="$?"||pd(),t=ch(e,t,n)}else d.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,vi=Xa(d.nextSibling),Mr=t,bn=!0,Al=null,ls=!1,e!==null&&(_a[Ia++]=Rs,_a[Ia++]=js,_a[Ia++]=wl,Rs=e.id,js=e.overflow,wl=t),t=cd(t,r.children),t.flags|=4096);return t}return s?(wo(),s=r.fallback,d=t.mode,p=e.child,y=p.sibling,r=Fs(p,{mode:"hidden",children:r.children}),r.subtreeFlags=p.subtreeFlags&65011712,y!==null?s=Fs(y,s):(s=bl(s,d,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,d=e.child.memoizedState,d===null?d=oh(n):(p=d.cachePool,p!==null?(y=qi._currentValue,p=p.parent!==y?{parent:y,pool:y}:p):p=U5(),d={baseLanes:d.baseLanes|n,cachePool:p}),s.memoizedState=d,s.childLanes=lh(e,f,n),t.memoizedState=sh,r):(bo(t),n=e.child,e=n.sibling,n=Fs(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function cd(e,t){return t=P0({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function P0(e,t){return e=la(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ch(e,t,n){return Oc(t,e.child,null,n),e=cd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Np(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qh(e.return,t,n)}function uh(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function jx(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(cr(e,t,r.children,n),r=Gi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Np(e,n,t);else if(e.tag===19)Np(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(si(Gi,r),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&j0(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),uh(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&j0(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}uh(t,!0,n,null,o);break;case"together":uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ho|=t.lanes,!(n&t.childLanes))if(e!==null){if(df(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,n=Fs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _2(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&D0(e)))}function Zv(e,t,n){switch(t.tag){case 3:A0(t,t.stateNode.containerInfo),vo(t,qi,e.memoizedState.cache),hf();break;case 27:case 5:Ph(t);break;case 4:A0(t,t.stateNode.containerInfo);break;case 10:vo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(bo(t),t.flags|=128,null):n&t.child.childLanes?Rx(e,t,n):(bo(t),e=qs(e,t,n),e!==null?e.sibling:null);bo(t);break;case 19:var s=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(df(e,t,n,!1),r=(n&t.childLanes)!==0),s){if(r)return jx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),si(Gi,Gi.current),r)break;return null;case 22:case 23:return t.lanes=0,Ox(e,t,n);case 24:vo(t,qi,e.memoizedState.cache)}return qs(e,t,n)}function Bx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tr=!0;else{if(!_2(e,n)&&!(t.flags&128))return tr=!1,Zv(e,t,n);tr=!!(e.flags&131072)}else tr=!1,bn&&t.flags&1048576&&P5(t,I0,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,typeof r=="function")c2(r)?(e=Rl(r,e),t.tag=1,t=Ap(null,t,r,e,n)):(t.tag=0,t=ld(null,t,r,e,n));else{if(r!=null){if(s=r.$$typeof,s===Zd){t.tag=11,t=yp(null,t,r,e,n);break e}else if(s===Qd){t.tag=14,t=vp(null,t,r,e,n);break e}}throw t=Bh(r)||r,Error($e(306,t,""))}}return t;case 0:return ld(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,s=Rl(r,t.pendingProps),Ap(e,t,r,s,n);case 3:e:{if(A0(t,t.stateNode.containerInfo),e===null)throw Error($e(387));r=t.pendingProps;var o=t.memoizedState;s=o.element,ed(e,t),Tu(t,r,null,n);var f=t.memoizedState;if(r=f.cache,vo(t,qi,r),r!==o.cache&&Kh(t,[qi],n,!0),Eu(),r=f.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Sp(e,t,r,n);break e}else if(r!==s){s=La(Error($e(424)),t),Vu(s),t=Sp(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(vi=Xa(e.firstChild),Mr=t,bn=!0,Al=null,ls=!0,n=Nx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(hf(),r===s){t=qs(e,t,n);break e}cr(e,t,r,n)}t=t.child}return t;case 26:return p0(e,t),e===null?(n=zp(t.type,null,t.pendingProps,null))?t.memoizedState=n:bn||(n=t.type,e=t.pendingProps,r=V0(Do.current).createElement(n),r[Nr]=t,r[Vr]=e,hr(r,n,e),er(r),t.stateNode=r):t.memoizedState=zp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ph(t),e===null&&bn&&(r=t.stateNode=A3(t.type,t.pendingProps,Do.current),Mr=t,ls=!0,s=vi,Xo(t.type)?(Sd=s,vi=Xa(r.firstChild)):vi=s),cr(e,t,t.pendingProps.children,n),p0(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&bn&&((s=r=vi)&&(r=Sb(r,t.type,t.pendingProps,ls),r!==null?(t.stateNode=r,Mr=t,vi=Xa(r.firstChild),ls=!1,s=!0):s=!1),s||Ll(t)),Ph(t),s=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,r=o.children,bd(s,o)?r=null:f!==null&&bd(s,f)&&(t.flags|=32),t.memoizedState!==null&&(s=x2(e,t,zv,null,null,n),Ku._currentValue=s),p0(e,t),cr(e,t,r,n),t.child;case 6:return e===null&&bn&&((e=n=vi)&&(n=Nb(n,t.pendingProps,ls),n!==null?(t.stateNode=n,Mr=t,vi=null,e=!0):e=!1),e||Ll(t)),null;case 13:return Rx(e,t,n);case 4:return A0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Oc(t,null,r,n):cr(e,t,r,n),t.child;case 11:return yp(e,t,t.type,t.pendingProps,n);case 7:return cr(e,t,t.pendingProps,n),t.child;case 8:return cr(e,t,t.pendingProps.children,n),t.child;case 12:return cr(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,vo(t,t.type,r.value),cr(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ml(t),s=Cr(s),r=r(s),t.flags|=1,cr(e,t,r,n),t.child;case 14:return vp(e,t,t.type,t.pendingProps,n);case 15:return Mx(e,t,t.type,t.pendingProps,n);case 19:return jx(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=P0(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Fs(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ox(e,t,n);case 24:return Ml(t),r=Cr(qi),e===null?(s=d2(),s===null&&(s=Gn,o=h2(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:r,cache:s},g2(t),vo(t,qi,s)):(e.lanes&n&&(ed(e,t),Tu(t,null,null,n),Eu()),s=e.memoizedState,o=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),vo(t,qi,r)):(r=o.cache,vo(t,qi,r),r!==s.cache&&Kh(t,[qi],n,!0))),cr(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($e(156,t.tag))}function Is(e){e.flags|=4}function Cp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!C3(t)){if(t=Oa.current,t!==null&&((hn&4194048)===hn?ds!==null:(hn&62914560)!==hn&&!(hn&536870912)||t!==ds))throw Nu=$h,z5;e.flags|=8192}}function Jf(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?l5():536870912,e.lanes|=t,Rc|=t)}function cu(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qv(e,t,n){var r=t.pendingProps;switch(f2(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(t),null;case 1:return fi(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Us(qi),Tc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ou(t)?Is(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tp())),fi(t),null;case 26:return n=t.memoizedState,e===null?(Is(t),n!==null?(fi(t),Cp(t,n)):(fi(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Is(t),fi(t),Cp(t,n)):(fi(t),t.flags&=-16777217):(e.memoizedProps!==r&&Is(t),fi(t),t.flags&=-16777217),null;case 27:S0(t),n=Do.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Is(t);else{if(!r){if(t.stateNode===null)throw Error($e(166));return fi(t),null}e=fs.current,ou(t)?$g(t):(e=A3(s,r,n),t.stateNode=e,Is(t))}return fi(t),null;case 5:if(S0(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Is(t);else{if(!r){if(t.stateNode===null)throw Error($e(166));return fi(t),null}if(e=fs.current,ou(t))$g(t);else{switch(s=V0(Do.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Nr]=t,e[Vr]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(hr(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Is(t)}}return fi(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Is(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error($e(166));if(e=Do.current,ou(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,s=Mr,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Nr]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||v3(e.nodeValue,n)),e||Ll(t)}else e=V0(e).createTextNode(r),e[Nr]=t,t.stateNode=e}return fi(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ou(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[Nr]=t}else hf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fi(t),s=!1}else s=tp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(ks(t),t):(ks(t),null)}if(ks(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Jf(t,t.updateQueue),fi(t),null;case 4:return Tc(),e===null&&B2(t.stateNode.containerInfo),fi(t),null;case 10:return Us(t.type),fi(t),null;case 19:if(nr(Gi),s=t.memoizedState,s===null)return fi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)cu(s,!1);else{if(bi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=j0(e),o!==null){for(t.flags|=128,cu(s,!1),e=o.updateQueue,t.updateQueue=e,Jf(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)k5(n,e),n=n.sibling;return si(Gi,Gi.current&1|2),t.child}e=e.sibling}s.tail!==null&&hs()>U0&&(t.flags|=128,r=!0,cu(s,!1),t.lanes=4194304)}else{if(!r)if(e=j0(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Jf(t,e),cu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bn)return fi(t),null}else 2*hs()-s.renderingStartTime>U0&&n!==536870912&&(t.flags|=128,r=!0,cu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=hs(),t.sibling=null,e=Gi.current,si(Gi,r?e&1|2:e&1),t):(fi(t),null);case 22:case 23:return ks(t),p2(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(fi(t),t.subtreeFlags&6&&(t.flags|=8192)):fi(t),n=t.updateQueue,n!==null&&Jf(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&nr(Sl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Us(qi),fi(t),null;case 25:return null;case 30:return null}throw Error($e(156,t.tag))}function Kv(e,t){switch(f2(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Us(qi),Tc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return S0(t),null;case 13:if(ks(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));hf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(Gi),null;case 4:return Tc(),null;case 10:return Us(t.type),null;case 22:case 23:return ks(t),p2(),e!==null&&nr(Sl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Us(qi),null;case 25:return null;default:return null}}function kx(e,t){switch(f2(t),t.tag){case 3:Us(qi),Tc();break;case 26:case 27:case 5:S0(t);break;case 4:Tc();break;case 13:ks(t);break;case 19:nr(Gi);break;case 10:Us(t.type);break;case 22:case 23:ks(t),p2(),e!==null&&nr(Sl);break;case 24:Us(qi)}}function yf(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var o=n.create,f=n.inst;r=o(),f.destroy=r}n=n.next}while(n!==s)}}catch(d){Pn(t,t.return,d)}}function zo(e,t,n){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var o=s.next;r=o;do{if((r.tag&e)===e){var f=r.inst,d=f.destroy;if(d!==void 0){f.destroy=void 0,s=t;var p=n,y=d;try{y()}catch(N){Pn(s,p,N)}}}r=r.next}while(r!==o)}}catch(N){Pn(t,t.return,N)}}function Px(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{G5(t,n)}catch(r){Pn(e,e.return,r)}}}function Fx(e,t,n){n.props=Rl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pn(e,t,r)}}function Iu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(s){Pn(e,t,s)}}function cs(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){Pn(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Pn(e,t,s)}else n.current=null}function Ux(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){Pn(e,e.return,s)}}function fh(e,t,n){try{var r=e.stateNode;yb(r,e.type,n,t),r[Vr]=t}catch(s){Pn(e,e.return,s)}}function zx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xo(e.type)||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=x1));else if(r!==4&&(r===27&&Xo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ud(e,t,n),e=e.sibling;e!==null;)ud(e,t,n),e=e.sibling}function F0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Xo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(F0(e,t,n),e=e.sibling;e!==null;)F0(e,t,n),e=e.sibling}function Hx(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);hr(t,r,n),t[Nr]=e,t[Vr]=n}catch(o){Pn(e,e.return,o)}}var Ms=!1,_i=!1,dh=!1,Ep=typeof WeakSet=="function"?WeakSet:Set,$i=null;function Jv(e,t){if(e=e.containerInfo,yd=Z0,e=I5(e),s2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var f=0,d=-1,p=-1,y=0,N=0,S=e,E=null;t:for(;;){for(var w;S!==n||s!==0&&S.nodeType!==3||(d=f+s),S!==o||r!==0&&S.nodeType!==3||(p=f+r),S.nodeType===3&&(f+=S.nodeValue.length),(w=S.firstChild)!==null;)E=S,S=w;for(;;){if(S===e)break t;if(E===n&&++y===s&&(d=f),E===o&&++N===r&&(p=f),(w=S.nextSibling)!==null)break;S=E,E=S.parentNode}S=w}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(vd={focusedElem:e,selectionRange:n},Z0=!1,$i=t;$i!==null;)if(t=$i,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,$i=e;else for(;$i!==null;){switch(t=$i,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var B=Rl(n.type,s,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(B,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(M){Pn(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($e(163))}if(e=t.sibling,e!==null){e.return=t.return,$i=e;break}$i=t.return}}function qx(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:uo(e,n),r&4&&yf(5,n);break;case 1:if(uo(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Pn(n,n.return,f)}else{var s=Rl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Pn(n,n.return,f)}}r&64&&Px(n),r&512&&Iu(n,n.return);break;case 3:if(uo(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{G5(e,t)}catch(f){Pn(n,n.return,f)}}break;case 27:t===null&&r&4&&Hx(n);case 26:case 5:uo(e,n),t===null&&r&4&&Ux(n),r&512&&Iu(n,n.return);break;case 12:uo(e,n);break;case 13:uo(e,n),r&4&&Yx(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ob.bind(null,n),Cb(e,n))));break;case 22:if(r=n.memoizedState!==null||Ms,!r){t=t!==null&&t.memoizedState!==null||_i,s=Ms;var o=_i;Ms=r,(_i=t)&&!o?po(e,n,(n.subtreeFlags&8772)!==0):uo(e,n),Ms=s,_i=o}break;case 30:break;default:uo(e,n)}}function Gx(e){var t=e.alternate;t!==null&&(e.alternate=null,Gx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&e2(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ri=null,Hr=!1;function Ds(e,t,n){for(n=n.child;n!==null;)Vx(e,t,n),n=n.sibling}function Vx(e,t,n){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(of,n)}catch{}switch(n.tag){case 26:_i||cs(n,t),Ds(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_i||cs(n,t);var r=ri,s=Hr;Xo(n.type)&&(ri=n.stateNode,Hr=!1),Ds(e,t,n),Ou(n.stateNode),ri=r,Hr=s;break;case 5:_i||cs(n,t);case 6:if(r=ri,s=Hr,ri=null,Ds(e,t,n),ri=r,Hr=s,ri!==null)if(Hr)try{(ri.nodeType===9?ri.body:ri.nodeName==="HTML"?ri.ownerDocument.body:ri).removeChild(n.stateNode)}catch(o){Pn(n,t,o)}else try{ri.removeChild(n.stateNode)}catch(o){Pn(n,t,o)}break;case 18:ri!==null&&(Hr?(e=ri,Pp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ef(e)):Pp(ri,n.stateNode));break;case 4:r=ri,s=Hr,ri=n.stateNode.containerInfo,Hr=!0,Ds(e,t,n),ri=r,Hr=s;break;case 0:case 11:case 14:case 15:_i||zo(2,n,t),_i||zo(4,n,t),Ds(e,t,n);break;case 1:_i||(cs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Fx(n,t,r)),Ds(e,t,n);break;case 21:Ds(e,t,n);break;case 22:_i=(r=_i)||n.memoizedState!==null,Ds(e,t,n),_i=r;break;default:Ds(e,t,n)}}function Yx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ef(e)}catch(n){Pn(t,t.return,n)}}function $v(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ep),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ep),t;default:throw Error($e(435,e.tag))}}function gh(e,t){var n=$v(e);t.forEach(function(r){var s=lb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}function ta(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],o=e,f=t,d=f;e:for(;d!==null;){switch(d.tag){case 27:if(Xo(d.type)){ri=d.stateNode,Hr=!1;break e}break;case 5:ri=d.stateNode,Hr=!1;break e;case 3:case 4:ri=d.stateNode.containerInfo,Hr=!0;break e}d=d.return}if(ri===null)throw Error($e(160));Vx(o,f,s),ri=null,Hr=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Xx(t,e),t=t.sibling}var Va=null;function Xx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ta(t,e),na(e),r&4&&(zo(3,e,e.return),yf(3,e),zo(5,e,e.return));break;case 1:ta(t,e),na(e),r&512&&(_i||n===null||cs(n,n.return)),r&64&&Ms&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Va;if(ta(t,e),na(e),r&512&&(_i||n===null||cs(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":o=s.getElementsByTagName("title")[0],(!o||o[uf]||o[Nr]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),hr(o,r,n),o[Nr]=e,er(o),r=o;break e;case"link":var f=qp("link","href",s).get(r+(n.href||""));if(f){for(var d=0;d<f.length;d++)if(o=f[d],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(d,1);break t}}o=s.createElement(r),hr(o,r,n),s.head.appendChild(o);break;case"meta":if(f=qp("meta","content",s).get(r+(n.content||""))){for(d=0;d<f.length;d++)if(o=f[d],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(d,1);break t}}o=s.createElement(r),hr(o,r,n),s.head.appendChild(o);break;default:throw Error($e(468,r))}o[Nr]=e,er(o),r=o}e.stateNode=r}else Gp(s,e.type,e.stateNode);else e.stateNode=Hp(s,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Gp(s,e.type,e.stateNode):Hp(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&fh(e,e.memoizedProps,n.memoizedProps)}break;case 27:ta(t,e),na(e),r&512&&(_i||n===null||cs(n,n.return)),n!==null&&r&4&&fh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ta(t,e),na(e),r&512&&(_i||n===null||cs(n,n.return)),e.flags&32){s=e.stateNode;try{Ic(s,"")}catch(w){Pn(e,e.return,w)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,fh(e,s,n!==null?n.memoizedProps:s)),r&1024&&(dh=!0);break;case 6:if(ta(t,e),na(e),r&4){if(e.stateNode===null)throw Error($e(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(w){Pn(e,e.return,w)}}break;case 3:if(y0=null,s=Va,Va=Y0(t.containerInfo),ta(t,e),Va=s,na(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ef(t.containerInfo)}catch(w){Pn(e,e.return,w)}dh&&(dh=!1,Wx(e));break;case 4:r=Va,Va=Y0(e.stateNode.containerInfo),ta(t,e),na(e),Va=r;break;case 12:ta(t,e),na(e);break;case 13:ta(t,e),na(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(O2=hs()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gh(e,r)));break;case 22:s=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,y=Ms,N=_i;if(Ms=y||s,_i=N||p,ta(t,e),_i=N,Ms=y,na(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||p||Ms||_i||pl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(o=p.stateNode,s)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{d=p.stateNode;var S=p.memoizedProps.style,E=S!=null&&S.hasOwnProperty("display")?S.display:null;d.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(w){Pn(p,p.return,w)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=s?"":p.memoizedProps}catch(w){Pn(p,p.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gh(e,n))));break;case 19:ta(t,e),na(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gh(e,r)));break;case 30:break;case 21:break;default:ta(t,e),na(e)}}function na(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(zx(r)){n=r;break}r=r.return}if(n==null)throw Error($e(160));switch(n.tag){case 27:var s=n.stateNode,o=hh(e);F0(e,o,s);break;case 5:var f=n.stateNode;n.flags&32&&(Ic(f,""),n.flags&=-33);var d=hh(e);F0(e,d,f);break;case 3:case 4:var p=n.stateNode.containerInfo,y=hh(e);ud(e,y,p);break;default:throw Error($e(161))}}catch(N){Pn(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function uo(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)qx(e,t.alternate,t),t=t.sibling}function pl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zo(4,t,t.return),pl(t);break;case 1:cs(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Fx(t,t.return,n),pl(t);break;case 27:Ou(t.stateNode);case 26:case 5:cs(t,t.return),pl(t);break;case 22:t.memoizedState===null&&pl(t);break;case 30:pl(t);break;default:pl(t)}e=e.sibling}}function po(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:po(s,o,n),yf(4,o);break;case 1:if(po(s,o,n),r=o,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(y){Pn(r,r.return,y)}if(r=o,s=r.updateQueue,s!==null){var d=r.stateNode;try{var p=s.shared.hiddenCallbacks;if(p!==null)for(s.shared.hiddenCallbacks=null,s=0;s<p.length;s++)q5(p[s],d)}catch(y){Pn(r,r.return,y)}}n&&f&64&&Px(o),Iu(o,o.return);break;case 27:Hx(o);case 26:case 5:po(s,o,n),n&&r===null&&f&4&&Ux(o),Iu(o,o.return);break;case 12:po(s,o,n);break;case 13:po(s,o,n),n&&f&4&&Yx(s,o);break;case 22:o.memoizedState===null&&po(s,o,n),Iu(o,o.return);break;case 30:break;default:po(s,o,n)}t=t.sibling}}function I2(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gf(n))}function D2(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gf(e))}function as(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zx(e,t,n,r),t=t.sibling}function Zx(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:as(e,t,n,r),s&2048&&yf(9,t);break;case 1:as(e,t,n,r);break;case 3:as(e,t,n,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gf(e)));break;case 12:if(s&2048){as(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,d=o.onPostCommit;typeof d=="function"&&d(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Pn(t,t.return,p)}}else as(e,t,n,r);break;case 13:as(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?as(e,t,n,r):Du(e,t):o._visibility&2?as(e,t,n,r):(o._visibility|=2,nc(e,t,n,r,(t.subtreeFlags&10256)!==0)),s&2048&&I2(f,t);break;case 24:as(e,t,n,r),s&2048&&D2(t.alternate,t);break;default:as(e,t,n,r)}}function nc(e,t,n,r,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,f=t,d=n,p=r,y=f.flags;switch(f.tag){case 0:case 11:case 15:nc(o,f,d,p,s),yf(8,f);break;case 23:break;case 22:var N=f.stateNode;f.memoizedState!==null?N._visibility&2?nc(o,f,d,p,s):Du(o,f):(N._visibility|=2,nc(o,f,d,p,s)),s&&y&2048&&I2(f.alternate,f);break;case 24:nc(o,f,d,p,s),s&&y&2048&&D2(f.alternate,f);break;default:nc(o,f,d,p,s)}t=t.sibling}}function Du(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Du(n,r),s&2048&&I2(r.alternate,r);break;case 24:Du(n,r),s&2048&&D2(r.alternate,r);break;default:Du(n,r)}t=t.sibling}}var yu=8192;function Ql(e){if(e.subtreeFlags&yu)for(e=e.child;e!==null;)Qx(e),e=e.sibling}function Qx(e){switch(e.tag){case 26:Ql(e),e.flags&yu&&e.memoizedState!==null&&Pb(Va,e.memoizedState,e.memoizedProps);break;case 5:Ql(e);break;case 3:case 4:var t=Va;Va=Y0(e.stateNode.containerInfo),Ql(e),Va=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=yu,yu=16777216,Ql(e),yu=t):Ql(e));break;default:Ql(e)}}function Kx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function uu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$i=r,$x(r,e)}Kx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jx(e),e=e.sibling}function Jx(e){switch(e.tag){case 0:case 11:case 15:uu(e),e.flags&2048&&zo(9,e,e.return);break;case 3:uu(e);break;case 12:uu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,m0(e)):uu(e);break;default:uu(e)}}function m0(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$i=r,$x(r,e)}Kx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zo(8,t,t.return),m0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,m0(t));break;default:m0(t)}e=e.sibling}}function $x(e,t){for(;$i!==null;){var n=$i;switch(n.tag){case 0:case 11:case 15:zo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:gf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,$i=r;else e:for(n=e;$i!==null;){r=$i;var s=r.sibling,o=r.return;if(Gx(r),r===n){$i=null;break e}if(s!==null){s.return=o,$i=s;break e}$i=o}}}var eb={getCacheForType:function(e){var t=Cr(qi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},tb=typeof WeakMap=="function"?WeakMap:Map,_n=0,Gn=null,rn=null,hn=0,En=0,sa=null,Eo=!1,Vc=!1,L2=!1,Gs=0,bi=0,Ho=0,Nl=0,M2=0,Ma=0,Rc=0,Lu=null,qr=null,fd=!1,O2=0,U0=1/0,z0=null,Oo=null,ur=0,Ro=null,jc=null,Ec=0,hd=0,dd=null,e3=null,Mu=0,gd=null;function da(){if(_n&2&&hn!==0)return hn&-hn;if(kt.T!==null){var e=Dc;return e!==0?e:j2()}return f5()}function t3(){Ma===0&&(Ma=!(hn&536870912)||bn?o5():536870912);var e=Oa.current;return e!==null&&(e.flags|=32),Ma}function ga(e,t,n){(e===Gn&&(En===2||En===9)||e.cancelPendingCommit!==null)&&(Bc(e,0),To(e,hn,Ma,!1)),cf(e,n),(!(_n&2)||e!==Gn)&&(e===Gn&&(!(_n&2)&&(Nl|=n),bi===4&&To(e,hn,Ma,!1)),ms(e))}function n3(e,t,n){if(_n&6)throw Error($e(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||lf(e,t),s=r?rb(e,t):ph(e,t,!0),o=r;do{if(s===0){Vc&&!r&&To(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!nb(n)){s=ph(e,t,!1),o=!1;continue}if(s===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var d=e;s=Lu;var p=d.current.memoizedState.isDehydrated;if(p&&(Bc(d,f).flags|=256),f=ph(d,f,!1),f!==2){if(L2&&!p){d.errorRecoveryDisabledLanes|=o,Nl|=o,s=4;break e}o=qr,qr=s,o!==null&&(qr===null?qr=o:qr.push.apply(qr,o))}s=f}if(o=!1,s!==2)continue}}if(s===1){Bc(e,0),To(e,t,0,!0);break}e:{switch(r=e,o=s,o){case 0:case 1:throw Error($e(345));case 4:if((t&4194048)!==t)break;case 6:To(r,t,Ma,!Eo);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error($e(329))}if((t&62914560)===t&&(s=O2+300-hs(),10<s)){if(To(r,t,Ma,!Eo),r1(r,0,!0)!==0)break e;r.timeoutHandle=w3(Tp.bind(null,r,n,qr,z0,fd,t,Ma,Nl,Rc,Eo,o,2,-0,0),s);break e}Tp(r,n,qr,z0,fd,t,Ma,Nl,Rc,Eo,o,0,-0,0)}}break}while(!0);ms(e)}function Tp(e,t,n,r,s,o,f,d,p,y,N,S,E,w){if(e.timeoutHandle=-1,S=t.subtreeFlags,(S&8192||(S&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:kb},Qx(t),S=Fb(),S!==null)){e.cancelPendingCommit=S(Ip.bind(null,e,t,o,n,r,s,f,d,p,N,1,E,w)),To(e,o,f,!y);return}Ip(e,t,o,n,r,s,f,d,p)}function nb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!pa(o(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function To(e,t,n,r){t&=~M2,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var o=31-ha(s),f=1<<o;r[o]=-1,s&=~f}n!==0&&c5(e,n,t)}function g1(){return _n&6?!0:(vf(0),!1)}function R2(){if(rn!==null){if(En===0)var e=rn.return;else e=rn,Bs=Fl=null,b2(e),Cc=null,Xu=0,e=rn;for(;e!==null;)kx(e.alternate,e),e=e.return;rn=null}}function Bc(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,bb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),R2(),Gn=e,rn=n=Fs(e.current,null),hn=t,En=0,sa=null,Eo=!1,Vc=lf(e,t),L2=!1,Rc=Ma=M2=Nl=Ho=bi=0,qr=Lu=null,fd=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-ha(r),o=1<<s;t|=e[s],r&=~o}return Gs=t,l1(),n}function i3(e,t){$t=null,kt.H=R0,t===pf||t===u1?(t=ap(),En=3):t===z5?(t=ap(),En=4):En=t===Lx?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sa=t,rn===null&&(bi=1,k0(e,La(t,e.current)))}function r3(){var e=kt.H;return kt.H=R0,e===null?R0:e}function a3(){var e=kt.A;return kt.A=eb,e}function pd(){bi=4,Eo||(hn&4194048)!==hn&&Oa.current!==null||(Vc=!0),!(Ho&134217727)&&!(Nl&134217727)||Gn===null||To(Gn,hn,Ma,!1)}function ph(e,t,n){var r=_n;_n|=2;var s=r3(),o=a3();(Gn!==e||hn!==t)&&(z0=null,Bc(e,t)),t=!1;var f=bi;e:do try{if(En!==0&&rn!==null){var d=rn,p=sa;switch(En){case 8:R2(),f=6;break e;case 3:case 2:case 9:case 6:Oa.current===null&&(t=!0);var y=En;if(En=0,sa=null,xc(e,d,p,y),n&&Vc){f=0;break e}break;default:y=En,En=0,sa=null,xc(e,d,p,y)}}ib(),f=bi;break}catch(N){i3(e,N)}while(!0);return t&&e.shellSuspendCounter++,Bs=Fl=null,_n=r,kt.H=s,kt.A=o,rn===null&&(Gn=null,hn=0,l1()),f}function ib(){for(;rn!==null;)s3(rn)}function rb(e,t){var n=_n;_n|=2;var r=r3(),s=a3();Gn!==e||hn!==t?(z0=null,U0=hs()+500,Bc(e,t)):Vc=lf(e,t);e:do try{if(En!==0&&rn!==null){t=rn;var o=sa;t:switch(En){case 1:En=0,sa=null,xc(e,t,o,1);break;case 2:case 9:if(rp(o)){En=0,sa=null,_p(t);break}t=function(){En!==2&&En!==9||Gn!==e||(En=7),ms(e)},o.then(t,t);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:rp(o)?(En=0,sa=null,_p(t)):(En=0,sa=null,xc(e,t,o,7));break;case 5:var f=null;switch(rn.tag){case 26:f=rn.memoizedState;case 5:case 27:var d=rn;if(!f||C3(f)){En=0,sa=null;var p=d.sibling;if(p!==null)rn=p;else{var y=d.return;y!==null?(rn=y,p1(y)):rn=null}break t}}En=0,sa=null,xc(e,t,o,5);break;case 6:En=0,sa=null,xc(e,t,o,6);break;case 8:R2(),bi=6;break e;default:throw Error($e(462))}}ab();break}catch(N){i3(e,N)}while(!0);return Bs=Fl=null,kt.H=r,kt.A=s,_n=n,rn!==null?0:(Gn=null,hn=0,l1(),bi)}function ab(){for(;rn!==null&&!T4();)s3(rn)}function s3(e){var t=Bx(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,t===null?p1(e):rn=t}function _p(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wp(n,t,t.pendingProps,t.type,void 0,hn);break;case 11:t=wp(n,t,t.pendingProps,t.type.render,t.ref,hn);break;case 5:b2(t);default:kx(n,t),t=rn=k5(t,Gs),t=Bx(n,t,Gs)}e.memoizedProps=e.pendingProps,t===null?p1(e):rn=t}function xc(e,t,n,r){Bs=Fl=null,b2(t),Cc=null,Xu=0;var s=t.return;try{if(Wv(e,s,t,n,hn)){bi=1,k0(e,La(n,e.current)),rn=null;return}}catch(o){if(s!==null)throw rn=s,o;bi=1,k0(e,La(n,e.current)),rn=null;return}t.flags&32768?(bn||r===1?e=!0:Vc||hn&536870912?e=!1:(Eo=e=!0,(r===2||r===9||r===3||r===6)&&(r=Oa.current,r!==null&&r.tag===13&&(r.flags|=16384))),o3(t,e)):p1(t)}function p1(e){var t=e;do{if(t.flags&32768){o3(t,Eo);return}e=t.return;var n=Qv(t.alternate,t,Gs);if(n!==null){rn=n;return}if(t=t.sibling,t!==null){rn=t;return}rn=t=e}while(t!==null);bi===0&&(bi=5)}function o3(e,t){do{var n=Kv(e.alternate,e);if(n!==null){n.flags&=32767,rn=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){rn=e;return}rn=e=n}while(e!==null);bi=6,rn=null}function Ip(e,t,n,r,s,o,f,d,p){e.cancelPendingCommit=null;do m1();while(ur!==0);if(_n&6)throw Error($e(327));if(t!==null){if(t===e.current)throw Error($e(177));if(o=t.lanes|t.childLanes,o|=o2,k4(e,n,o,f,d,p),e===Gn&&(rn=Gn=null,hn=0),jc=t,Ro=e,Ec=n,hd=o,dd=s,e3=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,cb(N0,function(){return h3(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=kt.T,kt.T=null,s=wn.p,wn.p=2,f=_n,_n|=4;try{Jv(e,t,n)}finally{_n=f,wn.p=s,kt.T=r}}ur=1,l3(),c3(),u3()}}function l3(){if(ur===1){ur=0;var e=Ro,t=jc,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=kt.T,kt.T=null;var r=wn.p;wn.p=2;var s=_n;_n|=4;try{Xx(t,e);var o=vd,f=I5(e.containerInfo),d=o.focusedElem,p=o.selectionRange;if(f!==d&&d&&d.ownerDocument&&_5(d.ownerDocument.documentElement,d)){if(p!==null&&s2(d)){var y=p.start,N=p.end;if(N===void 0&&(N=y),"selectionStart"in d)d.selectionStart=y,d.selectionEnd=Math.min(N,d.value.length);else{var S=d.ownerDocument||document,E=S&&S.defaultView||window;if(E.getSelection){var w=E.getSelection(),B=d.textContent.length,M=Math.min(p.start,B),P=p.end===void 0?M:Math.min(p.end,B);!w.extend&&M>P&&(f=P,P=M,M=f);var T=Qg(d,M),I=Qg(d,P);if(T&&I&&(w.rangeCount!==1||w.anchorNode!==T.node||w.anchorOffset!==T.offset||w.focusNode!==I.node||w.focusOffset!==I.offset)){var D=S.createRange();D.setStart(T.node,T.offset),w.removeAllRanges(),M>P?(w.addRange(D),w.extend(I.node,I.offset)):(D.setEnd(I.node,I.offset),w.addRange(D))}}}}for(S=[],w=d;w=w.parentNode;)w.nodeType===1&&S.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<S.length;d++){var L=S[d];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Z0=!!yd,vd=yd=null}finally{_n=s,wn.p=r,kt.T=n}}e.current=t,ur=2}}function c3(){if(ur===2){ur=0;var e=Ro,t=jc,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=kt.T,kt.T=null;var r=wn.p;wn.p=2;var s=_n;_n|=4;try{qx(e,t.alternate,t)}finally{_n=s,wn.p=r,kt.T=n}}ur=3}}function u3(){if(ur===4||ur===3){ur=0,_4();var e=Ro,t=jc,n=Ec,r=e3;t.subtreeFlags&10256||t.flags&10256?ur=5:(ur=0,jc=Ro=null,f3(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Oo=null),$d(n),t=t.stateNode,fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(of,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=kt.T,s=wn.p,wn.p=2,kt.T=null;try{for(var o=e.onRecoverableError,f=0;f<r.length;f++){var d=r[f];o(d.value,{componentStack:d.stack})}}finally{kt.T=t,wn.p=s}}Ec&3&&m1(),ms(e),s=e.pendingLanes,n&4194090&&s&42?e===gd?Mu++:(Mu=0,gd=e):Mu=0,vf(0)}}function f3(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gf(t)))}function m1(e){return l3(),c3(),u3(),h3()}function h3(){if(ur!==5)return!1;var e=Ro,t=hd;hd=0;var n=$d(Ec),r=kt.T,s=wn.p;try{wn.p=32>n?32:n,kt.T=null,n=dd,dd=null;var o=Ro,f=Ec;if(ur=0,jc=Ro=null,Ec=0,_n&6)throw Error($e(331));var d=_n;if(_n|=4,Jx(o.current),Zx(o,o.current,f,n),_n=d,vf(0,!1),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(of,o)}catch{}return!0}finally{wn.p=s,kt.T=r,f3(e,t)}}function Dp(e,t,n){t=La(n,t),t=od(e.stateNode,t,2),e=Mo(e,t,2),e!==null&&(cf(e,2),ms(e))}function Pn(e,t,n){if(e.tag===3)Dp(e,e,n);else for(;t!==null;){if(t.tag===3){Dp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){e=La(n,e),n=Ix(2),r=Mo(t,n,2),r!==null&&(Dx(n,r,t,e),cf(r,2),ms(r));break}}t=t.return}}function mh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(L2=!0,s.add(n),e=sb.bind(null,e,t,n),t.then(e,e))}function sb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Gn===e&&(hn&n)===n&&(bi===4||bi===3&&(hn&62914560)===hn&&300>hs()-O2?!(_n&2)&&Bc(e,0):M2|=n,Rc===hn&&(Rc=0)),ms(e)}function d3(e,t){t===0&&(t=l5()),e=Gc(e,t),e!==null&&(cf(e,t),ms(e))}function ob(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d3(e,n)}function lb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error($e(314))}r!==null&&r.delete(t),d3(e,n)}function cb(e,t){return Kd(e,t)}var H0=null,ic=null,md=!1,q0=!1,xh=!1,Cl=0;function ms(e){e!==ic&&e.next===null&&(ic===null?H0=ic=e:ic=ic.next=e),q0=!0,md||(md=!0,fb())}function vf(e,t){if(!xh&&q0){xh=!0;do for(var n=!1,r=H0;r!==null;){if(e!==0){var s=r.pendingLanes;if(s===0)var o=0;else{var f=r.suspendedLanes,d=r.pingedLanes;o=(1<<31-ha(42|e)+1)-1,o&=s&~(f&~d),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Lp(r,o))}else o=hn,o=r1(r,r===Gn?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||lf(r,o)||(n=!0,Lp(r,o));r=r.next}while(n);xh=!1}}function ub(){g3()}function g3(){q0=md=!1;var e=0;Cl!==0&&(vb()&&(e=Cl),Cl=0);for(var t=hs(),n=null,r=H0;r!==null;){var s=r.next,o=p3(r,t);o===0?(r.next=null,n===null?H0=s:n.next=s,s===null&&(ic=n)):(n=r,(e!==0||o&3)&&(q0=!0)),r=s}vf(e)}function p3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-ha(o),d=1<<f,p=s[f];p===-1?(!(d&n)||d&r)&&(s[f]=B4(d,t)):p<=t&&(e.expiredLanes|=d),o&=~d}if(t=Gn,n=hn,n=r1(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(En===2||En===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&q1(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||lf(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&q1(r),$d(n)){case 2:case 8:n=a5;break;case 32:n=N0;break;case 268435456:n=s5;break;default:n=N0}return r=m3.bind(null,e),n=Kd(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&q1(r),e.callbackPriority=2,e.callbackNode=null,2}function m3(e,t){if(ur!==0&&ur!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(m1()&&e.callbackNode!==n)return null;var r=hn;return r=r1(e,e===Gn?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(n3(e,r,t),p3(e,hs()),e.callbackNode!=null&&e.callbackNode===n?m3.bind(null,e):null)}function Lp(e,t){if(m1())return null;n3(e,t,!0)}function fb(){wb(function(){_n&6?Kd(r5,ub):g3()})}function j2(){return Cl===0&&(Cl=o5()),Cl}function Mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:l0(""+e)}function Op(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hb(e,t,n,r,s){if(t==="submit"&&n&&n.stateNode===s){var o=Mp((s[Vr]||null).action),f=r.submitter;f&&(t=(t=f[Vr]||null)?Mp(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var d=new a1("action","action",null,r,s);e.push({event:d,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Cl!==0){var p=f?Op(s,f):new FormData(s);ad(n,{pending:!0,data:p,method:s.method,action:o},null,p)}}else typeof o=="function"&&(d.preventDefault(),p=f?Op(s,f):new FormData(s),ad(n,{pending:!0,data:p,method:s.method,action:o},o,p))},currentTarget:s}]})}}for(var yh=0;yh<Xh.length;yh++){var vh=Xh[yh],db=vh.toLowerCase(),gb=vh[0].toUpperCase()+vh.slice(1);Za(db,"on"+gb)}Za(L5,"onAnimationEnd");Za(M5,"onAnimationIteration");Za(O5,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za(Lv,"onTransitionRun");Za(Mv,"onTransitionStart");Za(Ov,"onTransitionCancel");Za(R5,"onTransitionEnd");_c("onMouseEnter",["mouseout","mouseover"]);_c("onMouseLeave",["mouseout","mouseover"]);_c("onPointerEnter",["pointerout","pointerover"]);_c("onPointerLeave",["pointerout","pointerover"]);Bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function x3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var f=r.length-1;0<=f;f--){var d=r[f],p=d.instance,y=d.currentTarget;if(d=d.listener,p!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=y;try{o(s)}catch(N){B0(N)}s.currentTarget=null,o=p}else for(f=0;f<r.length;f++){if(d=r[f],p=d.instance,y=d.currentTarget,d=d.listener,p!==o&&s.isPropagationStopped())break e;o=d,s.currentTarget=y;try{o(s)}catch(N){B0(N)}s.currentTarget=null,o=p}}}}function nn(e,t){var n=t[Uh];n===void 0&&(n=t[Uh]=new Set);var r=e+"__bubble";n.has(r)||(y3(t,e,2,!1),n.add(r))}function bh(e,t,n){var r=0;t&&(r|=4),y3(n,e,r,t)}var $f="_reactListening"+Math.random().toString(36).slice(2);function B2(e){if(!e[$f]){e[$f]=!0,h5.forEach(function(n){n!=="selectionchange"&&(pb.has(n)||bh(n,!1,e),bh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$f]||(t[$f]=!0,bh("selectionchange",!1,t))}}function y3(e,t,n,r){switch(D3(t)){case 2:var s=Hb;break;case 8:s=qb;break;default:s=U2}n=s.bind(null,t,n,e),s=void 0,!Gh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wh(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var d=r.stateNode.containerInfo;if(d===s)break;if(f===4)for(f=r.return;f!==null;){var p=f.tag;if((p===3||p===4)&&f.stateNode.containerInfo===s)return;f=f.return}for(;d!==null;){if(f=lc(d),f===null)return;if(p=f.tag,p===5||p===6||p===26||p===27){r=o=f;continue e}d=d.parentNode}}r=r.return}b5(function(){var y=o,N=n2(n),S=[];e:{var E=j5.get(e);if(E!==void 0){var w=a1,B=e;switch(e){case"keypress":if(u0(n)===0)break e;case"keydown":case"keyup":w=cv;break;case"focusin":B="focus",w=K1;break;case"focusout":B="blur",w=K1;break;case"beforeblur":case"afterblur":w=K1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=K4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=hv;break;case L5:case M5:case O5:w=ev;break;case R5:w=gv;break;case"scroll":case"scrollend":w=Z4;break;case"wheel":w=mv;break;case"copy":case"cut":case"paste":w=nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Hg;break;case"toggle":case"beforetoggle":w=yv}var M=(t&4)!==0,P=!M&&(e==="scroll"||e==="scrollend"),T=M?E!==null?E+"Capture":null:E;M=[];for(var I=y,D;I!==null;){var L=I;if(D=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||D===null||T===null||(L=Hu(I,T),L!=null&&M.push(Zu(I,L,D))),P)break;I=I.return}0<M.length&&(E=new w(E,B,null,n,N),S.push({event:E,listeners:M}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",E&&n!==qh&&(B=n.relatedTarget||n.fromElement)&&(lc(B)||B[Hc]))break e;if((w||E)&&(E=N.window===N?N:(E=N.ownerDocument)?E.defaultView||E.parentWindow:window,w?(B=n.relatedTarget||n.toElement,w=y,B=B?lc(B):null,B!==null&&(P=sf(B),M=B.tag,B!==P||M!==5&&M!==27&&M!==6)&&(B=null)):(w=null,B=y),w!==B)){if(M=Ug,L="onMouseLeave",T="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(M=Hg,L="onPointerLeave",T="onPointerEnter",I="pointer"),P=w==null?E:xu(w),D=B==null?E:xu(B),E=new M(L,I+"leave",w,n,N),E.target=P,E.relatedTarget=D,L=null,lc(N)===y&&(M=new M(T,I+"enter",B,n,N),M.target=D,M.relatedTarget=P,L=M),P=L,w&&B)t:{for(M=w,T=B,I=0,D=M;D;D=Kl(D))I++;for(D=0,L=T;L;L=Kl(L))D++;for(;0<I-D;)M=Kl(M),I--;for(;0<D-I;)T=Kl(T),D--;for(;I--;){if(M===T||T!==null&&M===T.alternate)break t;M=Kl(M),T=Kl(T)}M=null}else M=null;w!==null&&Rp(S,E,w,M,!1),B!==null&&P!==null&&Rp(S,P,B,M,!0)}}e:{if(E=y?xu(y):window,w=E.nodeName&&E.nodeName.toLowerCase(),w==="select"||w==="input"&&E.type==="file")var F=Yg;else if(Vg(E))if(E5)F=_v;else{F=Ev;var X=Cv}else w=E.nodeName,!w||w.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?y&&t2(y.elementType)&&(F=Yg):F=Tv;if(F&&(F=F(e,y))){C5(S,F,n,N);break e}X&&X(e,E,y),e==="focusout"&&y&&E.type==="number"&&y.memoizedProps.value!=null&&Hh(E,"number",E.value)}switch(X=y?xu(y):window,e){case"focusin":(Vg(X)||X.contentEditable==="true")&&(fc=X,Vh=y,Au=null);break;case"focusout":Au=Vh=fc=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Kg(S,n,N);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":Kg(S,n,N)}var k;if(a2)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else uc?S5(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(A5&&n.locale!=="ko"&&(uc||H!=="onCompositionStart"?H==="onCompositionEnd"&&uc&&(k=w5()):(Co=N,i2="value"in Co?Co.value:Co.textContent,uc=!0)),X=G0(y,H),0<X.length&&(H=new zg(H,e,null,n,N),S.push({event:H,listeners:X}),k?H.data=k:(k=N5(n),k!==null&&(H.data=k)))),(k=bv?wv(e,n):Av(e,n))&&(H=G0(y,"onBeforeInput"),0<H.length&&(X=new zg("onBeforeInput","beforeinput",null,n,N),S.push({event:X,listeners:H}),X.data=k)),hb(S,e,y,n,N)}x3(S,t)})}function Zu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function G0(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=Hu(e,n),s!=null&&r.unshift(Zu(e,s,o)),s=Hu(e,t),s!=null&&r.push(Zu(e,s,o))),e.tag===3)return r;e=e.return}return[]}function Kl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rp(e,t,n,r,s){for(var o=t._reactName,f=[];n!==null&&n!==r;){var d=n,p=d.alternate,y=d.stateNode;if(d=d.tag,p!==null&&p===r)break;d!==5&&d!==26&&d!==27||y===null||(p=y,s?(y=Hu(n,o),y!=null&&f.unshift(Zu(n,y,p))):s||(y=Hu(n,o),y!=null&&f.push(Zu(n,y,p)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var mb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function jp(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(xb,"")}function v3(e,t){return t=jp(t),jp(e)===t}function x1(){}function On(e,t,n,r,s,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ic(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ic(e,""+r);break;case"className":Yf(e,"class",r);break;case"tabIndex":Yf(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Yf(e,n,r);break;case"style":v5(e,r,o);break;case"data":if(t!=="object"){Yf(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=l0(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&On(e,t,"name",s.name,s,null),On(e,t,"formEncType",s.formEncType,s,null),On(e,t,"formMethod",s.formMethod,s,null),On(e,t,"formTarget",s.formTarget,s,null)):(On(e,t,"encType",s.encType,s,null),On(e,t,"method",s.method,s,null),On(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=l0(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=x1);break;case"onScroll":r!=null&&nn("scroll",e);break;case"onScrollEnd":r!=null&&nn("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($e(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error($e(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=l0(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":nn("beforetoggle",e),nn("toggle",e),o0(e,"popover",r);break;case"xlinkActuate":_s(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":_s(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":_s(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":_s(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":_s(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":_s(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":_s(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":_s(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":_s(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":o0(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=X4.get(n)||n,o0(e,n,r))}}function xd(e,t,n,r,s,o){switch(n){case"style":v5(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($e(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error($e(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Ic(e,r):(typeof r=="number"||typeof r=="bigint")&&Ic(e,""+r);break;case"onScroll":r!=null&&nn("scroll",e);break;case"onScrollEnd":r!=null&&nn("scrollend",e);break;case"onClick":r!=null&&(e.onclick=x1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!d5.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),o=e[Vr]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,s),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):o0(e,n,r)}}}function hr(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nn("error",e),nn("load",e);var r=!1,s=!1,o;for(o in n)if(n.hasOwnProperty(o)){var f=n[o];if(f!=null)switch(o){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($e(137,t));default:On(e,t,o,f,n,null)}}s&&On(e,t,"srcSet",n.srcSet,n,null),r&&On(e,t,"src",n.src,n,null);return;case"input":nn("invalid",e);var d=o=f=s=null,p=null,y=null;for(r in n)if(n.hasOwnProperty(r)){var N=n[r];if(N!=null)switch(r){case"name":s=N;break;case"type":f=N;break;case"checked":p=N;break;case"defaultChecked":y=N;break;case"value":o=N;break;case"defaultValue":d=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error($e(137,t));break;default:On(e,t,r,N,n,null)}}m5(e,o,d,p,y,f,s,!1),C0(e);return;case"select":nn("invalid",e),r=f=o=null;for(s in n)if(n.hasOwnProperty(s)&&(d=n[s],d!=null))switch(s){case"value":o=d;break;case"defaultValue":f=d;break;case"multiple":r=d;default:On(e,t,s,d,n,null)}t=o,n=f,e.multiple=!!r,t!=null?bc(e,!!r,t,!1):n!=null&&bc(e,!!r,n,!0);return;case"textarea":nn("invalid",e),o=s=r=null;for(f in n)if(n.hasOwnProperty(f)&&(d=n[f],d!=null))switch(f){case"value":r=d;break;case"defaultValue":s=d;break;case"children":o=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error($e(91));break;default:On(e,t,f,d,n,null)}y5(e,r,s,o),C0(e);return;case"option":for(p in n)if(n.hasOwnProperty(p)&&(r=n[p],r!=null))switch(p){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:On(e,t,p,r,n,null)}return;case"dialog":nn("beforetoggle",e),nn("toggle",e),nn("cancel",e),nn("close",e);break;case"iframe":case"object":nn("load",e);break;case"video":case"audio":for(r=0;r<Wu.length;r++)nn(Wu[r],e);break;case"image":nn("error",e),nn("load",e);break;case"details":nn("toggle",e);break;case"embed":case"source":case"link":nn("error",e),nn("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(y in n)if(n.hasOwnProperty(y)&&(r=n[y],r!=null))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error($e(137,t));default:On(e,t,y,r,n,null)}return;default:if(t2(t)){for(N in n)n.hasOwnProperty(N)&&(r=n[N],r!==void 0&&xd(e,t,N,r,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!=null&&On(e,t,d,r,n,null))}function yb(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,f=null,d=null,p=null,y=null,N=null;for(w in n){var S=n[w];if(n.hasOwnProperty(w)&&S!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":p=S;default:r.hasOwnProperty(w)||On(e,t,w,null,r,S)}}for(var E in r){var w=r[E];if(S=n[E],r.hasOwnProperty(E)&&(w!=null||S!=null))switch(E){case"type":o=w;break;case"name":s=w;break;case"checked":y=w;break;case"defaultChecked":N=w;break;case"value":f=w;break;case"defaultValue":d=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error($e(137,t));break;default:w!==S&&On(e,t,E,w,r,S)}}zh(e,f,d,p,y,N,o,s);return;case"select":w=f=d=E=null;for(o in n)if(p=n[o],n.hasOwnProperty(o)&&p!=null)switch(o){case"value":break;case"multiple":w=p;default:r.hasOwnProperty(o)||On(e,t,o,null,r,p)}for(s in r)if(o=r[s],p=n[s],r.hasOwnProperty(s)&&(o!=null||p!=null))switch(s){case"value":E=o;break;case"defaultValue":d=o;break;case"multiple":f=o;default:o!==p&&On(e,t,s,o,r,p)}t=d,n=f,r=w,E!=null?bc(e,!!n,E,!1):!!r!=!!n&&(t!=null?bc(e,!!n,t,!0):bc(e,!!n,n?[]:"",!1));return;case"textarea":w=E=null;for(d in n)if(s=n[d],n.hasOwnProperty(d)&&s!=null&&!r.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:On(e,t,d,null,r,s)}for(f in r)if(s=r[f],o=n[f],r.hasOwnProperty(f)&&(s!=null||o!=null))switch(f){case"value":E=s;break;case"defaultValue":w=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error($e(91));break;default:s!==o&&On(e,t,f,s,r,o)}x5(e,E,w);return;case"option":for(var B in n)if(E=n[B],n.hasOwnProperty(B)&&E!=null&&!r.hasOwnProperty(B))switch(B){case"selected":e.selected=!1;break;default:On(e,t,B,null,r,E)}for(p in r)if(E=r[p],w=n[p],r.hasOwnProperty(p)&&E!==w&&(E!=null||w!=null))switch(p){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:On(e,t,p,E,r,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)E=n[M],n.hasOwnProperty(M)&&E!=null&&!r.hasOwnProperty(M)&&On(e,t,M,null,r,E);for(y in r)if(E=r[y],w=n[y],r.hasOwnProperty(y)&&E!==w&&(E!=null||w!=null))switch(y){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error($e(137,t));break;default:On(e,t,y,E,r,w)}return;default:if(t2(t)){for(var P in n)E=n[P],n.hasOwnProperty(P)&&E!==void 0&&!r.hasOwnProperty(P)&&xd(e,t,P,void 0,r,E);for(N in r)E=r[N],w=n[N],!r.hasOwnProperty(N)||E===w||E===void 0&&w===void 0||xd(e,t,N,E,r,w);return}}for(var T in n)E=n[T],n.hasOwnProperty(T)&&E!=null&&!r.hasOwnProperty(T)&&On(e,t,T,null,r,E);for(S in r)E=r[S],w=n[S],!r.hasOwnProperty(S)||E===w||E==null&&w==null||On(e,t,S,E,r,w)}var yd=null,vd=null;function V0(e){return e.nodeType===9?e:e.ownerDocument}function Bp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b3(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ah=null;function vb(){var e=window.event;return e&&e.type==="popstate"?e===Ah?!1:(Ah=e,!0):(Ah=null,!1)}var w3=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(e){return kp.resolve(null).then(e).catch(Ab)}:w3;function Ab(e){setTimeout(function(){throw e})}function Xo(e){return e==="head"}function Pp(e,t){var n=t,r=0,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var f=e.ownerDocument;if(n&1&&Ou(f.documentElement),n&2&&Ou(f.body),n&4)for(n=f.head,Ou(n),f=n.firstChild;f;){var d=f.nextSibling,p=f.nodeName;f[uf]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=d}}if(s===0){e.removeChild(o),ef(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);ef(t)}function wd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wd(n),e2(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Sb(e,t,n,r){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[uf])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Xa(e.nextSibling),e===null)break}return null}function Nb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xa(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Sd=null;function Fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function A3(e,t,n){switch(t=V0(n),e){case"html":if(e=t.documentElement,!e)throw Error($e(452));return e;case"head":if(e=t.head,!e)throw Error($e(453));return e;case"body":if(e=t.body,!e)throw Error($e(454));return e;default:throw Error($e(451))}}function Ou(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);e2(e)}var Ra=new Map,Up=new Set;function Y0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vs=wn.d;wn.d={f:Eb,r:Tb,D:_b,C:Ib,L:Db,m:Lb,X:Ob,S:Mb,M:Rb};function Eb(){var e=Vs.f(),t=g1();return e||t}function Tb(e){var t=qc(e);t!==null&&t.tag===5&&t.type==="form"?px(t):Vs.r(e)}var Yc=typeof document>"u"?null:document;function S3(e,t,n){var r=Yc;if(r&&typeof t=="string"&&t){var s=Da(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Up.has(s)||(Up.add(s),e={rel:e,crossOrigin:n,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),hr(t,"link",e),er(t),r.head.appendChild(t)))}}function _b(e){Vs.D(e),S3("dns-prefetch",e,null)}function Ib(e,t){Vs.C(e,t),S3("preconnect",e,t)}function Db(e,t,n){Vs.L(e,t,n);var r=Yc;if(r&&e&&t){var s='link[rel="preload"][as="'+Da(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Da(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Da(n.imageSizes)+'"]')):s+='[href="'+Da(e)+'"]';var o=s;switch(t){case"style":o=kc(e);break;case"script":o=Xc(e)}Ra.has(o)||(e=Jn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ra.set(o,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(bf(o))||t==="script"&&r.querySelector(wf(o))||(t=r.createElement("link"),hr(t,"link",e),er(t),r.head.appendChild(t)))}}function Lb(e,t){Vs.m(e,t);var n=Yc;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Da(r)+'"][href="'+Da(e)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Xc(e)}if(!Ra.has(o)&&(e=Jn({rel:"modulepreload",href:e},t),Ra.set(o,e),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wf(o)))return}r=n.createElement("link"),hr(r,"link",e),er(r),n.head.appendChild(r)}}}function Mb(e,t,n){Vs.S(e,t,n);var r=Yc;if(r&&e){var s=vc(r).hoistableStyles,o=kc(e);t=t||"default";var f=s.get(o);if(!f){var d={loading:0,preload:null};if(f=r.querySelector(bf(o)))d.loading=5;else{e=Jn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ra.get(o))&&k2(e,n);var p=f=r.createElement("link");er(p),hr(p,"link",e),p._p=new Promise(function(y,N){p.onload=y,p.onerror=N}),p.addEventListener("load",function(){d.loading|=1}),p.addEventListener("error",function(){d.loading|=2}),d.loading|=4,x0(f,t,r)}f={type:"stylesheet",instance:f,count:1,state:d},s.set(o,f)}}}function Ob(e,t){Vs.X(e,t);var n=Yc;if(n&&e){var r=vc(n).hoistableScripts,s=Xc(e),o=r.get(s);o||(o=n.querySelector(wf(s)),o||(e=Jn({src:e,async:!0},t),(t=Ra.get(s))&&P2(e,t),o=n.createElement("script"),er(o),hr(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function Rb(e,t){Vs.M(e,t);var n=Yc;if(n&&e){var r=vc(n).hoistableScripts,s=Xc(e),o=r.get(s);o||(o=n.querySelector(wf(s)),o||(e=Jn({src:e,async:!0,type:"module"},t),(t=Ra.get(s))&&P2(e,t),o=n.createElement("script"),er(o),hr(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}function zp(e,t,n,r){var s=(s=Do.current)?Y0(s):null;if(!s)throw Error($e(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=kc(n.href),n=vc(s).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=kc(n.href);var o=vc(s).hoistableStyles,f=o.get(e);if(f||(s=s.ownerDocument||s,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=s.querySelector(bf(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Ra.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ra.set(e,n),o||jb(s,e,n,f.state))),t&&r===null)throw Error($e(528,""));return f}if(t&&r!==null)throw Error($e(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xc(n),n=vc(s).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error($e(444,e))}}function kc(e){return'href="'+Da(e)+'"'}function bf(e){return'link[rel="stylesheet"]['+e+"]"}function N3(e){return Jn({},e,{"data-precedence":e.precedence,precedence:null})}function jb(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),hr(t,"link",n),er(t),e.head.appendChild(t))}function Xc(e){return'[src="'+Da(e)+'"]'}function wf(e){return"script[async]"+e}function Hp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Da(n.href)+'"]');if(r)return t.instance=r,er(r),r;var s=Jn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),er(r),hr(r,"style",s),x0(r,n.precedence,e),t.instance=r;case"stylesheet":s=kc(n.href);var o=e.querySelector(bf(s));if(o)return t.state.loading|=4,t.instance=o,er(o),o;r=N3(n),(s=Ra.get(s))&&k2(r,s),o=(e.ownerDocument||e).createElement("link"),er(o);var f=o;return f._p=new Promise(function(d,p){f.onload=d,f.onerror=p}),hr(o,"link",r),t.state.loading|=4,x0(o,n.precedence,e),t.instance=o;case"script":return o=Xc(n.src),(s=e.querySelector(wf(o)))?(t.instance=s,er(s),s):(r=n,(s=Ra.get(o))&&(r=Jn({},n),P2(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),er(s),hr(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error($e(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,x0(r,n.precedence,e));return t.instance}function x0(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,f=0;f<r.length;f++){var d=r[f];if(d.dataset.precedence===t)o=d;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function k2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function P2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var y0=null;function qp(e,t,n){if(y0===null){var r=new Map,s=y0=new Map;s.set(n,r)}else s=y0,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[uf]||o[Nr]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var d=r.get(f);d?d.push(o):r.set(f,[o])}}return r}function Gp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Bb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function C3(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Qu=null;function kb(){}function Pb(e,t,n){if(Qu===null)throw Error($e(475));var r=Qu;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=kc(n.href),o=e.querySelector(bf(s));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=X0.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,er(o);return}o=e.ownerDocument||e,n=N3(n),(s=Ra.get(s))&&k2(n,s),o=o.createElement("link"),er(o);var f=o;f._p=new Promise(function(d,p){f.onload=d,f.onerror=p}),hr(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=X0.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Fb(){if(Qu===null)throw Error($e(475));var e=Qu;return e.stylesheets&&e.count===0&&Nd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Nd(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function X0(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var W0=null;function Nd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,W0=new Map,t.forEach(Ub,e),W0=null,X0.call(e))}function Ub(e,t){if(!(t.state.loading&4)){var n=W0.get(e);if(n)var r=n.get(null);else{n=new Map,W0.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var f=s[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),r=f)}r&&n.set(null,r)}s=t.instance,f=s.getAttribute("data-precedence"),o=n.get(f)||r,o===r&&n.set(null,s),n.set(f,s),this.count++,r=X0.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ku={$$typeof:Os,Provider:null,Consumer:null,_currentValue:vl,_currentValue2:vl,_threadCount:0};function zb(e,t,n,r,s,o,f,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G1(0),this.hiddenUpdates=G1(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function E3(e,t,n,r,s,o,f,d,p,y,N,S){return e=new zb(e,t,n,f,d,p,y,S),t=1,o===!0&&(t|=24),o=la(3,null,null,t),e.current=o,o.stateNode=e,t=h2(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},g2(o),e}function T3(e){return e?(e=gc,e):gc}function _3(e,t,n,r,s,o){s=T3(s),r.context===null?r.context=s:r.pendingContext=s,r=Lo(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Mo(e,r,t),n!==null&&(ga(n,e,t),Cu(n,e,t))}function Vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function F2(e,t){Vp(e,t),(e=e.alternate)&&Vp(e,t)}function I3(e){if(e.tag===13){var t=Gc(e,67108864);t!==null&&ga(t,e,67108864),F2(e,67108864)}}var Z0=!0;function Hb(e,t,n,r){var s=kt.T;kt.T=null;var o=wn.p;try{wn.p=2,U2(e,t,n,r)}finally{wn.p=o,kt.T=s}}function qb(e,t,n,r){var s=kt.T;kt.T=null;var o=wn.p;try{wn.p=8,U2(e,t,n,r)}finally{wn.p=o,kt.T=s}}function U2(e,t,n,r){if(Z0){var s=Cd(r);if(s===null)wh(e,t,r,Q0,n),Yp(e,r);else if(Vb(s,e,t,n,r))r.stopPropagation();else if(Yp(e,r),t&4&&-1<Gb.indexOf(e)){for(;s!==null;){var o=qc(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=dl(o.pendingLanes);if(f!==0){var d=o;for(d.pendingLanes|=2,d.entangledLanes|=2;f;){var p=1<<31-ha(f);d.entanglements[1]|=p,f&=~p}ms(o),!(_n&6)&&(U0=hs()+500,vf(0))}}break;case 13:d=Gc(o,2),d!==null&&ga(d,o,2),g1(),F2(o,2)}if(o=Cd(r),o===null&&wh(e,t,r,Q0,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else wh(e,t,r,null,n)}}function Cd(e){return e=n2(e),z2(e)}var Q0=null;function z2(e){if(Q0=null,e=lc(e),e!==null){var t=sf(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=e5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Q0=e,null}function D3(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I4()){case r5:return 2;case a5:return 8;case N0:case D4:return 32;case s5:return 268435456;default:return 32}default:return 32}}var Ed=!1,jo=null,Bo=null,ko=null,Ju=new Map,$u=new Map,Ao=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yp(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":Ju.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(t.pointerId)}}function fu(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=qc(t),t!==null&&I3(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vb(e,t,n,r,s){switch(t){case"focusin":return jo=fu(jo,e,t,n,r,s),!0;case"dragenter":return Bo=fu(Bo,e,t,n,r,s),!0;case"mouseover":return ko=fu(ko,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ju.set(o,fu(Ju.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,$u.set(o,fu($u.get(o)||null,e,t,n,r,s)),!0}return!1}function L3(e){var t=lc(e.target);if(t!==null){var n=sf(t);if(n!==null){if(t=n.tag,t===13){if(t=e5(n),t!==null){e.blockedOn=t,P4(e.priority,function(){if(n.tag===13){var r=da();r=Jd(r);var s=Gc(n,r);s!==null&&ga(s,n,r),F2(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function v0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cd(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qh=r,n.target.dispatchEvent(r),qh=null}else return t=qc(n),t!==null&&I3(t),e.blockedOn=n,!1;t.shift()}return!0}function Xp(e,t,n){v0(e)&&n.delete(t)}function Yb(){Ed=!1,jo!==null&&v0(jo)&&(jo=null),Bo!==null&&v0(Bo)&&(Bo=null),ko!==null&&v0(ko)&&(ko=null),Ju.forEach(Xp),$u.forEach(Xp)}function e0(e,t){e.blockedOn===t&&(e.blockedOn=null,Ed||(Ed=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,Yb)))}var t0=null;function Wp(e){t0!==e&&(t0=e,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,function(){t0===e&&(t0=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(z2(r||n)===null)continue;break}var o=qc(n);o!==null&&(e.splice(t,3),t-=3,ad(o,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function ef(e){function t(p){return e0(p,e)}jo!==null&&e0(jo,e),Bo!==null&&e0(Bo,e),ko!==null&&e0(ko,e),Ju.forEach(t),$u.forEach(t);for(var n=0;n<Ao.length;n++){var r=Ao[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ao.length&&(n=Ao[0],n.blockedOn===null);)L3(n),n.blockedOn===null&&Ao.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],f=s[Vr]||null;if(typeof o=="function")f||Wp(n);else if(f){var d=null;if(o&&o.hasAttribute("formAction")){if(s=o,f=o[Vr]||null)d=f.formAction;else if(z2(s)!==null)continue}else d=f.action;typeof d=="function"?n[r+1]=d:(n.splice(r,3),r-=3),Wp(n)}}}function H2(e){this._internalRoot=e}y1.prototype.render=H2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));var n=t.current,r=da();_3(n,r,e,t,null,null)};y1.prototype.unmount=H2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_3(e.current,2,null,e,null,null),g1(),t[Hc]=null}};function y1(e){this._internalRoot=e}y1.prototype.unstable_scheduleHydration=function(e){if(e){var t=f5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ao.length&&t!==0&&t<Ao[n].priority;n++);Ao.splice(n,0,e),n===0&&L3(e)}};var Zp=Jm.version;if(Zp!=="19.1.1")throw Error($e(527,Zp,"19.1.1"));wn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=A4(t),e=e!==null?t5(e):null,e=e===null?null:e.stateNode,e};var Xb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:kt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{of=n0.inject(Xb),fa=n0}catch{}}n1.createRoot=function(e,t){if(!$m(e))throw Error($e(299));var n=!1,r="",s=Ex,o=Tx,f=_x,d=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(d=t.unstable_transitionCallbacks)),t=E3(e,1,!1,null,null,n,r,s,o,f,d,null),e[Hc]=t.current,B2(e),new H2(t)};n1.hydrateRoot=function(e,t,n){if(!$m(e))throw Error($e(299));var r=!1,s="",o=Ex,f=Tx,d=_x,p=null,y=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(p=n.unstable_transitionCallbacks),n.formState!==void 0&&(y=n.formState)),t=E3(e,1,!0,t,n??null,r,s,o,f,d,p,y),t.context=T3(null),n=t.current,r=da(),r=Jd(r),s=Lo(r),s.callback=null,Mo(n,s,r),n=r,t.current.lanes=n,cf(t,n),ms(t),e[Hc]=t.current,B2(e),new y1(t)};n1.version="19.1.1";function M3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M3)}catch(e){console.error(e)}}M3(),Ym.exports=n1;var Wb=Ym.exports;const Zb=qd(Wb);var ot=(e=>(e.CLIENT="Client",e.COURIER="Courier",e.ASSIGNING_USER="Assigning User",e.SUPER_USER="Super User",e.ADMIN="Administrator",e))(ot||{}),st=(e=>(e.PENDING_ASSIGNMENT="Pending Assignment",e.ASSIGNED_TO_COURIER="Assigned to Courier",e.PICKED_UP="Picked Up",e.IN_TRANSIT="In Transit",e.OUT_FOR_DELIVERY="Out for Delivery",e.DELIVERED="Delivered",e.DELIVERY_FAILED="Delivery Failed",e.RETURN_REQUESTED="Return Requested",e.RETURN_IN_PROGRESS="Return in Progress",e.RETURNED="Returned",e))(st||{}),fr=(e=>(e.COD="Cash on Delivery",e.INSTAPAY="InstaPay",e.WALLET="Wallet",e))(fr||{}),kn=(e=>(e.CAIRO_ZONE_A="Cairo - Zone A",e.CAIRO_ZONE_B="Cairo - Zone B",e.GIZA_ZONE_A="Giza - Zone A",e.GIZA_ZONE_B="Giza - Zone B",e))(kn||{}),_o=(e=>(e.STANDARD="Standard",e.URGENT="Urgent",e.EXPRESS="Express",e))(_o||{}),xl=(e=>(e.DEPOSIT="Deposit",e.PAYMENT="Payment",e))(xl||{}),O3=(e=>(e.EMAIL="Email",e.SMS="SMS",e))(O3||{}),oa=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e))(oa||{}),aa=(e=>(e.COMMISSION="Commission",e.PENALTY="Penalty",e.BONUS="Bonus",e.WITHDRAWAL_REQUEST="Withdrawal Request",e.WITHDRAWAL_PROCESSED="Withdrawal Processed",e))(aa||{}),Gr=(e=>(e.PENDING="Pending",e.PROCESSED="Processed",e.FAILED="Failed",e))(Gr||{});const Qb=[{id:1,name:"Admin User",email:"admin@flash.com",password:"password123",role:ot.ADMIN},{id:2,name:"Super User One",email:"superuser1@flash.com",password:"password123",role:ot.SUPER_USER},{id:3,name:"Assigner One",email:"assigner1@flash.com",password:"password123",role:ot.ASSIGNING_USER},{id:4,name:"Client Alice",email:"alice@example.com",password:"password123",role:ot.CLIENT,phone:"01012345678",address:{street:"123 Maadi St",city:"Cairo",zone:kn.CAIRO_ZONE_A,details:"Apt 5"},flatRateFee:75,taxCardNumber:"123-456-789"},{id:5,name:"Client Bob",email:"bob@example.com",password:"password123",role:ot.CLIENT,phone:"01187654321",address:{street:"789 Dokki St",city:"Giza",zone:kn.GIZA_ZONE_A,details:"Villa 10"},flatRateFee:75,taxCardNumber:"987-654-321"},{id:6,name:"Courier Ahmed",email:"ahmed@flash.com",password:"password123",role:ot.COURIER,zone:kn.CAIRO_ZONE_A,location:{lat:30.0444,lng:31.2357}},{id:10,name:"Courier Youssef",email:"youssef@flash.com",password:"password123",role:ot.COURIER,zone:kn.CAIRO_ZONE_A,location:{lat:30.0626,lng:31.2497}},{id:8,name:"Courier Omar",email:"omar@flash.com",password:"password123",role:ot.COURIER,zone:kn.CAIRO_ZONE_B,location:{lat:30.0769,lng:31.3436}},{id:11,name:"Courier Mariam",email:"mariam@flash.com",password:"password123",role:ot.COURIER,zone:kn.CAIRO_ZONE_B,location:{lat:30.0875,lng:31.3284}},{id:9,name:"Courier Layla",email:"layla@flash.com",password:"password123",role:ot.COURIER,zone:kn.GIZA_ZONE_A,location:{lat:30.0131,lng:31.2089}},{id:12,name:"Courier Hassan",email:"hassan@flash.com",password:"password123",role:ot.COURIER,zone:kn.GIZA_ZONE_A,location:{lat:30.0254,lng:31.2113}},{id:7,name:"Courier Fatima",email:"fatima@flash.com",password:"password123",role:ot.COURIER,zone:kn.GIZA_ZONE_B,location:{lat:29.9792,lng:31.1342}},{id:13,name:"Courier Amr",email:"amr@flash.com",password:"password123",role:ot.COURIER,zone:kn.GIZA_ZONE_B,location:{lat:29.9756,lng:31.1378}}],Qp=[{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:4,clientName:"Client Alice",recipientName:"John Doe",recipientPhone:"01234567890",fromAddress:{street:"123 Maadi St",city:"Cairo",zone:kn.CAIRO_ZONE_A,details:"Apt 5"},toAddress:{street:"456 Nasr City St",city:"Cairo",zone:kn.CAIRO_ZONE_B,details:"Bldg 2"},packageDescription:"Box of electronics",isLargeOrder:!1,price:875,paymentMethod:fr.COD,status:st.PENDING_ASSIGNMENT,creationDate:new Date(Date.now()-2*24*60*60*1e3).toISOString(),priority:_o.STANDARD,packageValue:800,clientFlatRateFee:75},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:5,clientName:"Client Bob",recipientName:"Jane Smith",recipientPhone:"01123456789",fromAddress:{street:"789 Dokki St",city:"Giza",zone:kn.GIZA_ZONE_A,details:"Villa 10"},toAddress:{street:"101 Haram St",city:"Giza",zone:kn.GIZA_ZONE_B,details:"Floor 3"},packageDescription:"Large furniture item",isLargeOrder:!0,price:3075,paymentMethod:fr.INSTAPAY,status:st.IN_TRANSIT,courierId:7,creationDate:new Date(Date.now()-1*24*60*60*1e3).toISOString(),priority:_o.STANDARD,packageValue:3e3,clientFlatRateFee:75,courierCommission:30},{id:"FLS764981",clientId:4,clientName:"Client Alice",recipientName:"sdfasf",recipientPhone:"01012345678",fromAddress:{street:"123 Maadi St",city:"Cairo",zone:kn.CAIRO_ZONE_A,details:"Apt 5"},toAddress:{street:"456 Somewhere Else",city:"Cairo",zone:kn.CAIRO_ZONE_B,details:"Floor 1"},packageDescription:"Important Documents",isLargeOrder:!1,price:575,paymentMethod:fr.COD,status:st.DELIVERED,courierId:6,creationDate:new Date(Date.now()-4*24*60*60*1e3).toISOString(),deliveryDate:new Date(Date.now()-2*24*60*60*1e3).toISOString(),priority:_o.URGENT,packageValue:500,clientFlatRateFee:75,courierCommission:30},{id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:5,clientName:"Client Bob",recipientName:"Emily Carter",recipientPhone:"01555123456",fromAddress:{street:"789 Dokki St",city:"Giza",zone:kn.GIZA_ZONE_A,details:"Villa 10"},toAddress:{street:"321 Mohandessin Rd",city:"Giza",zone:kn.GIZA_ZONE_A,details:"Shop 7"},packageDescription:"Fashion apparel",isLargeOrder:!1,price:1275,paymentMethod:fr.COD,status:st.DELIVERED,courierId:9,creationDate:new Date(Date.now()-5*24*60*60*1e3).toISOString(),deliveryDate:new Date(Date.now()-4*24*60*60*1e3).toISOString(),priority:_o.EXPRESS,packageValue:1200,clientFlatRateFee:75,courierCommission:30}],Kb=[],Jb={baseCommissionRate:30,penaltyAmount:10,consecutiveFailureLimit:3,performanceThreshold:2},$b=[{courierId:6,deliveriesCompleted:45,deliveriesFailed:2,totalEarnings:685,pendingEarnings:45,currentBalance:640,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:0,isRestricted:!1,performanceRating:4.7},{courierId:7,deliveriesCompleted:80,deliveriesFailed:10,totalEarnings:1200,pendingEarnings:200,currentBalance:1e3,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:1,isRestricted:!1,performanceRating:4.2},{courierId:8,deliveriesCompleted:20,deliveriesFailed:5,totalEarnings:250,pendingEarnings:0,currentBalance:250,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:2,isRestricted:!0,restrictionReason:"Performance rating too low",performanceRating:1.8},{courierId:9,deliveriesCompleted:150,deliveriesFailed:3,totalEarnings:2500,pendingEarnings:500,currentBalance:2e3,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:0,isRestricted:!1,performanceRating:4.9},{courierId:10,deliveriesCompleted:35,deliveriesFailed:1,totalEarnings:520,pendingEarnings:75,currentBalance:445,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:0,isRestricted:!1,performanceRating:4.8},{courierId:11,deliveriesCompleted:62,deliveriesFailed:4,totalEarnings:895,pendingEarnings:120,currentBalance:775,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:0,isRestricted:!1,performanceRating:4.5},{courierId:12,deliveriesCompleted:28,deliveriesFailed:2,totalEarnings:410,pendingEarnings:45,currentBalance:365,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:0,isRestricted:!1,performanceRating:4.6},{courierId:13,deliveriesCompleted:91,deliveriesFailed:8,totalEarnings:1340,pendingEarnings:180,currentBalance:1160,commissionType:oa.FLAT,commissionValue:30,consecutiveFailures:0,isRestricted:!1,performanceRating:4.3}],Kp=async e=>{const t="http://localhost:3001/api/send-email",n=e.message.split(`

`),r=n[0]||`Update for Shipment ${e.shipmentId}`,s=n.slice(1).join(`

`);console.log("%cSending API request to backend to send email...","color: blue; font-weight: bold;");try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:e.recipient,subject:r,message:s})});if(!o.ok){const f=await o.json();throw new Error(f.error||`Server responded with status ${o.status}`)}return console.log("%cBackend confirmed email sent successfully!","color: green; font-weight: bold;"),Promise.resolve()}catch(o){return console.error("%cError sending email via backend:","color: red; font-weight: bold;",o),Promise.reject(o)}},R3=zc.createContext(null),di=()=>{const e=zc.useContext(R3);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},ew=({children:e})=>{const[t,n]=Ge.useState(null),[r,s]=Ge.useState(Qb),[o,f]=Ge.useState(Qp),[d,p]=Ge.useState([]),[y,N]=Ge.useState(Kb),[S,E]=Ge.useState({}),[w,B]=Ge.useState([]),[M,P]=Ge.useState($b),[T,I]=Ge.useState([]),[D]=Ge.useState(Jb),L=Ge.useCallback((xe,Ce)=>{const pe=Date.now();B(Ee=>[...Ee,{id:pe,message:xe,type:Ce}]),setTimeout(()=>{B(Ee=>Ee.filter(He=>He.id!==pe))},5e3)},[]),F=Ge.useMemo(()=>t?d.filter(xe=>xe.userId===t.id).reduce((xe,Ce)=>xe+Ce.amount,0):0,[d,t]),X=Ge.useMemo(()=>t?{...t,walletBalance:F}:null,[t,F]);Ge.useEffect(()=>{const xe=[],Ce=[];for(const pe of Qp)pe.status===st.DELIVERED&&pe.paymentMethod===fr.COD&&pe.packageValue>0&&xe.push({id:`TXN-COD-${pe.id}`,userId:pe.clientId,type:xl.DEPOSIT,amount:pe.packageValue,date:pe.deliveryDate||new Date().toISOString(),description:`COD collection for shipment ${pe.id}`}),pe.paymentMethod===fr.WALLET&&xe.push({id:`TXN-PAY-${pe.id}`,userId:pe.clientId,type:xl.PAYMENT,amount:-(pe.clientFlatRateFee||0),date:pe.creationDate,description:`Payment for shipment ${pe.id}`}),(pe.status===st.DELIVERED||pe.status===st.RETURNED)&&pe.courierId&&typeof pe.courierCommission=="number"&&Ce.push({id:`txn-init-${pe.id}`,courierId:pe.courierId,type:aa.COMMISSION,amount:pe.courierCommission,description:`Commission for ${pe.id}`,shipmentId:pe.id,timestamp:pe.deliveryDate||new Date().toISOString(),status:Gr.PROCESSED});p(xe),I(Ce)},[]);const k=Ge.useMemo(()=>M.map(xe=>{const Ce=xe.courierId,pe=T.filter(xt=>xt.courierId===Ce),Ee=o.filter(xt=>xt.courierId===Ce&&(xt.status===st.DELIVERED||xt.status===st.RETURNED)).length,He=o.filter(xt=>xt.courierId===Ce&&xt.status===st.DELIVERY_FAILED).length,Ve=pe.filter(xt=>(xt.type===aa.COMMISSION||xt.type===aa.BONUS)&&xt.status===Gr.PROCESSED).reduce((xt,vt)=>xt+vt.amount,0),ft=pe.filter(xt=>xt.status===Gr.PROCESSED).reduce((xt,vt)=>xt+vt.amount,0),it=pe.filter(xt=>xt.type===aa.WITHDRAWAL_REQUEST||xt.type===aa.WITHDRAWAL_PROCESSED).reduce((xt,vt)=>xt-vt.amount,0),bt=Ve-it;return{...xe,deliveriesCompleted:Ee,deliveriesFailed:He,totalEarnings:Ve,currentBalance:ft,pendingEarnings:Math.max(0,bt)}}),[M,T,o]),H=Ge.useCallback((xe,Ce)=>{if(xe.deliveriesCompleted+xe.deliveriesFailed===0)return 5;const Ee=Ce?xe.deliveriesCompleted+1:xe.deliveriesCompleted,He=Ce?xe.deliveriesFailed:xe.deliveriesFailed+1,Ve=Ee+He,ft=Ee/Ve;let it=ft*5;const bt=Ce?0:xe.consecutiveFailures+1;return bt>=3?it-=1:bt>=2&&(it-=.5),ft>=.95&&Ee>=10&&(it+=.2),Math.max(1,Math.min(5,Math.round(it*10)/10))},[]),W=Ge.useCallback((xe,Ce)=>{let pe;return Ce.commissionType===oa.PERCENTAGE?pe=xe.price*(Ce.commissionValue/100):pe=Ce.commissionValue,Math.round(pe*100)/100},[]),de=Ge.useCallback((xe,Ce)=>{if(!xe.courierId)return;const pe=xe.courierId;if(Ce){const Ee=xe.courierCommission;if(typeof Ee!="number"){L(`Critical error: Missing commission snapshot for shipment ${xe.id}. Payout cannot be processed.`,"error");return}const He={id:`txn-${Date.now()}`,courierId:pe,type:aa.COMMISSION,amount:Ee,description:`Commission for ${xe.id}`,shipmentId:xe.id,timestamp:new Date().toISOString(),status:Gr.PROCESSED};I(Ve=>[He,...Ve])}else{const Ee=D.penaltyAmount,He={id:`txn-${Date.now()}`,courierId:pe,type:aa.PENALTY,amount:-Ee,description:`Penalty for ${xe.id}`,shipmentId:xe.id,timestamp:new Date().toISOString(),status:Gr.PROCESSED};I(Ve=>[He,...Ve])}P(Ee=>Ee.map(He=>{if(He.courierId===pe){const Ve=k.find(ft=>ft.courierId===pe)||He;if(Ce)return{...He,consecutiveFailures:0,lastDeliveryDate:new Date().toISOString(),performanceRating:H(Ve,!0)};{const ft=He.consecutiveFailures+1,it=H(Ve,!1),bt=ft>=D.consecutiveFailureLimit||it<D.performanceThreshold;return{...He,consecutiveFailures:ft,isRestricted:bt,restrictionReason:bt?"Performance rating below threshold":void 0,performanceRating:it}}}return He})),L(Ce?"Delivery completed! Commission processed.":"Delivery failed. Penalty applied.",Ce?"success":"error")},[D,L,H,k]),z=Ge.useCallback((xe,Ce)=>{const pe=r.find(Ee=>Ee.email.toLowerCase()===xe.toLowerCase()&&Ee.password===Ce);return pe?(n(pe),L(`Welcome back, ${pe.name}!`,"success"),!0):(L("Invalid email or password.","error"),!1)},[r,L]),j=Ge.useCallback(()=>{L("You have been logged out.","info"),n(null)},[L]),ie=Ge.useCallback(xe=>xe.role===ot.ADMIN,[]),re=Ge.useCallback(xe=>xe.role===ot.ADMIN||xe.role===ot.SUPER_USER,[]),ae=Ge.useCallback(xe=>{if(!t||!re(t)){L("You do not have permission to create users.","error");return}const Ce={...xe};Ce.role===ot.CLIENT&&Ce.flatRateFee===void 0&&(Ce.flatRateFee=75);const pe={...Ce,id:Math.max(...r.map(Ee=>Ee.id),0)+1};if(s(Ee=>[...Ee,pe]),pe.role===ot.COURIER){const Ee={courierId:pe.id,deliveriesCompleted:0,deliveriesFailed:0,totalEarnings:0,pendingEarnings:0,currentBalance:0,commissionType:oa.FLAT,commissionValue:D.baseCommissionRate,consecutiveFailures:0,isRestricted:!1,performanceRating:5};P(He=>[...He,Ee])}L(`User "${pe.name}" created successfully.`,"success")},[r,L,D,t,re]),J=Ge.useCallback((xe,Ce,pe=!1)=>{s(Ee=>Ee.map(He=>He.id===xe?{...He,...Ce}:He)),(t==null?void 0:t.id)===xe&&n(Ee=>Ee?{...Ee,...Ce}:null),pe||L("User details updated.","success")},[t==null?void 0:t.id,L]),$=Ge.useCallback(xe=>{s(Ce=>Ce.filter(pe=>pe.id!==xe)),L("User removed from the system.","success")},[L]),ce=Ge.useCallback((xe,Ce)=>{s(Ee=>Ee.map(He=>He.id===xe?{...He,password:Ce}:He));const pe=r.find(Ee=>Ee.id===xe);pe&&L(`Password for ${pe.name} has been reset.`,"success")},[r,L]),ge=Ge.useCallback(xe=>{if(!t||t.role!==ot.CLIENT)return;const Ce=t.flatRateFee||0;if(xe.paymentMethod===fr.WALLET){if(F<Ce){L(`Insufficient wallet balance to pay for shipping fee of ${Ce.toFixed(2)} EGP.`,"error");return}const Ee={id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:t.id,type:xl.PAYMENT,amount:-Ce,date:new Date().toISOString(),description:`Shipping fee for shipment to ${xe.recipientName}`};p(He=>[Ee,...He])}const pe={...xe,id:"FLS"+Math.floor(Math.random()*9e5+1e5),clientId:t.id,clientName:t.name,creationDate:new Date().toISOString(),status:st.PENDING_ASSIGNMENT,clientFlatRateFee:Ce};f(Ee=>[pe,...Ee]),L(`New shipment ${pe.id} created!`,"success")},[t,L,F]),ve=Ge.useCallback(async(xe,Ce)=>{let pe,Ee,He;const Ve=r.find(it=>it.id===xe.clientId),ft=r.find(it=>it.role===ot.ADMIN);switch(Ce){case st.OUT_FOR_DELIVERY:pe=Ve==null?void 0:Ve.email,He=`Your Flash Shipment ${xe.id} is Out for Delivery!`,Ee=`Hi ${Ve==null?void 0:Ve.name},

Great news! Your shipment to ${xe.recipientName} is now out for delivery.

Best,
The Flash Express Team`;break;case st.DELIVERED:pe=Ve==null?void 0:Ve.email,He=`Your Flash Shipment ${xe.id} has been Delivered!`,Ee=`Hi ${Ve==null?void 0:Ve.name},

Your shipment to ${xe.recipientName} has been successfully delivered. Thank you for using Flash Express!

Best,
The Flash Express Team`;break;case st.RETURN_REQUESTED:pe=ft==null?void 0:ft.email,He=`Return Request for Shipment ${xe.id}`,Ee=`Admin,

Client ${xe.clientName} (ID: ${xe.clientId}) has requested a return for shipment ${xe.id}.

Please review and assign a courier from the 'Manage Returns' portal.`;break;case st.RETURN_IN_PROGRESS:pe=Ve==null?void 0:Ve.email,He=`Your Return for Shipment ${xe.id} is In Progress`,Ee=`Hi ${Ve==null?void 0:Ve.name},

A courier has been assigned for the return of shipment ${xe.id}. They will be in contact shortly.

Best,
The Flash Express Team`;break;case st.RETURNED:pe=Ve==null?void 0:Ve.email,He=`Your Return for Shipment ${xe.id} is Complete`,Ee=`Hi ${Ve==null?void 0:Ve.name},

The return for shipment ${xe.id} has been successfully completed.

Best,
The Flash Express Team`;break;default:return}if(pe&&Ee&&He){const it={id:"NOTIF"+Math.floor(Math.random()*9e5+1e5),shipmentId:xe.id,channel:O3.EMAIL,recipient:pe,message:`${He}

${Ee}`,date:new Date().toISOString(),status:Ce,sent:!1};N(bt=>[it,...bt]);try{L("Sending status update...","info"),E(bt=>({...bt,[it.id]:"sending"})),await Kp(it),N(bt=>bt.map(xt=>xt.id===it.id?{...xt,sent:!0}:xt)),E(bt=>({...bt,[it.id]:"sent"})),L(`Email for ${xe.id} sent successfully.`,"success")}catch(bt){console.error("Failed to send notification:",bt),E(xt=>({...xt,[it.id]:"failed"})),L(`Failed to send email for ${xe.id}.`,"error")}}},[r,L]),ke=Ge.useCallback(async(xe,Ce,pe)=>{let Ee;if(f(He=>He.map(Ve=>Ve.id===xe?(Ee={...Ve,status:Ce,deliveryDate:Ce===st.DELIVERED||Ce===st.RETURNED?new Date().toISOString():Ve.deliveryDate,signature:(pe==null?void 0:pe.signature)??Ve.signature,courierId:(pe==null?void 0:pe.courierId)??Ve.courierId},Ee):Ve)),L(`Shipment ${xe} updated to "${Ce}".`,"info"),Ee){if(Ce===st.DELIVERED&&(de(Ee,!0),Ee.paymentMethod===fr.COD&&Ee.packageValue>0)){const He=r.find(Ve=>Ve.id===Ee.clientId);if(He){const Ve={id:"TXN"+Math.floor(Math.random()*9e5+1e5),userId:He.id,type:xl.DEPOSIT,amount:Ee.packageValue,date:new Date().toISOString(),description:`COD collection for shipment ${Ee.id}`};p(ft=>[Ve,...ft]),L(`COD value of ${Ee.packageValue.toFixed(2)} EGP credited to wallet.`,"success")}}Ce===st.DELIVERY_FAILED&&de(Ee,!1),Ce===st.RETURNED&&de(Ee,!0),await ve(Ee,Ce)}},[L,ve,de,r]),U=Ge.useCallback((xe,Ce)=>{if(!t||t.role!==ot.ADMIN&&t.role!==ot.SUPER_USER){L("You do not have permission to edit shipment fees.","error");return}f(pe=>pe.map(Ee=>Ee.id===xe?[st.DELIVERED,st.RETURNED].includes(Ee.status)?(L("Cannot edit fees for a completed shipment.","error"),Ee):(L(`Fees for ${xe} updated.`,"success"),{...Ee,...Ce}):Ee))},[t,L]),te=Ge.useCallback(xe=>{const Ce=k.find(pe=>pe.courierId===xe);return!(!Ce||Ce.isRestricted||Ce.performanceRating<D.performanceThreshold||Ce.consecutiveFailures>=D.consecutiveFailureLimit)},[k,D]),se=Ge.useCallback(async(xe,Ce)=>{if(!te(Ce)){const it=r.find(xt=>xt.id===Ce),bt=k.find(xt=>xt.courierId===Ce);return L(`Cannot assign to ${it==null?void 0:it.name}: ${(bt==null?void 0:bt.restrictionReason)||"Performance restrictions"}`,"error"),!1}const pe=r.find(it=>it.id===Ce),Ee=o.find(it=>it.id===xe),He=k.find(it=>it.courierId===Ce);if(!pe||!Ee||!He)return L("Could not find necessary data for assignment.","error"),!1;const Ve=W(Ee,He),ft={...Ee,status:st.IN_TRANSIT,courierId:Ce,courierCommission:Ve};return f(it=>it.map(bt=>bt.id===xe?ft:bt)),await ve(ft,st.IN_TRANSIT),L(`Shipment ${xe} assigned to ${pe.name} and marked as in transit.`,"success"),!0},[r,o,k,L,te,W,ve]),me=Ge.useCallback(async(xe,Ce)=>{if(!te(Ce)){L("Cannot assign to the selected courier due to restrictions.","error");return}const pe=r.find(it=>it.id===Ce),Ee=o.find(it=>it.id===xe),He=k.find(it=>it.courierId===Ce);if(!pe||!Ee||!He){L("Could not find necessary data for re-assignment.","error");return}const Ve=W(Ee,He),ft={...Ee,status:st.IN_TRANSIT,courierId:Ce,courierCommission:Ve};f(it=>it.map(bt=>bt.id===xe?ft:bt)),await ve(ft,st.IN_TRANSIT),L(`Shipment ${xe} re-assigned to ${pe.name}.`,"success")},[r,o,k,L,te,W,ve]),oe=Ge.useCallback(async(xe,Ce)=>{if(!te(Ce))return L("Cannot assign return to the selected courier due to restrictions.","error"),!1;const pe=r.find(it=>it.id===Ce),Ee=o.find(it=>it.id===xe),He=k.find(it=>it.courierId===Ce);if(!pe||!Ee||!He)return L("Could not find necessary data for return assignment.","error"),!1;const Ve=W(Ee,He),ft={...Ee,status:st.RETURN_IN_PROGRESS,courierId:Ce,courierCommission:Ve};return f(it=>it.map(bt=>bt.id===xe?ft:bt)),await ve(ft,st.RETURN_IN_PROGRESS),L(`Return for ${xe} assigned to ${pe.name}.`,"success"),!0},[r,o,k,L,te,W,ve]),Me=Ge.useCallback(async xe=>{const Ce=y.find(pe=>pe.id===xe);if(Ce)try{L("Resending email...","info"),E(pe=>({...pe,[Ce.id]:"sending"})),await Kp(Ce),N(pe=>pe.map(Ee=>Ee.id===Ce.id?{...Ee,sent:!0}:Ee)),E(pe=>({...pe,[Ce.id]:"sent"})),L(`Email for ${Ce.shipmentId} resent successfully.`,"success")}catch{E(Ee=>({...Ee,[Ce.id]:"failed"})),L(`Failed to resend email for ${Ce.shipmentId}.`,"error")}},[y,L]),Ie=Ge.useCallback((xe,Ce)=>{P(Ee=>Ee.map(He=>He.courierId===xe?{...He,...Ce}:He));const pe=r.find(Ee=>Ee.id===xe);L(`Financial settings for ${pe==null?void 0:pe.name} have been updated.`,"success")},[r,L]),Re=Ge.useCallback((xe,Ce,pe)=>{const Ee=Math.abs(Ce),He={id:`txn-${Date.now()}`,courierId:xe,type:aa.PENALTY,amount:-Ee,description:pe,timestamp:new Date().toISOString(),status:Gr.PROCESSED};I(ft=>[He,...ft]);const Ve=r.find(ft=>ft.id===xe);L(`Penalty of ${Ee} EGP applied to ${Ve==null?void 0:Ve.name}.`,"success")},[r,L]),rt=Ge.useCallback((xe,Ce)=>{const pe={id:`txn-${Date.now()}`,courierId:xe,type:aa.WITHDRAWAL_REQUEST,amount:-Ce,description:"Payout requested",timestamp:new Date().toISOString(),status:Gr.PENDING};I(Ee=>[pe,...Ee]),L(`Payout of ${Ce} EGP requested.`,"success")},[L]),Xe=Ge.useCallback(xe=>{T.find(pe=>pe.id===xe)&&(I(pe=>pe.map(Ee=>Ee.id===xe?{...Ee,status:Gr.PROCESSED,description:"Payout processed by admin"}:Ee)),L(`Payout for transaction ${xe} processed.`,"success"))},[T,L]),ut=Ge.useCallback((xe,Ce)=>{const pe=o.find(He=>He.id.toLowerCase()===xe.toLowerCase());if(!pe)return null;const Ee=r.find(He=>He.id===pe.clientId);return pe.recipientPhone===Ce||(Ee==null?void 0:Ee.phone)===Ce?pe:null},[o,r]),Je=Ge.useCallback((xe,Ce)=>{if(!t||t.role!==ot.ADMIN){L("Only admins can update client flat rates.","error");return}s(Ee=>Ee.map(He=>He.id===xe?{...He,flatRateFee:Ce}:He));const pe=r.find(Ee=>Ee.id===xe);L(`Flat rate for ${pe==null?void 0:pe.name} updated to ${Ce.toFixed(2)} EGP.`,"success")},[t,r,L]),_t=Ge.useCallback((xe,Ce)=>{if(!t||t.role!==ot.ADMIN&&t.role!==ot.SUPER_USER){L("Only admins and super users can update client tax card numbers.","error");return}s(Ee=>Ee.map(He=>He.id===xe?{...He,taxCardNumber:Ce}:He));const pe=r.find(Ee=>Ee.id===xe);L(`Tax card number for ${pe==null?void 0:pe.name} updated successfully.`,"success")},[t,r,L]),Ue=Ge.useCallback(xe=>{const Ce=r.find(pe=>pe.id===xe);return(Ce==null?void 0:Ce.taxCardNumber)||""},[r]),ye=Ge.useCallback(()=>{const xe=o.filter(ft=>ft.status===st.DELIVERED),Ce=xe.reduce((ft,it)=>ft+it.price,0),pe=xe.reduce((ft,it)=>ft+(it.clientFlatRateFee||0),0),Ee=xe.reduce((ft,it)=>ft+(it.courierCommission||0),0),He=pe-Ee,Ve=xe.length;return{grossRevenue:Ce,netRevenue:He,totalClientFees:pe,totalCourierPayouts:Ee,totalOrders:Ve,taxCarNumber:""}},[o]),St=Ge.useCallback(()=>r.filter(Ce=>Ce.role===ot.CLIENT).map(Ce=>{const pe=o.filter(Ve=>Ve.clientId===Ce.id&&Ve.status===st.DELIVERED),Ee=pe.length,He=pe.reduce((Ve,ft)=>Ve+ft.packageValue,0);return{clientId:Ce.id,clientName:Ce.name,totalOrders:Ee,orderSum:He,flatRateFee:Ce.flatRateFee||0}}),[r,o]),ct=Ge.useMemo(()=>({currentUser:X,users:r,shipments:o,clientTransactions:d,toasts:w,notifications:y,notificationStatus:S,courierStats:k,courierTransactions:T,financialSettings:D,login:z,logout:j,addShipment:ge,updateShipmentStatus:ke,updateShipmentFees:U,assignShipmentToCourier:se,addUser:ae,updateUser:J,removeUser:$,resetPassword:ce,addToast:L,assignReturn:oe,reassignCourier:me,resendNotification:Me,canCourierReceiveAssignment:te,updateCourierSettings:Ie,applyManualPenalty:Re,processCourierPayout:Xe,requestCourierPayout:rt,trackShipment:ut,updateClientFlatRate:Je,updateClientTaxCard:_t,getTaxCardNumber:Ue,getAdminFinancials:ye,getClientFinancials:St,canAccessAdminFinancials:ie,canCreateUsers:re,calculateCommission:W}),[X,r,o,d,w,y,S,k,T,D,z,j,ge,ke,U,se,ae,J,$,ce,L,oe,me,Me,te,Ie,Re,Xe,rt,ut,Je,_t,Ue,ye,St,ie,re,W]);return x.jsx(R3.Provider,{value:ct,children:e})},tw=e=>new Promise((t,n)=>{if(window.google&&window.google.maps)return t();const r=document.getElementById("google-maps-script");if(r){const o=()=>{t(),r.removeEventListener("load",o)};r.addEventListener("load",o);return}const s=document.createElement("script");s.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places`,s.id="google-maps-script",s.async=!0,s.defer=!0,s.onload=()=>t(),s.onerror=()=>{const o=document.getElementById("google-maps-script");o&&document.head.removeChild(o),n(new Error("Google Maps script failed to load. Check API key & network."))},document.head.appendChild(s)}),nw=(e,t)=>{Ge.useEffect(()=>{if(e)tw(e).catch(n=>{console.error(n.message),t(n.message,"error")});else{const n="Maps API key is missing. Map features are disabled.";console.warn(n),t(n,"error")}},[e,t])},iw=()=>{const{currentUser:e,updateUser:t,addToast:n}=di();return Ge.useEffect(()=>{if(!e||e.role!==ot.COURIER)return;let r=null;return"geolocation"in navigator?r=navigator.geolocation.watchPosition(s=>{const o={lat:s.coords.latitude,lng:s.coords.longitude};t(e.id,{location:o},!0)},s=>{console.error("Error getting location:",s),s.code===s.PERMISSION_DENIED&&n("Location permission denied. Tracking is disabled.","error")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):n("Geolocation is not supported by your browser.","error"),()=>{r!==null&&navigator.geolocation.clearWatch(r)}},[e,t,n]),null},tf=({className:e="w-10 h-10"})=>x.jsxs("svg",{viewBox:"0 0 128 128",className:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("rect",{width:"128",height:"128",rx:"32",fill:"url(#paint0_linear_1_2)"}),x.jsx("path",{d:"M41.8732 104L73.4475 56.4028H53.0337L86.1268 24L54.5525 71.5972H74.9663L41.8732 104Z",fill:"white"}),x.jsx("defs",{children:x.jsxs("linearGradient",{id:"paint0_linear_1_2",x1:"0",y1:"0",x2:"128",y2:"128",gradientUnits:"userSpaceOnUse",children:[x.jsx("stop",{stopColor:"#4338ca"}),x.jsx("stop",{offset:"1",stopColor:"#6366f1"})]})})]}),hu=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),El=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),Po=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),Ru=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 16.382V5.618a1 1 0 00-1.447-.894L15 7m-6 10h6"})}),Td=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.122-1.28-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.122-1.28.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Pc=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),rw=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),ju=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),K0=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),q2=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),v1=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),G2=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),aw=({className:e="w-6 h-6"})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jp=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),b1=({className:e="w-5 h-5"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),j3=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),sw=({className:e="w-5 h-5"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),B3=({className:e="w-5 h-5"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4v-3l1.258-1.258a6 6 0 015.742-10.485A6 6 0 0115 7z"})}),ow=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})}),Fc=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),nf=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l4-4m-4 4l4 4"})}),lw=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),V2=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),$p=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),cw=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v1m6 11v1m-6-16v1m12 11v1M4 12H3m10 6H3m10-12H3m18 12h-1M4 20v-1m0-6V3m0 18v-1M20 4v1m0 12v1M4 4h1m15 15h1M4 8h1m15 7h1m-6-4h.01M12 12h.01M8 12h.01M12 16h.01M16 12h.01M16 16h.01M8 16h.01M12 8h.01M16 8h.01M8 8h.01"})}),_d=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),k3=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),b0=({className:e="w-6 h-6"})=>x.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 14v3m-3-3h6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),uw=({toast:e})=>{const t={success:"bg-green-600",error:"bg-red-600",info:"bg-primary-600"},n={success:x.jsx(v1,{className:"w-6 h-6 text-white"}),error:x.jsx(G2,{className:"w-6 h-6 text-white"}),info:x.jsx(aw,{className:"w-6 h-6 text-white"})};return x.jsxs("div",{className:`flex items-center gap-4 text-white p-4 pr-6 rounded-xl shadow-2xl animate-fade-in-up ${t[e.type]}`,children:[n[e.type],x.jsx("p",{className:"font-medium",children:e.message})]})},fw=()=>{const{toasts:e}=di();return x.jsx("div",{className:"fixed bottom-8 right-8 z-[100] space-y-3",children:e.map(t=>x.jsx(uw,{toast:t},t.id))})},hw=({onTrackPackageClick:e})=>{const{login:t}=di(),[n,r]=Ge.useState(""),[s,o]=Ge.useState(""),f=d=>{d.preventDefault(),t(n,s)};return x.jsxs("div",{className:"min-h-screen w-full lg:grid lg:grid-cols-2",children:[x.jsxs("div",{className:"relative hidden lg:flex flex-col items-center justify-center p-12 bg-login-image text-white",children:[x.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-60"}),x.jsxs("div",{className:"relative z-10 text-center",children:[x.jsx(tf,{className:"w-28 h-28 mx-auto"}),x.jsx("h1",{className:"mt-6 text-4xl font-bold tracking-tight",children:"Flash Express"}),x.jsx("p",{className:"mt-3 text-lg text-slate-300",children:"Your world, delivered faster."})]})]}),x.jsx("div",{className:"flex items-center justify-center p-6 sm:p-12 lg:p-16 bg-slate-50",children:x.jsxs("div",{className:"w-full max-w-md",children:[x.jsxs("div",{className:"lg:hidden text-center mb-8",children:[x.jsx(tf,{className:"w-20 h-20 mx-auto"}),x.jsx("h1",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Flash Express"})]}),x.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Login"}),x.jsx("p",{className:"mt-2 text-slate-600",children:"Enter your credentials to access your account."}),x.jsxs("form",{onSubmit:f,className:"mt-8 space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:x.jsx(k3,{className:"h-5 w-5 text-slate-400"})}),x.jsx("input",{id:"email",type:"email",value:n,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"you@example.com",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:x.jsx(B3,{className:"h-5 w-5 text-slate-400"})}),x.jsx("input",{id:"password",type:"password",value:s,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"••••••••",required:!0})]})]}),x.jsx("button",{type:"submit",className:"w-full flex justify-center bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-300",children:"Login"})]}),x.jsxs("p",{className:"text-center text-sm text-slate-500 mt-8",children:["Test with: ",x.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"admin@flash.com"})," / ",x.jsx("code",{className:"bg-slate-200 text-slate-700 px-1.5 py-0.5 rounded-md",children:"password123"})]}),x.jsxs("div",{className:"mt-8",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-slate-300"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-slate-50 text-slate-500",children:"or"})})]}),x.jsx("div",{className:"mt-6",children:x.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-300",children:[x.jsx(El,{className:"h-5 w-5"}),"Track Your Shipment"]})})]})]})})]})},dw=({role:e,activeView:t,setActiveView:n})=>{const s={[ot.CLIENT]:[{name:"Dashboard",icon:x.jsx(hu,{}),view:"dashboard"},{name:"My Shipments",icon:x.jsx(El,{}),view:"shipments"},{name:"Create Shipment",icon:x.jsx(q2,{}),view:"create"},{name:"Wallet",icon:x.jsx(Pc,{}),view:"wallet"},{name:"Financials",icon:x.jsx(ju,{}),view:"financials"},{name:"My Profile",icon:x.jsx(V2,{}),view:"profile"}],[ot.COURIER]:[{name:"Dashboard",icon:x.jsx(hu,{}),view:"dashboard"},{name:"My Tasks",icon:x.jsx(K0,{}),view:"tasks"},{name:"My Earnings",icon:x.jsx(b0,{}),view:"courier-financials"}],[ot.ASSIGNING_USER]:[{name:"Dashboard",icon:x.jsx(hu,{}),view:"dashboard"},{name:"Assign Shipments",icon:x.jsx(Po,{}),view:"assign"},{name:"Live Map",icon:x.jsx(Ru,{}),view:"map"}],[ot.SUPER_USER]:[{name:"Dashboard",icon:x.jsx(hu,{}),view:"dashboard"},{name:"Live Map",icon:x.jsx(Ru,{}),view:"map"},{name:"All Shipments",icon:x.jsx(El,{}),view:"shipments"},{name:"Assign Shipments",icon:x.jsx(Po,{}),view:"assign"},{name:"Manage Returns",icon:x.jsx(nf,{}),view:"returns"},{name:"User Management",icon:x.jsx(Td,{}),view:"users"},{name:"Client Analytics",icon:x.jsx($p,{}),view:"client-analytics"},{name:"Courier Performance",icon:x.jsx(b0,{}),view:"courier-performance"},{name:"Financials",icon:x.jsx(ju,{}),view:"financials"},{name:"Notifications Log",icon:x.jsx(_d,{}),view:"notifications"}],[ot.ADMIN]:[{name:"Dashboard",icon:x.jsx(hu,{}),view:"dashboard"},{name:"Live Map",icon:x.jsx(Ru,{}),view:"map"},{name:"All Shipments",icon:x.jsx(El,{}),view:"shipments"},{name:"Assign Shipments",icon:x.jsx(Po,{}),view:"assign"},{name:"Manage Returns",icon:x.jsx(nf,{}),view:"returns"},{name:"User Management",icon:x.jsx(Td,{}),view:"users"},{name:"Client Analytics",icon:x.jsx($p,{}),view:"client-analytics"},{name:"Courier Performance",icon:x.jsx(b0,{}),view:"courier-performance"},{name:"Admin Financials",icon:x.jsx(ju,{}),view:"admin-financials"},{name:"Notifications Log",icon:x.jsx(_d,{}),view:"notifications"}]}[e]||[];return x.jsxs("aside",{className:"w-64 bg-slate-800 text-slate-300 flex flex-col flex-shrink-0",children:[x.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-700",children:[x.jsx(tf,{className:"w-9 h-9"}),x.jsx("div",{children:x.jsx("h1",{className:"text-lg font-bold text-white",children:"Flash Express"})})]}),x.jsx("nav",{className:"flex-1 p-4 space-y-1.5",children:s.map(o=>x.jsxs("button",{onClick:()=>n(o.view),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-md text-left transition ${t===o.view?"bg-primary-600 text-white font-semibold":"hover:bg-slate-700 hover:text-white"}`,children:[zc.cloneElement(o.icon,{className:"w-6 h-6"}),x.jsx("span",{className:"text-sm font-medium",children:o.name})]},o.name))})]})},gw=({onLogout:e,user:t,onNavigate:n})=>{const{notifications:r,notificationStatus:s}=di(),[o,f]=Ge.useState(!1),d=Ge.useRef(null),p=r.filter(y=>s[y.id]==="failed");return Ge.useEffect(()=>{const y=N=>{d.current&&!d.current.contains(N.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),x.jsxs("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 p-4 flex justify-between items-center z-20 sticky top-0",children:[x.jsxs("div",{className:"text-lg font-bold text-slate-800",children:[t.role," Portal"]}),x.jsxs("div",{className:"flex items-center gap-4",children:[t.role===ot.ADMIN&&x.jsxs("div",{className:"relative",ref:d,children:[x.jsxs("button",{onClick:()=>f(y=>!y),className:"p-2 rounded-full hover:bg-slate-100 transition relative",children:[x.jsx(_d,{className:"w-6 h-6 text-slate-600"}),p.length>0&&x.jsxs("span",{className:"absolute top-0 right-0 flex h-3 w-3",children:[x.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),x.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),o&&x.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-slate-200 overflow-hidden",children:[x.jsxs("div",{className:"p-3 font-semibold text-slate-800 border-b border-slate-200",children:["Notifications (",p.length," failed)"]}),x.jsx("div",{className:"max-h-80 overflow-y-auto",children:p.length>0?p.map(y=>x.jsxs("div",{className:"p-3 hover:bg-slate-50 border-b border-slate-100 last:border-b-0",children:[x.jsxs("p",{className:"text-sm font-medium text-red-800",children:["Failed to send to ",y.recipient]}),x.jsx("p",{className:"text-sm text-slate-600 truncate",children:y.message.split(`

`)[0]})]},y.id)):x.jsx("p",{className:"text-sm text-slate-500 p-4 text-center",children:"No delivery failures."})}),x.jsx("div",{className:"p-2 bg-slate-50 border-t border-slate-200",children:x.jsx("button",{onClick:()=>{f(!1),n("notifications")},className:"w-full text-center text-sm font-semibold text-primary-600 hover:text-primary-800 py-1",children:"View Full Log"})})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"font-semibold text-slate-800",children:t.name}),x.jsx("p",{className:"text-xs text-slate-500",children:t.email})]}),x.jsx("button",{onClick:e,title:"Logout",className:"p-2 rounded-full hover:bg-red-50 transition",children:x.jsx(rw,{className:"w-6 h-6 text-red-500"})})]})]})]})},zi=({title:e,value:t,icon:n,color:r,onClick:s})=>x.jsxs("div",{className:`bg-white p-5 rounded-xl shadow-sm flex items-center justify-between border-l-4 ${s?"cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition-all duration-300":""}`,style:{borderColor:r},onClick:s,children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-500",children:e}),x.jsx("p",{className:"text-3xl font-bold text-slate-800",children:t})]}),x.jsx("div",{className:"p-3 rounded-lg bg-opacity-10",style:{color:r,backgroundColor:`${r}1A`},children:zc.cloneElement(n,{className:"w-7 h-7"})})]}),em=({setActiveView:e})=>{const{currentUser:t,shipments:n,users:r}=di();if(!t)return null;const s=n.filter(y=>y.clientId===t.id),o=n.filter(y=>y.courierId===t.id),f=()=>{var y;return x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(zi,{title:"Total Shipments",value:s.length,icon:x.jsx(El,{className:"w-7 h-7"}),color:"#3b82f6",onClick:()=>e("shipments")}),x.jsx(zi,{title:"In Transit",value:s.filter(N=>[st.IN_TRANSIT,st.OUT_FOR_DELIVERY].includes(N.status)).length,icon:x.jsx(Po,{className:"w-7 h-7"}),color:"#8b5cf6"}),x.jsx(zi,{title:"Wallet Balance",value:`${((y=t.walletBalance)==null?void 0:y.toFixed(2))??0} EGP`,icon:x.jsx(Pc,{className:"w-7 h-7"}),color:"#22c55e",onClick:()=>e("wallet")})]})},d=()=>{const y=o.filter(N=>N.status===st.DELIVERED&&N.paymentMethod===fr.COD).reduce((N,S)=>N+S.price,0);return x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(zi,{title:"Assigned Today",value:o.filter(N=>new Date(N.creationDate).toDateString()===new Date().toDateString()).length,icon:x.jsx(K0,{className:"w-7 h-7"}),color:"#3b82f6"}),x.jsx(zi,{title:"Pending Deliveries",value:o.filter(N=>N.status===st.OUT_FOR_DELIVERY).length,icon:x.jsx(Po,{className:"w-7 h-7"}),color:"#06b6d4",onClick:()=>e("tasks")}),x.jsx(zi,{title:"COD Collected",value:`${y.toFixed(2)} EGP`,icon:x.jsx(Pc,{className:"w-7 h-7"}),color:"#16a34a"})]})},p=()=>x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsx(zi,{title:"Total Shipments",value:n.length,icon:x.jsx(El,{className:"w-7 h-7"}),color:"#3b82f6",onClick:t.role===ot.ADMIN?()=>e("shipments"):void 0}),x.jsx(zi,{title:"Total Clients",value:r.filter(y=>y.role===ot.CLIENT).length,icon:x.jsx(Td,{className:"w-7 h-7"}),color:"#8b5cf6",onClick:t.role===ot.ADMIN?()=>e("client-analytics"):void 0}),x.jsx(zi,{title:"Pending Assignment",value:n.filter(y=>y.status===st.PENDING_ASSIGNMENT).length,icon:x.jsx(K0,{className:"w-7 h-7"}),color:"#f97316",onClick:()=>e("assign")}),x.jsx(zi,{title:"Total Revenue",value:`${n.filter(y=>y.status===st.DELIVERED).reduce((y,N)=>y+N.price,0).toFixed(2)} EGP`,icon:x.jsx(ju,{className:"w-7 h-7"}),color:"#16a34a",onClick:t.role===ot.ADMIN?()=>e("financials"):void 0})]});return x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:["Welcome back, ",t.name.split(" ")[0],"!"]}),t.role===ot.CLIENT&&f(),t.role===ot.COURIER&&d(),(t.role===ot.ADMIN||t.role===ot.ASSIGNING_USER)&&p()]})},pw="modulepreload",mw=function(e){return"/"+e},tm={},Id=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=Promise.allSettled(n.map(p=>{if(p=mw(p),p in tm)return;tm[p]=!0;const y=p.endsWith(".css"),N=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${N}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":pw,y||(S.as="script"),S.crossOrigin="",S.href=p,d&&S.setAttribute("nonce",d),document.head.appendChild(S),y)return new Promise((E,w)=>{S.addEventListener("load",E),S.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return s.then(f=>{for(const d of f||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}var Sr=Uint8Array,ua=Uint16Array,Y2=Int32Array,w1=new Sr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),A1=new Sr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dd=new Sr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P3=function(e,t){for(var n=new ua(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new Y2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)s[o]=o-n[r]<<5|r;return{b:n,r:s}},F3=P3(w1,2),U3=F3.b,Ld=F3.r;U3[28]=258,Ld[258]=28;var z3=P3(A1,0),xw=z3.b,nm=z3.r,Md=new ua(32768);for(var Kn=0;Kn<32768;++Kn){var fo=(Kn&43690)>>1|(Kn&21845)<<1;fo=(fo&52428)>>2|(fo&13107)<<2,fo=(fo&61680)>>4|(fo&3855)<<4,Md[Kn]=((fo&65280)>>8|(fo&255)<<8)>>1}var gs=function(e,t,n){for(var r=e.length,s=0,o=new ua(t);s<r;++s)e[s]&&++o[e[s]-1];var f=new ua(t);for(s=1;s<t;++s)f[s]=f[s-1]+o[s-1]<<1;var d;if(n){d=new ua(1<<t);var p=15-t;for(s=0;s<r;++s)if(e[s])for(var y=s<<4|e[s],N=t-e[s],S=f[e[s]-1]++<<N,E=S|(1<<N)-1;S<=E;++S)d[Md[S]>>p]=y}else for(d=new ua(r),s=0;s<r;++s)e[s]&&(d[s]=Md[f[e[s]-1]++]>>15-e[s]);return d},qo=new Sr(288);for(var Kn=0;Kn<144;++Kn)qo[Kn]=8;for(var Kn=144;Kn<256;++Kn)qo[Kn]=9;for(var Kn=256;Kn<280;++Kn)qo[Kn]=7;for(var Kn=280;Kn<288;++Kn)qo[Kn]=8;var rf=new Sr(32);for(var Kn=0;Kn<32;++Kn)rf[Kn]=5;var yw=gs(qo,9,0),vw=gs(qo,9,1),bw=gs(rf,5,0),ww=gs(rf,5,1),Sh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ha=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Nh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},X2=function(e){return(e+7)/8|0},H3=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Sr(e.subarray(t,n))},Aw=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ga=function(e,t,n){var r=new Error(t||Aw[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ga),!n)throw r;return r},Sw=function(e,t,n,r){var s=e.length,o=0;if(!s||t.f&&!t.l)return n||new Sr(0);var f=!n,d=f||t.i!=2,p=t.i;f&&(n=new Sr(s*3));var y=function(Xe){var ut=n.length;if(Xe>ut){var Je=new Sr(Math.max(ut*2,Xe));Je.set(n),n=Je}},N=t.f||0,S=t.p||0,E=t.b||0,w=t.l,B=t.d,M=t.m,P=t.n,T=s*8;do{if(!w){N=Ha(e,S,1);var I=Ha(e,S+1,3);if(S+=3,I)if(I==1)w=vw,B=ww,M=9,P=5;else if(I==2){var X=Ha(e,S,31)+257,k=Ha(e,S+10,15)+4,H=X+Ha(e,S+5,31)+1;S+=14;for(var W=new Sr(H),de=new Sr(19),z=0;z<k;++z)de[Dd[z]]=Ha(e,S+z*3,7);S+=k*3;for(var j=Sh(de),ie=(1<<j)-1,re=gs(de,j,1),z=0;z<H;){var ae=re[Ha(e,S,ie)];S+=ae&15;var D=ae>>4;if(D<16)W[z++]=D;else{var J=0,$=0;for(D==16?($=3+Ha(e,S,3),S+=2,J=W[z-1]):D==17?($=3+Ha(e,S,7),S+=3):D==18&&($=11+Ha(e,S,127),S+=7);$--;)W[z++]=J}}var ce=W.subarray(0,X),ge=W.subarray(X);M=Sh(ce),P=Sh(ge),w=gs(ce,M,1),B=gs(ge,P,1)}else Ga(1);else{var D=X2(S)+4,L=e[D-4]|e[D-3]<<8,F=D+L;if(F>s){p&&Ga(0);break}d&&y(E+L),n.set(e.subarray(D,F),E),t.b=E+=L,t.p=S=F*8,t.f=N;continue}if(S>T){p&&Ga(0);break}}d&&y(E+131072);for(var ve=(1<<M)-1,ke=(1<<P)-1,U=S;;U=S){var J=w[Nh(e,S)&ve],te=J>>4;if(S+=J&15,S>T){p&&Ga(0);break}if(J||Ga(2),te<256)n[E++]=te;else if(te==256){U=S,w=null;break}else{var se=te-254;if(te>264){var z=te-257,me=w1[z];se=Ha(e,S,(1<<me)-1)+U3[z],S+=me}var oe=B[Nh(e,S)&ke],Me=oe>>4;oe||Ga(3),S+=oe&15;var ge=xw[Me];if(Me>3){var me=A1[Me];ge+=Nh(e,S)&(1<<me)-1,S+=me}if(S>T){p&&Ga(0);break}d&&y(E+131072);var Ie=E+se;if(E<ge){var Re=o-ge,rt=Math.min(ge,Ie);for(Re+E<0&&Ga(3);E<rt;++E)n[E]=r[Re+E]}for(;E<Ie;++E)n[E]=n[E-ge]}}t.l=w,t.p=U,t.b=E,t.f=N,w&&(N=1,t.m=M,t.d=B,t.n=P)}while(!N);return E!=n.length&&f?H3(n,0,E):n.subarray(0,E)},Ls=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},du=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Ch=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,o=n.slice();if(!s)return{t:G3,l:0};if(s==1){var f=new Sr(n[0].s+1);return f[n[0].s]=1,{t:f,l:1}}n.sort(function(F,X){return F.f-X.f}),n.push({s:-1,f:25001});var d=n[0],p=n[1],y=0,N=1,S=2;for(n[0]={s:-1,f:d.f+p.f,l:d,r:p};N!=s-1;)d=n[n[y].f<n[S].f?y++:S++],p=n[y!=N&&n[y].f<n[S].f?y++:S++],n[N++]={s:-1,f:d.f+p.f,l:d,r:p};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var w=new ua(E+1),B=Od(n[N-1],w,0);if(B>t){var r=0,M=0,P=B-t,T=1<<P;for(o.sort(function(X,k){return w[k.s]-w[X.s]||X.f-k.f});r<s;++r){var I=o[r].s;if(w[I]>t)M+=T-(1<<B-w[I]),w[I]=t;else break}for(M>>=P;M>0;){var D=o[r].s;w[D]<t?M-=1<<t-w[D]++-1:++r}for(;r>=0&&M;--r){var L=o[r].s;w[L]==t&&(--w[L],++M)}B=t}return{t:new Sr(w),l:B}},Od=function(e,t,n){return e.s==-1?Math.max(Od(e.l,t,n+1),Od(e.r,t,n+1)):t[e.s]=n},im=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ua(++t),r=0,s=e[0],o=1,f=function(p){n[r++]=p},d=1;d<=t;++d)if(e[d]==s&&d!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)f(32754);o>2&&(f(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(f(s),--o;o>6;o-=6)f(8304);o>2&&(f(o-3<<5|8208),o=0)}for(;o--;)f(s);o=1,s=e[d]}return{c:n.subarray(0,r),n:t}},gu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},q3=function(e,t,n){var r=n.length,s=X2(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var o=0;o<r;++o)e[s+o+4]=n[o];return(s+4+r)*8},rm=function(e,t,n,r,s,o,f,d,p,y,N){Ls(t,N++,n),++s[256];for(var S=Ch(s,15),E=S.t,w=S.l,B=Ch(o,15),M=B.t,P=B.l,T=im(E),I=T.c,D=T.n,L=im(M),F=L.c,X=L.n,k=new ua(19),H=0;H<I.length;++H)++k[I[H]&31];for(var H=0;H<F.length;++H)++k[F[H]&31];for(var W=Ch(k,7),de=W.t,z=W.l,j=19;j>4&&!de[Dd[j-1]];--j);var ie=y+5<<3,re=gu(s,qo)+gu(o,rf)+f,ae=gu(s,E)+gu(o,M)+f+14+3*j+gu(k,de)+2*k[16]+3*k[17]+7*k[18];if(p>=0&&ie<=re&&ie<=ae)return q3(t,N,e.subarray(p,p+y));var J,$,ce,ge;if(Ls(t,N,1+(ae<re)),N+=2,ae<re){J=gs(E,w,0),$=E,ce=gs(M,P,0),ge=M;var ve=gs(de,z,0);Ls(t,N,D-257),Ls(t,N+5,X-1),Ls(t,N+10,j-4),N+=14;for(var H=0;H<j;++H)Ls(t,N+3*H,de[Dd[H]]);N+=3*j;for(var ke=[I,F],U=0;U<2;++U)for(var te=ke[U],H=0;H<te.length;++H){var se=te[H]&31;Ls(t,N,ve[se]),N+=de[se],se>15&&(Ls(t,N,te[H]>>5&127),N+=te[H]>>12)}}else J=yw,$=qo,ce=bw,ge=rf;for(var H=0;H<d;++H){var me=r[H];if(me>255){var se=me>>18&31;du(t,N,J[se+257]),N+=$[se+257],se>7&&(Ls(t,N,me>>23&31),N+=w1[se]);var oe=me&31;du(t,N,ce[oe]),N+=ge[oe],oe>3&&(du(t,N,me>>5&8191),N+=A1[oe])}else du(t,N,J[me]),N+=$[me]}return du(t,N,J[256]),N+$[256]},Nw=new Y2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),G3=new Sr(0),Cw=function(e,t,n,r,s,o){var f=o.z||e.length,d=new Sr(r+f+5*(1+Math.ceil(f/7e3))+s),p=d.subarray(r,d.length-s),y=o.l,N=(o.r||0)&7;if(t){N&&(p[0]=o.r>>3);for(var S=Nw[t-1],E=S>>13,w=S&8191,B=(1<<n)-1,M=o.p||new ua(32768),P=o.h||new ua(B+1),T=Math.ceil(n/3),I=2*T,D=function(_t){return(e[_t]^e[_t+1]<<T^e[_t+2]<<I)&B},L=new Y2(25e3),F=new ua(288),X=new ua(32),k=0,H=0,W=o.i||0,de=0,z=o.w||0,j=0;W+2<f;++W){var ie=D(W),re=W&32767,ae=P[ie];if(M[re]=ae,P[ie]=re,z<=W){var J=f-W;if((k>7e3||de>24576)&&(J>423||!y)){N=rm(e,p,0,L,F,X,H,de,j,W-j,N),de=k=H=0,j=W;for(var $=0;$<286;++$)F[$]=0;for(var $=0;$<30;++$)X[$]=0}var ce=2,ge=0,ve=w,ke=re-ae&32767;if(J>2&&ie==D(W-ke))for(var U=Math.min(E,J)-1,te=Math.min(32767,W),se=Math.min(258,J);ke<=te&&--ve&&re!=ae;){if(e[W+ce]==e[W+ce-ke]){for(var me=0;me<se&&e[W+me]==e[W+me-ke];++me);if(me>ce){if(ce=me,ge=ke,me>U)break;for(var oe=Math.min(ke,me-2),Me=0,$=0;$<oe;++$){var Ie=W-ke+$&32767,Re=M[Ie],rt=Ie-Re&32767;rt>Me&&(Me=rt,ae=Ie)}}}re=ae,ae=M[re],ke+=re-ae&32767}if(ge){L[de++]=268435456|Ld[ce]<<18|nm[ge];var Xe=Ld[ce]&31,ut=nm[ge]&31;H+=w1[Xe]+A1[ut],++F[257+Xe],++X[ut],z=W+ce,++k}else L[de++]=e[W],++F[e[W]]}}for(W=Math.max(W,z);W<f;++W)L[de++]=e[W],++F[e[W]];N=rm(e,p,y,L,F,X,H,de,j,W-j,N),y||(o.r=N&7|p[N/8|0]<<3,N-=7,o.h=P,o.p=M,o.i=W,o.w=z)}else{for(var W=o.w||0;W<f+y;W+=65535){var Je=W+65535;Je>=f&&(p[N/8|0]=y,Je=f),N=q3(p,N+1,e.subarray(W,Je))}o.i=f}return H3(d,0,r+X2(N)+s)},V3=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,o=n.length|0,f=0;f!=o;){for(var d=Math.min(f+2655,o);f<d;++f)s+=r+=n[f];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Ew=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),f=new Sr(o.length+e.length);f.set(o),f.set(e,o.length),e=f,s.w=o.length}return Cw(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},Y3=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Tw=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=V3();s.p(t.dictionary),Y3(e,2,s.d())}},_w=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ga(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ga(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Rd(e,t){t||(t={});var n=V3();n.p(e);var r=Ew(e,t,t.dictionary?6:2,4);return Tw(r,t),Y3(r,r.length-4,n.d()),r}function Iw(e,t){return Sw(e.subarray(_w(e),-4),{i:2},t,t)}var Dw=typeof TextDecoder<"u"&&new TextDecoder,Lw=0;try{Dw.decode(G3,{stream:!0}),Lw=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Eh(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var Bn={log:Eh,warn:function(e){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):Eh.call(null,arguments))},error:function(e){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):Eh(e))}};function Th(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ml(r.response,t,n)},r.onerror=function(){Bn.error("could not download file")},r.send()}function am(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function i0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Bu,jd,ml=jt.saveAs||((typeof window>"u"?"undefined":In(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=jt.URL||jt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?am(s.href)?Th(e,t,n):i0(s,s.target="_blank"):i0(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){i0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(am(e))Th(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){i0(r)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:In(o)!=="object"&&(Bn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Th(e,t,n);var s=e.type==="application/octet-stream",o=/constructor/i.test(jt.HTMLElement)||jt.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||s&&o)&&(typeof FileReader>"u"?"undefined":In(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var N=d.result;N=f?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=N:location=N,r=null},d.readAsDataURL(e)}else{var p=jt.URL||jt.webkitURL,y=p.createObjectURL(e);r?r.location=y:location.href=y,r=null,setTimeout(function(){p.revokeObjectURL(y)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function X3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,o=n[r].process,f=s.exec(e);f&&(t=o(f),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),p=this.g.toString(16),y=this.b.toString(16);return d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),y.length==1&&(y="0"+y),"#"+d+p+y}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _h(e,t){var n=e[0],r=e[1],s=e[2],o=e[3];n=vr(n,r,s,o,t[0],7,-680876936),o=vr(o,n,r,s,t[1],12,-389564586),s=vr(s,o,n,r,t[2],17,606105819),r=vr(r,s,o,n,t[3],22,-1044525330),n=vr(n,r,s,o,t[4],7,-176418897),o=vr(o,n,r,s,t[5],12,1200080426),s=vr(s,o,n,r,t[6],17,-1473231341),r=vr(r,s,o,n,t[7],22,-45705983),n=vr(n,r,s,o,t[8],7,1770035416),o=vr(o,n,r,s,t[9],12,-1958414417),s=vr(s,o,n,r,t[10],17,-42063),r=vr(r,s,o,n,t[11],22,-1990404162),n=vr(n,r,s,o,t[12],7,1804603682),o=vr(o,n,r,s,t[13],12,-40341101),s=vr(s,o,n,r,t[14],17,-1502002290),n=br(n,r=vr(r,s,o,n,t[15],22,1236535329),s,o,t[1],5,-165796510),o=br(o,n,r,s,t[6],9,-1069501632),s=br(s,o,n,r,t[11],14,643717713),r=br(r,s,o,n,t[0],20,-373897302),n=br(n,r,s,o,t[5],5,-701558691),o=br(o,n,r,s,t[10],9,38016083),s=br(s,o,n,r,t[15],14,-660478335),r=br(r,s,o,n,t[4],20,-405537848),n=br(n,r,s,o,t[9],5,568446438),o=br(o,n,r,s,t[14],9,-1019803690),s=br(s,o,n,r,t[3],14,-187363961),r=br(r,s,o,n,t[8],20,1163531501),n=br(n,r,s,o,t[13],5,-1444681467),o=br(o,n,r,s,t[2],9,-51403784),s=br(s,o,n,r,t[7],14,1735328473),n=wr(n,r=br(r,s,o,n,t[12],20,-1926607734),s,o,t[5],4,-378558),o=wr(o,n,r,s,t[8],11,-2022574463),s=wr(s,o,n,r,t[11],16,1839030562),r=wr(r,s,o,n,t[14],23,-35309556),n=wr(n,r,s,o,t[1],4,-1530992060),o=wr(o,n,r,s,t[4],11,1272893353),s=wr(s,o,n,r,t[7],16,-155497632),r=wr(r,s,o,n,t[10],23,-1094730640),n=wr(n,r,s,o,t[13],4,681279174),o=wr(o,n,r,s,t[0],11,-358537222),s=wr(s,o,n,r,t[3],16,-722521979),r=wr(r,s,o,n,t[6],23,76029189),n=wr(n,r,s,o,t[9],4,-640364487),o=wr(o,n,r,s,t[12],11,-421815835),s=wr(s,o,n,r,t[15],16,530742520),n=Ar(n,r=wr(r,s,o,n,t[2],23,-995338651),s,o,t[0],6,-198630844),o=Ar(o,n,r,s,t[7],10,1126891415),s=Ar(s,o,n,r,t[14],15,-1416354905),r=Ar(r,s,o,n,t[5],21,-57434055),n=Ar(n,r,s,o,t[12],6,1700485571),o=Ar(o,n,r,s,t[3],10,-1894986606),s=Ar(s,o,n,r,t[10],15,-1051523),r=Ar(r,s,o,n,t[1],21,-2054922799),n=Ar(n,r,s,o,t[8],6,1873313359),o=Ar(o,n,r,s,t[15],10,-30611744),s=Ar(s,o,n,r,t[6],15,-1560198380),r=Ar(r,s,o,n,t[13],21,1309151649),n=Ar(n,r,s,o,t[4],6,-145523070),o=Ar(o,n,r,s,t[11],10,-1120210379),s=Ar(s,o,n,r,t[2],15,718787259),r=Ar(r,s,o,n,t[9],21,-343485551),e[0]=Io(n,e[0]),e[1]=Io(r,e[1]),e[2]=Io(s,e[2]),e[3]=Io(o,e[3])}function S1(e,t,n,r,s,o){return t=Io(Io(t,e),Io(r,o)),Io(t<<s|t>>>32-s,n)}function vr(e,t,n,r,s,o,f){return S1(t&n|~t&r,e,t,s,o,f)}function br(e,t,n,r,s,o,f){return S1(t&r|n&~r,e,t,s,o,f)}function wr(e,t,n,r,s,o,f){return S1(t^n^r,e,t,s,o,f)}function Ar(e,t,n,r,s,o,f){return S1(n^(t|~r),e,t,s,o,f)}function W3(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_h(r,Mw(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(_h(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,_h(r,s),r}function Mw(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Bu=jt.atob.bind(jt),jd=jt.btoa.bind(jt);var sm="0123456789abcdef".split("");function Ow(e){for(var t="",n=0;n<4;n++)t+=sm[e>>8*n+4&15]+sm[e>>8*n&15];return t}function Rw(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Bd(e){return W3(e).map(Rw).join("")}var jw=function(e){for(var t=0;t<e.length;t++)e[t]=Ow(e[t]);return e.join("")}(W3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Io(e,t){if(jw){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kd(e,t){var n,r,s,o;if(e!==n){for(var f=(s=e,o=1+(256/e.length>>0),new Array(o+1).join(s)),d=[],p=0;p<256;p++)d[p]=p;var y=0;for(p=0;p<256;p++){var N=d[p];y=(y+N+f.charCodeAt(p))%256,d[p]=d[y],d[y]=N}n=e,r=d}else d=r;var S=t.length,E=0,w=0,B="";for(p=0;p<S;p++)w=(w+(N=d[E=(E+1)%256]))%256,d[E]=d[w],d[w]=N,f=d[(d[E]+d[w])%256],B+=String.fromCharCode(t.charCodeAt(p)^f);return B}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var om={print:4,modify:8,copy:16,"annot-forms":32};function rc(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(d){if(om.perm!==void 0)throw new Error("Invalid permission: "+d);s+=om[d]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),f=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,f),this.P=-(1+(255^s)),this.encryptionKey=Bd(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=kd(this.encryptionKey,this.padding)}function ac(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function lm(e){if(In(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var o=Math.random().toString(35);return t[n][o]=[r,!!s],o},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[n]){var f=t[n][o];try{f[0].apply(e,r)}catch(d){jt.console&&Bn.error("jsPDF PubSub Error",d.message,d)}f[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function af(e){if(!(this instanceof af))return new af(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Z3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function So(e,t,n,r,s){if(!(this instanceof So))return new So(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Z3.call(this,r,s)}function yl(e,t,n,r,s){if(!(this instanceof yl))return new yl(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Z3.call(this,r,s)}function Rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],f=[],d=1,p=16,y="S",N=null;In(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,o=e.compress||e.compressPdf||o,(N=e.encryption||null)!==null&&(N.userPassword=N.userPassword||"",N.ownerPassword=N.ownerPassword||"",N.userPermissions=N.userPermissions||[]),d=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(p=e.floatPrecision),y=e.defaultPathOperation||"S"),f=e.filters||(o===!0?["FlateEncode"]:f),r=r||"mm",n=(""+(n||"P")).toLowerCase();var S=e.putOnlyUsedFonts||!1,E={},w={internal:{},__private__:{}};w.__private__.PubSub=lm;var B="1.3",M=w.__private__.getPdfVersion=function(){return B};w.__private__.setPdfVersion=function(A){B=A};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return P};var T=w.__private__.getPageFormat=function(A){return P[A]};s=s||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},D=I.COMPAT;function L(){this.saveGraphicsState(),ye(new Ct(dt,0,0,-dt,0,xr()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),y="n",D=I.ADVANCED}function F(){this.restoreGraphicsState(),y="S",D=I.COMPAT}var X=w.__private__.combineFontStyleAndFontWeight=function(A,Y){if(A=="bold"&&Y=="normal"||A=="bold"&&Y==400||A=="normal"&&Y=="italic"||A=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(A=Y==400||Y==="normal"?A==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||A!=="normal"?(Y==700?"bold":Y)+""+A:"bold"),A};w.advancedAPI=function(A){var Y=D===I.COMPAT;return Y&&L.call(this),typeof A!="function"||(A(this),Y&&F.call(this)),this},w.compatAPI=function(A){var Y=D===I.ADVANCED;return Y&&F.call(this),typeof A!="function"||(A(this),Y&&L.call(this)),this},w.isAdvancedAPI=function(){return D===I.ADVANCED};var k,H=function(A){if(D!==I.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=w.roundToPrecision=w.__private__.roundToPrecision=function(A,Y){var ue=t||Y;if(isNaN(A)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ue).replace(/0+$/,"")};k=w.hpf=w.__private__.hpf=typeof p=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,p)}:p==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,16)};var de=w.f2=w.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return W(A,2)},z=w.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return W(A,3)},j=w.scale=w.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return D===I.COMPAT?A*dt:D===I.ADVANCED?A:void 0},ie=function(A){return D===I.COMPAT?xr()-A:D===I.ADVANCED?A:void 0},re=function(A){return j(ie(A))};w.__private__.setPrecision=w.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var ae,J="00000000000000000000000000000000",$=w.__private__.getFileId=function(){return J},ce=w.__private__.setFileId=function(A){return J=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),N!==null&&(Ni=new rc(N.userPermissions,N.userPassword,N.ownerPassword,J)),J};w.setFileId=function(A){return ce(A),this},w.getFileId=function(){return $()};var ge=w.__private__.convertDateToPDFDate=function(A){var Y=A.getTimezoneOffset(),ue=Y<0?"+":"-",we=Math.floor(Math.abs(Y/60)),Le=Math.abs(Y%60),qe=[ue,se(we),"'",se(Le),"'"].join("");return["D:",A.getFullYear(),se(A.getMonth()+1),se(A.getDate()),se(A.getHours()),se(A.getMinutes()),se(A.getSeconds()),qe].join("")},ve=w.__private__.convertPDFDateToDate=function(A){var Y=parseInt(A.substr(2,4),10),ue=parseInt(A.substr(6,2),10)-1,we=parseInt(A.substr(8,2),10),Le=parseInt(A.substr(10,2),10),qe=parseInt(A.substr(12,2),10),Ke=parseInt(A.substr(14,2),10);return new Date(Y,ue,we,Le,qe,Ke,0)},ke=w.__private__.setCreationDate=function(A){var Y;if(A===void 0&&(A=new Date),A instanceof Date)Y=ge(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=A}return ae=Y},U=w.__private__.getCreationDate=function(A){var Y=ae;return A==="jsDate"&&(Y=ve(ae)),Y};w.setCreationDate=function(A){return ke(A),this},w.getCreationDate=function(A){return U(A)};var te,se=w.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},me=w.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},oe=0,Me=[],Ie=[],Re=0,rt=[],Xe=[],ut=!1,Je=Ie,_t=function(){oe=0,Re=0,Ie=[],Me=[],rt=[],dr=Dn(),Tr=Dn()};w.__private__.setCustomOutputDestination=function(A){ut=!0,Je=A};var Ue=function(A){ut||(Je=A)};w.__private__.resetCustomOutputDestination=function(){ut=!1,Je=Ie};var ye=w.__private__.out=function(A){return A=A.toString(),Re+=A.length+1,Je.push(A),Je},St=w.__private__.write=function(A){return ye(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},ct=w.__private__.getArrayBuffer=function(A){for(var Y=A.length,ue=new ArrayBuffer(Y),we=new Uint8Array(ue);Y--;)we[Y]=A.charCodeAt(Y);return ue},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return xe};var Ce=e.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(A){return Ce=D===I.ADVANCED?A/dt:A,this};var pe,Ee=w.__private__.getFontSize=w.getFontSize=function(){return D===I.COMPAT?Ce:Ce*dt},He=e.R2L||!1;w.__private__.setR2L=w.setR2L=function(A){return He=A,this},w.__private__.getR2L=w.getR2L=function(){return He};var Ve,ft=w.__private__.setZoomMode=function(A){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))pe=A;else if(isNaN(A)){if(Y.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');pe=A}else pe=parseInt(A,10)};w.__private__.getZoomMode=function(){return pe};var it,bt=w.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Ve=A};w.__private__.getPageMode=function(){return Ve};var xt=w.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');it=A};w.__private__.getLayoutMode=function(){return it},w.__private__.setDisplayMode=w.setDisplayMode=function(A,Y,ue){return ft(A),xt(Y),bt(ue),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(A){if(Object.keys(vt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[A]},w.__private__.getDocumentProperties=function(){return vt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(A){for(var Y in vt)vt.hasOwnProperty(Y)&&A[Y]&&(vt[Y]=A[Y]);return this},w.__private__.setDocumentProperty=function(A,Y){if(Object.keys(vt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[A]=Y};var Qt,dt,Yi,Lt,lt,Pt={},Mt={},dn=[],an={},ja={},Vn={},Gt={},ir=null,Yn=0,Ft=[],Yt=new lm(w),Ba=e.hotfixes||[],un={},rr={},Er=[],Ct=function A(Y,ue,we,Le,qe,Ke){if(!(this instanceof A))return new A(Y,ue,we,Le,qe,Ke);isNaN(Y)&&(Y=1),isNaN(ue)&&(ue=0),isNaN(we)&&(we=0),isNaN(Le)&&(Le=1),isNaN(qe)&&(qe=0),isNaN(Ke)&&(Ke=0),this._matrix=[Y,ue,we,Le,qe,Ke]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(A)},Ct.prototype.multiply=function(A){var Y=A.sx*this.sx+A.shy*this.shx,ue=A.sx*this.shy+A.shy*this.sy,we=A.shx*this.sx+A.sy*this.shx,Le=A.shx*this.shy+A.sy*this.sy,qe=A.tx*this.sx+A.ty*this.shx+this.tx,Ke=A.tx*this.shy+A.ty*this.sy+this.ty;return new Ct(Y,ue,we,Le,qe,Ke)},Ct.prototype.decompose=function(){var A=this.sx,Y=this.shy,ue=this.shx,we=this.sy,Le=this.tx,qe=this.ty,Ke=Math.sqrt(A*A+Y*Y),pt=(A/=Ke)*ue+(Y/=Ke)*we;ue-=A*pt,we-=Y*pt;var It=Math.sqrt(ue*ue+we*we);return pt/=It,A*(we/=It)<Y*(ue/=It)&&(A=-A,Y=-Y,pt=-pt,Ke=-Ke),{scale:new Ct(Ke,0,0,It,0,0),translate:new Ct(1,0,0,1,Le,qe),rotate:new Ct(A,Y,-Y,A,0,0),skew:new Ct(1,0,pt,1,0,0)}},Ct.prototype.toString=function(A){return this.join(" ")},Ct.prototype.inversed=function(){var A=this.sx,Y=this.shy,ue=this.shx,we=this.sy,Le=this.tx,qe=this.ty,Ke=1/(A*we-Y*ue),pt=we*Ke,It=-Y*Ke,Ut=-ue*Ke,zt=A*Ke;return new Ct(pt,It,Ut,zt,-pt*Le-Ut*qe,-It*Le-zt*qe)},Ct.prototype.applyToPoint=function(A){var Y=A.x*this.sx+A.y*this.shx+this.tx,ue=A.x*this.shy+A.y*this.sy+this.ty;return new Ks(Y,ue)},Ct.prototype.applyToRectangle=function(A){var Y=this.applyToPoint(A),ue=this.applyToPoint(new Ks(A.x+A.w,A.y+A.h));return new ll(Y.x,Y.y,ue.x-Y.x,ue.y-Y.y)},Ct.prototype.clone=function(){var A=this.sx,Y=this.shy,ue=this.shx,we=this.sy,Le=this.tx,qe=this.ty;return new Ct(A,Y,ue,we,Le,qe)},w.Matrix=Ct;var Wr=w.matrixMult=function(A,Y){return Y.multiply(A)},Xi=new Ct(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Xi;var Wi=function(A,Y){if(!ja[A]){var ue=(Y instanceof So?"Sh":"P")+(Object.keys(an).length+1).toString(10);Y.id=ue,ja[A]=ue,an[ue]=Y,Yt.publish("addPattern",Y)}};w.ShadingPattern=So,w.TilingPattern=yl,w.addShadingPattern=function(A,Y){return H("addShadingPattern()"),Wi(A,Y),this},w.beginTilingPattern=function(A){H("beginTilingPattern()"),Js(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},w.endTilingPattern=function(A,Y){H("endTilingPattern()"),Y.stream=Xe[te].join(`
`),Wi(A,Y),Yt.publish("endTilingPattern",Y),Er.pop().restore()};var fn=w.__private__.newObject=function(){var A=Dn();return Fn(A,!0),A},Dn=w.__private__.newObjectDeferred=function(){return oe++,Me[oe]=function(){return Re},oe},Fn=function(A,Y){return Y=typeof Y=="boolean"&&Y,Me[A]=Re,Y&&ye(A+" 0 obj"),A},mt=w.__private__.newAdditionalObject=function(){var A={objId:Dn(),content:""};return rt.push(A),A},dr=Dn(),Tr=Dn(),Un=w.__private__.decodeColorString=function(A){var Y=A.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ue=parseFloat(Y[0]);Y=[ue,ue,ue,"r"]}for(var we="#",Le=0;Le<3;Le++)we+=("0"+Math.floor(255*parseFloat(Y[Le])).toString(16)).slice(-2);return we},Zi=w.__private__.encodeColorString=function(A){var Y;typeof A=="string"&&(A={ch1:A});var ue=A.ch1,we=A.ch2,Le=A.ch3,qe=A.ch4,Ke=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var pt=new X3(ue);if(pt.ok)ue=pt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var It=parseInt(ue.substr(1),16);ue=It>>16&255,we=It>>8&255,Le=255&It}if(we===void 0||qe===void 0&&ue===we&&we===Le)if(typeof ue=="string")Y=ue+" "+Ke[0];else switch(A.precision){case 2:Y=de(ue/255)+" "+Ke[0];break;case 3:default:Y=z(ue/255)+" "+Ke[0]}else if(qe===void 0||In(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return Y=["1.","1.","1.",Ke[1]].join(" ");if(typeof ue=="string")Y=[ue,we,Le,Ke[1]].join(" ");else switch(A.precision){case 2:Y=[de(ue/255),de(we/255),de(Le/255),Ke[1]].join(" ");break;default:case 3:Y=[z(ue/255),z(we/255),z(Le/255),Ke[1]].join(" ")}}else if(typeof ue=="string")Y=[ue,we,Le,qe,Ke[2]].join(" ");else switch(A.precision){case 2:Y=[de(ue),de(we),de(Le),de(qe),Ke[2]].join(" ");break;case 3:default:Y=[z(ue),z(we),z(Le),z(qe),Ke[2]].join(" ")}return Y},_r=w.__private__.getFilters=function(){return f},ar=w.__private__.putStream=function(A){var Y=(A=A||{}).data||"",ue=A.filters||_r(),we=A.alreadyAppliedFilters||[],Le=A.addLength1||!1,qe=Y.length,Ke=A.objectId,pt=function(Qi){return Qi};if(N!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");N!==null&&(pt=Ni.encryptor(Ke,0));var It={};ue===!0&&(ue=["FlateEncode"]);var Ut=A.additionalKeyValues||[],zt=(It=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(Y,ue):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(It.data.length!==0&&(Ut.push({key:"Length",value:It.data.length}),Le===!0&&Ut.push({key:"Length1",value:qe})),zt.length!=0)if(zt.split("/").length-1==1)Ut.push({key:"Filter",value:zt});else{Ut.push({key:"Filter",value:"["+zt+"]"});for(var tn=0;tn<Ut.length;tn+=1)if(Ut[tn].key==="DecodeParms"){for(var Zn=[],Sn=0;Sn<It.reverseChain.split("/").length-1;Sn+=1)Zn.push("null");Zn.push(Ut[tn].value),Ut[tn].value="["+Zn.join(" ")+"]"}}ye("<<");for(var ti=0;ti<Ut.length;ti++)ye("/"+Ut[ti].key+" "+Ut[ti].value);ye(">>"),It.data.length!==0&&(ye("stream"),ye(pt(It.data)),ye("endstream"))},wi=w.__private__.putPage=function(A){var Y=A.number,ue=A.data,we=A.objId,Le=A.contentsObjId;Fn(we,!0),ye("<</Type /Page"),ye("/Parent "+A.rootDictionaryObjId+" 0 R"),ye("/Resources "+A.resourceDictionaryObjId+" 0 R"),ye("/MediaBox ["+parseFloat(k(A.mediaBox.bottomLeftX))+" "+parseFloat(k(A.mediaBox.bottomLeftY))+" "+k(A.mediaBox.topRightX)+" "+k(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ye("/CropBox ["+k(A.cropBox.bottomLeftX)+" "+k(A.cropBox.bottomLeftY)+" "+k(A.cropBox.topRightX)+" "+k(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ye("/BleedBox ["+k(A.bleedBox.bottomLeftX)+" "+k(A.bleedBox.bottomLeftY)+" "+k(A.bleedBox.topRightX)+" "+k(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ye("/TrimBox ["+k(A.trimBox.bottomLeftX)+" "+k(A.trimBox.bottomLeftY)+" "+k(A.trimBox.topRightX)+" "+k(A.trimBox.topRightY)+"]"),A.artBox!==null&&ye("/ArtBox ["+k(A.artBox.bottomLeftX)+" "+k(A.artBox.bottomLeftY)+" "+k(A.artBox.topRightX)+" "+k(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ye("/UserUnit "+A.userUnit),Yt.publish("putPage",{objId:we,pageContext:Ft[Y],pageNumber:Y,page:ue}),ye("/Contents "+Le+" 0 R"),ye(">>"),ye("endobj");var qe=ue.join(`
`);return D===I.ADVANCED&&(qe+=`
Q`),Fn(Le,!0),ar({data:qe,filters:_r(),objectId:Le}),ye("endobj"),we},ys=w.__private__.putPages=function(){var A,Y,ue=[];for(A=1;A<=Yn;A++)Ft[A].objId=Dn(),Ft[A].contentsObjId=Dn();for(A=1;A<=Yn;A++)ue.push(wi({number:A,data:Xe[A],objId:Ft[A].objId,contentsObjId:Ft[A].contentsObjId,mediaBox:Ft[A].mediaBox,cropBox:Ft[A].cropBox,bleedBox:Ft[A].bleedBox,trimBox:Ft[A].trimBox,artBox:Ft[A].artBox,userUnit:Ft[A].userUnit,rootDictionaryObjId:dr,resourceDictionaryObjId:Tr}));Fn(dr,!0),ye("<</Type /Pages");var we="/Kids [";for(Y=0;Y<Yn;Y++)we+=ue[Y]+" 0 R ";ye(we+"]"),ye("/Count "+Yn),ye(">>"),ye("endobj"),Yt.publish("postPutPages")},Ys=function(A){Yt.publish("putFont",{font:A,out:ye,newObject:fn,putStream:ar}),A.isAlreadyPutted!==!0&&(A.objectNumber=fn(),ye("<<"),ye("/Type /Font"),ye("/BaseFont /"+ac(A.postScriptName)),ye("/Subtype /Type1"),typeof A.encoding=="string"&&ye("/Encoding /"+A.encoding),ye("/FirstChar 32"),ye("/LastChar 255"),ye(">>"),ye("endobj"))},sr=function(){for(var A in Pt)Pt.hasOwnProperty(A)&&(S===!1||S===!0&&E.hasOwnProperty(A))&&Ys(Pt[A])},gi=function(A){A.objectNumber=fn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[k(A.x),k(A.y),k(A.x+A.width),k(A.y+A.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ue=A.pages[1].join(`
`);ar({data:ue,additionalKeyValues:Y,objectId:A.objectNumber}),ye("endobj")},yn=function(){for(var A in un)un.hasOwnProperty(A)&&gi(un[A])},Wo=function(A,Y){var ue,we=[],Le=1/(Y-1);for(ue=0;ue<1;ue+=Le)we.push(ue);if(we.push(1),A[0].offset!=0){var qe={offset:0,color:A[0].color};A.unshift(qe)}if(A[A.length-1].offset!=1){var Ke={offset:1,color:A[A.length-1].color};A.push(Ke)}for(var pt="",It=0,Ut=0;Ut<we.length;Ut++){for(ue=we[Ut];ue>A[It+1].offset;)It++;var zt=A[It].offset,tn=(ue-zt)/(A[It+1].offset-zt),Zn=A[It].color,Sn=A[It+1].color;pt+=me(Math.round((1-tn)*Zn[0]+tn*Sn[0]).toString(16))+me(Math.round((1-tn)*Zn[1]+tn*Sn[1]).toString(16))+me(Math.round((1-tn)*Zn[2]+tn*Sn[2]).toString(16))}return pt.trim()},ma=function(A,Y){Y||(Y=21);var ue=fn(),we=Wo(A.colors,Y),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+Y+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ar({data:we,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),ye("endobj"),A.objectNumber=fn(),ye("<< /ShadingType "+A.type),ye("/ColorSpace /DeviceRGB");var qe="/Coords ["+k(parseFloat(A.coords[0]))+" "+k(parseFloat(A.coords[1]))+" ";A.type===2?qe+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3])):qe+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3]))+" "+k(parseFloat(A.coords[4]))+" "+k(parseFloat(A.coords[5])),ye(qe+="]"),A.matrix&&ye("/Matrix ["+A.matrix.toString()+"]"),ye("/Function "+ue+" 0 R"),ye("/Extend [true true]"),ye(">>"),ye("endobj")},Zo=function(A,Y){var ue=Dn(),we=fn();Y.push({resourcesOid:ue,objectOid:we}),A.objectNumber=we;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+A.boundingBox.map(k).join(" ")+"]"}),Le.push({key:"XStep",value:k(A.xStep)}),Le.push({key:"YStep",value:k(A.yStep)}),Le.push({key:"Resources",value:ue+" 0 R"}),A.matrix&&Le.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),ar({data:A.stream,additionalKeyValues:Le,objectId:A.objectNumber}),ye("endobj")},Ze=function(A){var Y;for(Y in an)an.hasOwnProperty(Y)&&(an[Y]instanceof So?ma(an[Y]):an[Y]instanceof yl&&Zo(an[Y],A))},zl=function(A){for(var Y in A.objectNumber=fn(),ye("<<"),A)switch(Y){case"opacity":ye("/ca "+de(A[Y]));break;case"stroke-opacity":ye("/CA "+de(A[Y]))}ye(">>"),ye("endobj")},zn=function(){var A;for(A in Vn)Vn.hasOwnProperty(A)&&zl(Vn[A])},xa=function(){for(var A in ye("/XObject <<"),un)un.hasOwnProperty(A)&&un[A].objectNumber>=0&&ye("/"+A+" "+un[A].objectNumber+" 0 R");Yt.publish("putXobjectDict"),ye(">>")},Wc=function(){Ni.oid=fn(),ye("<<"),ye("/Filter /Standard"),ye("/V "+Ni.v),ye("/R "+Ni.r),ye("/U <"+Ni.toHexString(Ni.U)+">"),ye("/O <"+Ni.toHexString(Ni.O)+">"),ye("/P "+Ni.P),ye(">>"),ye("endobj")},on=function(){for(var A in ye("/Font <<"),Pt)Pt.hasOwnProperty(A)&&(S===!1||S===!0&&E.hasOwnProperty(A))&&ye("/"+A+" "+Pt[A].objectNumber+" 0 R");ye(">>")},ln=function(){if(Object.keys(an).length>0){for(var A in ye("/Shading <<"),an)an.hasOwnProperty(A)&&an[A]instanceof So&&an[A].objectNumber>=0&&ye("/"+A+" "+an[A].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),ye(">>")}},Xt=function(A){if(Object.keys(an).length>0){for(var Y in ye("/Pattern <<"),an)an.hasOwnProperty(Y)&&an[Y]instanceof w.TilingPattern&&an[Y].objectNumber>=0&&an[Y].objectNumber<A&&ye("/"+Y+" "+an[Y].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),ye(">>")}},Qo=function(){if(Object.keys(Vn).length>0){var A;for(A in ye("/ExtGState <<"),Vn)Vn.hasOwnProperty(A)&&Vn[A].objectNumber>=0&&ye("/"+A+" "+Vn[A].objectNumber+" 0 R");Yt.publish("putGStateDict"),ye(">>")}},Xn=function(A){Fn(A.resourcesOid,!0),ye("<<"),ye("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),on(),ln(),Xt(A.objectOid),Qo(),xa(),ye(">>"),ye("endobj")},Xs=function(){var A=[];sr(),zn(),yn(),Ze(A),Yt.publish("putResources"),A.forEach(Xn),Xn({resourcesOid:Tr,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources")},$n=function(){Yt.publish("putAdditionalObjects");for(var A=0;A<rt.length;A++){var Y=rt[A];Fn(Y.objId,!0),ye(Y.content),ye("endobj")}Yt.publish("postPutAdditionalObjects")},Zr=function(A){Mt[A.fontName]=Mt[A.fontName]||{},Mt[A.fontName][A.fontStyle]=A.id},Ko=function(A,Y,ue,we,Le){var qe={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:A,fontName:Y,fontStyle:ue,encoding:we,isStandardFont:Le||!1,metadata:{}};return Yt.publish("addFont",{font:qe,instance:this}),Pt[qe.id]=qe,Zr(qe),qe.id},Wn=function(A){for(var Y=0,ue=xe.length;Y<ue;Y++){var we=Ko.call(this,A[Y][0],A[Y][1],A[Y][2],xe[Y][3],!0);S===!1&&(E[we]=!0);var Le=A[Y][0].split("-");Zr({id:we,fontName:Le[0],fontStyle:Le[1]||""})}Yt.publish("addFonts",{fonts:Pt,dictionary:Mt})},Mi=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(we){var Y=we.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ue="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+we.message;if(!jt.console)throw new Error(ue);jt.console.error(ue,we),jt.alert&&alert(ue)}},A.foo.bar=A,A.foo},Ws=function(A,Y){var ue,we,Le,qe,Ke,pt,It,Ut,zt;if(Le=(Y=Y||{}).sourceEncoding||"Unicode",Ke=Y.outputEncoding,(Y.autoencode||Ke)&&Pt[Qt].metadata&&Pt[Qt].metadata[Le]&&Pt[Qt].metadata[Le].encoding&&(qe=Pt[Qt].metadata[Le].encoding,!Ke&&Pt[Qt].encoding&&(Ke=Pt[Qt].encoding),!Ke&&qe.codePages&&(Ke=qe.codePages[0]),typeof Ke=="string"&&(Ke=qe[Ke]),Ke)){for(It=!1,pt=[],ue=0,we=A.length;ue<we;ue++)(Ut=Ke[A.charCodeAt(ue)])?pt.push(String.fromCharCode(Ut)):pt.push(A[ue]),pt[ue].charCodeAt(0)>>8&&(It=!0);A=pt.join("")}for(ue=A.length;It===void 0&&ue!==0;)A.charCodeAt(ue-1)>>8&&(It=!0),ue--;if(!It)return A;for(pt=Y.noBOM?[]:[254,255],ue=0,we=A.length;ue<we;ue++){if((zt=(Ut=A.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(zt),pt.push(Ut-(zt<<8))}return String.fromCharCode.apply(void 0,pt)},Ai=w.__private__.pdfEscape=w.pdfEscape=function(A,Y){return Ws(A,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xn=w.__private__.beginPage=function(A){Xe[++Yn]=[],Ft[Yn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},le(Yn),Ue(Xe[te])},Si=function(A,Y){var ue,we,Le;switch(n=Y||n,typeof A=="string"&&(ue=T(A.toLowerCase()),Array.isArray(ue)&&(we=ue[0],Le=ue[1])),Array.isArray(A)&&(we=A[0]*dt,Le=A[1]*dt),isNaN(we)&&(we=s[0],Le=s[1]),(we>14400||Le>14400)&&(Bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Le=Math.min(14400,Le)),s=[we,Le],n.substr(0,1)){case"l":Le>we&&(s=[Le,we]);break;case"p":we>Le&&(s=[Le,we])}xn(s),ki(Pa),ye(Br),li!==0&&ye(li+" J"),es!==0&&ye(es+" j"),Yt.publish("addPage",{pageNumber:Yn})},Oe=function(A){A>0&&A<=Yn&&(Xe.splice(A,1),Ft.splice(A,1),Yn--,te>Yn&&(te=Yn),this.setPage(te))},le=function(A){A>0&&A<=Yn&&(te=A)},Et=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Xe.length-1},oi=function(A,Y,ue){var we,Le=void 0;return ue=ue||{},A=A!==void 0?A:Pt[Qt].fontName,Y=Y!==void 0?Y:Pt[Qt].fontStyle,we=A.toLowerCase(),Mt[we]!==void 0&&Mt[we][Y]!==void 0?Le=Mt[we][Y]:Mt[A]!==void 0&&Mt[A][Y]!==void 0?Le=Mt[A][Y]:ue.disableWarning===!1&&Bn.warn("Unable to look up font label for font '"+A+"', '"+Y+"'. Refer to getFontList() for available fonts."),Le||ue.noFallback||(Le=Mt.times[Y])==null&&(Le=Mt.times.normal),Le},gr=w.__private__.putInfo=function(){var A=fn(),Y=function(we){return we};for(var ue in N!==null&&(Y=Ni.encryptor(A,0)),ye("<<"),ye("/Producer ("+Ai(Y("jsPDF "+Rt.version))+")"),vt)vt.hasOwnProperty(ue)&&vt[ue]&&ye("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Ai(Y(vt[ue]))+")");ye("/CreationDate ("+Ai(Y(ae))+")"),ye(">>"),ye("endobj")},Jo=w.__private__.putCatalog=function(A){var Y=(A=A||{}).rootDictionaryObjId||dr;switch(fn(),ye("<<"),ye("/Type /Catalog"),ye("/Pages "+Y+" 0 R"),pe||(pe="fullwidth"),pe){case"fullwidth":ye("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ye("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ye("/OpenAction [3 0 R /Fit]");break;case"original":ye("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+pe;ue.substr(ue.length-1)==="%"&&(pe=parseInt(pe)/100),typeof pe=="number"&&ye("/OpenAction [3 0 R /XYZ null null "+de(pe)+"]")}switch(it||(it="continuous"),it){case"continuous":ye("/PageLayout /OneColumn");break;case"single":ye("/PageLayout /SinglePage");break;case"two":case"twoleft":ye("/PageLayout /TwoColumnLeft");break;case"tworight":ye("/PageLayout /TwoColumnRight")}Ve&&ye("/PageMode /"+Ve),Yt.publish("putCatalog"),ye(">>"),ye("endobj")},$o=w.__private__.putTrailer=function(){ye("trailer"),ye("<<"),ye("/Size "+(oe+1)),ye("/Root "+oe+" 0 R"),ye("/Info "+(oe-1)+" 0 R"),N!==null&&ye("/Encrypt "+Ni.oid+" 0 R"),ye("/ID [ <"+J+"> <"+J+"> ]"),ye(">>")},pr=w.__private__.putHeader=function(){ye("%PDF-"+B),ye("%ºß¬à")},Dt=w.__private__.putXRef=function(){var A="0000000000";ye("xref"),ye("0 "+(oe+1)),ye("0000000000 65535 f ");for(var Y=1;Y<=oe;Y++)typeof Me[Y]=="function"?ye((A+Me[Y]()).slice(-10)+" 00000 n "):Me[Y]!==void 0?ye((A+Me[Y]).slice(-10)+" 00000 n "):ye("0000000000 00000 n ")},gn=w.__private__.buildDocument=function(){_t(),Ue(Ie),Yt.publish("buildDocument"),pr(),ys(),$n(),Xs(),N!==null&&Wc(),gr(),Jo();var A=Re;return Dt(),$o(),ye("startxref"),ye(""+A),ye("%%EOF"),Ue(Xe[te]),Ie.join(`
`)},vs=w.__private__.getBlob=function(A){return new Blob([ct(A)],{type:"application/pdf"})},Zs=w.output=w.__private__.output=Mi(function(A,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",A){case void 0:return gn();case"save":w.save(Y.filename);break;case"arraybuffer":return ct(gn());case"blob":return vs(gn());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(vs(gn()))||void 0;Bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",we=gn();try{ue=jd(we)}catch{ue=jd(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Le=Y.pdfObjectUrl,qe="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",pt=jt.open();return pt!==null&&pt.document.write(Ke),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Ut=jt.open();if(Ut!==null){Ut.document.write(It);var zt=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=Y.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Zn=jt.open();if(Zn!==null&&(Zn.document.write(tn),Zn.document.title=Y.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",Y);default:return null}}),Qs=function(A){return Array.isArray(Ba)===!0&&Ba.indexOf(A)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var Ni=null;ke(),ce();var el=function(A){return N!==null?Ni.encryptor(A,0):function(Y){return Y}},Hl=w.__private__.getPageInfo=w.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[A].objId,pageNumber:A,pageContext:Ft[A]}},Nt=w.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Ft)if(Ft[Y].objId===A)break;return Hl(Y)},bs=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Ft[te].objId,pageNumber:te,pageContext:Ft[te]}};w.addPage=function(){return Si.apply(this,arguments),this},w.setPage=function(){return le.apply(this,arguments),Ue.call(this,Xe[te]),this},w.insertPage=function(A){return this.addPage(),this.movePage(te,A),this},w.movePage=function(A,Y){var ue,we;if(A>Y){ue=Xe[A],we=Ft[A];for(var Le=A;Le>Y;Le--)Xe[Le]=Xe[Le-1],Ft[Le]=Ft[Le-1];Xe[Y]=ue,Ft[Y]=we,this.setPage(Y)}else if(A<Y){ue=Xe[A],we=Ft[A];for(var qe=A;qe<Y;qe++)Xe[qe]=Xe[qe+1],Ft[qe]=Ft[qe+1];Xe[Y]=ue,Ft[Y]=we,this.setPage(Y)}return this},w.deletePage=function(){return Oe.apply(this,arguments),this},w.__private__.text=w.text=function(A,Y,ue,we,Le){var qe,Ke,pt,It,Ut,zt,tn,Zn,Sn,ti=(we=we||{}).scope||this;if(typeof A=="number"&&typeof Y=="number"&&(typeof ue=="string"||Array.isArray(ue))){var Qi=ue;ue=Y,Y=A,A=Qi}if(arguments[3]instanceof Ct?(H("The transform parameter of text() with a Matrix value"),Sn=Le):(pt=arguments[4],It=arguments[5],In(tn=arguments[3])==="object"&&tn!==null||(typeof pt=="string"&&(It=pt,pt=null),typeof tn=="string"&&(It=tn,tn=null),typeof tn=="number"&&(pt=tn,tn=null),we={flags:tn,angle:pt,align:It})),isNaN(Y)||isNaN(ue)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return ti;var ni="",Kr=!1,pi=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Ja,Ir=ti.internal.scaleFactor;function or(Hn){return Hn=Hn.split("	").join(Array(we.TabLen||9).join(" ")),Ai(Hn,tn)}function $s(Hn){for(var qn,Ei=Hn.concat(),Ui=[],Ns=Ei.length;Ns--;)typeof(qn=Ei.shift())=="string"?Ui.push(qn):Array.isArray(Hn)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Ui.push(qn[0]):Ui.push([qn[0],qn[1],qn[2]]);return Ui}function yr(Hn,qn){var Ei;if(typeof Hn=="string")Ei=qn(Hn)[0];else if(Array.isArray(Hn)){for(var Ui,Ns,Kc=Hn.concat(),Vl=[],Af=Kc.length;Af--;)typeof(Ui=Kc.shift())=="string"?Vl.push(qn(Ui)[0]):Array.isArray(Ui)&&typeof Ui[0]=="string"&&(Ns=qn(Ui[0],Ui[1],Ui[2]),Vl.push([Ns[0],Ns[1],Ns[2]]));Ei=Vl}return Ei}var eo=!1,As=!0;if(typeof A=="string")eo=!0;else if(Array.isArray(A)){var ul=A.concat();Ke=[];for(var Ss,Ln=ul.length;Ln--;)(typeof(Ss=ul.shift())!="string"||Array.isArray(Ss)&&typeof Ss[0]!="string")&&(As=!1);eo=As}if(eo===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var to=Ce/ti.internal.scaleFactor,is=to*(pi-1);switch(we.baseline){case"bottom":ue-=is;break;case"top":ue+=to-is;break;case"hanging":ue+=to-2*is;break;case"middle":ue+=to/2-is}if((zt=we.maxWidth||0)>0&&(typeof A=="string"?A=ti.splitTextToSize(A,zt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Hn,qn){return Hn.concat(ti.splitTextToSize(qn,zt))},[]))),qe={text:A,x:Y,y:ue,options:we,mutex:{pdfEscape:Ai,activeFontKey:Qt,fonts:Pt,activeFontSize:Ce}},Yt.publish("preProcessText",qe),A=qe.text,pt=(we=qe.options).angle,!(Sn instanceof Ct)&&pt&&typeof pt=="number"){pt*=Math.PI/180,we.rotationDirection===0&&(pt=-pt),D===I.ADVANCED&&(pt=-pt);var wa=Math.cos(pt),Jt=Math.sin(pt);Sn=new Ct(wa,Jt,-Jt,wa,0,0)}else pt&&pt instanceof Ct&&(Sn=pt);D!==I.ADVANCED||Sn||(Sn=Xi),(Ut=we.charSpace||Pe)!==void 0&&(ni+=k(j(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=we.horizontalScale)!==void 0&&(ni+=k(100*Zn)+` Tz
`),we.lang;var Pi=-1,G=we.renderingMode!==void 0?we.renderingMode:we.stroke,i=ti.internal.getCurrentPageInfo().pageContext;switch(G){case 0:case!1:case"fill":Pi=0;break;case 1:case!0:case"stroke":Pi=1;break;case 2:case"fillThenStroke":Pi=2;break;case 3:case"invisible":Pi=3;break;case 4:case"fillAndAddForClipping":Pi=4;break;case 5:case"strokeAndAddPathForClipping":Pi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pi=6;break;case 7:case"addToPathForClipping":Pi=7}var a=i.usedRenderingMode!==void 0?i.usedRenderingMode:-1;Pi!==-1?ni+=Pi+` Tr
`:a!==-1&&(ni+=`0 Tr
`),Pi!==-1&&(i.usedRenderingMode=Pi),It=we.align||"left";var l,c=Ce*pi,u=ti.internal.pageSize.getWidth(),h=Pt[Qt];Ut=we.charSpace||Pe,zt=we.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},we.flags);var m=[],b=function(Hn){return ti.getStringUnitWidth(Hn,{font:h,charSpace:Ut,fontSize:Ce,doKerning:!1})*Ce/Ir};if(Object.prototype.toString.call(A)==="[object Array]"){var C;Ke=$s(A),It!=="left"&&(l=Ke.map(b));var R,q=0;if(It==="right"){Y-=l[0],A=[],Ln=Ke.length;for(var Q=0;Q<Ln;Q++)Q===0?(R=ba(Y),C=Fa(ue)):(R=j(q-l[Q]),C=-c),A.push([Ke[Q],R,C]),q=l[Q]}else if(It==="center"){Y-=l[0]/2,A=[],Ln=Ke.length;for(var fe=0;fe<Ln;fe++)fe===0?(R=ba(Y),C=Fa(ue)):(R=j((q-l[fe])/2),C=-c),A.push([Ke[fe],R,C]),q=l[fe]}else if(It==="left"){A=[],Ln=Ke.length;for(var be=0;be<Ln;be++)A.push(Ke[be])}else if(It==="justify"&&h.encoding==="Identity-H"){A=[],Ln=Ke.length,zt=zt!==0?zt:u;for(var Ae=0,_e=0;_e<Ln;_e++)if(C=_e===0?Fa(ue):-c,R=_e===0?ba(Y):Ae,_e<Ln-1){var Fe=j((zt-l[_e])/(Ke[_e].split(" ").length-1)),et=Ke[_e].split(" ");A.push([et[0]+" ",R,C]),Ae=0;for(var at=1;at<et.length;at++){var tt=(b(et[at-1]+" "+et[at])-b(et[at]))*Ir+Fe;at==et.length-1?A.push([et[at],tt,0]):A.push([et[at]+" ",tt,0]),Ae-=tt}}else A.push([Ke[_e],R,C]);A.push(["",Ae,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Ln=Ke.length,zt=zt!==0?zt:u,_e=0;_e<Ln;_e++)C=_e===0?Fa(ue):-c,R=_e===0?ba(Y):0,_e<Ln-1?m.push(k(j((zt-l[_e])/(Ke[_e].split(" ").length-1)))):m.push(0),A.push([Ke[_e],R,C])}}var Zt=typeof we.R2L=="boolean"?we.R2L:He;Zt===!0&&(A=yr(A,function(Hn,qn,Ei){return[Hn.split("").reverse().join(""),qn,Ei]})),qe={text:A,x:Y,y:ue,options:we,mutex:{pdfEscape:Ai,activeFontKey:Qt,fonts:Pt,activeFontSize:Ce}},Yt.publish("postProcessText",qe),A=qe.text,Kr=qe.mutex.isHex||!1;var Bt=Pt[Qt].encoding;Bt!=="WinAnsiEncoding"&&Bt!=="StandardEncoding"||(A=yr(A,function(Hn,qn,Ei){return[or(Hn),qn,Ei]})),Ke=$s(A),A=[];for(var mi,Fi,ui,cn=0,ii=1,Ci=Array.isArray(Ke[0])?ii:cn,Dr="",Aa=function(Hn,qn,Ei){var Ui="";return Ei instanceof Ct?(Ei=typeof we.angle=="number"?Wr(Ei,new Ct(1,0,0,1,Hn,qn)):Wr(new Ct(1,0,0,1,Hn,qn),Ei),D===I.ADVANCED&&(Ei=Wr(new Ct(1,0,0,-1,0,0),Ei)),Ui=Ei.join(" ")+` Tm
`):Ui=k(Hn)+" "+k(qn)+` Td
`,Ui},kr=0;kr<Ke.length;kr++){switch(Dr="",Ci){case ii:ui=(Kr?"<":"(")+Ke[kr][0]+(Kr?">":")"),mi=parseFloat(Ke[kr][1]),Fi=parseFloat(Ke[kr][2]);break;case cn:ui=(Kr?"<":"(")+Ke[kr]+(Kr?">":")"),mi=ba(Y),Fi=Fa(ue)}m!==void 0&&m[kr]!==void 0&&(Dr=m[kr]+` Tw
`),kr===0?A.push(Dr+Aa(mi,Fi,Sn)+ui):Ci===cn?A.push(Dr+ui):Ci===ii&&A.push(Dr+Aa(mi,Fi,Sn)+ui)}A=Ci===cn?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Pr=`BT
/`;return Pr+=Qt+" "+Ce+` Tf
`,Pr+=k(Ce*pi)+` TL
`,Pr+=mr+`
`,Pr+=ni,Pr+=A,ye(Pr+="ET"),E[Qt]=!0,ti};var ya=w.__private__.clip=w.clip=function(A){return ye(A==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ya("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ye("n"),this};var Tt=w.__private__.isValidStyle=function(A){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(Y=!0),Y};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(A){return Tt(A)&&(y=A),this};var ql=w.__private__.getStyle=w.getStyle=function(A){var Y=y;switch(A){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=A}return Y},Ht=w.close=function(){return ye("h"),this};w.stroke=function(){return ye("S"),this},w.fill=function(A){return ei("f",A),this},w.fillEvenOdd=function(A){return ei("f*",A),this},w.fillStroke=function(A){return ei("B",A),this},w.fillStrokeEvenOdd=function(A){return ei("B*",A),this};var ei=function(A,Y){In(Y)==="object"?Gl(Y,A):ye(A)},tl=function(A){A===null||D===I.ADVANCED&&A===void 0||(A=ql(A),ye(A))};function nl(A,Y,ue,we,Le){var qe=new yl(Y||this.boundingBox,ue||this.xStep,we||this.yStep,this.gState,Le||this.matrix);qe.stream=this.stream;var Ke=A+"$$"+this.cloneIndex+++"$$";return Wi(Ke,qe),qe}var Gl=function(A,Y){var ue=ja[A.key],we=an[ue];if(we instanceof So)ye("q"),ye(ka(Y)),we.gState&&w.setGState(we.gState),ye(A.matrix.toString()+" cm"),ye("/"+ue+" sh"),ye("Q");else if(we instanceof yl){var Le=new Ct(1,0,0,-1,0,xr());A.matrix&&(Le=Le.multiply(A.matrix||Xi),ue=nl.call(we,A.key,A.boundingBox,A.xStep,A.yStep,Le).id),ye("q"),ye("/Pattern cs"),ye("/"+ue+" scn"),we.gState&&w.setGState(we.gState),ye(Y),ye("Q")}},ka=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},il=w.moveTo=function(A,Y){return ye(k(j(A))+" "+k(re(Y))+" m"),this},Qr=w.lineTo=function(A,Y){return ye(k(j(A))+" "+k(re(Y))+" l"),this},jr=w.curveTo=function(A,Y,ue,we,Le,qe){return ye([k(j(A)),k(re(Y)),k(j(ue)),k(re(we)),k(j(Le)),k(re(qe)),"c"].join(" ")),this};w.__private__.line=w.line=function(A,Y,ue,we,Le){if(isNaN(A)||isNaN(Y)||isNaN(ue)||isNaN(we)||!Tt(Le))throw new Error("Invalid arguments passed to jsPDF.line");return D===I.COMPAT?this.lines([[ue-A,we-Y]],A,Y,[1,1],Le||"S"):this.lines([[ue-A,we-Y]],A,Y,[1,1]).stroke()},w.__private__.lines=w.lines=function(A,Y,ue,we,Le,qe){var Ke,pt,It,Ut,zt,tn,Zn,Sn,ti,Qi,ni,Kr;if(typeof A=="number"&&(Kr=ue,ue=Y,Y=A,A=Kr),we=we||[1,1],qe=qe||!1,isNaN(Y)||isNaN(ue)||!Array.isArray(A)||!Array.isArray(we)||!Tt(Le)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(il(Y,ue),Ke=we[0],pt=we[1],Ut=A.length,Qi=Y,ni=ue,It=0;It<Ut;It++)(zt=A[It]).length===2?(Qi=zt[0]*Ke+Qi,ni=zt[1]*pt+ni,Qr(Qi,ni)):(tn=zt[0]*Ke+Qi,Zn=zt[1]*pt+ni,Sn=zt[2]*Ke+Qi,ti=zt[3]*pt+ni,Qi=zt[4]*Ke+Qi,ni=zt[5]*pt+ni,jr(tn,Zn,Sn,ti,Qi,ni));return qe&&Ht(),tl(Le),this},w.path=function(A){for(var Y=0;Y<A.length;Y++){var ue=A[Y],we=ue.c;switch(ue.op){case"m":il(we[0],we[1]);break;case"l":Qr(we[0],we[1]);break;case"c":jr.apply(this,we);break;case"h":Ht()}}return this},w.__private__.rect=w.rect=function(A,Y,ue,we,Le){if(isNaN(A)||isNaN(Y)||isNaN(ue)||isNaN(we)||!Tt(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return D===I.COMPAT&&(we=-we),ye([k(j(A)),k(re(Y)),k(j(ue)),k(j(we)),"re"].join(" ")),tl(Le),this},w.__private__.triangle=w.triangle=function(A,Y,ue,we,Le,qe,Ke){if(isNaN(A)||isNaN(Y)||isNaN(ue)||isNaN(we)||isNaN(Le)||isNaN(qe)||!Tt(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-A,we-Y],[Le-ue,qe-we],[A-Le,Y-qe]],A,Y,[1,1],Ke,!0),this},w.__private__.roundedRect=w.roundedRect=function(A,Y,ue,we,Le,qe,Ke){if(isNaN(A)||isNaN(Y)||isNaN(ue)||isNaN(we)||isNaN(Le)||isNaN(qe)||!Tt(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*ue),qe=Math.min(qe,.5*we),this.lines([[ue-2*Le,0],[Le*pt,0,Le,qe-qe*pt,Le,qe],[0,we-2*qe],[0,qe*pt,-Le*pt,qe,-Le,qe],[2*Le-ue,0],[-Le*pt,0,-Le,-qe*pt,-Le,-qe],[0,2*qe-we],[0,-qe*pt,Le*pt,-qe,Le,-qe]],A+Le,Y,[1,1],Ke,!0),this},w.__private__.ellipse=w.ellipse=function(A,Y,ue,we,Le){if(isNaN(A)||isNaN(Y)||isNaN(ue)||isNaN(we)||!Tt(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*ue,Ke=4/3*(Math.SQRT2-1)*we;return il(A+ue,Y),jr(A+ue,Y-Ke,A+qe,Y-we,A,Y-we),jr(A-qe,Y-we,A-ue,Y-Ke,A-ue,Y),jr(A-ue,Y+Ke,A-qe,Y+we,A,Y+we),jr(A+qe,Y+we,A+ue,Y+Ke,A+ue,Y),tl(Le),this},w.__private__.circle=w.circle=function(A,Y,ue,we){if(isNaN(A)||isNaN(Y)||isNaN(ue)||!Tt(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,Y,ue,ue,we)},w.setFont=function(A,Y,ue){return ue&&(Y=X(Y,ue)),Qt=oi(A,Y,{disableWarning:!1}),this};var ws=w.__private__.getFont=w.getFont=function(){return Pt[oi.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var A,Y,ue={};for(A in Mt)if(Mt.hasOwnProperty(A))for(Y in ue[A]=[],Mt[A])Mt[A].hasOwnProperty(Y)&&ue[A].push(Y);return ue},w.addFont=function(A,Y,ue,we,Le){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(ue=X(ue,we)),Le=Le||"Identity-H",Ko.call(this,A,Y,ue,Le)};var Ja,Pa=e.lineWidth||.200025,va=w.__private__.getLineWidth=w.getLineWidth=function(){return Pa},ki=w.__private__.setLineWidth=w.setLineWidth=function(A){return Pa=A,ye(k(j(A))+" w"),this};w.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(A,Y){if(A=A||[],Y=Y||0,isNaN(Y)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ue){return k(j(ue))}).join(" "),Y=k(j(Y)),ye("["+A+"] "+Y+" d"),this};var rl=w.__private__.getLineHeight=w.getLineHeight=function(){return Ce*Ja};w.__private__.getLineHeight=w.getLineHeight=function(){return Ce*Ja};var al=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Ja=A),this},sl=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Ja};al(e.lineHeight);var ba=w.__private__.getHorizontalCoordinate=function(A){return j(A)},Fa=w.__private__.getVerticalCoordinate=function(A){return D===I.ADVANCED?A:Ft[te].mediaBox.topRightY-Ft[te].mediaBox.bottomLeftY-j(A)},Zc=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(A){return k(ba(A))},en=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(A){return k(Fa(A))},Br=e.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Un(Br)},w.__private__.setStrokeColor=w.setDrawColor=function(A,Y,ue,we){return Br=Zi({ch1:A,ch2:Y,ch3:ue,ch4:we,pdfColorType:"draw",precision:2}),ye(Br),this};var $a=e.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Un($a)},w.__private__.setFillColor=w.setFillColor=function(A,Y,ue,we){return $a=Zi({ch1:A,ch2:Y,ch3:ue,ch4:we,pdfColorType:"fill",precision:2}),ye($a),this};var mr=e.textColor||"0 g",Qc=w.__private__.getTextColor=w.getTextColor=function(){return Un(mr)};w.__private__.setTextColor=w.setTextColor=function(A,Y,ue,we){return mr=Zi({ch1:A,ch2:Y,ch3:ue,ch4:we,pdfColorType:"text",precision:3}),this};var Pe=e.charSpace,Vt=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Pe||0)};w.__private__.setCharSpace=w.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pe=A,this};var li=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(A){var Y=w.CapJoinStyles[A];if(Y===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return li=Y,ye(Y+" J"),this};var es=0;w.__private__.setLineJoin=w.setLineJoin=function(A){var Y=w.CapJoinStyles[A];if(Y===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return es=Y,ye(Y+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ye(k(j(A))+" M"),this},w.GState=af,w.setGState=function(A){(A=typeof A=="string"?Vn[Gt[A]]:ol(null,A)).equals(ir)||(ye("/"+A.id+" gs"),ir=A)};var ol=function(A,Y){if(!A||!Gt[A]){var ue=!1;for(var we in Vn)if(Vn.hasOwnProperty(we)&&Vn[we].equals(Y)){ue=!0;break}if(ue)Y=Vn[we];else{var Le="GS"+(Object.keys(Vn).length+1).toString(10);Vn[Le]=Y,Y.id=Le}return A&&(Gt[A]=Y.id),Yt.publish("addGState",Y),Y}};w.addGState=function(A,Y){return ol(A,Y),this},w.saveGraphicsState=function(){return ye("q"),dn.push({key:Qt,size:Ce,color:mr}),this},w.restoreGraphicsState=function(){ye("Q");var A=dn.pop();return Qt=A.key,Ce=A.size,mr=A.color,ir=null,this},w.setCurrentTransformationMatrix=function(A){return ye(A.toString()+" cm"),this},w.comment=function(A){return ye("#"+A),this};var Ks=function(A,Y){var ue=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(qe){isNaN(qe)||(ue=parseFloat(qe))}});var we=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(qe){isNaN(qe)||(we=parseFloat(qe))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(qe){Le=qe.toString()}}),this},ll=function(A,Y,ue,we){Ks.call(this,A,Y),this.type="rect";var Le=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(Ke){isNaN(Ke)||(Le=parseFloat(Ke))}});var qe=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Ke){isNaN(Ke)||(qe=parseFloat(Ke))}}),this},cl=function(){this.page=Yn,this.currentPage=te,this.pages=Xe.slice(0),this.pagesContext=Ft.slice(0),this.x=Yi,this.y=Lt,this.matrix=lt,this.width=An(te),this.height=xr(te),this.outputDestination=Je,this.id="",this.objectNumber=-1};cl.prototype.restore=function(){Yn=this.page,te=this.currentPage,Ft=this.pagesContext,Xe=this.pages,Yi=this.x,Lt=this.y,lt=this.matrix,ns(te,this.width),pn(te,this.height),Je=this.outputDestination};var Js=function(A,Y,ue,we,Le){Er.push(new cl),Yn=te=0,Xe=[],Yi=A,Lt=Y,lt=Le,xn([ue,we])},ci=function(A){if(rr[A])Er.pop().restore();else{var Y=new cl,ue="Xo"+(Object.keys(un).length+1).toString(10);Y.id=ue,rr[A]=ue,un[ue]=Y,Yt.publish("addFormObject",Y),Er.pop().restore()}};for(var ts in w.beginFormObject=function(A,Y,ue,we,Le){return Js(A,Y,ue,we,Le),this},w.endFormObject=function(A){return ci(A),this},w.doFormObject=function(A,Y){var ue=un[rr[A]];return ye("q"),ye(Y.toString()+" cm"),ye("/"+ue.id+" Do"),ye("Q"),this},w.getFormObject=function(A){var Y=un[rr[A]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},w.save=function(A,Y){return A=A||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(ml(vs(gn()),A),typeof ml.unload=="function"&&jt.setTimeout&&setTimeout(ml.unload,911),this):new Promise(function(ue,we){try{var Le=ml(vs(gn()),A);typeof ml.unload=="function"&&jt.setTimeout&&setTimeout(ml.unload,911),ue(Le)}catch(qe){we(qe.message)}})},Rt.API)Rt.API.hasOwnProperty(ts)&&(ts==="events"&&Rt.API.events.length?function(A,Y){var ue,we,Le;for(Le=Y.length-1;Le!==-1;Le--)ue=Y[Le][0],we=Y[Le][1],A.subscribe.apply(A,[ue].concat(typeof we=="function"?[we]:we))}(Yt,Rt.API.events):w[ts]=Rt.API[ts]);var An=w.getPageWidth=function(A){return(Ft[A=A||te].mediaBox.topRightX-Ft[A].mediaBox.bottomLeftX)/dt},ns=w.setPageWidth=function(A,Y){Ft[A].mediaBox.topRightX=Y*dt+Ft[A].mediaBox.bottomLeftX},xr=w.getPageHeight=function(A){return(Ft[A=A||te].mediaBox.topRightY-Ft[A].mediaBox.bottomLeftY)/dt},pn=w.setPageHeight=function(A,Y){Ft[A].mediaBox.topRightY=Y*dt+Ft[A].mediaBox.bottomLeftY};return w.internal={pdfEscape:Ai,getStyle:ql,getFont:ws,getFontSize:Ee,getCharSpace:Vt,getTextColor:Qc,getLineHeight:rl,getLineHeightFactor:sl,getLineWidth:va,write:St,getHorizontalCoordinate:ba,getVerticalCoordinate:Fa,getCoordinateString:Zc,getVerticalCoordinateString:en,collections:{},newObject:fn,newAdditionalObject:mt,newObjectDeferred:Dn,newObjectDeferredBegin:Fn,getFilters:_r,putStream:ar,events:Yt,scaleFactor:dt,pageSize:{getWidth:function(){return An(te)},setWidth:function(A){ns(te,A)},getHeight:function(){return xr(te)},setHeight:function(A){pn(te,A)}},encryptionOptions:N,encryption:Ni,getEncryptor:el,output:Zs,getNumberOfPages:Et,pages:Xe,out:ye,f2:de,f3:z,getPageInfo:Hl,getPageInfoByObjId:Nt,getCurrentPageInfo:bs,getPDFVersion:M,Point:Ks,Rectangle:ll,Matrix:Ct,hasHotfix:Qs},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return An(te)},set:function(A){ns(te,A)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return xr(te)},set:function(A){pn(te,A)},enumerable:!0,configurable:!0}),Wn.call(w,xe),Qt="F1",Si(s,n),Yt.publish("initialized"),w}rc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},rc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},rc.prototype.processOwnerPassword=function(e,t){return kd(Bd(t).substr(0,5),e)},rc.prototype.encryptor=function(e,t){var n=Bd(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return kd(n,r)}},af.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||In(e)!==In(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Rt.API={events:[]},Rt.version="2.5.2";var yi=Rt.API,W2=1,Ul=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(e){return e.toFixed(2)},ho=function(e){return e.toFixed(5)};yi.__acroform__={};var Xr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},cm=function(e){return e*W2},ss=function(e){var t=new K3,n=At.internal.getHeight(e)||0,r=At.internal.getWidth(e)||0;return t.BBox=[0,0,Number(qt(r)),Number(qt(n))],t},Bw=yi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},kw=yi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Pw=yi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ii=yi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Pw(e,t-1)},Di=yi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bw(e,t-1)},Li=yi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kw(e,t-1)},Fw=yi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],o=e[1],f=e[2],d=e[3],p={};return p.lowerLeft_X=n(s)||0,p.lowerLeft_Y=r(o+d)||0,p.upperRight_X=n(s+f)||0,p.upperRight_Y=r(o)||0,[Number(qt(p.lowerLeft_X)),Number(qt(p.lowerLeft_Y)),Number(qt(p.upperRight_X)),Number(qt(p.upperRight_Y))]},Uw=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Pd(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+qt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=ss(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},Pd=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(z){return z.split(`
`)}):s.map(function(z){return[z]});var o=n,f=At.internal.getHeight(e)||0;f=f<0?-f:f;var d=At.internal.getWidth(e)||0;d=d<0?-d:d;var p=function(z,j,ie){if(z+1<s.length){var re=j+" "+s[z+1][0];return r0(re,e,ie).width<=d-4}return!1};o++;e:for(;o>0;){t="",o--;var y,N,S=r0("3",e,o).height,E=e.multiline?f-o:(f-S)/2,w=E+=2,B=0,M=0,P=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+r0(t,e,o=12).width+", FieldWidth:"+d+`
`;break}for(var T="",I=0,D=0;D<s.length;D++)if(s.hasOwnProperty(D)){var L=!1;if(s[D].length!==1&&P!==s[D].length-1){if((S+2)*(I+2)+2>f)continue e;T+=s[D][P],L=!0,M=D,D--}else{T=(T+=s[D][P]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var F=parseInt(D),X=p(F,T,o),k=D>=s.length-1;if(X&&!k){T+=" ",P=0;continue}if(X||k){if(k)M=F;else if(e.multiline&&(S+2)*(I+2)+2>f)continue e}else{if(!e.multiline||(S+2)*(I+2)+2>f)continue e;M=F}}for(var H="",W=B;W<=M;W++){var de=s[W];if(e.multiline){if(W===M){H+=de[P]+" ",P=(P+1)%de.length;continue}if(W===B){H+=de[de.length-1]+" ";continue}}H+=de[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,N=r0(H,e,o).width,e.textAlign){case"right":y=d-N-2;break;case"center":y=(d-N)/2;break;case"left":default:y=2}t+=qt(y)+" "+qt(w)+` Td
`,t+="("+Ul(H)+`) Tj
`,t+=-qt(y)+` 0 Td
`,w=-(o+2),N=0,B=L?M:M+1,I++,T=""}break}return r.text=t,r.fontSize=o,r},r0=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},zw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hw=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},qw=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),In(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},Gw=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Qa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(zw)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new J3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&Hw(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var o=!r;for(var f in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(f)){var d=r[f],p=[],y=d.Rect;if(d.Rect&&(d.Rect=Fw(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=At.createDefaultAppearanceStream(d),In(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(p=d.getKeyValueListForStream()),d.Rect=y,d.hasAppearanceStream&&!d.appearanceStreamContent){var N=Uw(d);p.push({key:"AP",value:"<</N "+N+">>"}),s.internal.acroformPlugin.xForms.push(N)}if(d.appearanceStreamContent){var S="";for(var E in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(E)){var w=d.appearanceStreamContent[E];if(S+="/"+E+" ",S+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var f in w)if(w.hasOwnProperty(f)){var B=w[f];typeof B=="function"&&(B=B.call(s,d)),S+="/"+f+" "+B+" ",s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B)}}else typeof(B=w)=="function"&&(B=B.call(s,d)),S+="/"+f+" "+B,s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B);S+=">>"}p.push({key:"AP",value:`<<
`+S+">>"})}s.internal.putStream({additionalKeyValues:p,objectId:d.objId}),s.internal.out("endobj")}o&&qw(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Q3=yi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(f){return f};if(Array.isArray(e)){for(var s="[",o=0;o<e.length;o++)switch(o!==0&&(s+=" "),In(e[o])){case"boolean":case"number":case"object":s+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+Ul(r(e[o].toString()))+")"):s+=e[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ih=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ul(r(e))+")"},us=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};us.prototype.toString=function(){return this.objId+" 0 R"},us.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},us.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:Q3(s,this.objId,this.scope)}):s instanceof us?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var K3=function(){us.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Xr(K3,us);var J3=function(){us.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ul(n(e))+")"}},set:function(n){e=n}})};Xr(J3,us);var Qa=function e(){us.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');t=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ii(t,3)},set:function(T){T?this.F=Di(t,3):this.F=Li(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof J0)return;o="FieldObject"+e.FieldNum++}var T=function(I){return I};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Ul(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(T){d=T}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(T){p=T}});var y=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return y===void 0?50/W2:y},set:function(T){y=T}});var N="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return N},set:function(T){N=T}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof J0||this instanceof Fo))return Ih(S,this.objId,this.scope)},set:function(T){T=T.toString(),S=T}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Hi?E:Ih(E,this.objId,this.scope)},set:function(T){T=T.toString(),E=this instanceof Hi?T:T.substr(0,1)==="("?Jl(T.substr(1,T.length-2)):Jl(T)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi?Jl(E.substr(1,E.length-1)):E},set:function(T){T=T.toString(),E=this instanceof Hi?"/"+T:T}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Hi?w:Ih(w,this.objId,this.scope)},set:function(T){T=T.toString(),w=this instanceof Hi?T:T.substr(0,1)==="("?Jl(T.substr(1,T.length-2)):Jl(T)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi?Jl(w.substr(1,w.length-1)):w},set:function(T){T=T.toString(),w=this instanceof Hi?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(T){T=!!T,M=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(T){B=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,1)},set:function(T){T?this.Ff=Di(this.Ff,1):this.Ff=Li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,2)},set:function(T){T?this.Ff=Di(this.Ff,2):this.Ff=Li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,3)},set:function(T){T?this.Ff=Di(this.Ff,3):this.Ff=Li(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');P=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(P){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Xr(Qa,us);var Tl=function(){Qa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Q3(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(o,f,d){d||(d=1);for(var p,y=[];p=f.exec(o);)y.push(p[d]);return y}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,18)},set:function(n){n?this.Ff=Di(this.Ff,18):this.Ff=Li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Di(this.Ff,19):this.Ff=Li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,20)},set:function(n){n?(this.Ff=Di(this.Ff,20),t.sort()):this.Ff=Li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,22)},set:function(n){n?this.Ff=Di(this.Ff,22):this.Ff=Li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(n){n?this.Ff=Di(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,27)},set:function(n){n?this.Ff=Di(this.Ff,27):this.Ff=Li(this.Ff,27)}}),this.hasAppearanceStream=!1};Xr(Tl,Qa);var _l=function(){Tl.call(this),this.fontName="helvetica",this.combo=!1};Xr(_l,Tl);var Il=function(){_l.call(this),this.combo=!0};Xr(Il,_l);var ku=function(){Il.call(this),this.edit=!0};Xr(ku,Il);var Hi=function(){Qa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,15)},set:function(n){n?this.Ff=Di(this.Ff,15):this.Ff=Li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,16)},set:function(n){n?this.Ff=Di(this.Ff,16):this.Ff=Li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,17)},set:function(n){n?this.Ff=Di(this.Ff,17):this.Ff=Li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(n){n?this.Ff=Di(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Ul(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){In(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Xr(Hi,Qa);var Pu=function(){Hi.call(this),this.pushButton=!0};Xr(Pu,Hi);var Dl=function(){Hi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Xr(Dl,Hi);var J0=function(){var e,t;Qa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,f=[];for(o in f.push("<<"),r)f.push("/"+o+" ("+Ul(s(r[o]))+")");return f.push(">>"),f.join(`
`)},set:function(s){In(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xr(J0,Qa),Dl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Dl.prototype.createOption=function(e){var t=new J0;return t.Parent=this,t.optionName=e,this.Kids.push(t),Vw.call(this.scope,t),t};var Fu=function(){Hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};Xr(Fu,Hi);var Fo=function(){Qa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,13)},set:function(t){t?this.Ff=Di(this.Ff,13):this.Ff=Li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,21)},set:function(t){t?this.Ff=Di(this.Ff,21):this.Ff=Li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(t){t?this.Ff=Di(this.Ff,23):this.Ff=Li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,24)},set:function(t){t?this.Ff=Di(this.Ff,24):this.Ff=Li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,25)},set:function(t){t?this.Ff=Di(this.Ff,25):this.Ff=Li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(t){t?this.Ff=Di(this.Ff,26):this.Ff=Li(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xr(Fo,Qa);var Uu=function(){Fo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,14)},set:function(e){e?this.Ff=Di(this.Ff,14):this.Ff=Li(this.Ff,14)}}),this.password=!0};Xr(Uu,Fo);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=Pd(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+qt(At.internal.getWidth(e))+" "+qt(At.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+qt(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ss(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],o=At.internal.getHeight(e),f=At.internal.getWidth(e),d=Pd(e,e.caption);return s.push("1 g"),s.push("0 0 "+qt(f)+" "+qt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+qt(f-1)+" "+qt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+qt(d.fontSize)+" Tf "+r),s.push(d.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(At.internal.getWidth(e))+" "+qt(At.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Circle.YesNormal,t.D[e]=At.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=At.internal.Bezier_C,o=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ho(At.internal.getWidth(e)/2)+" "+ho(At.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*At.internal.Bezier_C).toFixed(5)),f=Number((r*At.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(At.internal.getWidth(e)/2)+" "+ho(At.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ho(At.internal.getWidth(e)/2)+" "+ho(At.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+f+" "+f+" "+r+" 0 "+r+" c"),n.push("-"+f+" "+r+" -"+r+" "+f+" -"+r+" 0 c"),n.push("-"+r+" -"+f+" -"+f+" -"+r+" 0 -"+r+" c"),n.push(f+" -"+r+" "+r+" -"+f+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*At.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(At.internal.getWidth(e)/2)+" "+ho(At.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Cross.YesNormal,t.D[e]=At.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ss(e);t.scope=e.scope;var n=[],r=At.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+qt(At.internal.getWidth(e)-2)+" "+qt(At.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(qt(r.x1.x)+" "+qt(r.x1.y)+" m"),n.push(qt(r.x2.x)+" "+qt(r.x2.y)+" l"),n.push(qt(r.x4.x)+" "+qt(r.x4.y)+" m"),n.push(qt(r.x3.x)+" "+qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=At.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(At.internal.getWidth(e))+" "+qt(At.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qt(At.internal.getWidth(e)-2)+" "+qt(At.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(qt(n.x1.x)+" "+qt(n.x1.y)+" m"),r.push(qt(n.x2.x)+" "+qt(n.x2.y)+" l"),r.push(qt(n.x4.x)+" "+qt(n.x4.y)+" m"),r.push(qt(n.x3.x)+" "+qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ss(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(At.internal.getWidth(e))+" "+qt(At.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};At.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=At.internal.getWidth(e),n=At.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},At.internal.getWidth=function(e){var t=0;return In(e)==="object"&&(t=cm(e.Rect[2])),t},At.internal.getHeight=function(e){var t=0;return In(e)==="object"&&(t=cm(e.Rect[3])),t};var Vw=yi.addField=function(e){if(Gw(this,e),!(e instanceof Qa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};yi.AcroFormChoiceField=Tl,yi.AcroFormListBox=_l,yi.AcroFormComboBox=Il,yi.AcroFormEditBox=ku,yi.AcroFormButton=Hi,yi.AcroFormPushButton=Pu,yi.AcroFormRadioButton=Dl,yi.AcroFormCheckBox=Fu,yi.AcroFormTextField=Fo,yi.AcroFormPasswordField=Uu,yi.AcroFormAppearance=At,yi.AcroForm={ChoiceField:Tl,ListBox:_l,ComboBox:Il,EditBox:ku,Button:Hi,PushButton:Pu,RadioButton:Dl,CheckBox:Fu,TextField:Fo,PasswordField:Uu,Appearance:At},Rt.AcroForm={ChoiceField:Tl,ListBox:_l,ComboBox:Il,EditBox:ku,Button:Hi,PushButton:Pu,RadioButton:Dl,CheckBox:Fu,TextField:Fo,PasswordField:Uu,Appearance:At};var Yw=Rt.AcroForm;function $3(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(z,j){var ie,re,ae,J,$,ce=t;if((j=j||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(X(z))for($ in n)for(ae=n[$],ie=0;ie<ae.length;ie+=1){for(J=!0,re=0;re<ae[ie].length;re+=1)if(ae[ie][re]!==void 0&&ae[ie][re]!==z[re]){J=!1;break}if(J===!0){ce=$;break}}else for($ in n)for(ae=n[$],ie=0;ie<ae.length;ie+=1){for(J=!0,re=0;re<ae[ie].length;re+=1)if(ae[ie][re]!==void 0&&ae[ie][re]!==z.charCodeAt(re)){J=!1;break}if(J===!0){ce=$;break}}return ce===t&&j!==t&&(ce=j),ce},s=function z(j){for(var ie=this.internal.write,re=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:j.width}),J.push({key:"Height",value:j.height}),j.colorSpace===P.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===P.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var $="",ce=0,ge=j.transparency.length;ce<ge;ce++)$+=j.transparency[ce]+" "+j.transparency[ce]+" ";J.push({key:"Mask",value:"["+$+"]"})}j.sMask!==void 0&&J.push({key:"SMask",value:j.objectId+1+" 0 R"});var ve=j.filter!==void 0?["/"+j.filter]:void 0;if(re({data:j.data,additionalKeyValues:J,alreadyAppliedFilters:ve,objectId:j.objectId}),ie("endobj"),"sMask"in j&&j.sMask!==void 0){var ke="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,U={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:ke,data:j.sMask};"filter"in j&&(U.filter=j.filter),z.call(this,U)}if(j.colorSpace===P.INDEXED){var te=this.internal.newObject();re({data:H(new Uint8Array(j.palette)),objectId:te}),ie("endobj")}},o=function(){var z=this.internal.collections.addImage_images;for(var j in z)s.call(this,z[j])},f=function(){var z,j=this.internal.collections.addImage_images,ie=this.internal.write;for(var re in j)ie("/I"+(z=j[re]).index,z.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",f))},p=function(){var z=this.internal.collections.addImage_images;return d.call(this),z},y=function(){return Object.keys(this.internal.collections.addImage_images).length},N=function(z){return typeof e["process"+z.toUpperCase()]=="function"},S=function(z){return In(z)==="object"&&z.nodeType===1},E=function(z,j){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var ie=""+z.getAttribute("src");if(ie.indexOf("data:image/")===0)return Bu(unescape(ie).split("base64,").pop());var re=e.loadFile(ie,!0);if(re!==void 0)return re}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var ae;switch(j){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return Bu(z.toDataURL(ae,1).split("base64,").pop())}},w=function(z){var j=this.internal.collections.addImage_images;if(j){for(var ie in j)if(z===j[ie].alias)return j[ie]}},B=function(z,j,ie){return z||j||(z=-96,j=-96),z<0&&(z=-1*ie.width*72/z/this.internal.scaleFactor),j<0&&(j=-1*ie.height*72/j/this.internal.scaleFactor),z===0&&(z=j*ie.width/ie.height),j===0&&(j=z*ie.height/ie.width),[z,j]},M=function(z,j,ie,re,ae,J){var $=B.call(this,ie,re,ae),ce=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,ve=p.call(this);if(ie=$[0],re=$[1],ve[ae.index]=ae,J){J*=Math.PI/180;var ke=Math.cos(J),U=Math.sin(J),te=function(me){return me.toFixed(4)},se=[te(ke),te(U),te(-1*U),te(ke),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,ce(z),ge(j+re),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([ce(ie),"0","0",ce(re),"0","0","cm"].join(" "))):this.internal.write([ce(ie),"0","0",ce(re),ce(z),ge(j+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},P=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(z){var j,ie,re=0;if(typeof z=="string")for(ie=z.length,j=0;j<ie;j++)re=(re<<5)-re+z.charCodeAt(j),re|=0;else if(X(z))for(ie=z.byteLength/2,j=0;j<ie;j++)re=(re<<5)-re+z[j],re|=0;return re},D=e.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var j=!0;return z.length===0&&(j=!1),z.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(j=!1),j},L=e.__addimage__.extractImageFromDataUrl=function(z){var j=(z=z||"").split("base64,"),ie=null;if(j.length===2){var re=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(re)&&(ie={mimeType:re[1],charset:re[2],data:j[1]})}return ie},F=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(z){return F()&&z instanceof ArrayBuffer};var X=e.__addimage__.isArrayBufferView=function(z){return F()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(z){for(var j=z.length,ie=new Uint8Array(j),re=0;re<j;re++)ie[re]=z.charCodeAt(re);return ie},H=e.__addimage__.arrayBufferToBinaryString=function(z){for(var j="",ie=X(z)?z:new Uint8Array(z),re=0;re<ie.length;re+=8192)j+=String.fromCharCode.apply(null,ie.subarray(re,re+8192));return j};e.addImage=function(){var z,j,ie,re,ae,J,$,ce,ge;if(typeof arguments[1]=="number"?(j=t,ie=arguments[1],re=arguments[2],ae=arguments[3],J=arguments[4],$=arguments[5],ce=arguments[6],ge=arguments[7]):(j=arguments[1],ie=arguments[2],re=arguments[3],ae=arguments[4],J=arguments[5],$=arguments[6],ce=arguments[7],ge=arguments[8]),In(z=arguments[0])==="object"&&!S(z)&&"imageData"in z){var ve=z;z=ve.imageData,j=ve.format||j||t,ie=ve.x||ie||0,re=ve.y||re||0,ae=ve.w||ve.width||ae,J=ve.h||ve.height||J,$=ve.alias||$,ce=ve.compression||ce,ge=ve.rotation||ve.angle||ge}var ke=this.internal.getFilters();if(ce===void 0&&ke.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(ie)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var U=W.call(this,z,j,$,ce);return M.call(this,ie,re,ae,J,U,ge),this};var W=function(z,j,ie,re){var ae,J,$;if(typeof z=="string"&&r(z)===t){z=unescape(z);var ce=de(z,!1);(ce!==""||(ce=e.loadFile(z,!0))!==void 0)&&(z=ce)}if(S(z)&&(z=E(z,j)),j=r(z,j),!N(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if((($=ie)==null||$.length===0)&&(ie=function(ge){return typeof ge=="string"||X(ge)?I(ge):X(ge.data)?I(ge.data):null}(z)),(ae=w.call(this,ie))||(F()&&(z instanceof Uint8Array||j==="RGBA"||(J=z,z=k(z))),ae=this["process"+j.toUpperCase()](z,y.call(this),ie,function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in e.image_compression?ge:T.NONE}(re),J)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},de=e.__addimage__.convertBase64ToBinaryString=function(z,j){var ie;j=typeof j!="boolean"||j;var re,ae="";if(typeof z=="string"){re=(ie=L(z))!==null?ie.data:z;try{ae=Bu(re)}catch(J){if(j)throw D(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};e.getImageProperties=function(z){var j,ie,re="";if(S(z)&&(z=E(z)),typeof z=="string"&&r(z)===t&&((re=de(z,!1))===""&&(re=e.loadFile(z)||""),z=re),ie=r(z),!N(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(!F()||z instanceof Uint8Array||(z=k(z)),!(j=this["process"+ie.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=ie,j}})(Rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,o,f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(n.objId),y=n.pageContext.annotations,N=!1,S=0;S<y.length&&!N;S++)switch((r=y[S]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(N=!0);break;case"reference":case"text":case"freetext":N=!0}if(N!=0){this.internal.write("/Annots [");for(var E=0;E<y.length;E++){r=y[E];var w=this.internal.pdfEscape,B=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(M.objId),I=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+w(T(r.contents))+")",o+=" /Popup "+P.objId+" 0 R",o+=" /P "+p.objId+" 0 R",o+=" /T ("+w(T(I))+") >>",M.content=o;var D=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+f(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+D,r.open&&(o+=" /Open true"),o+=" >>",P.content=o,this.internal.write(M.objId,"0 R",P.objId,"0 R");break;case"freetext":s="/Rect ["+f(r.bounds.x)+" "+d(r.bounds.y)+" "+f(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(B(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(B(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var X=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+X+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,o,f){var d=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,y=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:p(n),y:y(r),w:p(n+s),h:y(r+o)},options:f,type:"link"})},e.textWithLink=function(n,r,s,o){var f,d,p=this.getTextWidth(n),y=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var N=this.splitTextToSize(n,d).length;f=Math.ceil(y*N)}else d=p,f=y;return this.text(n,r,s,o),s+=.2*y,o.align==="center"&&(r-=p/2),o.align==="right"&&(r-=p),this.link(r,s-y,d,f,o),p},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},f=e.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},d=e.__arabicParser__.isArabicEndLetter=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length<=2},p=e.__arabicParser__.isArabicAlfLetter=function(M){return f(M)&&s.indexOf(M.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=1};var y=e.__arabicParser__.arabicLetterHasFinalForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length>=3};var N=e.__arabicParser__.arabicLetterHasMedialForm=function(M){return f(M)&&o(M)&&t[M.charCodeAt(0)].length==4},S=e.__arabicParser__.resolveLigatures=function(M){var P=0,T=n,I="",D=0;for(P=0;P<M.length;P+=1)T[M.charCodeAt(P)]!==void 0?(D++,typeof(T=T[M.charCodeAt(P)])=="number"&&(I+=String.fromCharCode(T),T=n,D=0),P===M.length-1&&(T=n,I+=M.charAt(P-(D-1)),P-=D-1,D=0)):(T=n,I+=M.charAt(P-D),P-=D,D=0);return I};e.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&r[M.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(M,P,T){return f(M)?o(M)===!1?-1:!y(M)||!f(P)&&!f(T)||!f(T)&&d(P)||d(M)&&!f(P)||d(M)&&p(P)||d(M)&&d(P)?0:N(M)&&f(P)&&!d(P)&&f(T)&&y(T)?3:d(M)||!f(T)?1:2:-1},w=function(M){var P=0,T=0,I=0,D="",L="",F="",X=(M=M||"").split("\\s+"),k=[];for(P=0;P<X.length;P+=1){for(k.push(""),T=0;T<X[P].length;T+=1)D=X[P][T],L=X[P][T-1],F=X[P][T+1],f(D)?(I=E(D,L,F),k[P]+=I!==-1?String.fromCharCode(t[D.charCodeAt(0)][I]):D):k[P]+=D;k[P]=S(k[P])}return k.join(" ")},B=e.__arabicParser__.processArabic=e.processArabic=function(){var M,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(P)){var I=0;for(T=[],I=0;I<P.length;I+=1)Array.isArray(P[I])?T.push([w(P[I][0]),P[I][1],P[I][2]]):T.push([w(P[I])]);M=T}else M=w(P);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};e.events.push(["preProcessText",B])}(Rt.API),Rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(d){f=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(M){p=M}});var y=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return y},set:function(M){y=M}});var N=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return N},set:function(M){N=M}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(M){S=M}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(M){E=M}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(M){B=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(p){return r.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},e.getTextDimensions=function(p,y){r.call(this);var N=(y=y||{}).fontSize||this.getFontSize(),S=y.font||this.getFont(),E=y.scaleFactor||this.internal.scaleFactor,w=0,B=0,M=0,P=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var T=y.maxWidth;T>0?typeof p=="string"?p=this.splitTextToSize(p,T):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(D,L){return D.concat(P.splitTextToSize(L,T))},[])):p=Array.isArray(p)?p:[p];for(var I=0;I<p.length;I++)w<(M=this.getStringUnitWidth(p[I],{font:S})*N)&&(w=M);return w!==0&&(B=p.length),{w:w/=E,h:Math.max((B*N*this.getLineHeightFactor()-N*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var p=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=e.cell=function(){var p;p=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var y=this.internal.__cell__.lastCell,N=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return y.lineNumber!==void 0&&(y.lineNumber===p.lineNumber?(p.x=(y.x||0)+(y.width||0),p.y=y.y||0):y.y+y.height+p.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=S.top,w&&E&&(this.printHeaderRow(p.lineNumber,!0),p.y+=E[0].height)):p.y=y.y+y.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,n===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-N,p.y+N,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+N,{align:"center",baseline:"top",maxWidth:p.width-N-N}):this.text(p.text,p.x+N,p.y+N,{align:"left",baseline:"top",maxWidth:p.width-N-N})),this.internal.__cell__.lastCell=p,this};e.table=function(p,y,N,S,E){if(r.call(this),!N)throw new Error("No data for PDF table.");var w,B,M,P,T=[],I=[],D=[],L={},F={},X=[],k=[],H=(E=E||{}).autoSize||!1,W=E.printHeaders!==!1,de=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,z=E.margins||Object.assign({width:this.getPageWidth()},t),j=typeof E.padding=="number"?E.padding:3,ie=E.headerBackgroundColor||"#c8c8c8",re=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=re,this.setFontSize(de),S==null)I=T=Object.keys(N[0]),D=T.map(function(){return"left"});else if(Array.isArray(S)&&In(S[0])==="object")for(T=S.map(function(ve){return ve.name}),I=S.map(function(ve){return ve.prompt||ve.name||""}),D=S.map(function(ve){return ve.align||"left"}),w=0;w<S.length;w+=1)F[S[w].name]=S[w].width*(19.049976/25.4);else Array.isArray(S)&&typeof S[0]=="string"&&(I=T=S,D=T.map(function(){return"left"}));if(H||Array.isArray(S)&&typeof S[0]=="string")for(w=0;w<T.length;w+=1){for(L[P=T[w]]=N.map(function(ve){return ve[P]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(I[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=L[P],this.setFont(void 0,"normal"),M=0;M<B.length;M+=1)X.push(this.getTextDimensions(B[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[P]=Math.max.apply(null,X)+j+j,X=[]}if(W){var ae={};for(w=0;w<T.length;w+=1)ae[T[w]]={},ae[T[w]].text=I[w],ae[T[w]].align=D[w];var J=d.call(this,ae,F);k=T.map(function(ve){return new o(p,y,F[ve],J,ae[ve].text,void 0,ae[ve].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var $=S.reduce(function(ve,ke){return ve[ke.name]=ke.align,ve},{});for(w=0;w<N.length;w+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:w,data:N[w]},this);var ce=d.call(this,N[w],F);for(M=0;M<T.length;M+=1){var ge=N[w][T[M]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:w,col:M,data:ge},this),f.call(this,new o(p,y,F[T[M]],ce,ge,w+2,$[T[M]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=y,this};var d=function(p,y){var N=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(p).map(function(w){var B=p[w];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,y[w]-N-N)},this).map(function(w){return this.getLineHeightFactor()*w.length*S/E+N+N},this).reduce(function(w,B){return Math.max(w,B)},0)};e.setTableHeaderRow=function(p){r.call(this),this.internal.__cell__.tableHeaderRow=p},e.printHeaderRow=function(p,y){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var N;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){N=this.internal.__cell__.tableHeaderRow[w].clone(),y&&(N.y=this.internal.__cell__.margins.top||0,E.push(N)),N.lineNumber=p;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,N),this.setTextColor(B)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}}(Rt.API);var ey={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ty=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fd=$3(ty),ny=[100,200,300,400,500,600,700,800,900],Xw=$3(ny);function Ud(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return ey[o=o||"normal"]?o:"normal"}(e.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(o){return typeof Fd[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function um(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var Ww={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Zw(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Ww,n.genericFontFamilies||{}),o=null,f=null,d=0;d<t.length;++d)if(s[(o=Ud(t[d])).family]&&(o.family=s[o.family]),e.hasOwnProperty(o.family)){f=e[o.family];break}if(!(f=f||e[r]))throw new Error("Could not find a font-family for the rule '"+hm(o)+"' and default family '"+r+"'.");if(f=function(p,y){if(y[p])return y[p];var N=Fd[p],S=N<=Fd.normal?-1:1,E=um(y,ty,N,S);if(!E)throw new Error("Could not find a matching font-stretch value for "+p);return E}(o.stretch,f),f=function(p,y){if(y[p])return y[p];for(var N=ey[p],S=0;S<N.length;++S)if(y[N[S]])return y[N[S]];throw new Error("Could not find a matching font-style for "+p)}(o.style,f),!(f=function(p,y){if(y[p])return y[p];if(p===400&&y[500])return y[500];if(p===500&&y[400])return y[400];var N=Xw[p],S=um(y,ny,N,p<400?-1:1);if(!S)throw new Error("Could not find a matching font-weight for value "+p);return S}(o.weight,f)))throw new Error("Failed to resolve a font for the rule '"+hm(o)+"'.");return f}function dm(e){return e.trimLeft()}function Qw(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Kw(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var a0,gm,pm,Dh=["times"];(function(e){var t,n,r,s,o,f,d,p,y,N=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new p,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new f,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new f,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,f=this.internal.Point,d=this.internal.Rectangle,p=this.internal.Matrix,y=new N}]);var S=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=U;Object.defineProperty(this,"pdf",{get:function(){return te}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Ue){se=!!Ue}});var me=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return me},set:function(Ue){me=!!Ue}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Ue){isNaN(Ue)||(oe=Ue)}});var Me=0;Object.defineProperty(this,"posY",{get:function(){return Me},set:function(Ue){isNaN(Ue)||(Me=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return y.margin},set:function(Ue){var ye;typeof Ue=="number"?ye=[Ue,Ue,Ue,Ue]:((ye=new Array(4))[0]=Ue[0],ye[1]=Ue.length>=2?Ue[1]:ye[0],ye[2]=Ue.length>=3?Ue[2]:ye[0],ye[3]=Ue.length>=4?Ue[3]:ye[1]),y.margin=ye}});var Ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ie},set:function(Ue){Ie=Ue}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(Ue){Re=Ue}});var rt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return rt},set:function(Ue){rt=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return y},set:function(Ue){Ue instanceof N&&(y=Ue)}}),Object.defineProperty(this,"path",{get:function(){return y.path},set:function(Ue){y.path=Ue}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(Ue){Xe=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var ye;ye=E(Ue),this.ctx.fillStyle=ye.style,this.ctx.isFillTransparent=ye.a===0,this.ctx.fillOpacity=ye.a,this.pdf.setFillColor(ye.r,ye.g,ye.b,{a:ye.a}),this.pdf.setTextColor(ye.r,ye.g,ye.b,{a:ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var ye=E(Ue);this.ctx.strokeStyle=ye.style,this.ctx.isStrokeTransparent=ye.a===0,this.ctx.strokeOpacity=ye.a,ye.a===0?this.pdf.setDrawColor(255,255,255):(ye.a,this.pdf.setDrawColor(ye.r,ye.g,ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var ut=null;function Je(Ue,ye){if(ut===null){var St=function(ct){var xe=[];return Object.keys(ct).forEach(function(Ce){ct[Ce].forEach(function(pe){var Ee=null;switch(pe){case"bold":Ee={family:Ce,weight:"bold"};break;case"italic":Ee={family:Ce,style:"italic"};break;case"bolditalic":Ee={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Ce}}Ee!==null&&(Ee.ref={name:Ce,style:pe},xe.push(Ee))})}),xe}(Ue.getFontList());ut=function(ct){for(var xe={},Ce=0;Ce<ct.length;++Ce){var pe=Ud(ct[Ce]),Ee=pe.family,He=pe.stretch,Ve=pe.style,ft=pe.weight;xe[Ee]=xe[Ee]||{},xe[Ee][He]=xe[Ee][He]||{},xe[Ee][He][Ve]=xe[Ee][He][Ve]||{},xe[Ee][He][Ve][ft]=pe}return xe}(St.concat(ye))}return ut}var _t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(Ue){ut=null,_t=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var ye;if(this.ctx.font=Ue,(ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var St=ye[1],ct=(ye[2],ye[3]),xe=ye[4],Ce=(ye[5],ye[6]),pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(pe==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:pe==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var Ee=function(vt){var Qt,dt,Yi=[],Lt=vt.trim();if(Lt==="")return Dh;if(Lt in fm)return[fm[Lt]];for(;Lt!=="";){switch(dt=null,Qt=(Lt=dm(Lt)).charAt(0)){case'"':case"'":dt=Qw(Lt.substring(1),Qt);break;default:dt=Kw(Lt)}if(dt===null||(Yi.push(dt[0]),(Lt=dm(dt[1]))!==""&&Lt.charAt(0)!==","))return Dh;Lt=Lt.replace(/^,/,"")}return Yi}(Ce);if(this.fontFaces){var He=Zw(Je(this.pdf,this.fontFaces),Ee.map(function(vt){return{family:vt,stretch:"normal",weight:ct,style:St}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ve="";(ct==="bold"||parseInt(ct,10)>=700||St==="bold")&&(Ve="bold"),St==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var ft="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<Ee.length;bt++){if(this.pdf.internal.getFont(Ee[bt],Ve,{noFallback:!0,disableWarning:!0})!==void 0){ft=Ee[bt];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(Ee[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=Ee[bt],Ve="bold";else if(this.pdf.internal.getFont(Ee[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=Ee[bt],Ve="normal";break}}if(ft===""){for(var xt=0;xt<Ee.length;xt++)if(it[Ee[xt]]){ft=it[Ee[xt]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};S.prototype.setLineDash=function(U){this.lineDash=U},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){L.call(this,"fill",!1)},S.prototype.stroke=function(){L.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(U,te){if(isNaN(U)||isNaN(te))throw Bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new f(U,te));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new f(U,te)},S.prototype.closePath=function(){var U=new f(0,0),te=0;for(te=this.path.length-1;te!==-1;te--)if(this.path[te].type==="begin"&&In(this.path[te+1])==="object"&&typeof this.path[te+1].x=="number"){U=new f(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(U.x,U.y)},S.prototype.lineTo=function(U,te){if(isNaN(U)||isNaN(te))throw Bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new f(U,te));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new f(se.x,se.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},S.prototype.quadraticCurveTo=function(U,te,se,me){if(isNaN(se)||isNaN(me)||isNaN(U)||isNaN(te))throw Bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new f(se,me)),Me=this.ctx.transform.applyToPoint(new f(U,te));this.path.push({type:"qct",x1:Me.x,y1:Me.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new f(oe.x,oe.y)},S.prototype.bezierCurveTo=function(U,te,se,me,oe,Me){if(isNaN(oe)||isNaN(Me)||isNaN(U)||isNaN(te)||isNaN(se)||isNaN(me))throw Bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ie=this.ctx.transform.applyToPoint(new f(oe,Me)),Re=this.ctx.transform.applyToPoint(new f(U,te)),rt=this.ctx.transform.applyToPoint(new f(se,me));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:rt.x,y2:rt.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new f(Ie.x,Ie.y)},S.prototype.arc=function(U,te,se,me,oe,Me){if(isNaN(U)||isNaN(te)||isNaN(se)||isNaN(me)||isNaN(oe))throw Bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Me=!!Me,!this.ctx.transform.isIdentity){var Ie=this.ctx.transform.applyToPoint(new f(U,te));U=Ie.x,te=Ie.y;var Re=this.ctx.transform.applyToPoint(new f(0,se)),rt=this.ctx.transform.applyToPoint(new f(0,0));se=Math.sqrt(Math.pow(Re.x-rt.x,2)+Math.pow(Re.y-rt.y,2))}Math.abs(oe-me)>=2*Math.PI&&(me=0,oe=2*Math.PI),this.path.push({type:"arc",x:U,y:te,radius:se,startAngle:me,endAngle:oe,counterclockwise:Me})},S.prototype.arcTo=function(U,te,se,me,oe){throw new Error("arcTo not implemented.")},S.prototype.rect=function(U,te,se,me){if(isNaN(U)||isNaN(te)||isNaN(se)||isNaN(me))throw Bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,te),this.lineTo(U+se,te),this.lineTo(U+se,te+me),this.lineTo(U,te+me),this.lineTo(U,te),this.lineTo(U+se,te),this.lineTo(U,te)},S.prototype.fillRect=function(U,te,se,me){if(isNaN(U)||isNaN(te)||isNaN(se)||isNaN(me))throw Bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,te,se,me),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},S.prototype.strokeRect=function(U,te,se,me){if(isNaN(U)||isNaN(te)||isNaN(se)||isNaN(me))throw Bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(U,te,se,me),this.stroke())},S.prototype.clearRect=function(U,te,se,me){if(isNaN(U)||isNaN(te)||isNaN(se)||isNaN(me))throw Bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,te,se,me))},S.prototype.save=function(U){U=typeof U!="boolean"||U;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new N(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},S.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(te),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(U){var te,se,me,oe;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))te=0,se=0,me=0,oe=0;else{var Me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(Me!==null)te=parseInt(Me[1]),se=parseInt(Me[2]),me=parseInt(Me[3]),oe=1;else if((Me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)te=parseInt(Me[1]),se=parseInt(Me[2]),me=parseInt(Me[3]),oe=parseFloat(Me[4]);else{if(oe=1,typeof U=="string"&&U.charAt(0)!=="#"){var Ie=new X3(U);U=Ie.ok?Ie.toHex():"#000000"}U.length===4?(te=U.substring(1,2),te+=te,se=U.substring(2,3),se+=se,me=U.substring(3,4),me+=me):(te=U.substring(1,3),se=U.substring(3,5),me=U.substring(5,7)),te=parseInt(te,16),se=parseInt(se,16),me=parseInt(me,16)}}return{r:te,g:se,b:me,a:oe,style:U}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},B=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(U,te,se,me){if(isNaN(te)||isNaN(se)||typeof U!="string")throw Bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!w.call(this)){var oe=ce(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;j.call(this,{text:U,x:te,y:se,scale:Me,angle:oe,align:this.textAlign,maxWidth:me})}},S.prototype.strokeText=function(U,te,se,me){if(isNaN(te)||isNaN(se)||typeof U!="string")throw Bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){me=isNaN(me)?void 0:me;var oe=ce(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;j.call(this,{text:U,x:te,y:se,scale:Me,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:me})}},S.prototype.measureText=function(U){if(typeof U!="string")throw Bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,se=this.pdf.internal.scaleFactor,me=te.internal.getFontSize(),oe=te.getStringUnitWidth(U)*me/te.internal.scaleFactor,Me=function(Ie){var Re=(Ie=Ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Re}}),this};return new Me({width:oe*=Math.round(96*se/72*1e4)/1e4})},S.prototype.scale=function(U,te){if(isNaN(U)||isNaN(te))throw Bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new p(U,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},S.prototype.rotate=function(U){if(isNaN(U))throw Bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new p(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},S.prototype.translate=function(U,te){if(isNaN(U)||isNaN(te))throw Bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new p(1,0,0,1,U,te);this.ctx.transform=this.ctx.transform.multiply(se)},S.prototype.transform=function(U,te,se,me,oe,Me){if(isNaN(U)||isNaN(te)||isNaN(se)||isNaN(me)||isNaN(oe)||isNaN(Me))throw Bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ie=new p(U,te,se,me,oe,Me);this.ctx.transform=this.ctx.transform.multiply(Ie)},S.prototype.setTransform=function(U,te,se,me,oe,Me){U=isNaN(U)?1:U,te=isNaN(te)?0:te,se=isNaN(se)?0:se,me=isNaN(me)?1:me,oe=isNaN(oe)?0:oe,Me=isNaN(Me)?0:Me,this.ctx.transform=new p(U,te,se,me,oe,Me)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(U,te,se,me,oe,Me,Ie,Re,rt){var Xe=this.pdf.getImageProperties(U),ut=1,Je=1,_t=1,Ue=1;me!==void 0&&Re!==void 0&&(_t=Re/me,Ue=rt/oe,ut=Xe.width/me*Re/me,Je=Xe.height/oe*rt/oe),Me===void 0&&(Me=te,Ie=se,te=0,se=0),me!==void 0&&Re===void 0&&(Re=me,rt=oe),me===void 0&&Re===void 0&&(Re=Xe.width,rt=Xe.height);for(var ye,St=this.ctx.transform.decompose(),ct=ce(St.rotate.shx),xe=new p,Ce=(xe=(xe=(xe=xe.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new d(Me-te*_t,Ie-se*Ue,me*ut,oe*Je)),pe=P.call(this,Ce),Ee=[],He=0;He<pe.length;He+=1)Ee.indexOf(pe[He])===-1&&Ee.push(pe[He]);if(D(Ee),this.autoPaging)for(var Ve=Ee[0],ft=Ee[Ee.length-1],it=Ve;it<ft+1;it++){this.pdf.setPage(it);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=it===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=it===1?0:vt+(it-2)*Qt;if(this.ctx.clip_path.length!==0){var Yi=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ye,this.posX+this.margin[3],-dt+xt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Yi}var Lt=JSON.parse(JSON.stringify(Ce));Lt=I([Lt],this.posX+this.margin[3],-dt+xt+this.ctx.prevPageLastElemOffset)[0];var lt=(it>Ve||it<ft)&&M.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Qt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,ct),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,ct)};var P=function(U,te,se){var me=[];te=te||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":me.push(Math.floor((U.y+oe)/se)+1);break;case"arc":me.push(Math.floor((U.y+oe-U.radius)/se)+1),me.push(Math.floor((U.y+oe+U.radius)/se)+1);break;case"qct":var Me=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);me.push(Math.floor((Me.y+oe)/se)+1),me.push(Math.floor((Me.y+Me.h+oe)/se)+1);break;case"bct":var Ie=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);me.push(Math.floor((Ie.y+oe)/se)+1),me.push(Math.floor((Ie.y+Ie.h+oe)/se)+1);break;case"rect":me.push(Math.floor((U.y+oe)/se)+1),me.push(Math.floor((U.y+U.h+oe)/se)+1)}for(var Re=0;Re<me.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<me[Re];)T.call(this);return me},T=function(){var U=this.fillStyle,te=this.strokeStyle,se=this.font,me=this.lineCap,oe=this.lineWidth,Me=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=te,this.font=se,this.lineCap=me,this.lineWidth=oe,this.lineJoin=Me},I=function(U,te,se){for(var me=0;me<U.length;me++)switch(U[me].type){case"bct":U[me].x2+=te,U[me].y2+=se;case"qct":U[me].x1+=te,U[me].y1+=se;case"mt":case"lt":case"arc":default:U[me].x+=te,U[me].y+=se}return U},D=function(U){return U.sort(function(te,se){return te-se})},L=function(U,te){for(var se,me,oe=this.fillStyle,Me=this.strokeStyle,Ie=this.lineCap,Re=this.lineWidth,rt=Math.abs(Re*this.ctx.transform.scaleX),Xe=this.lineJoin,ut=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),_t=[],Ue=0;Ue<Je.length;Ue++)if(Je[Ue].x!==void 0)for(var ye=P.call(this,Je[Ue]),St=0;St<ye.length;St+=1)_t.indexOf(ye[St])===-1&&_t.push(ye[St]);for(var ct=0;ct<_t.length;ct++)for(;this.pdf.internal.getNumberOfPages()<_t[ct];)T.call(this);if(D(_t),this.autoPaging)for(var xe=_t[0],Ce=_t[_t.length-1],pe=xe;pe<Ce+1;pe++){this.pdf.setPage(pe),this.fillStyle=oe,this.strokeStyle=Me,this.lineCap=Ie,this.lineWidth=rt,this.lineJoin=Xe;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=pe===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=pe===1?0:Ve+(pe-2)*ft;if(this.ctx.clip_path.length!==0){var bt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(se,this.posX+this.margin[3],-it+He+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=bt}if(me=JSON.parse(JSON.stringify(ut)),this.path=I(me,this.posX+this.margin[3],-it+He+this.ctx.prevPageLastElemOffset),te===!1||pe===0){var xt=(pe>xe||pe<Ce)&&M.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,ft,null).clip().discardPath()),F.call(this,U,te),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=Re}else this.lineWidth=rt,F.call(this,U,te),this.lineWidth=Re;this.path=ut},F=function(U,te){if((U!=="stroke"||te||!B.call(this))&&(U==="stroke"||te||!w.call(this))){for(var se,me,oe=[],Me=this.path,Ie=0;Ie<Me.length;Ie++){var Re=Me[Ie];switch(Re.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Re,deltas:[],abs:[]});break;case"lt":var rt=oe.length;if(Me[Ie-1]&&!isNaN(Me[Ie-1].x)&&(se=[Re.x-Me[Ie-1].x,Re.y-Me[Ie-1].y],rt>0)){for(;rt>=0;rt--)if(oe[rt-1].close!==!0&&oe[rt-1].begin!==!0){oe[rt-1].deltas.push(se),oe[rt-1].abs.push(Re);break}}break;case"bct":se=[Re.x1-Me[Ie-1].x,Re.y1-Me[Ie-1].y,Re.x2-Me[Ie-1].x,Re.y2-Me[Ie-1].y,Re.x-Me[Ie-1].x,Re.y-Me[Ie-1].y],oe[oe.length-1].deltas.push(se);break;case"qct":var Xe=Me[Ie-1].x+2/3*(Re.x1-Me[Ie-1].x),ut=Me[Ie-1].y+2/3*(Re.y1-Me[Ie-1].y),Je=Re.x+2/3*(Re.x1-Re.x),_t=Re.y+2/3*(Re.y1-Re.y),Ue=Re.x,ye=Re.y;se=[Xe-Me[Ie-1].x,ut-Me[Ie-1].y,Je-Me[Ie-1].x,_t-Me[Ie-1].y,Ue-Me[Ie-1].x,ye-Me[Ie-1].y],oe[oe.length-1].deltas.push(se);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Re)}}me=te?null:U==="stroke"?"stroke":"fill";for(var St=!1,ct=0;ct<oe.length;ct++)if(oe[ct].arc)for(var xe=oe[ct].abs,Ce=0;Ce<xe.length;Ce++){var pe=xe[Ce];pe.type==="arc"?H.call(this,pe.x,pe.y,pe.radius,pe.startAngle,pe.endAngle,pe.counterclockwise,void 0,te,!St):ie.call(this,pe.x,pe.y),St=!0}else if(oe[ct].close===!0)this.pdf.internal.out("h"),St=!1;else if(oe[ct].begin!==!0){var Ee=oe[ct].start.x,He=oe[ct].start.y;re.call(this,oe[ct].deltas,Ee,He),St=!0}me&&W.call(this,me),te&&de.call(this)}},X=function(U){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-se;case"top":return U+te-se;case"hanging":return U+te-2*se;case"middle":return U+te/2-se;case"ideographic":return U;case"alphabetic":default:return U}},k=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(te,se){this.colorStops.push([te,se])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(U,te,se,me,oe,Me,Ie,Re,rt){for(var Xe=J.call(this,se,me,oe,Me),ut=0;ut<Xe.length;ut++){var Je=Xe[ut];ut===0&&(rt?z.call(this,Je.x1+U,Je.y1+te):ie.call(this,Je.x1+U,Je.y1+te)),ae.call(this,U,te,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}Re?de.call(this):W.call(this,Ie)},W=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(U,te){this.pdf.internal.out(n(U)+" "+r(te)+" m")},j=function(U){var te;switch(U.align){case"right":case"end":te="right";break;case"center":te="center";break;case"left":case"start":default:te="left"}var se=this.pdf.getTextDimensions(U.text),me=X.call(this,U.y),oe=k.call(this,me)-se.h,Me=this.ctx.transform.applyToPoint(new f(U.x,me)),Ie=this.ctx.transform.decompose(),Re=new p;Re=(Re=(Re=Re.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var rt,Xe,ut,Je=this.ctx.transform.applyToRectangle(new d(U.x,me,se.w,se.h)),_t=Re.applyToRectangle(new d(U.x,oe,se.w,se.h)),Ue=P.call(this,_t),ye=[],St=0;St<Ue.length;St+=1)ye.indexOf(Ue[St])===-1&&ye.push(Ue[St]);if(D(ye),this.autoPaging)for(var ct=ye[0],xe=ye[ye.length-1],Ce=ct;Ce<xe+1;Ce++){this.pdf.setPage(Ce);var pe=Ce===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Ve=He-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],it=ft-this.margin[3],bt=Ce===1?0:Ee+(Ce-2)*Ve;if(this.ctx.clip_path.length!==0){var xt=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(rt,this.posX+this.margin[3],-1*bt+pe),F.call(this,"fill",!0),this.path=xt}var vt=I([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-bt+pe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*U.scale),ut=this.lineWidth,this.lineWidth=ut*U.scale);var Qt=this.autoPaging!=="text";if(Qt||vt.y+vt.h<=He){if(Qt||vt.y>=pe&&vt.x<=ft){var dt=Qt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||ft-vt.x)[0],Yi=I([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-bt+pe+this.ctx.prevPageLastElemOffset)[0],Lt=Qt&&(Ce>ct||Ce<xe)&&M.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ve,null).clip().discardPath()),this.pdf.text(dt,Yi.x,Yi.y,{angle:U.angle,align:te,renderingMode:U.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else vt.y<He&&(this.ctx.prevPageLastElemOffset+=He-vt.y);U.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=ut)}else U.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*U.scale),ut=this.lineWidth,this.lineWidth=ut*U.scale),this.pdf.text(U.text,Me.x+this.posX,Me.y+this.posY,{angle:U.angle,align:te,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=ut)},ie=function(U,te,se,me){se=se||0,me=me||0,this.pdf.internal.out(n(U+se)+" "+r(te+me)+" l")},re=function(U,te,se){return this.pdf.lines(U,te,se,null,null)},ae=function(U,te,se,me,oe,Me,Ie,Re){this.pdf.internal.out([t(s(se+U)),t(o(me+te)),t(s(oe+U)),t(o(Me+te)),t(s(Ie+U)),t(o(Re+te)),"c"].join(" "))},J=function(U,te,se,me){for(var oe=2*Math.PI,Me=Math.PI/2;te>se;)te-=oe;var Ie=Math.abs(se-te);Ie<oe&&me&&(Ie=oe-Ie);for(var Re=[],rt=me?-1:1,Xe=te;Ie>1e-5;){var ut=Xe+rt*Math.min(Ie,Me);Re.push($.call(this,U,Xe,ut)),Ie-=Math.abs(ut-Xe),Xe=ut}return Re},$=function(U,te,se){var me=(se-te)/2,oe=U*Math.cos(me),Me=U*Math.sin(me),Ie=oe,Re=-Me,rt=Ie*Ie+Re*Re,Xe=rt+Ie*oe+Re*Me,ut=4/3*(Math.sqrt(2*rt*Xe)-Xe)/(Ie*Me-Re*oe),Je=Ie-ut*Re,_t=Re+ut*Ie,Ue=Je,ye=-_t,St=me+te,ct=Math.cos(St),xe=Math.sin(St);return{x1:U*Math.cos(te),y1:U*Math.sin(te),x2:Je*ct-_t*xe,y2:Je*xe+_t*ct,x3:Ue*ct-ye*xe,y3:Ue*xe+ye*ct,x4:U*Math.cos(se),y4:U*Math.sin(se)}},ce=function(U){return 180*U/Math.PI},ge=function(U,te,se,me,oe,Me){var Ie=U+.5*(se-U),Re=te+.5*(me-te),rt=oe+.5*(se-oe),Xe=Me+.5*(me-Me),ut=Math.min(U,oe,Ie,rt),Je=Math.max(U,oe,Ie,rt),_t=Math.min(te,Me,Re,Xe),Ue=Math.max(te,Me,Re,Xe);return new d(ut,_t,Je-ut,Ue-_t)},ve=function(U,te,se,me,oe,Me,Ie,Re){var rt,Xe,ut,Je,_t,Ue,ye,St,ct,xe,Ce,pe,Ee,He,Ve=se-U,ft=me-te,it=oe-se,bt=Me-me,xt=Ie-oe,vt=Re-Me;for(Xe=0;Xe<41;Xe++)ct=(ye=(ut=U+(rt=Xe/40)*Ve)+rt*((_t=se+rt*it)-ut))+rt*(_t+rt*(oe+rt*xt-_t)-ye),xe=(St=(Je=te+rt*ft)+rt*((Ue=me+rt*bt)-Je))+rt*(Ue+rt*(Me+rt*vt-Ue)-St),Xe==0?(Ce=ct,pe=xe,Ee=ct,He=xe):(Ce=Math.min(Ce,ct),pe=Math.min(pe,xe),Ee=Math.max(Ee,ct),He=Math.max(He,xe));return new d(Math.round(Ce),Math.round(pe),Math.round(Ee-Ce),Math.round(He-pe))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,te,se=(U=this.ctx.lineDash,te=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:te}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(Rt.API),function(e){var t=function(o){var f,d,p,y,N,S,E,w,B,M;for(d=[],p=0,y=(o+=f="\0\0\0\0".slice(o.length%4||4)).length;y>p;p+=4)(N=(o.charCodeAt(p)<<24)+(o.charCodeAt(p+1)<<16)+(o.charCodeAt(p+2)<<8)+o.charCodeAt(p+3))!==0?(S=(N=((N=((N=((N=(N-(M=N%85))/85)-(B=N%85))/85)-(w=N%85))/85)-(E=N%85))/85)%85,d.push(S+33,E+33,w+33,B+33,M+33)):d.push(122);return function(P,T){for(var I=T;I>0;I--)P.pop()}(d,f.length),String.fromCharCode.apply(String,d)+"~>"},n=function(o){var f,d,p,y,N,S=String,E="length",w=255,B="charCodeAt",M="slice",P="replace";for(o[M](-2),o=o[M](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),p=[],y=0,N=(o+=f="uuuuu"[M](o[E]%5||5))[E];N>y;y+=5)d=52200625*(o[B](y)-33)+614125*(o[B](y+1)-33)+7225*(o[B](y+2)-33)+85*(o[B](y+3)-33)+(o[B](y+4)-33),p.push(w&d>>24,w&d>>16,w&d>>8,w&d);return function(T,I){for(var D=I;D>0;D--)T.pop()}(p,f[E]),S.fromCharCode.apply(S,p)},r=function(o){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),f.test(o)===!1)return"";for(var d="",p=0;p<o.length;p+=2)d+=String.fromCharCode("0x"+(o[p]+o[p+1]));return d},s=function(o){for(var f=new Uint8Array(o.length),d=o.length;d--;)f[d]=o.charCodeAt(d);return o=(f=Rd(f)).reduce(function(p,y){return p+String.fromCharCode(y)},"")};e.processDataByFilters=function(o,f){var d=0,p=o||"",y=[];for(typeof(f=f||[])=="string"&&(f=[f]),d=0;d<f.length;d+=1)switch(f[d]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=r(p),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(N){return("0"+N.charCodeAt().toString(16)).slice(-2)}).join("")+">",y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=s(p),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[d]+'" is not implemented')}return{data:p,reverseChain:y.reverse().join(" ")}}}(Rt.API),function(e){e.loadFile=function(t,n,r){return function(s,o,f){o=o!==!1,f=typeof f=="function"?f:function(){};var d=void 0;try{d=function(p,y,N){var S=new XMLHttpRequest,E=0,w=function(B){var M=B.length,P=[],T=String.fromCharCode;for(E=0;E<M;E+=1)P.push(T(255&B.charCodeAt(E)));return P.join("")};if(S.open("GET",p,!y),S.overrideMimeType("text/plain; charset=x-user-defined"),y===!1&&(S.onload=function(){S.status===200?N(w(this.responseText)):N(void 0)}),S.send(null),y&&S.status===200)return w(S.responseText)}(s,o,f)}catch{}return d}(t,n,r)},e.loadImageFile=e.loadFile}(Rt.API),function(e){function t(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Id(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function n(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Id(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var r=function(f){var d=In(f);return d==="undefined"?"undefined":d==="string"||f instanceof String?"string":d==="number"||f instanceof Number?"number":d==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(f,d){var p=document.createElement(f);for(var y in d.className&&(p.className=d.className),d.innerHTML&&d.dompurify&&(p.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)p.style[y]=d.style[y];return p},o=function f(d){var p=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),y=f.convert(Promise.resolve(),p);return y=(y=y.setProgress(1,f,1,[f])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(f,d){return f.__proto__=d||o.prototype,f},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(f,d){return this.then(function(){switch(d=d||function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(n).then(function(p){return this.set({src:s("div",{innerHTML:f,dompurify:p})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},o.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function p(y,N){for(var S=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),E=y.firstChild;E;E=E.nextSibling)N!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||S.appendChild(p(E,N));return y.nodeType===1&&(y.nodeName==="CANVAS"?(S.width=y.width,S.height=y.height,S.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(S.value=y.value),S.addEventListener("load",function(){S.scrollTop=y.scrollTop,S.scrollLeft=y.scrollLeft},!0)),S}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,d(this.prop.container,p)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(d){var p=this.opt.jsPDF,y=this.opt.fontFaces,N=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:N,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=y,y)for(var E=0;E<y.length;++E){var w=y[E],B=w.src.find(function(M){return M.format==="truetype"});B&&p.addFont(B.url,w.ref.name,w.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,p.context2d.save(!0),d(this.prop.container,S)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(f,d,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(f,d):this.outputPdf(f,d)},o.prototype.outputPdf=function(f,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,d)})},o.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},o.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(f){if(r(f)!=="object")return this;var d=Object.keys(f||{}).map(function(p){if(p in o.template.prop)return function(){this.prop[p]=f[p]};switch(p){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[p]=f[p]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(f,d){return this.then(function(){var p=f in o.template.prop?this.prop[f]:this.opt[f];return d?d(p):p})},o.prototype.setMargin=function(f){return this.then(function(){switch(r(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},o.prototype.setPageSize=function(f){function d(p,y){return Math.floor(p*y/72*96)}return this.then(function(){(f=f||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:d(f.inner.width,f.k),height:d(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},o.prototype.setProgress=function(f,d,p,y){return f!=null&&(this.progress.val=f),d!=null&&(this.progress.state=d),p!=null&&(this.progress.n=p),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(f,d,p,y){return this.setProgress(f?this.progress.val+f:null,d||null,p?this.progress.n+p:null,y?this.progress.stack.concat(y):null)},o.prototype.then=function(f,d){var p=this;return this.thenCore(f,d,function(y,N){return p.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(S){return p.updateProgress(null,y),S}).then(y,N).then(function(S){return p.updateProgress(1),S})})},o.prototype.thenCore=function(f,d,p){p=p||Promise.prototype.then,f&&(f=f.bind(this)),d&&(d=d.bind(this));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),N=p.call(y,f,d);return o.convert(N,this.__proto__)},o.prototype.thenExternal=function(f,d){return Promise.prototype.then.call(this,f,d)},o.prototype.thenList=function(f){var d=this;return f.forEach(function(p){d=d.thenCore(p)}),d},o.prototype.catch=function(f){f&&(f=f.bind(this));var d=Promise.prototype.catch.call(this,f);return o.convert(d,this)},o.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},o.prototype.error=function(f){return this.then(function(){throw new Error(f)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Rt.getPageSize=function(f,d,p){if(In(f)==="object"){var y=f;f=y.orientation,d=y.unit||d,p=y.format||p}d=d||"mm",p=p||"a4",f=(""+(f||"P")).toLowerCase();var N,S=(""+p).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":N=1;break;case"mm":N=72/25.4;break;case"cm":N=72/2.54;break;case"in":N=72;break;case"px":N=.75;break;case"pc":case"em":N=12;break;case"ex":N=6;break;default:throw"Invalid unit: "+d}var w,B=0,M=0;if(E.hasOwnProperty(S))B=E[S][1]/N,M=E[S][0]/N;else try{B=p[1],M=p[0]}catch{throw new Error("Invalid format: "+p)}if(f==="p"||f==="portrait")f="p",M>B&&(w=M,M=B,B=w);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",B>M&&(w=M,M=B,B=w)}return{width:M,height:B,unit:d,k:N,orientation:f}},e.html=function(f,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Ud):null;var p=new o(d);return d.worker?p:p.from(f).doCallback()}}(Rt.API),Rt.API.addJS=function(e){return pm=e,this.internal.events.subscribe("postPutResources",function(){a0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(a0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){a0!==void 0&&gm!==void 0&&this.internal.out("/Names <</JavaScript "+a0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var f=s[o],d=r.exec(f);if(d!=null){var p=d[1];n.internal.newObjectDeferredBegin(p,!1)}n.internal.write(f)}if(this.outline.createNamedDestinations){var y=this.internal.pages.length,N=[];for(o=0;o<y;o++){var S=n.internal.newObject();N.push(S);var E=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<N.length;o++)n.internal.write("(page_"+(o+1)+")"+N[o]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,o){var f={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(f),f},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var f=r.children[o];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var d=this.count=this.count_r({count:0},f);if(d>0&&this.line("/Count "+d),f.options&&f.options.pageNumber){var p=n.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var y=0;y<r.children.length;y++)this.renderItems(r.children[y])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])}(Rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,o,f,d){var p,y=this.decode.DCT_DECODE,N=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=f||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(p=function(S){for(var E,w=256*S.charCodeAt(4)+S.charCodeAt(5),B=S.length,M={width:0,height:0,numcomponents:1},P=4;P<B;P+=2){if(P+=w,t.indexOf(S.charCodeAt(P+1))!==-1){E=256*S.charCodeAt(P+5)+S.charCodeAt(P+6),M={width:256*S.charCodeAt(P+7)+S.charCodeAt(P+8),height:E,numcomponents:S.charCodeAt(P+9)};break}w=256*S.charCodeAt(P+2)+S.charCodeAt(P+3)}return M}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}N={data:n,width:p.width,height:p.height,colorSpace:d,bitsPerComponent:8,filter:y,index:r,alias:s}}return N}}(Rt.API);var $l,s0,mm,xm,ym,Jw=function(){var e,t,n;function r(o){var f,d,p,y,N,S,E,w,B,M,P,T,I,D;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},S=null;;){switch(f=this.readUInt32(),B=(function(){var L,F;for(F=[],L=0;L<4;++L)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":S&&this.animation.frames.push(S),this.pos+=4,S={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},N=this.readUInt16(),y=this.readUInt16()||100,S.delay=1e3*N/y,S.disposeOp=this.data[this.pos++],S.blendOp=this.data[this.pos++],S.data=[];break;case"IDAT":case"fdAT":for(B==="fdAT"&&(this.pos+=4,f-=4),o=(S!=null?S.data:void 0)||this.imgData,T=0;0<=f?T<f:T>f;0<=f?++T:--T)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((M=p-this.transparency.indexed.length)>0)for(I=0;0<=M?I<M:I>M;0<=M?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":E=(P=this.read(f)).indexOf(0),w=String.fromCharCode.apply(String,P.slice(0,E)),this.text[w]=String.fromCharCode.apply(String,P.slice(E+1));break;case"IEND":return S&&this.animation.frames.push(S),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(D=this.colorType)===4||D===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var f,d;for(d=[],f=0;0<=o?f<o:f>o;0<=o?++f:--f)d.push(this.data[this.pos++]);return d},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var f=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*f),p=0,y=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function N(S,E,w,B){var M,P,T,I,D,L,F,X,k,H,W,de,z,j,ie,re,ae,J,$,ce,ge,ve=Math.ceil((y.width-S)/w),ke=Math.ceil((y.height-E)/B),U=y.width==ve&&y.height==ke;for(j=f*ve,de=U?d:new Uint8Array(j*ke),L=o.length,z=0,P=0;z<ke&&p<L;){switch(o[p++]){case 0:for(I=ae=0;ae<j;I=ae+=1)de[P++]=o[p++];break;case 1:for(I=J=0;J<j;I=J+=1)M=o[p++],D=I<f?0:de[P-f],de[P++]=(M+D)%256;break;case 2:for(I=$=0;$<j;I=$+=1)M=o[p++],T=(I-I%f)/f,ie=z&&de[(z-1)*j+T*f+I%f],de[P++]=(ie+M)%256;break;case 3:for(I=ce=0;ce<j;I=ce+=1)M=o[p++],T=(I-I%f)/f,D=I<f?0:de[P-f],ie=z&&de[(z-1)*j+T*f+I%f],de[P++]=(M+Math.floor((D+ie)/2))%256;break;case 4:for(I=ge=0;ge<j;I=ge+=1)M=o[p++],T=(I-I%f)/f,D=I<f?0:de[P-f],z===0?ie=re=0:(ie=de[(z-1)*j+T*f+I%f],re=T&&de[(z-1)*j+(T-1)*f+I%f]),F=D+ie-re,X=Math.abs(F-D),H=Math.abs(F-ie),W=Math.abs(F-re),k=X<=H&&X<=W?D:H<=W?ie:re,de[P++]=(M+k)%256;break;default:throw new Error("Invalid filter algorithm: "+o[p-1])}if(!U){var te=((E+z*B)*y.width+S)*f,se=z*j;for(I=0;I<ve;I+=1){for(var me=0;me<f;me+=1)d[te++]=de[se++];te+=(w-1)*f}}z++}}return o=Iw(o),y.interlaceMethod==1?(N(0,0,8,8),N(4,0,8,8),N(0,4,4,8),N(2,0,4,4),N(0,2,2,4),N(1,0,2,2),N(0,1,1,2)):N(0,0,1,1),d},r.prototype.decodePalette=function(){var o,f,d,p,y,N,S,E,w;for(d=this.palette,N=this.transparency.indexed||[],y=new Uint8Array((N.length||0)+d.length),p=0,o=0,f=S=0,E=d.length;S<E;f=S+=3)y[p++]=d[f],y[p++]=d[f+1],y[p++]=d[f+2],y[p++]=(w=N[o++])!=null?w:255;return y},r.prototype.copyToImageData=function(o,f){var d,p,y,N,S,E,w,B,M,P,T;if(p=this.colors,M=null,d=this.hasAlphaChannel,this.palette.length&&(M=(T=this._decodedPalette)!=null?T:this._decodedPalette=this.decodePalette(),p=4,d=!0),B=(y=o.data||o).length,S=M||f,N=E=0,p===1)for(;N<B;)w=M?4*f[N/4]:E,P=S[w++],y[N++]=P,y[N++]=P,y[N++]=P,y[N++]=d?S[w++]:255,E=w;else for(;N<B;)w=M?4*f[N/4]:E,y[N++]=S[w++],y[N++]=S[w++],y[N++]=S[w++],y[N++]=d?S[w++]:255,E=w},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{t=jt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(o){var f;if(s()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(f=new Image).src=t.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var f,d,p,y,N,S,E,w;if(this.animation){for(w=[],d=N=0,S=(E=this.animation.frames).length;N<S;d=++N)f=E[d],p=o.createImageData(f.width,f.height),y=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(p,y),f.imageData=p,w.push(f.image=e(p));return w}},r.prototype.renderFrame=function(o,f){var d,p,y;return d=(p=this.animation.frames)[f],y=p[f-1],f===0&&o.clearRect(0,0,this.width,this.height),(y!=null?y.disposeOp:void 0)===1?o.clearRect(y.xOffset,y.yOffset,y.width,y.height):(y!=null?y.disposeOp:void 0)===2&&o.putImageData(y.imageData,y.xOffset,y.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},r.prototype.animate=function(o){var f,d,p,y,N,S,E=this;return d=0,S=this.animation,y=S.numFrames,p=S.frames,N=S.numPlays,(f=function(){var w,B;if(w=d++%y,B=p[w],E.renderFrame(o,w),y>1&&d/y<N)return E.animation._timeout=setTimeout(f,B.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var f,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,f=o.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(d=f.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),f.putImageData(d,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $w(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],o=s>>7,f=1<<(7&s)+1;e[t++],e[t++];var d=null,p=null;o&&(d=t,p=f,t+=3*f);var y=!0,N=[],S=0,E=null,w=0,B=null;for(this.width=n,this.height=r;y&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,B=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=e[t++];S=e[t++]|e[t++]<<8,E=e[t++],!(1&M)&&(E=null),w=M>>2&7,t++;break;case 254:for(;;){if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var P=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,L=e[t++],F=L>>6&1,X=1<<(7&L)+1,k=d,H=p,W=!1;L>>7&&(W=!0,k=t,H=X,t+=3*X);var de=t;for(t++;;){var z;if(!((z=e[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}N.push({x:P,y:T,width:I,height:D,has_local_palette:W,palette_offset:k,palette_size:H,data_offset:de,data_length:t-de,transparent_index:E,interlaced:!!F,delay:S,disposal:w});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return N.length},this.loopCount=function(){return B},this.frameInfo=function(j){if(j<0||j>=N.length)throw new Error("Frame index out of range.");return N[j]},this.decodeAndBlitFrameBGRA=function(j,ie){var re=this.frameInfo(j),ae=re.width*re.height,J=new Uint8Array(ae);vm(e,re.data_offset,J,ae);var $=re.palette_offset,ce=re.transparent_index;ce===null&&(ce=256);var ge=re.width,ve=n-ge,ke=ge,U=4*(re.y*n+re.x),te=4*((re.y+re.height)*n+re.x),se=U,me=4*ve;re.interlaced===!0&&(me+=4*n*7);for(var oe=8,Me=0,Ie=J.length;Me<Ie;++Me){var Re=J[Me];if(ke===0&&(ke=ge,(se+=me)>=te&&(me=4*ve+4*n*(oe-1),se=U+(ge+ve)*(oe<<1),oe>>=1)),Re===ce)se+=4;else{var rt=e[$+3*Re],Xe=e[$+3*Re+1],ut=e[$+3*Re+2];ie[se++]=ut,ie[se++]=Xe,ie[se++]=rt,ie[se++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(j,ie){var re=this.frameInfo(j),ae=re.width*re.height,J=new Uint8Array(ae);vm(e,re.data_offset,J,ae);var $=re.palette_offset,ce=re.transparent_index;ce===null&&(ce=256);var ge=re.width,ve=n-ge,ke=ge,U=4*(re.y*n+re.x),te=4*((re.y+re.height)*n+re.x),se=U,me=4*ve;re.interlaced===!0&&(me+=4*n*7);for(var oe=8,Me=0,Ie=J.length;Me<Ie;++Me){var Re=J[Me];if(ke===0&&(ke=ge,(se+=me)>=te&&(me=4*ve+4*n*(oe-1),se=U+(ge+ve)*(oe<<1),oe>>=1)),Re===ce)se+=4;else{var rt=e[$+3*Re],Xe=e[$+3*Re+1],ut=e[$+3*Re+2];ie[se++]=rt,ie[se++]=Xe,ie[se++]=ut,ie[se++]=255}--ke}}}function vm(e,t,n,r){for(var s=e[t++],o=1<<s,f=o+1,d=f+1,p=s+1,y=(1<<p)-1,N=0,S=0,E=0,w=e[t++],B=new Int32Array(4096),M=null;;){for(;N<16&&w!==0;)S|=e[t++]<<N,N+=8,w===1?w=e[t++]:--w;if(N<p)break;var P=S&y;if(S>>=p,N-=p,P!==o){if(P===f)break;for(var T=P<d?P:M,I=0,D=T;D>o;)D=B[D]>>8,++I;var L=D;if(E+I+(T!==P?1:0)>r)return void Bn.log("Warning, gif stream longer than expected.");n[E++]=L;var F=E+=I;for(T!==P&&(n[E++]=L),D=T;I--;)D=B[D],n[--F]=255&D,D>>=8;M!==null&&d<4096&&(B[d++]=M<<8|L,d>=y+1&&p<12&&(++p,y=y<<1|1)),M=P}else d=f+1,y=(1<<(p=s+1))-1,M=null}return E!==r&&Bn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Lh(e){var t,n,r,s,o,f=Math.floor,d=new Array(64),p=new Array(64),y=new Array(64),N=new Array(64),S=new Array(65535),E=new Array(65535),w=new Array(64),B=new Array(64),M=[],P=0,T=7,I=new Array(64),D=new Array(64),L=new Array(64),F=new Array(256),X=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(U,te){for(var se=0,me=0,oe=new Array,Me=1;Me<=16;Me++){for(var Ie=1;Ie<=U[Me];Ie++)oe[te[me]]=[],oe[te[me]][0]=se,oe[te[me]][1]=Me,me++,se++;se*=2}return oe}function $(U){for(var te=U[0],se=U[1]-1;se>=0;)te&1<<se&&(P|=1<<T),se--,--T<0&&(P==255?(ce(255),ce(0)):ce(P),T=7,P=0)}function ce(U){M.push(U)}function ge(U){ce(U>>8&255),ce(255&U)}function ve(U,te,se,me,oe){for(var Me,Ie=oe[0],Re=oe[240],rt=function(xe,Ce){var pe,Ee,He,Ve,ft,it,bt,xt,vt,Qt,dt=0;for(vt=0;vt<8;++vt){pe=xe[dt],Ee=xe[dt+1],He=xe[dt+2],Ve=xe[dt+3],ft=xe[dt+4],it=xe[dt+5],bt=xe[dt+6];var Yi=pe+(xt=xe[dt+7]),Lt=pe-xt,lt=Ee+bt,Pt=Ee-bt,Mt=He+it,dn=He-it,an=Ve+ft,ja=Ve-ft,Vn=Yi+an,Gt=Yi-an,ir=lt+Mt,Yn=lt-Mt;xe[dt]=Vn+ir,xe[dt+4]=Vn-ir;var Ft=.707106781*(Yn+Gt);xe[dt+2]=Gt+Ft,xe[dt+6]=Gt-Ft;var Yt=.382683433*((Vn=ja+dn)-(Yn=Pt+Lt)),Ba=.5411961*Vn+Yt,un=1.306562965*Yn+Yt,rr=.707106781*(ir=dn+Pt),Er=Lt+rr,Ct=Lt-rr;xe[dt+5]=Ct+Ba,xe[dt+3]=Ct-Ba,xe[dt+1]=Er+un,xe[dt+7]=Er-un,dt+=8}for(dt=0,vt=0;vt<8;++vt){pe=xe[dt],Ee=xe[dt+8],He=xe[dt+16],Ve=xe[dt+24],ft=xe[dt+32],it=xe[dt+40],bt=xe[dt+48];var Wr=pe+(xt=xe[dt+56]),Xi=pe-xt,Wi=Ee+bt,fn=Ee-bt,Dn=He+it,Fn=He-it,mt=Ve+ft,dr=Ve-ft,Tr=Wr+mt,Un=Wr-mt,Zi=Wi+Dn,_r=Wi-Dn;xe[dt]=Tr+Zi,xe[dt+32]=Tr-Zi;var ar=.707106781*(_r+Un);xe[dt+16]=Un+ar,xe[dt+48]=Un-ar;var wi=.382683433*((Tr=dr+Fn)-(_r=fn+Xi)),ys=.5411961*Tr+wi,Ys=1.306562965*_r+wi,sr=.707106781*(Zi=Fn+fn),gi=Xi+sr,yn=Xi-sr;xe[dt+40]=yn+ys,xe[dt+24]=yn-ys,xe[dt+8]=gi+Ys,xe[dt+56]=gi-Ys,dt++}for(vt=0;vt<64;++vt)Qt=xe[vt]*Ce[vt],w[vt]=Qt>0?Qt+.5|0:Qt-.5|0;return w}(U,te),Xe=0;Xe<64;++Xe)B[k[Xe]]=rt[Xe];var ut=B[0]-se;se=B[0],ut==0?$(me[0]):($(me[E[Me=32767+ut]]),$(S[Me]));for(var Je=63;Je>0&&B[Je]==0;)Je--;if(Je==0)return $(Ie),se;for(var _t,Ue=1;Ue<=Je;){for(var ye=Ue;B[Ue]==0&&Ue<=Je;)++Ue;var St=Ue-ye;if(St>=16){_t=St>>4;for(var ct=1;ct<=_t;++ct)$(Re);St&=15}Me=32767+B[Ue],$(oe[(St<<4)+E[Me]]),$(S[Me]),Ue++}return Je!=63&&$(Ie),se}function ke(U){U=Math.min(Math.max(U,1),100),o!=U&&(function(te){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var oe=f((se[me]*te+50)/100);oe=Math.min(Math.max(oe,1),255),d[k[me]]=oe}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ie=0;Ie<64;Ie++){var Re=f((Me[Ie]*te+50)/100);Re=Math.min(Math.max(Re,1),255),p[k[Ie]]=Re}for(var rt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,ut=0;ut<8;ut++)for(var Je=0;Je<8;Je++)y[Xe]=1/(d[k[Xe]]*rt[ut]*rt[Je]*8),N[Xe]=1/(p[k[Xe]]*rt[ut]*rt[Je]*8),Xe++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),o=U)}this.encode=function(U,te){te&&ke(te),M=new Array,P=0,T=7,ge(65496),ge(65504),ge(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ge(1),ge(1),ce(0),ce(0),function(){ge(65499),ge(132),ce(0);for(var Ee=0;Ee<64;Ee++)ce(d[Ee]);ce(1);for(var He=0;He<64;He++)ce(p[He])}(),function(Ee,He){ge(65472),ge(17),ce(8),ge(He),ge(Ee),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(U.width,U.height),function(){ge(65476),ge(418),ce(0);for(var Ee=0;Ee<16;Ee++)ce(H[Ee+1]);for(var He=0;He<=11;He++)ce(W[He]);ce(16);for(var Ve=0;Ve<16;Ve++)ce(de[Ve+1]);for(var ft=0;ft<=161;ft++)ce(z[ft]);ce(1);for(var it=0;it<16;it++)ce(j[it+1]);for(var bt=0;bt<=11;bt++)ce(ie[bt]);ce(17);for(var xt=0;xt<16;xt++)ce(re[xt+1]);for(var vt=0;vt<=161;vt++)ce(ae[vt])}(),ge(65498),ge(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var se=0,me=0,oe=0;P=0,T=7,this.encode.displayName="_encode_";for(var Me,Ie,Re,rt,Xe,ut,Je,_t,Ue,ye=U.data,St=U.width,ct=U.height,xe=4*St,Ce=0;Ce<ct;){for(Me=0;Me<xe;){for(Xe=xe*Ce+Me,Je=-1,_t=0,Ue=0;Ue<64;Ue++)ut=Xe+(_t=Ue>>3)*xe+(Je=4*(7&Ue)),Ce+_t>=ct&&(ut-=xe*(Ce+1+_t-ct)),Me+Je>=xe&&(ut-=Me+Je-xe+4),Ie=ye[ut++],Re=ye[ut++],rt=ye[ut++],I[Ue]=(X[Ie]+X[Re+256>>0]+X[rt+512>>0]>>16)-128,D[Ue]=(X[Ie+768>>0]+X[Re+1024>>0]+X[rt+1280>>0]>>16)-128,L[Ue]=(X[Ie+1280>>0]+X[Re+1536>>0]+X[rt+1792>>0]>>16)-128;se=ve(I,y,se,t,r),me=ve(D,N,me,n,s),oe=ve(L,N,oe,n,s),Me+=32}Ce+=8}if(T>=0){var pe=[];pe[1]=T+1,pe[0]=(1<<T+1)-1,$(pe)}return ge(65497),new Uint8Array(M)},e=e||50,function(){for(var U=String.fromCharCode,te=0;te<256;te++)F[te]=U(te)}(),t=J(H,W),n=J(j,ie),r=J(de,z),s=J(re,ae),function(){for(var U=1,te=2,se=1;se<=15;se++){for(var me=U;me<te;me++)E[32767+me]=se,S[32767+me]=[],S[32767+me][1]=se,S[32767+me][0]=me;for(var oe=-(te-1);oe<=-U;oe++)E[32767+oe]=se,S[32767+oe]=[],S[32767+oe][1]=se,S[32767+oe][0]=te-1+oe;U<<=1,te<<=1}}(),function(){for(var U=0;U<256;U++)X[U]=19595*U,X[U+256>>0]=38470*U,X[U+512>>0]=7471*U+32768,X[U+768>>0]=-11059*U,X[U+1024>>0]=-21709*U,X[U+1280>>0]=32768*U+8421375,X[U+1536>>0]=-27439*U,X[U+1792>>0]=-5329*U}(),ke(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bm(e){function t(H){if(!H)throw Error("assert :P")}function n(H,W,de){for(var z=0;4>z;z++)if(H[W+z]!=de.charCodeAt(z))return!0;return!1}function r(H,W,de,z,j){for(var ie=0;ie<j;ie++)H[W+ie]=de[z+ie]}function s(H,W,de,z){for(var j=0;j<z;j++)H[W+j]=de}function o(H){return new Int32Array(H)}function f(H,W){for(var de=[],z=0;z<H;z++)de.push(new W);return de}function d(H,W){var de=[];return function z(j,ie,re){for(var ae=re[ie],J=0;J<ae&&(j.push(re.length>ie+1?[]:new W),!(re.length<ie+1));J++)z(j[J],ie+1,re)}(de,0,H),de}var p=function(){var H=this;function W(g,v){for(var _=1<<v-1>>>0;g&_;)_>>>=1;return _?(g&_-1)+_:g}function de(g,v,_,O,V){t(!(O%_));do g[v+(O-=_)]=V;while(0<O)}function z(g,v,_,O,V){if(t(2328>=V),512>=V)var Z=o(512);else if((Z=o(V))==null)return 0;return function(K,ee,ne,he,Se,je){var Be,De,Qe=ee,ze=1<<ne,Ne=o(16),Te=o(16);for(t(Se!=0),t(he!=null),t(K!=null),t(0<ne),De=0;De<Se;++De){if(15<he[De])return 0;++Ne[he[De]]}if(Ne[0]==Se)return 0;for(Te[1]=0,Be=1;15>Be;++Be){if(Ne[Be]>1<<Be)return 0;Te[Be+1]=Te[Be]+Ne[Be]}for(De=0;De<Se;++De)Be=he[De],0<he[De]&&(je[Te[Be]++]=De);if(Te[15]==1)return(he=new j).g=0,he.value=je[0],de(K,Qe,1,ze,he),ze;var Ye,nt=-1,We=ze-1,yt=0,ht=1,Ot=1,gt=1<<ne;for(De=0,Be=1,Se=2;Be<=ne;++Be,Se<<=1){if(ht+=Ot<<=1,0>(Ot-=Ne[Be]))return 0;for(;0<Ne[Be];--Ne[Be])(he=new j).g=Be,he.value=je[De++],de(K,Qe+yt,Se,gt,he),yt=W(yt,Be)}for(Be=ne+1,Se=2;15>=Be;++Be,Se<<=1){if(ht+=Ot<<=1,0>(Ot-=Ne[Be]))return 0;for(;0<Ne[Be];--Ne[Be]){if(he=new j,(yt&We)!=nt){for(Qe+=gt,Ye=1<<(nt=Be)-ne;15>nt&&!(0>=(Ye-=Ne[nt]));)++nt,Ye<<=1;ze+=gt=1<<(Ye=nt-ne),K[ee+(nt=yt&We)].g=Ye+ne,K[ee+nt].value=Qe-ee-nt}he.g=Be-ne,he.value=je[De++],de(K,Qe+(yt>>ne),Se,gt,he),yt=W(yt,Be)}}return ht!=2*Te[15]-1?0:ze}(g,v,_,O,V,Z)}function j(){this.value=this.g=0}function ie(){this.value=this.g=0}function re(){this.G=f(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Ln,ie)}function ae(g,v,_,O){t(g!=null),t(v!=null),t(2147483648>O),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=_,g.Jd=v,g.Yc=_+O,g.Zc=4<=O?_+O-4+1:_,Me(g)}function J(g,v){for(var _=0;0<v--;)_|=Re(g,128)<<v;return _}function $(g,v){var _=J(g,v);return Ie(g)?-_:_}function ce(g,v,_,O){var V,Z=0;for(t(g!=null),t(v!=null),t(4294967288>O),g.Sb=O,g.Ra=0,g.u=0,g.h=0,4<O&&(O=4),V=0;V<O;++V)Z+=v[_+V]<<8*V;g.Ra=Z,g.bb=O,g.oa=v,g.pa=_}function ge(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<wa-8>>>0,++g.bb,g.u-=8;se(g)&&(g.h=1,g.u=0)}function ve(g,v){if(t(0<=v),!g.h&&v<=is){var _=te(g)&to[v];return g.u+=v,ge(g),_}return g.h=1,g.u=0}function ke(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(g){return g.Ra>>>(g.u&wa-1)>>>0}function se(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>wa}function me(g,v){g.u=v,g.h=se(g)}function oe(g){g.u>=Jt&&(t(g.u>=Jt),ge(g))}function Me(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ie(g){return J(g,1)}function Re(g,v){var _=g.Ca;0>g.b&&Me(g);var O=g.b,V=_*v>>>8,Z=(g.I>>>O>V)+0;for(Z?(_-=V,g.I-=V+1<<O>>>0):_=V+1,O=_,V=0;256<=O;)V+=8,O>>=8;return O=7^V+Pi[O],g.b-=O,g.Ca=(_<<O)-1,Z}function rt(g,v,_){g[v+0]=_>>24&255,g[v+1]=_>>16&255,g[v+2]=_>>8&255,g[v+3]=_>>0&255}function Xe(g,v){return g[v+0]<<0|g[v+1]<<8}function ut(g,v){return Xe(g,v)|g[v+2]<<16}function Je(g,v){return Xe(g,v)|Xe(g,v+2)<<16}function _t(g,v){var _=1<<v;return t(g!=null),t(0<v),g.X=o(_),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function Ue(g,v){t(g!=null),t(v!=null),t(g.Xa==v.Xa),r(v.X,0,g.X,0,1<<v.Xa)}function ye(){this.X=[],this.Xa=this.Mb=0}function St(g,v,_,O){t(_!=null),t(O!=null);var V=_[0],Z=O[0];return V==0&&(V=(g*Z+v/2)/v),Z==0&&(Z=(v*V+g/2)/g),0>=V||0>=Z?0:(_[0]=V,O[0]=Z,1)}function ct(g,v){return g+(1<<v)-1>>>v}function xe(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function Ce(g,v){H[v]=function(_,O,V,Z,K,ee,ne){var he;for(he=0;he<K;++he){var Se=H[g](ee[ne+he-1],V,Z+he);ee[ne+he]=xe(_[O+he],Se)}}}function pe(){this.ud=this.hd=this.jd=0}function Ee(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function He(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ve(g,v){return He(g+(g-v+.5>>1))}function ft(g,v,_){return Math.abs(v-_)-Math.abs(g-_)}function it(g,v,_,O,V,Z,K){for(O=Z[K-1],_=0;_<V;++_)Z[K+_]=O=xe(g[v+_],O)}function bt(g,v,_,O,V){var Z;for(Z=0;Z<_;++Z){var K=g[v+Z],ee=K>>8&255,ne=16711935&(ne=(ne=16711935&K)+((ee<<16)+ee));O[V+Z]=(4278255360&K)+ne>>>0}}function xt(g,v){v.jd=g>>0&255,v.hd=g>>8&255,v.ud=g>>16&255}function vt(g,v,_,O,V,Z){var K;for(K=0;K<O;++K){var ee=v[_+K],ne=ee>>>8,he=ee,Se=255&(Se=(Se=ee>>>16)+((g.jd<<24>>24)*(ne<<24>>24)>>>5));he=255&(he=(he=he+((g.hd<<24>>24)*(ne<<24>>24)>>>5))+((g.ud<<24>>24)*(Se<<24>>24)>>>5)),V[Z+K]=(4278255360&ee)+(Se<<16)+he}}function Qt(g,v,_,O,V){H[v]=function(Z,K,ee,ne,he,Se,je,Be,De){for(ne=je;ne<Be;++ne)for(je=0;je<De;++je)he[Se++]=V(ee[O(Z[K++])])},H[g]=function(Z,K,ee,ne,he,Se,je){var Be=8>>Z.b,De=Z.Ea,Qe=Z.K[0],ze=Z.w;if(8>Be)for(Z=(1<<Z.b)-1,ze=(1<<Be)-1;K<ee;++K){var Ne,Te=0;for(Ne=0;Ne<De;++Ne)Ne&Z||(Te=O(ne[he++])),Se[je++]=V(Qe[Te&ze]),Te>>=Be}else H["VP8LMapColor"+_](ne,he,Qe,ze,Se,je,K,ee,De)}}function dt(g,v,_,O,V){for(_=v+_;v<_;){var Z=g[v++];O[V++]=Z>>16&255,O[V++]=Z>>8&255,O[V++]=Z>>0&255}}function Yi(g,v,_,O,V){for(_=v+_;v<_;){var Z=g[v++];O[V++]=Z>>16&255,O[V++]=Z>>8&255,O[V++]=Z>>0&255,O[V++]=Z>>24&255}}function Lt(g,v,_,O,V){for(_=v+_;v<_;){var Z=(K=g[v++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;O[V++]=Z,O[V++]=K}}function lt(g,v,_,O,V){for(_=v+_;v<_;){var Z=(K=g[v++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;O[V++]=Z,O[V++]=K}}function Pt(g,v,_,O,V){for(_=v+_;v<_;){var Z=g[v++];O[V++]=Z>>0&255,O[V++]=Z>>8&255,O[V++]=Z>>16&255}}function Mt(g,v,_,O,V,Z){if(Z==0)for(_=v+_;v<_;)rt(O,((Z=g[v++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),V+=32;else r(O,V,g,v,_)}function dn(g,v){H[v][0]=H[g+"0"],H[v][1]=H[g+"1"],H[v][2]=H[g+"2"],H[v][3]=H[g+"3"],H[v][4]=H[g+"4"],H[v][5]=H[g+"5"],H[v][6]=H[g+"6"],H[v][7]=H[g+"7"],H[v][8]=H[g+"8"],H[v][9]=H[g+"9"],H[v][10]=H[g+"10"],H[v][11]=H[g+"11"],H[v][12]=H[g+"12"],H[v][13]=H[g+"13"],H[v][14]=H[g+"0"],H[v][15]=H[g+"0"]}function an(g){return g==T1||g==_1||g==_f||g==I1}function ja(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ja,this.f.kb=new Vn,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Yt(g,v){var _=g.T,O=v.ba.f.RGBA,V=O.eb,Z=O.fb+g.ka*O.A,K=Na[v.ba.S],ee=g.y,ne=g.O,he=g.f,Se=g.N,je=g.ea,Be=g.W,De=v.cc,Qe=v.dc,ze=v.Mc,Ne=v.Nc,Te=g.ka,Ye=g.ka+g.T,nt=g.U,We=nt+1>>1;for(Te==0?K(ee,ne,null,null,he,Se,je,Be,he,Se,je,Be,V,Z,null,null,nt):(K(v.ec,v.fc,ee,ne,De,Qe,ze,Ne,he,Se,je,Be,V,Z-O.A,V,Z,nt),++_);Te+2<Ye;Te+=2)De=he,Qe=Se,ze=je,Ne=Be,Se+=g.Rc,Be+=g.Rc,Z+=2*O.A,K(ee,(ne+=2*g.fa)-g.fa,ee,ne,De,Qe,ze,Ne,he,Se,je,Be,V,Z-O.A,V,Z,nt);return ne+=g.fa,g.j+Ye<g.o?(r(v.ec,v.fc,ee,ne,nt),r(v.cc,v.dc,he,Se,We),r(v.Mc,v.Nc,je,Be,We),_--):1&Ye||K(ee,ne,null,null,he,Se,je,Be,he,Se,je,Be,V,Z+O.A,null,null,nt),_}function Ba(g,v,_){var O=g.F,V=[g.J];if(O!=null){var Z=g.U,K=v.ba.S,ee=K==Tf||K==_f;v=v.ba.f.RGBA;var ne=[0],he=g.ka;ne[0]=g.T,g.Kb&&(he==0?--ne[0]:(--he,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(ne[0]=g.o-g.j-he));var Se=v.eb;he=v.fb+he*v.A,g=qn(O,V[0],g.width,Z,ne,Se,he+(ee?0:3),v.A),t(_==ne),g&&an(K)&&Pr(Se,he,ee,Z,ne,v.A)}return 0}function un(g){var v=g.ma,_=v.ba.S,O=11>_,V=_==Cf||_==Ef||_==Tf||_==E1||_==12||an(_);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!As(v.Oa,g,V?11:12))return 0;if(V&&an(_)&&Ke(),g.da)alert("todo:use_scaling");else{if(O){if(v.Ib=Ft,g.Kb){if(_=g.U+1>>1,v.memory=o(g.U+2*_),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+_,v.Ib=Yt,Ke()}}else alert("todo:EmitYUV");V&&(v.Jb=Ba,O&&Le())}if(O&&!og){for(g=0;256>g;++g)My[g]=89858*(g-128)+Df>>If,jy[g]=-22014*(g-128)+Df,Ry[g]=-45773*(g-128),Oy[g]=113618*(g-128)+Df>>If;for(g=$c;g<M1;++g)v=76283*(g-16)+Df>>If,By[g-$c]=pi(v,255),ky[g-$c]=pi(v+8>>4,15);og=1}return 1}function rr(g){var v=g.ma,_=g.U,O=g.T;return t(!(1&g.ka)),0>=_||0>=O?0:(_=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,_),v.Dc+=_,1)}function Er(g){g.ma.memory=null}function Ct(g,v,_,O){return ve(g,8)!=47?0:(v[0]=ve(g,14)+1,_[0]=ve(g,14)+1,O[0]=ve(g,1),ve(g,3)!=0?0:!g.h)}function Wr(g,v){if(4>g)return g+1;var _=g-2>>1;return(2+(1&g)<<_)+ve(v,_)+1}function Xi(g,v){return 120<v?v-120:1<=(_=((_=yy[v-1])>>4)*g+(8-(15&_)))?_:1;var _}function Wi(g,v,_){var O=te(_),V=g[v+=255&O].g-8;return 0<V&&(me(_,_.u+8),O=te(_),v+=g[v].value,v+=O&(1<<V)-1),me(_,_.u+g[v].g),g[v].value}function fn(g,v,_){return _.g+=g.g,_.value+=g.value<<v>>>0,t(8>=_.g),g.g}function Dn(g,v,_){var O=g.xc;return t((v=O==0?0:g.vc[g.md*(_>>O)+(v>>O)])<g.Wb),g.Ya[v]}function Fn(g,v,_,O){var V=g.ab,Z=g.c*v,K=g.C;v=K+v;var ee=_,ne=O;for(O=g.Ta,_=g.Ua;0<V--;){var he=g.gc[V],Se=K,je=v,Be=ee,De=ne,Qe=(ne=O,ee=_,he.Ea);switch(t(Se<je),t(je<=he.nc),he.hc){case 2:a(Be,De,(je-Se)*Qe,ne,ee);break;case 0:var ze=Se,Ne=je,Te=ne,Ye=ee,nt=(gt=he).Ea;ze==0&&(G(Be,De,null,null,1,Te,Ye),it(Be,De+1,0,0,nt-1,Te,Ye+1),De+=nt,Ye+=nt,++ze);for(var We=1<<gt.b,yt=We-1,ht=ct(nt,gt.b),Ot=gt.K,gt=gt.w+(ze>>gt.b)*ht;ze<Ne;){var vn=Ot,Nn=gt,mn=1;for(i(Be,De,Te,Ye-nt,1,Te,Ye);mn<nt;){var sn=(mn&~yt)+We;sn>nt&&(sn=nt),(0,m[vn[Nn++]>>8&15])(Be,De+ +mn,Te,Ye+mn-nt,sn-mn,Te,Ye+mn),mn=sn}De+=nt,Ye+=nt,++ze&yt||(gt+=ht)}je!=he.nc&&r(ne,ee-Qe,ne,ee+(je-Se-1)*Qe,Qe);break;case 1:for(Qe=Be,Ne=De,nt=(Be=he.Ea)-(Ye=Be&~(Te=(De=1<<he.b)-1)),ze=ct(Be,he.b),We=he.K,he=he.w+(Se>>he.b)*ze;Se<je;){for(yt=We,ht=he,Ot=new pe,gt=Ne+Ye,vn=Ne+Be;Ne<gt;)xt(yt[ht++],Ot),b(Ot,Qe,Ne,De,ne,ee),Ne+=De,ee+=De;Ne<vn&&(xt(yt[ht++],Ot),b(Ot,Qe,Ne,nt,ne,ee),Ne+=nt,ee+=nt),++Se&Te||(he+=ze)}break;case 3:if(Be==ne&&De==ee&&0<he.b){for(Ne=ne,Be=Qe=ee+(je-Se)*Qe-(Ye=(je-Se)*ct(he.Ea,he.b)),De=ne,Te=ee,ze=[],Ye=(nt=Ye)-1;0<=Ye;--Ye)ze[Ye]=De[Te+Ye];for(Ye=nt-1;0<=Ye;--Ye)Ne[Be+Ye]=ze[Ye];l(he,Se,je,ne,Qe,ne,ee)}else l(he,Se,je,Be,De,ne,ee)}ee=O,ne=_}ne!=_&&r(O,_,ee,ne,Z)}function mt(g,v){var _=g.V,O=g.Ba+g.c*g.C,V=v-g.C;if(t(v<=g.l.o),t(16>=V),0<V){var Z=g.l,K=g.Ta,ee=g.Ua,ne=Z.width;if(Fn(g,V,_,O),V=ee=[ee],t((_=g.C)<(O=v)),t(Z.v<Z.va),O>Z.o&&(O=Z.o),_<Z.j){var he=Z.j-_;_=Z.j,V[0]+=he*ne}if(_>=O?_=0:(V[0]+=4*Z.v,Z.ka=_-Z.j,Z.U=Z.va-Z.v,Z.T=O-_,_=1),_){if(ee=ee[0],11>(_=g.ca).S){var Se=_.f.RGBA,je=(O=_.S,V=Z.U,Z=Z.T,he=Se.eb,Se.A),Be=Z;for(Se=Se.fb+g.Ma*Se.A;0<Be--;){var De=K,Qe=ee,ze=V,Ne=he,Te=Se;switch(O){case Nf:C(De,Qe,ze,Ne,Te);break;case Cf:R(De,Qe,ze,Ne,Te);break;case T1:R(De,Qe,ze,Ne,Te),Pr(Ne,Te,0,ze,1,0);break;case J2:fe(De,Qe,ze,Ne,Te);break;case Ef:Mt(De,Qe,ze,Ne,Te,1);break;case _1:Mt(De,Qe,ze,Ne,Te,1),Pr(Ne,Te,0,ze,1,0);break;case Tf:Mt(De,Qe,ze,Ne,Te,0);break;case _f:Mt(De,Qe,ze,Ne,Te,0),Pr(Ne,Te,1,ze,1,0);break;case E1:q(De,Qe,ze,Ne,Te);break;case I1:q(De,Qe,ze,Ne,Te),Hn(Ne,Te,ze,1,0);break;case $2:Q(De,Qe,ze,Ne,Te);break;default:t(0)}ee+=ne,Se+=je}g.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=_.height)}}g.C=v,t(g.C<=g.i)}function dr(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var _=g.Ya[v].G,O=g.Ya[v].H;if(0<_[1][O[1]+0].g||0<_[2][O[2]+0].g||0<_[3][O[3]+0].g)return 0}return 1}function Tr(g,v,_,O,V,Z){if(g.Z!=0){var K=g.qd,ee=g.rd;for(t(io[g.Z]!=null);v<_;++v)io[g.Z](K,ee,O,V,O,V,Z),K=O,ee=V,V+=Z;g.qd=K,g.rd=ee}}function Un(g,v){var _=g.l.ma,O=_.Z==0||_.Z==1?g.l.j:g.C;if(O=g.C<O?O:g.C,t(v<=g.l.o),v>O){var V=g.l.width,Z=_.ca,K=_.tb+V*O,ee=g.V,ne=g.Ba+g.c*O,he=g.gc;t(g.ab==1),t(he[0].hc==3),u(he[0],O,v,ee,ne,Z,K),Tr(_,O,v,Z,K,V)}g.C=g.Ma=v}function Zi(g,v,_,O,V,Z,K){var ee=g.$/O,ne=g.$%O,he=g.m,Se=g.s,je=_+g.$,Be=je;V=_+O*V;var De=_+O*Z,Qe=280+Se.ua,ze=g.Pb?ee:16777216,Ne=0<Se.ua?Se.Wa:null,Te=Se.wc,Ye=je<De?Dn(Se,ne,ee):null;t(g.C<Z),t(De<=V);var nt=!1;e:for(;;){for(;nt||je<De;){var We=0;if(ee>=ze){var yt=je-_;t((ze=g).Pb),ze.wd=ze.m,ze.xd=yt,0<ze.s.ua&&Ue(ze.s.Wa,ze.s.vb),ze=ee+by}if(ne&Te||(Ye=Dn(Se,ne,ee)),t(Ye!=null),Ye.Qb&&(v[je]=Ye.qb,nt=!0),!nt)if(oe(he),Ye.jc){We=he,yt=v;var ht=je,Ot=Ye.pd[te(We)&Ln-1];t(Ye.jc),256>Ot.g?(me(We,We.u+Ot.g),yt[ht]=Ot.value,We=0):(me(We,We.u+Ot.g-256),t(256<=Ot.value),We=Ot.value),We==0&&(nt=!0)}else We=Wi(Ye.G[0],Ye.H[0],he);if(he.h)break;if(nt||256>We){if(!nt)if(Ye.nd)v[je]=(Ye.qb|We<<8)>>>0;else{if(oe(he),nt=Wi(Ye.G[1],Ye.H[1],he),oe(he),yt=Wi(Ye.G[2],Ye.H[2],he),ht=Wi(Ye.G[3],Ye.H[3],he),he.h)break;v[je]=(ht<<24|nt<<16|We<<8|yt)>>>0}if(nt=!1,++je,++ne>=O&&(ne=0,++ee,K!=null&&ee<=Z&&!(ee%16)&&K(g,ee),Ne!=null))for(;Be<je;)We=v[Be++],Ne.X[(506832829*We&4294967295)>>>Ne.Mb]=We}else if(280>We){if(We=Wr(We-256,he),yt=Wi(Ye.G[4],Ye.H[4],he),oe(he),yt=Xi(O,yt=Wr(yt,he)),he.h)break;if(je-_<yt||V-je<We)break e;for(ht=0;ht<We;++ht)v[je+ht]=v[je+ht-yt];for(je+=We,ne+=We;ne>=O;)ne-=O,++ee,K!=null&&ee<=Z&&!(ee%16)&&K(g,ee);if(t(je<=V),ne&Te&&(Ye=Dn(Se,ne,ee)),Ne!=null)for(;Be<je;)We=v[Be++],Ne.X[(506832829*We&4294967295)>>>Ne.Mb]=We}else{if(!(We<Qe))break e;for(nt=We-280,t(Ne!=null);Be<je;)We=v[Be++],Ne.X[(506832829*We&4294967295)>>>Ne.Mb]=We;We=je,t(!(nt>>>(yt=Ne).Xa)),v[We]=yt.X[nt],nt=!0}nt||t(he.h==se(he))}if(g.Pb&&he.h&&je<V)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ue(g.s.vb,g.s.Wa);else{if(he.h)break e;K!=null&&K(g,ee>Z?Z:ee),g.a=0,g.$=je-_}return 1}return g.a=3,0}function _r(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,t(g!=null)}function ar(){var g=new ci;return g==null?null:(g.a=0,g.xb=ng,dn("Predictor","VP8LPredictors"),dn("Predictor","VP8LPredictors_C"),dn("PredictorAdd","VP8LPredictorsAdd"),dn("PredictorAdd","VP8LPredictorsAdd_C"),a=bt,b=vt,C=dt,R=Yi,q=Lt,Q=lt,fe=Pt,H.VP8LMapColor32b=c,H.VP8LMapColor8b=h,g)}function wi(g,v,_,O,V){var Z=1,K=[g],ee=[v],ne=O.m,he=O.s,Se=null,je=0;e:for(;;){if(_)for(;Z&&ve(ne,1);){var Be=K,De=ee,Qe=O,ze=1,Ne=Qe.m,Te=Qe.gc[Qe.ab],Ye=ve(Ne,2);if(Qe.Oc&1<<Ye)Z=0;else{switch(Qe.Oc|=1<<Ye,Te.hc=Ye,Te.Ea=Be[0],Te.nc=De[0],Te.K=[null],++Qe.ab,t(4>=Qe.ab),Ye){case 0:case 1:Te.b=ve(Ne,3)+2,ze=wi(ct(Te.Ea,Te.b),ct(Te.nc,Te.b),0,Qe,Te.K),Te.K=Te.K[0];break;case 3:var nt,We=ve(Ne,8)+1,yt=16<We?0:4<We?1:2<We?2:3;if(Be[0]=ct(Te.Ea,yt),Te.b=yt,nt=ze=wi(We,1,0,Qe,Te.K)){var ht,Ot=We,gt=Te,vn=1<<(8>>gt.b),Nn=o(vn);if(Nn==null)nt=0;else{var mn=gt.K[0],sn=gt.w;for(Nn[0]=gt.K[0][0],ht=1;ht<1*Ot;++ht)Nn[ht]=xe(mn[sn+ht],Nn[ht-1]);for(;ht<4*vn;++ht)Nn[ht]=0;gt.K[0]=null,gt.K[0]=Nn,nt=1}}ze=nt;break;case 2:break;default:t(0)}Z=ze}}if(K=K[0],ee=ee[0],Z&&ve(ne,1)&&!(Z=1<=(je=ve(ne,4))&&11>=je)){O.a=3;break e}var jn;if(jn=Z)t:{var Mn,Wt,Oi,Fr=O,Ri=K,Ur=ee,Cn=je,$r=_,ea=Fr.m,Ki=Fr.s,lr=[null],Lr=1,Ca=0,rs=vy[Cn];n:for(;;){if($r&&ve(ea,1)){var Ji=ve(ea,3)+2,Es=ct(Ri,Ji),fl=ct(Ur,Ji),Yl=Es*fl;if(!wi(Es,fl,0,Fr,lr))break n;for(lr=lr[0],Ki.xc=Ji,Mn=0;Mn<Yl;++Mn){var ro=lr[Mn]>>8&65535;lr[Mn]=ro,ro>=Lr&&(Lr=ro+1)}}if(ea.h)break n;for(Wt=0;5>Wt;++Wt){var xi=eg[Wt];!Wt&&0<Cn&&(xi+=1<<Cn),Ca<xi&&(Ca=xi)}var O1=f(Lr*rs,j),ug=Lr,fg=f(ug,re);if(fg==null)var Mf=null;else t(65536>=ug),Mf=fg;var eu=o(Ca);if(Mf==null||eu==null||O1==null){Fr.a=1;break n}var Of=O1;for(Mn=Oi=0;Mn<Lr;++Mn){var za=Mf[Mn],Xl=za.G,Wl=za.H,hg=0,Rf=1,dg=0;for(Wt=0;5>Wt;++Wt){xi=eg[Wt],Xl[Wt]=Of,Wl[Wt]=Oi,!Wt&&0<Cn&&(xi+=1<<Cn);r:{var jf,R1=xi,Bf=Fr,tu=eu,Uy=Of,zy=Oi,j1=0,ao=Bf.m,Hy=ve(ao,1);if(s(tu,0,0,R1),Hy){var qy=ve(ao,1)+1,Gy=ve(ao,1),gg=ve(ao,Gy==0?1:8);tu[gg]=1,qy==2&&(tu[gg=ve(ao,8)]=1);var kf=1}else{var pg=o(19),mg=ve(ao,4)+4;if(19<mg){Bf.a=3;var Pf=0;break r}for(jf=0;jf<mg;++jf)pg[xy[jf]]=ve(ao,3);var B1=void 0,nu=void 0,xg=Bf,Vy=pg,Ff=R1,yg=tu,k1=0,so=xg.m,vg=8,bg=f(128,j);i:for(;z(bg,0,7,Vy,19);){if(ve(so,1)){var Yy=2+2*ve(so,3);if((B1=2+ve(so,Yy))>Ff)break i}else B1=Ff;for(nu=0;nu<Ff&&B1--;){oe(so);var wg=bg[0+(127&te(so))];me(so,so.u+wg.g);var Zl=wg.value;if(16>Zl)yg[nu++]=Zl,Zl!=0&&(vg=Zl);else{var Xy=Zl==16,Ag=Zl-16,Wy=py[Ag],Sg=ve(so,gy[Ag])+Wy;if(nu+Sg>Ff)break i;for(var Zy=Xy?vg:0;0<Sg--;)yg[nu++]=Zy}}k1=1;break i}k1||(xg.a=3),kf=k1}(kf=kf&&!ao.h)&&(j1=z(Uy,zy,8,tu,R1)),kf&&j1!=0?Pf=j1:(Bf.a=3,Pf=0)}if(Pf==0)break n;if(Rf&&my[Wt]==1&&(Rf=Of[Oi].g==0),hg+=Of[Oi].g,Oi+=Pf,3>=Wt){var iu,P1=eu[0];for(iu=1;iu<xi;++iu)eu[iu]>P1&&(P1=eu[iu]);dg+=P1}}if(za.nd=Rf,za.Qb=0,Rf&&(za.qb=(Xl[3][Wl[3]+0].value<<24|Xl[1][Wl[1]+0].value<<16|Xl[2][Wl[2]+0].value)>>>0,hg==0&&256>Xl[0][Wl[0]+0].value&&(za.Qb=1,za.qb+=Xl[0][Wl[0]+0].value<<8)),za.jc=!za.Qb&&6>dg,za.jc){var Uf,Ts=za;for(Uf=0;Uf<Ln;++Uf){var oo=Uf,lo=Ts.pd[oo],zf=Ts.G[0][Ts.H[0]+oo];256<=zf.value?(lo.g=zf.g+256,lo.value=zf.value):(lo.g=0,lo.value=0,oo>>=fn(zf,8,lo),oo>>=fn(Ts.G[1][Ts.H[1]+oo],16,lo),oo>>=fn(Ts.G[2][Ts.H[2]+oo],0,lo),fn(Ts.G[3][Ts.H[3]+oo],24,lo))}}}Ki.vc=lr,Ki.Wb=Lr,Ki.Ya=Mf,Ki.yc=O1,jn=1;break t}jn=0}if(!(Z=jn)){O.a=3;break e}if(0<je){if(he.ua=1<<je,!_t(he.Wa,je)){O.a=1,Z=0;break e}}else he.ua=0;var F1=O,Ng=K,Qy=ee,U1=F1.s,z1=U1.xc;if(F1.c=Ng,F1.i=Qy,U1.md=ct(Ng,z1),U1.wc=z1==0?-1:(1<<z1)-1,_){O.xb=Ty;break e}if((Se=o(K*ee))==null){O.a=1,Z=0;break e}Z=(Z=Zi(O,Se,0,K,ee,ee,null))&&!ne.h;break e}return Z?(V!=null?V[0]=Se:(t(Se==null),t(_)),O.$=0,_||_r(he)):_r(he),Z}function ys(g,v){var _=g.c*g.i,O=_+v+16*v;return t(g.c<=v),g.V=o(O),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+_+v,1)}function Ys(g,v){var _=g.C,O=v-_,V=g.V,Z=g.Ba+g.c*_;for(t(v<=g.l.o);0<O;){var K=16<O?16:O,ee=g.l.ma,ne=g.l.width,he=ne*K,Se=ee.ca,je=ee.tb+ne*_,Be=g.Ta,De=g.Ua;Fn(g,K,V,Z),Ei(Be,De,Se,je,he),Tr(ee,_,_+K,Se,je,ne),O-=K,V+=K*g.c,_+=K}t(_==v),g.C=g.Ma=v}function sr(){this.ub=this.yd=this.td=this.Rb=0}function gi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yn(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Wo(){this.Yb=function(){var g=[];return function v(_,O,V){for(var Z=V[O],K=0;K<Z&&(_.push(V.length>O+1?[]:0),!(V.length<O+1));K++)v(_[K],O+1,V)}(g,0,[3,11]),g}()}function ma(){this.jb=o(3),this.Wc=d([4,8],Wo),this.Xc=d([4,17],Wo)}function Zo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ze(){this.ld=this.La=this.dd=this.tc=0}function zl(){this.Na=this.la=0}function zn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ze),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new Xt}function on(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ln(){this.cb=this.a=0,this.sc="",this.m=new ke,this.Od=new sr,this.Kc=new gi,this.ed=new Zo,this.Qa=new yn,this.Ic=this.$c=this.Aa=0,this.D=new Wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,ke),this.ia=0,this.pb=f(4,zn),this.Pa=new ma,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new on),this.Hd=0,this.rb=Array(new zl),this.sb=0,this.wa=Array(new Ze),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=d([4,2],Ze),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qo(){var g=new ln;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Jc||(Jc=Zr)),g}function Xn(g,v,_){return g.a==0&&(g.a=v,g.sc=_,g.cb=0),0}function Xs(g,v,_){return 3<=_&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function $n(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return Xn(g,2,"null VP8Io passed to VP8GetHeaders()");var _=v.data,O=v.w,V=v.ha;if(4>V)return Xn(g,7,"Truncated header.");var Z=_[O+0]|_[O+1]<<8|_[O+2]<<16,K=g.Od;if(K.Rb=!(1&Z),K.td=Z>>1&7,K.yd=Z>>4&1,K.ub=Z>>5,3<K.td)return Xn(g,3,"Incorrect keyframe parameters.");if(!K.yd)return Xn(g,4,"Frame not displayable.");O+=3,V-=3;var ee=g.Kc;if(K.Rb){if(7>V)return Xn(g,7,"cannot parse picture header");if(!Xs(_,O,V))return Xn(g,3,"Bad code word");ee.c=16383&(_[O+4]<<8|_[O+3]),ee.Td=_[O+4]>>6,ee.i=16383&(_[O+6]<<8|_[O+5]),ee.Ud=_[O+6]>>6,O+=7,V-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,v.width=ee.c,v.height=ee.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((Z=g.Pa).jb,0,255,Z.jb.length),t((Z=g.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,s(Z.Zb,0,0,Z.Zb.length),s(Z.Lb,0,0,Z.Lb)}if(K.ub>V)return Xn(g,7,"bad partition length");ae(Z=g.m,_,O,K.ub),O+=K.ub,V-=K.ub,K.Rb&&(ee.Ld=Ie(Z),ee.Kd=Ie(Z)),ee=g.Qa;var ne,he=g.Pa;if(t(Z!=null),t(ee!=null),ee.Cb=Ie(Z),ee.Cb){if(ee.Bb=Ie(Z),Ie(Z)){for(ee.Fb=Ie(Z),ne=0;4>ne;++ne)ee.Zb[ne]=Ie(Z)?$(Z,7):0;for(ne=0;4>ne;++ne)ee.Lb[ne]=Ie(Z)?$(Z,6):0}if(ee.Bb)for(ne=0;3>ne;++ne)he.jb[ne]=Ie(Z)?J(Z,8):255}else ee.Bb=0;if(Z.Ka)return Xn(g,3,"cannot parse segment header");if((ee=g.ed).zd=Ie(Z),ee.Tb=J(Z,6),ee.wb=J(Z,3),ee.Pc=Ie(Z),ee.Pc&&Ie(Z)){for(he=0;4>he;++he)Ie(Z)&&(ee.vd[he]=$(Z,6));for(he=0;4>he;++he)Ie(Z)&&(ee.od[he]=$(Z,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,Z.Ka)return Xn(g,3,"cannot parse filter header");var Se=V;if(V=ne=O,O=ne+Se,ee=Se,g.Xb=(1<<J(g.m,2))-1,Se<3*(he=g.Xb))_=7;else{for(ne+=3*he,ee-=3*he,Se=0;Se<he;++Se){var je=_[V+0]|_[V+1]<<8|_[V+2]<<16;je>ee&&(je=ee),ae(g.Jc[+Se],_,ne,je),ne+=je,ee-=je,V+=3}ae(g.Jc[+he],_,ne,ee),_=ne<O?0:5}if(_!=0)return Xn(g,_,"cannot parse partitions");for(_=J(ne=g.m,7),V=Ie(ne)?$(ne,4):0,O=Ie(ne)?$(ne,4):0,ee=Ie(ne)?$(ne,4):0,he=Ie(ne)?$(ne,4):0,ne=Ie(ne)?$(ne,4):0,Se=g.Qa,je=0;4>je;++je){if(Se.Cb){var Be=Se.Zb[je];Se.Fb||(Be+=_)}else{if(0<je){g.pb[je]=g.pb[0];continue}Be=_}var De=g.pb[je];De.Sc[0]=D1[pi(Be+V,127)],De.Sc[1]=L1[pi(Be+0,127)],De.Eb[0]=2*D1[pi(Be+O,127)],De.Eb[1]=101581*L1[pi(Be+ee,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=D1[pi(Be+he,117)],De.Qc[1]=L1[pi(Be+ne,127)],De.lc=Be+ne}if(!K.Rb)return Xn(g,4,"Not a key frame.");for(Ie(Z),K=g.Pa,_=0;4>_;++_){for(V=0;8>V;++V)for(O=0;3>O;++O)for(ee=0;11>ee;++ee)he=Re(Z,Cy[_][V][O][ee])?J(Z,8):Sy[_][V][O][ee],K.Wc[_][V].Yb[O][ee]=he;for(V=0;17>V;++V)K.Xc[_][V]=K.Wc[_][Ey[V]]}return g.kc=Ie(Z),g.kc&&(g.Bd=J(Z,8)),g.cb=1}function Zr(g,v,_,O,V,Z,K){var ee=v[V].Yb[_];for(_=0;16>V;++V){if(!Re(g,ee[_+0]))return V;for(;!Re(g,ee[_+1]);)if(ee=v[++V].Yb[0],_=0,V==16)return 16;var ne=v[V+1].Yb;if(Re(g,ee[_+2])){var he=g,Se=0;if(Re(he,(Be=ee)[(je=_)+3]))if(Re(he,Be[je+6])){for(ee=0,je=2*(Se=Re(he,Be[je+8]))+(Be=Re(he,Be[je+9+Se])),Se=0,Be=wy[je];Be[ee];++ee)Se+=Se+Re(he,Be[ee]);Se+=3+(8<<je)}else Re(he,Be[je+7])?(Se=7+2*Re(he,165),Se+=Re(he,145)):Se=5+Re(he,159);else Se=Re(he,Be[je+4])?3+Re(he,Be[je+5]):2;ee=ne[2]}else Se=1,ee=ne[1];ne=K+Ay[V],0>(he=g).b&&Me(he);var je,Be=he.b,De=(je=he.Ca>>1)-(he.I>>Be)>>31;--he.b,he.Ca+=De,he.Ca|=1,he.I-=(je+1&De)<<Be,Z[ne]=((Se^De)-De)*O[(0<V)+0]}return 16}function Ko(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Wn(g,v){if(g==null)return 0;if(v==null)return Xn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!$n(g,v))return 0;if(t(g.cb),v.ac==null||v.ac(v)){v.ob&&(g.L=0);var _=Lf[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=v.v-_>>4,g.zb=v.j-_>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=v.o+15+_>>4,g.Hb=v.va+15+_>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var O=g.ed;for(_=0;4>_;++_){var V;if(g.Qa.Cb){var Z=g.Qa.Lb[_];g.Qa.Fb||(Z+=O.Tb)}else Z=O.Tb;for(V=0;1>=V;++V){var K=g.gd[_][V],ee=Z;if(O.Pc&&(ee+=O.vd[0],V&&(ee+=O.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var ne=ee;0<O.wb&&(ne=4<O.wb?ne>>2:ne>>1)>9-O.wb&&(ne=9-O.wb),1>ne&&(ne=1),K.dd=ne,K.tc=2*ee+ne,K.ld=40<=ee?2:15<=ee?1:0}else K.tc=0;K.La=V}}}_=0}else Xn(g,6,"Frame setup failed"),_=g.a;if(_=_==0){if(_){g.$c=0,0<g.Aa||(g.Ic=Fy);e:{_=g.Ic,O=4*(ne=g.za);var he=32*ne,Se=ne+1,je=0<g.L?ne*(0<g.Aa?2:1):0,Be=(g.Aa==2?2:1)*ne;if((K=O+832+(V=3*(16*_+Lf[g.L])/2*he)+(Z=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=K)_=0;else{if(K>g.Vb){if(g.Vb=0,g.Ec=o(K),g.Fc=0,g.Ec==null){_=Xn(g,1,"no memory during frame initialization.");break e}g.Vb=K}K=g.Ec,ee=g.Fc,g.Ac=K,g.Bc=ee,ee+=O,g.Gd=f(he,on),g.Hd=0,g.rb=f(Se+1,zl),g.sb=1,g.wa=je?f(je,Ze):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ne),t(!0),g.oc=K,g.pc=ee,ee+=832,g.ya=f(Be,xa),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ne),g.R=16*ne,g.B=8*ne,ne=(he=Lf[g.L])*g.R,he=he/2*g.B,g.sa=K,g.ta=ee+ne,g.qa=g.sa,g.ra=g.ta+16*_*g.R+he,g.Ha=g.qa,g.Ia=g.ra+8*_*g.B+he,g.$c=0,ee+=V,g.mb=Z?K:null,g.nb=Z?ee:null,t(ee+Z<=g.Fc+g.Vb),Ko(g),s(g.Ac,g.Bc,0,O),_=1}}if(_){if(v.ka=0,v.y=g.sa,v.O=g.ta,v.f=g.qa,v.N=g.ra,v.ea=g.Ha,v.Vd=g.Ia,v.fa=g.R,v.Rc=g.B,v.F=null,v.J=0,!Af){for(_=-255;255>=_;++_)Ui[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)Ns[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Kc[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Vl[255+_]=0>_?0:255<_?255:_;Af=1}be=gr,Ae=Oe,Fe=le,et=Et,at=oi,_e=Si,tt=$a,Zt=mr,Bt=Vt,mi=li,Fi=Qc,ui=Pe,cn=es,ii=ol,Ci=sl,Dr=ba,Aa=Fa,kr=Zc,Ua[0]=Tt,Ua[1]=$o,Ua[2]=bs,Ua[3]=ya,Ua[4]=ql,Ua[5]=ei,Ua[6]=Ht,Ua[7]=tl,Ua[8]=Gl,Ua[9]=nl,no[0]=Qs,no[1]=Dt,no[2]=gn,no[3]=vs,no[4]=Ni,no[5]=el,no[6]=Hl,Cs[0]=jr,Cs[1]=pr,Cs[2]=ka,Cs[3]=il,Cs[4]=Ja,Cs[5]=ws,Cs[6]=Pa,_=1}else _=0}_&&(_=function(De,Qe){for(De.M=0;De.M<De.Va;++De.M){var ze,Ne=De.Jc[De.M&De.Xb],Te=De.m,Ye=De;for(ze=0;ze<Ye.za;++ze){var nt=Te,We=Ye,yt=We.Ac,ht=We.Bc+4*ze,Ot=We.zc,gt=We.ya[We.aa+ze];if(We.Qa.Bb?gt.$b=Re(nt,We.Pa.jb[0])?2+Re(nt,We.Pa.jb[2]):Re(nt,We.Pa.jb[1]):gt.$b=0,We.kc&&(gt.Ad=Re(nt,We.Bd)),gt.Za=!Re(nt,145)+0,gt.Za){var vn=gt.Ob,Nn=0;for(We=0;4>We;++We){var mn,sn=Ot[0+We];for(mn=0;4>mn;++mn){sn=Ny[yt[ht+mn]][sn];for(var jn=tg[Re(nt,sn[0])];0<jn;)jn=tg[2*jn+Re(nt,sn[jn])];sn=-jn,yt[ht+mn]=sn}r(vn,Nn,yt,ht,4),Nn+=4,Ot[0+We]=sn}}else sn=Re(nt,156)?Re(nt,128)?1:3:Re(nt,163)?2:0,gt.Ob[0]=sn,s(yt,ht,sn,4),s(Ot,0,sn,4);gt.Dd=Re(nt,142)?Re(nt,114)?Re(nt,183)?1:3:2:0}if(Ye.m.Ka)return Xn(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(Ye=Ne,nt=(Te=De).rb[Te.sb-1],yt=Te.rb[Te.sb+Te.ja],ze=Te.ya[Te.aa+Te.ja],ht=Te.kc?ze.Ad:0)nt.la=yt.la=0,ze.Za||(nt.Na=yt.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var Mn,Wt;if(nt=yt,yt=Ye,ht=Te.Pa.Xc,Ot=Te.ya[Te.aa+Te.ja],gt=Te.pb[Ot.$b],We=Ot.ad,vn=0,Nn=Te.rb[Te.sb-1],sn=mn=0,s(We,vn,0,384),Ot.Za)var Oi=0,Fr=ht[3];else{jn=o(16);var Ri=nt.Na+Nn.Na;if(Ri=Jc(yt,ht[1],Ri,gt.Eb,0,jn,0),nt.Na=Nn.Na=(0<Ri)+0,1<Ri)be(jn,0,We,vn);else{var Ur=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)We[vn+jn]=Ur}Oi=1,Fr=ht[0]}var Cn=15&nt.la,$r=15&Nn.la;for(jn=0;4>jn;++jn){var ea=1&$r;for(Ur=Wt=0;4>Ur;++Ur)Cn=Cn>>1|(ea=(Ri=Jc(yt,Fr,Ri=ea+(1&Cn),gt.Sc,Oi,We,vn))>Oi)<<7,Wt=Wt<<2|(3<Ri?3:1<Ri?2:We[vn+0]!=0),vn+=16;Cn>>=4,$r=$r>>1|ea<<7,mn=(mn<<8|Wt)>>>0}for(Fr=Cn,Oi=$r>>4,Mn=0;4>Mn;Mn+=2){for(Wt=0,Cn=nt.la>>4+Mn,$r=Nn.la>>4+Mn,jn=0;2>jn;++jn){for(ea=1&$r,Ur=0;2>Ur;++Ur)Ri=ea+(1&Cn),Cn=Cn>>1|(ea=0<(Ri=Jc(yt,ht[2],Ri,gt.Qc,0,We,vn)))<<3,Wt=Wt<<2|(3<Ri?3:1<Ri?2:We[vn+0]!=0),vn+=16;Cn>>=2,$r=$r>>1|ea<<5}sn|=Wt<<4*Mn,Fr|=Cn<<4<<Mn,Oi|=(240&$r)<<Mn}nt.la=Fr,Nn.la=Oi,Ot.Hc=mn,Ot.Gc=sn,Ot.ia=43690&sn?0:gt.ia,ht=!(mn|sn)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[ze.$b][ze.Za],Te.wa[Te.Y+Te.ja].La|=!ht),Ye.Ka)return Xn(De,7,"Premature end-of-file encountered.")}if(Ko(De),Te=Qe,Ye=1,ze=(Ne=De).D,nt=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(ze.M=Ne.M,ze.uc=nt,yr(Ne,ze),Ye=1,ze=(Wt=Ne.D).Nb,nt=(sn=Lf[Ne.L])*Ne.R,yt=sn/2*Ne.B,jn=16*ze*Ne.R,Ur=8*ze*Ne.B,ht=Ne.sa,Ot=Ne.ta-nt+jn,gt=Ne.qa,We=Ne.ra-yt+Ur,vn=Ne.Ha,Nn=Ne.Ia-yt+Ur,$r=(Cn=Wt.M)==0,mn=Cn>=Ne.Va-1,Ne.Aa==2&&yr(Ne,Wt),Wt.uc)for(ea=(Ri=Ne).D.M,t(Ri.D.uc),Wt=Ri.yb;Wt<Ri.Hb;++Wt){Oi=Wt,Fr=ea;var Ki=(lr=(xi=Ri).D).Nb;Mn=xi.R;var lr=lr.wa[lr.Y+Oi],Lr=xi.sa,Ca=xi.ta+16*Ki*Mn+16*Oi,rs=lr.dd,Ji=lr.tc;if(Ji!=0)if(t(3<=Ji),xi.L==1)0<Oi&&Dr(Lr,Ca,Mn,Ji+4),lr.La&&kr(Lr,Ca,Mn,Ji),0<Fr&&Ci(Lr,Ca,Mn,Ji+4),lr.La&&Aa(Lr,Ca,Mn,Ji);else{var Es=xi.B,fl=xi.qa,Yl=xi.ra+8*Ki*Es+8*Oi,ro=xi.Ha,xi=xi.Ia+8*Ki*Es+8*Oi;Ki=lr.ld,0<Oi&&(Zt(Lr,Ca,Mn,Ji+4,rs,Ki),mi(fl,Yl,ro,xi,Es,Ji+4,rs,Ki)),lr.La&&(ui(Lr,Ca,Mn,Ji,rs,Ki),ii(fl,Yl,ro,xi,Es,Ji,rs,Ki)),0<Fr&&(tt(Lr,Ca,Mn,Ji+4,rs,Ki),Bt(fl,Yl,ro,xi,Es,Ji+4,rs,Ki)),lr.La&&(Fi(Lr,Ca,Mn,Ji,rs,Ki),cn(fl,Yl,ro,xi,Es,Ji,rs,Ki))}}if(Ne.ia&&alert("todo:DitherRow"),Te.put!=null){if(Wt=16*Cn,Cn=16*(Cn+1),$r?(Te.y=Ne.sa,Te.O=Ne.ta+jn,Te.f=Ne.qa,Te.N=Ne.ra+Ur,Te.ea=Ne.Ha,Te.W=Ne.Ia+Ur):(Wt-=sn,Te.y=ht,Te.O=Ot,Te.f=gt,Te.N=We,Te.ea=vn,Te.W=Nn),mn||(Cn-=sn),Cn>Te.o&&(Cn=Te.o),Te.F=null,Te.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Wt<Cn&&(Te.J=pn(Ne,Te,Wt,Cn-Wt),Te.F=Ne.mb,Te.F==null&&Te.F.length==0)){Ye=Xn(Ne,3,"Could not decode alpha data.");break e}Wt<Te.j&&(sn=Te.j-Wt,Wt=Te.j,t(!(1&sn)),Te.O+=Ne.R*sn,Te.N+=Ne.B*(sn>>1),Te.W+=Ne.B*(sn>>1),Te.F!=null&&(Te.J+=Te.width*sn)),Wt<Cn&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Wt-Te.j,Te.U=Te.va-Te.v,Te.T=Cn-Wt,Ye=Te.put(Te))}ze+1!=Ne.Ic||mn||(r(Ne.sa,Ne.ta-nt,ht,Ot+16*Ne.R,nt),r(Ne.qa,Ne.ra-yt,gt,We+8*Ne.B,yt),r(Ne.Ha,Ne.Ia-yt,vn,Nn+8*Ne.B,yt))}if(!Ye)return Xn(De,6,"Output aborted.")}return 1}(g,v)),v.bc!=null&&v.bc(v),_&=1}return _?(g.cb=0,_):0}function Mi(g,v,_,O,V){V=g[v+_+32*O]+(V>>3),g[v+_+32*O]=-256&V?0>V?0:255:V}function Ws(g,v,_,O,V,Z){Mi(g,v,0,_,O+V),Mi(g,v,1,_,O+Z),Mi(g,v,2,_,O-Z),Mi(g,v,3,_,O-V)}function Ai(g){return(20091*g>>16)+g}function xn(g,v,_,O){var V,Z=0,K=o(16);for(V=0;4>V;++V){var ee=g[v+0]+g[v+8],ne=g[v+0]-g[v+8],he=(35468*g[v+4]>>16)-Ai(g[v+12]),Se=Ai(g[v+4])+(35468*g[v+12]>>16);K[Z+0]=ee+Se,K[Z+1]=ne+he,K[Z+2]=ne-he,K[Z+3]=ee-Se,Z+=4,v++}for(V=Z=0;4>V;++V)ee=(g=K[Z+0]+4)+K[Z+8],ne=g-K[Z+8],he=(35468*K[Z+4]>>16)-Ai(K[Z+12]),Mi(_,O,0,0,ee+(Se=Ai(K[Z+4])+(35468*K[Z+12]>>16))),Mi(_,O,1,0,ne+he),Mi(_,O,2,0,ne-he),Mi(_,O,3,0,ee-Se),Z++,O+=32}function Si(g,v,_,O){var V=g[v+0]+4,Z=35468*g[v+4]>>16,K=Ai(g[v+4]),ee=35468*g[v+1]>>16;Ws(_,O,0,V+K,g=Ai(g[v+1]),ee),Ws(_,O,1,V+Z,g,ee),Ws(_,O,2,V-Z,g,ee),Ws(_,O,3,V-K,g,ee)}function Oe(g,v,_,O,V){xn(g,v,_,O),V&&xn(g,v+16,_,O+4)}function le(g,v,_,O){Ae(g,v+0,_,O,1),Ae(g,v+32,_,O+128,1)}function Et(g,v,_,O){var V;for(g=g[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)Mi(_,O,v,V,g)}function oi(g,v,_,O){g[v+0]&&et(g,v+0,_,O),g[v+16]&&et(g,v+16,_,O+4),g[v+32]&&et(g,v+32,_,O+128),g[v+48]&&et(g,v+48,_,O+128+4)}function gr(g,v,_,O){var V,Z=o(16);for(V=0;4>V;++V){var K=g[v+0+V]+g[v+12+V],ee=g[v+4+V]+g[v+8+V],ne=g[v+4+V]-g[v+8+V],he=g[v+0+V]-g[v+12+V];Z[0+V]=K+ee,Z[8+V]=K-ee,Z[4+V]=he+ne,Z[12+V]=he-ne}for(V=0;4>V;++V)K=(g=Z[0+4*V]+3)+Z[3+4*V],ee=Z[1+4*V]+Z[2+4*V],ne=Z[1+4*V]-Z[2+4*V],he=g-Z[3+4*V],_[O+0]=K+ee>>3,_[O+16]=he+ne>>3,_[O+32]=K-ee>>3,_[O+48]=he-ne>>3,O+=64}function Jo(g,v,_){var O,V=v-32,Z=Jr,K=255-g[V-1];for(O=0;O<_;++O){var ee,ne=Z,he=K+g[v-1];for(ee=0;ee<_;++ee)g[v+ee]=ne[he+g[V+ee]];v+=32}}function $o(g,v){Jo(g,v,4)}function pr(g,v){Jo(g,v,8)}function Dt(g,v){Jo(g,v,16)}function gn(g,v){var _;for(_=0;16>_;++_)r(g,v+32*_,g,v-32,16)}function vs(g,v){var _;for(_=16;0<_;--_)s(g,v,g[v-1],16),v+=32}function Zs(g,v,_){var O;for(O=0;16>O;++O)s(v,_+32*O,g,16)}function Qs(g,v){var _,O=16;for(_=0;16>_;++_)O+=g[v-1+32*_]+g[v+_-32];Zs(O>>5,g,v)}function Ni(g,v){var _,O=8;for(_=0;16>_;++_)O+=g[v-1+32*_];Zs(O>>4,g,v)}function el(g,v){var _,O=8;for(_=0;16>_;++_)O+=g[v+_-32];Zs(O>>4,g,v)}function Hl(g,v){Zs(128,g,v)}function Nt(g,v,_){return g+2*v+_+2>>2}function bs(g,v){var _,O=v-32;for(O=new Uint8Array([Nt(g[O-1],g[O+0],g[O+1]),Nt(g[O+0],g[O+1],g[O+2]),Nt(g[O+1],g[O+2],g[O+3]),Nt(g[O+2],g[O+3],g[O+4])]),_=0;4>_;++_)r(g,v+32*_,O,0,O.length)}function ya(g,v){var _=g[v-1],O=g[v-1+32],V=g[v-1+64],Z=g[v-1+96];rt(g,v+0,16843009*Nt(g[v-1-32],_,O)),rt(g,v+32,16843009*Nt(_,O,V)),rt(g,v+64,16843009*Nt(O,V,Z)),rt(g,v+96,16843009*Nt(V,Z,Z))}function Tt(g,v){var _,O=4;for(_=0;4>_;++_)O+=g[v+_-32]+g[v-1+32*_];for(O>>=3,_=0;4>_;++_)s(g,v+32*_,O,4)}function ql(g,v){var _=g[v-1+0],O=g[v-1+32],V=g[v-1+64],Z=g[v-1-32],K=g[v+0-32],ee=g[v+1-32],ne=g[v+2-32],he=g[v+3-32];g[v+0+96]=Nt(O,V,g[v-1+96]),g[v+1+96]=g[v+0+64]=Nt(_,O,V),g[v+2+96]=g[v+1+64]=g[v+0+32]=Nt(Z,_,O),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=Nt(K,Z,_),g[v+3+64]=g[v+2+32]=g[v+1+0]=Nt(ee,K,Z),g[v+3+32]=g[v+2+0]=Nt(ne,ee,K),g[v+3+0]=Nt(he,ne,ee)}function Ht(g,v){var _=g[v+1-32],O=g[v+2-32],V=g[v+3-32],Z=g[v+4-32],K=g[v+5-32],ee=g[v+6-32],ne=g[v+7-32];g[v+0+0]=Nt(g[v+0-32],_,O),g[v+1+0]=g[v+0+32]=Nt(_,O,V),g[v+2+0]=g[v+1+32]=g[v+0+64]=Nt(O,V,Z),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=Nt(V,Z,K),g[v+3+32]=g[v+2+64]=g[v+1+96]=Nt(Z,K,ee),g[v+3+64]=g[v+2+96]=Nt(K,ee,ne),g[v+3+96]=Nt(ee,ne,ne)}function ei(g,v){var _=g[v-1+0],O=g[v-1+32],V=g[v-1+64],Z=g[v-1-32],K=g[v+0-32],ee=g[v+1-32],ne=g[v+2-32],he=g[v+3-32];g[v+0+0]=g[v+1+64]=Z+K+1>>1,g[v+1+0]=g[v+2+64]=K+ee+1>>1,g[v+2+0]=g[v+3+64]=ee+ne+1>>1,g[v+3+0]=ne+he+1>>1,g[v+0+96]=Nt(V,O,_),g[v+0+64]=Nt(O,_,Z),g[v+0+32]=g[v+1+96]=Nt(_,Z,K),g[v+1+32]=g[v+2+96]=Nt(Z,K,ee),g[v+2+32]=g[v+3+96]=Nt(K,ee,ne),g[v+3+32]=Nt(ee,ne,he)}function tl(g,v){var _=g[v+0-32],O=g[v+1-32],V=g[v+2-32],Z=g[v+3-32],K=g[v+4-32],ee=g[v+5-32],ne=g[v+6-32],he=g[v+7-32];g[v+0+0]=_+O+1>>1,g[v+1+0]=g[v+0+64]=O+V+1>>1,g[v+2+0]=g[v+1+64]=V+Z+1>>1,g[v+3+0]=g[v+2+64]=Z+K+1>>1,g[v+0+32]=Nt(_,O,V),g[v+1+32]=g[v+0+96]=Nt(O,V,Z),g[v+2+32]=g[v+1+96]=Nt(V,Z,K),g[v+3+32]=g[v+2+96]=Nt(Z,K,ee),g[v+3+64]=Nt(K,ee,ne),g[v+3+96]=Nt(ee,ne,he)}function nl(g,v){var _=g[v-1+0],O=g[v-1+32],V=g[v-1+64],Z=g[v-1+96];g[v+0+0]=_+O+1>>1,g[v+2+0]=g[v+0+32]=O+V+1>>1,g[v+2+32]=g[v+0+64]=V+Z+1>>1,g[v+1+0]=Nt(_,O,V),g[v+3+0]=g[v+1+32]=Nt(O,V,Z),g[v+3+32]=g[v+1+64]=Nt(V,Z,Z),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=Z}function Gl(g,v){var _=g[v-1+0],O=g[v-1+32],V=g[v-1+64],Z=g[v-1+96],K=g[v-1-32],ee=g[v+0-32],ne=g[v+1-32],he=g[v+2-32];g[v+0+0]=g[v+2+32]=_+K+1>>1,g[v+0+32]=g[v+2+64]=O+_+1>>1,g[v+0+64]=g[v+2+96]=V+O+1>>1,g[v+0+96]=Z+V+1>>1,g[v+3+0]=Nt(ee,ne,he),g[v+2+0]=Nt(K,ee,ne),g[v+1+0]=g[v+3+32]=Nt(_,K,ee),g[v+1+32]=g[v+3+64]=Nt(O,_,K),g[v+1+64]=g[v+3+96]=Nt(V,O,_),g[v+1+96]=Nt(Z,V,O)}function ka(g,v){var _;for(_=0;8>_;++_)r(g,v+32*_,g,v-32,8)}function il(g,v){var _;for(_=0;8>_;++_)s(g,v,g[v-1],8),v+=32}function Qr(g,v,_){var O;for(O=0;8>O;++O)s(v,_+32*O,g,8)}function jr(g,v){var _,O=8;for(_=0;8>_;++_)O+=g[v+_-32]+g[v-1+32*_];Qr(O>>4,g,v)}function ws(g,v){var _,O=4;for(_=0;8>_;++_)O+=g[v+_-32];Qr(O>>3,g,v)}function Ja(g,v){var _,O=4;for(_=0;8>_;++_)O+=g[v-1+32*_];Qr(O>>3,g,v)}function Pa(g,v){Qr(128,g,v)}function va(g,v,_){var O=g[v-_],V=g[v+0],Z=3*(V-O)+C1[1020+g[v-2*_]-g[v+_]],K=Sf[112+(Z+4>>3)];g[v-_]=Jr[255+O+Sf[112+(Z+3>>3)]],g[v+0]=Jr[255+V-K]}function ki(g,v,_,O){var V=g[v+0],Z=g[v+_];return Sa[255+g[v-2*_]-g[v-_]]>O||Sa[255+Z-V]>O}function rl(g,v,_,O){return 4*Sa[255+g[v-_]-g[v+0]]+Sa[255+g[v-2*_]-g[v+_]]<=O}function al(g,v,_,O,V){var Z=g[v-3*_],K=g[v-2*_],ee=g[v-_],ne=g[v+0],he=g[v+_],Se=g[v+2*_],je=g[v+3*_];return 4*Sa[255+ee-ne]+Sa[255+K-he]>O?0:Sa[255+g[v-4*_]-Z]<=V&&Sa[255+Z-K]<=V&&Sa[255+K-ee]<=V&&Sa[255+je-Se]<=V&&Sa[255+Se-he]<=V&&Sa[255+he-ne]<=V}function sl(g,v,_,O){var V=2*O+1;for(O=0;16>O;++O)rl(g,v+O,_,V)&&va(g,v+O,_)}function ba(g,v,_,O){var V=2*O+1;for(O=0;16>O;++O)rl(g,v+O*_,1,V)&&va(g,v+O*_,1)}function Fa(g,v,_,O){var V;for(V=3;0<V;--V)sl(g,v+=4*_,_,O)}function Zc(g,v,_,O){var V;for(V=3;0<V;--V)ba(g,v+=4,_,O)}function en(g,v,_,O,V,Z,K,ee){for(Z=2*Z+1;0<V--;){if(al(g,v,_,Z,K))if(ki(g,v,_,ee))va(g,v,_);else{var ne=g,he=v,Se=_,je=ne[he-2*Se],Be=ne[he-Se],De=ne[he+0],Qe=ne[he+Se],ze=ne[he+2*Se],Ne=27*(Ye=C1[1020+3*(De-Be)+C1[1020+je-Qe]])+63>>7,Te=18*Ye+63>>7,Ye=9*Ye+63>>7;ne[he-3*Se]=Jr[255+ne[he-3*Se]+Ye],ne[he-2*Se]=Jr[255+je+Te],ne[he-Se]=Jr[255+Be+Ne],ne[he+0]=Jr[255+De-Ne],ne[he+Se]=Jr[255+Qe-Te],ne[he+2*Se]=Jr[255+ze-Ye]}v+=O}}function Br(g,v,_,O,V,Z,K,ee){for(Z=2*Z+1;0<V--;){if(al(g,v,_,Z,K))if(ki(g,v,_,ee))va(g,v,_);else{var ne=g,he=v,Se=_,je=ne[he-Se],Be=ne[he+0],De=ne[he+Se],Qe=Sf[112+((ze=3*(Be-je))+4>>3)],ze=Sf[112+(ze+3>>3)],Ne=Qe+1>>1;ne[he-2*Se]=Jr[255+ne[he-2*Se]+Ne],ne[he-Se]=Jr[255+je+ze],ne[he+0]=Jr[255+Be-Qe],ne[he+Se]=Jr[255+De-Ne]}v+=O}}function $a(g,v,_,O,V,Z){en(g,v,_,1,16,O,V,Z)}function mr(g,v,_,O,V,Z){en(g,v,1,_,16,O,V,Z)}function Qc(g,v,_,O,V,Z){var K;for(K=3;0<K;--K)Br(g,v+=4*_,_,1,16,O,V,Z)}function Pe(g,v,_,O,V,Z){var K;for(K=3;0<K;--K)Br(g,v+=4,1,_,16,O,V,Z)}function Vt(g,v,_,O,V,Z,K,ee){en(g,v,V,1,8,Z,K,ee),en(_,O,V,1,8,Z,K,ee)}function li(g,v,_,O,V,Z,K,ee){en(g,v,1,V,8,Z,K,ee),en(_,O,1,V,8,Z,K,ee)}function es(g,v,_,O,V,Z,K,ee){Br(g,v+4*V,V,1,8,Z,K,ee),Br(_,O+4*V,V,1,8,Z,K,ee)}function ol(g,v,_,O,V,Z,K,ee){Br(g,v+4,1,V,8,Z,K,ee),Br(_,O+4,1,V,8,Z,K,ee)}function Ks(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ll(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Js(){this.ua=0,this.Wa=new ye,this.vb=new ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new j}function ci(){this.xb=this.a=0,this.l=new Xt,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Js,this.ab=0,this.gc=f(4,cl),this.Oc=0}function ts(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(g,v,_,O,V,Z,K){for(g=g==null?0:g[v+0],v=0;v<K;++v)V[Z+v]=g+_[O+v]&255,g=V[Z+v]}function ns(g,v,_,O,V,Z,K){var ee;if(g==null)An(null,null,_,O,V,Z,K);else for(ee=0;ee<K;++ee)V[Z+ee]=g[v+ee]+_[O+ee]&255}function xr(g,v,_,O,V,Z,K){if(g==null)An(null,null,_,O,V,Z,K);else{var ee,ne=g[v+0],he=ne,Se=ne;for(ee=0;ee<K;++ee)he=Se+(ne=g[v+ee])-he,Se=_[O+ee]+(-256&he?0>he?0:255:he)&255,he=ne,V[Z+ee]=Se}}function pn(g,v,_,O){var V=v.width,Z=v.o;if(t(g!=null&&v!=null),0>_||0>=O||_+O>Z)return null;if(!g.Cc){if(g.ga==null){var K;if(g.ga=new ts,(K=g.ga==null)||(K=v.width*v.o,t(g.Gb.length==0),g.Gb=o(K),g.Uc=0,g.Gb==null?K=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,K=1),K=!K),!K){K=g.ga;var ee=g.Fa,ne=g.P,he=g.qc,Se=g.mb,je=g.nb,Be=ne+1,De=he-1,Qe=K.l;if(t(ee!=null&&Se!=null&&v!=null),io[0]=null,io[1]=An,io[2]=ns,io[3]=xr,K.ca=Se,K.tb=je,K.c=v.width,K.i=v.height,t(0<K.c&&0<K.i),1>=he)v=0;else if(K.$a=ee[ne+0]>>0&3,K.Z=ee[ne+0]>>2&3,K.Lc=ee[ne+0]>>4&3,ne=ee[ne+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ne)v=0;else if(Qe.put=rr,Qe.ac=un,Qe.bc=Er,Qe.ma=K,Qe.width=v.width,Qe.height=v.height,Qe.Da=v.Da,Qe.v=v.v,Qe.va=v.va,Qe.j=v.j,Qe.o=v.o,K.$a)e:{t(K.$a==1),v=ar();t:for(;;){if(v==null){v=0;break e}if(t(K!=null),K.mc=v,v.c=K.c,v.i=K.i,v.l=K.l,v.l.ma=K,v.l.width=K.c,v.l.height=K.i,v.a=0,ce(v.m,ee,Be,De),!wi(K.c,K.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&dr(v.s)?(K.ic=1,ee=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(ee),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(K.ic=0,v=ys(v,K.c)),!v))break t;v=1;break e}K.mc=null,v=0}else v=De>=K.c*K.i;K=!v}if(K)return null;g.ga.Lc!=1?g.Ga=0:O=Z-_}t(g.ga!=null),t(_+O<=Z);e:{if(v=(ee=g.ga).c,Z=ee.l.o,ee.$a==0){if(Be=g.rc,De=g.Vc,Qe=g.Fa,ne=g.P+1+_*v,he=g.mb,Se=g.nb+_*v,t(ne<=g.P+g.qc),ee.Z!=0)for(t(io[ee.Z]!=null),K=0;K<O;++K)io[ee.Z](Be,De,Qe,ne,he,Se,v),Be=he,De=Se,Se+=v,ne+=v;else for(K=0;K<O;++K)r(he,Se,Qe,ne,v),Be=he,De=Se,Se+=v,ne+=v;g.rc=Be,g.Vc=De}else{if(t(ee.mc!=null),v=_+O,t((K=ee.mc)!=null),t(v<=K.i),K.C>=v)v=1;else if(ee.ic||Le(),ee.ic){ee=K.V,Be=K.Ba,De=K.c;var ze=K.i,Ne=(Qe=1,ne=K.$/De,he=K.$%De,Se=K.m,je=K.s,K.$),Te=De*ze,Ye=De*v,nt=je.wc,We=Ne<Ye?Dn(je,he,ne):null;t(Ne<=Te),t(v<=ze),t(dr(je));t:for(;;){for(;!Se.h&&Ne<Ye;){if(he&nt||(We=Dn(je,he,ne)),t(We!=null),oe(Se),256>(ze=Wi(We.G[0],We.H[0],Se)))ee[Be+Ne]=ze,++Ne,++he>=De&&(he=0,++ne<=v&&!(ne%16)&&Un(K,ne));else{if(!(280>ze)){Qe=0;break t}ze=Wr(ze-256,Se);var yt,ht=Wi(We.G[4],We.H[4],Se);if(oe(Se),!(Ne>=(ht=Xi(De,ht=Wr(ht,Se)))&&Te-Ne>=ze)){Qe=0;break t}for(yt=0;yt<ze;++yt)ee[Be+Ne+yt]=ee[Be+Ne+yt-ht];for(Ne+=ze,he+=ze;he>=De;)he-=De,++ne<=v&&!(ne%16)&&Un(K,ne);Ne<Ye&&he&nt&&(We=Dn(je,he,ne))}t(Se.h==se(Se))}Un(K,ne>v?v:ne);break t}!Qe||Se.h&&Ne<Te?(Qe=0,K.a=Se.h?5:3):K.$=Ne,v=Qe}else v=Zi(K,K.V,K.Ba,K.c,K.i,v,Ys);if(!v){O=0;break e}}_+O>=Z&&(g.Cc=1),O=1}if(!O)return null;if(g.Cc&&((O=g.ga)!=null&&(O.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+_*V}function A(g,v,_,O,V,Z){for(;0<V--;){var K,ee=g,ne=v+(_?1:0),he=g,Se=v+(_?0:3);for(K=0;K<O;++K){var je=he[Se+4*K];je!=255&&(je*=32897,ee[ne+4*K+0]=ee[ne+4*K+0]*je>>23,ee[ne+4*K+1]=ee[ne+4*K+1]*je>>23,ee[ne+4*K+2]=ee[ne+4*K+2]*je>>23)}v+=Z}}function Y(g,v,_,O,V){for(;0<O--;){var Z;for(Z=0;Z<_;++Z){var K=g[v+2*Z+0],ee=15&(he=g[v+2*Z+1]),ne=4369*ee,he=(240&he|he>>4)*ne>>16;g[v+2*Z+0]=(240&K|K>>4)*ne>>16&240|(15&K|K<<4)*ne>>16>>4&15,g[v+2*Z+1]=240&he|ee}v+=V}}function ue(g,v,_,O,V,Z,K,ee){var ne,he,Se=255;for(he=0;he<V;++he){for(ne=0;ne<O;++ne){var je=g[v+ne];Z[K+4*ne]=je,Se&=je}v+=_,K+=ee}return Se!=255}function we(g,v,_,O,V){var Z;for(Z=0;Z<V;++Z)_[O+Z]=g[v+Z]>>8}function Le(){Pr=A,Hn=Y,qn=ue,Ei=we}function qe(g,v,_){H[g]=function(O,V,Z,K,ee,ne,he,Se,je,Be,De,Qe,ze,Ne,Te,Ye,nt){var We,yt=nt-1>>1,ht=ee[ne+0]|he[Se+0]<<16,Ot=je[Be+0]|De[Qe+0]<<16;t(O!=null);var gt=3*ht+Ot+131074>>2;for(v(O[V+0],255&gt,gt>>16,ze,Ne),Z!=null&&(gt=3*Ot+ht+131074>>2,v(Z[K+0],255&gt,gt>>16,Te,Ye)),We=1;We<=yt;++We){var vn=ee[ne+We]|he[Se+We]<<16,Nn=je[Be+We]|De[Qe+We]<<16,mn=ht+vn+Ot+Nn+524296,sn=mn+2*(vn+Ot)>>3;gt=sn+ht>>1,ht=(mn=mn+2*(ht+Nn)>>3)+vn>>1,v(O[V+2*We-1],255&gt,gt>>16,ze,Ne+(2*We-1)*_),v(O[V+2*We-0],255&ht,ht>>16,ze,Ne+(2*We-0)*_),Z!=null&&(gt=mn+Ot>>1,ht=sn+Nn>>1,v(Z[K+2*We-1],255&gt,gt>>16,Te,Ye+(2*We-1)*_),v(Z[K+2*We+0],255&ht,ht>>16,Te,Ye+(2*We+0)*_)),ht=vn,Ot=Nn}1&nt||(gt=3*ht+Ot+131074>>2,v(O[V+nt-1],255&gt,gt>>16,ze,Ne+(nt-1)*_),Z!=null&&(gt=3*Ot+ht+131074>>2,v(Z[K+nt-1],255&gt,gt>>16,Te,Ye+(nt-1)*_)))}}function Ke(){Na[Nf]=_y,Na[Cf]=ig,Na[J2]=Iy,Na[Ef]=rg,Na[Tf]=ag,Na[E1]=sg,Na[$2]=Dy,Na[T1]=ig,Na[_1]=rg,Na[_f]=ag,Na[I1]=sg}function pt(g){return g&-16384?0>g?0:255:g>>Ly}function It(g,v){return pt((19077*g>>8)+(26149*v>>8)-14234)}function Ut(g,v,_){return pt((19077*g>>8)-(6419*v>>8)-(13320*_>>8)+8708)}function zt(g,v){return pt((19077*g>>8)+(33050*v>>8)-17685)}function tn(g,v,_,O,V){O[V+0]=It(g,_),O[V+1]=Ut(g,v,_),O[V+2]=zt(g,v)}function Zn(g,v,_,O,V){O[V+0]=zt(g,v),O[V+1]=Ut(g,v,_),O[V+2]=It(g,_)}function Sn(g,v,_,O,V){var Z=Ut(g,v,_);v=Z<<3&224|zt(g,v)>>3,O[V+0]=248&It(g,_)|Z>>5,O[V+1]=v}function ti(g,v,_,O,V){var Z=240&zt(g,v)|15;O[V+0]=240&It(g,_)|Ut(g,v,_)>>4,O[V+1]=Z}function Qi(g,v,_,O,V){O[V+0]=255,tn(g,v,_,O,V+1)}function ni(g,v,_,O,V){Zn(g,v,_,O,V),O[V+3]=255}function Kr(g,v,_,O,V){tn(g,v,_,O,V),O[V+3]=255}function pi(g,v){return 0>g?0:g>v?v:g}function Ir(g,v,_){H[g]=function(O,V,Z,K,ee,ne,he,Se,je){for(var Be=Se+(-2&je)*_;Se!=Be;)v(O[V+0],Z[K+0],ee[ne+0],he,Se),v(O[V+1],Z[K+0],ee[ne+0],he,Se+_),V+=2,++K,++ne,Se+=2*_;1&je&&v(O[V+0],Z[K+0],ee[ne+0],he,Se)}}function or(g,v,_){return _==0?g==0?v==0?6:5:v==0?4:0:_}function $s(g,v,_,O,V){switch(g>>>30){case 3:Ae(v,_,O,V,0);break;case 2:_e(v,_,O,V);break;case 1:et(v,_,O,V)}}function yr(g,v){var _,O,V=v.M,Z=v.Nb,K=g.oc,ee=g.pc+40,ne=g.oc,he=g.pc+584,Se=g.oc,je=g.pc+600;for(_=0;16>_;++_)K[ee+32*_-1]=129;for(_=0;8>_;++_)ne[he+32*_-1]=129,Se[je+32*_-1]=129;for(0<V?K[ee-1-32]=ne[he-1-32]=Se[je-1-32]=129:(s(K,ee-32-1,127,21),s(ne,he-32-1,127,9),s(Se,je-32-1,127,9)),O=0;O<g.za;++O){var Be=v.ya[v.aa+O];if(0<O){for(_=-1;16>_;++_)r(K,ee+32*_-4,K,ee+32*_+12,4);for(_=-1;8>_;++_)r(ne,he+32*_-4,ne,he+32*_+4,4),r(Se,je+32*_-4,Se,je+32*_+4,4)}var De=g.Gd,Qe=g.Hd+O,ze=Be.ad,Ne=Be.Hc;if(0<V&&(r(K,ee-32,De[Qe].y,0,16),r(ne,he-32,De[Qe].f,0,8),r(Se,je-32,De[Qe].ea,0,8)),Be.Za){var Te=K,Ye=ee-32+16;for(0<V&&(O>=g.za-1?s(Te,Ye,De[Qe].y[15],4):r(Te,Ye,De[Qe+1].y,0,4)),_=0;4>_;_++)Te[Ye+128+_]=Te[Ye+256+_]=Te[Ye+384+_]=Te[Ye+0+_];for(_=0;16>_;++_,Ne<<=2)Te=K,Ye=ee+lg[_],Ua[Be.Ob[_]](Te,Ye),$s(Ne,ze,16*+_,Te,Ye)}else if(Te=or(O,V,Be.Ob[0]),no[Te](K,ee),Ne!=0)for(_=0;16>_;++_,Ne<<=2)$s(Ne,ze,16*+_,K,ee+lg[_]);for(_=Be.Gc,Te=or(O,V,Be.Dd),Cs[Te](ne,he),Cs[Te](Se,je),Ne=ze,Te=ne,Ye=he,255&(Be=_>>0)&&(170&Be?Fe(Ne,256,Te,Ye):at(Ne,256,Te,Ye)),Be=Se,Ne=je,255&(_>>=8)&&(170&_?Fe(ze,320,Be,Ne):at(ze,320,Be,Ne)),V<g.Ub-1&&(r(De[Qe].y,0,K,ee+480,16),r(De[Qe].f,0,ne,he+224,8),r(De[Qe].ea,0,Se,je+224,8)),_=8*Z*g.B,De=g.sa,Qe=g.ta+16*O+16*Z*g.R,ze=g.qa,Be=g.ra+8*O+_,Ne=g.Ha,Te=g.Ia+8*O+_,_=0;16>_;++_)r(De,Qe+_*g.R,K,ee+32*_,16);for(_=0;8>_;++_)r(ze,Be+_*g.B,ne,he+32*_,8),r(Ne,Te+_*g.B,Se,je+32*_,8)}}function eo(g,v,_,O,V,Z,K,ee,ne){var he=[0],Se=[0],je=0,Be=ne!=null?ne.kd:0,De=ne??new ll;if(g==null||12>_)return 7;De.data=g,De.w=v,De.ha=_,v=[v],_=[_],De.gb=[De.gb];e:{var Qe=v,ze=_,Ne=De.gb;if(t(g!=null),t(ze!=null),t(Ne!=null),Ne[0]=0,12<=ze[0]&&!n(g,Qe[0],"RIFF")){if(n(g,Qe[0]+8,"WEBP")){Ne=3;break e}var Te=Je(g,Qe[0]+4);if(12>Te||4294967286<Te){Ne=3;break e}if(Be&&Te>ze[0]-8){Ne=7;break e}Ne[0]=Te,Qe[0]+=12,ze[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Te=0<De.gb[0],_=_[0];;){e:{var Ye=g;ze=v,Ne=_;var nt=he,We=Se,yt=Qe=[0];if((gt=je=[je])[0]=0,8>Ne[0])Ne=7;else{if(!n(Ye,ze[0],"VP8X")){if(Je(Ye,ze[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ht=Je(Ye,ze[0]+8),Ot=1+ut(Ye,ze[0]+12);if(2147483648<=Ot*(Ye=1+ut(Ye,ze[0]+15))){Ne=3;break e}yt!=null&&(yt[0]=ht),nt!=null&&(nt[0]=Ot),We!=null&&(We[0]=Ye),ze[0]+=18,Ne[0]-=18,gt[0]=1}Ne=0}}if(je=je[0],Qe=Qe[0],Ne!=0)return Ne;if(ze=!!(2&Qe),!Te&&je)return 3;if(Z!=null&&(Z[0]=!!(16&Qe)),K!=null&&(K[0]=ze),ee!=null&&(ee[0]=0),K=he[0],Qe=Se[0],je&&ze&&ne==null){Ne=0;break}if(4>_){Ne=7;break}if(Te&&je||!Te&&!je&&!n(g,v[0],"ALPH")){_=[_],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{ht=g,Ne=v,Te=_;var gt=De.gb;nt=De.na,We=De.P,yt=De.Sa,Ot=22,t(ht!=null),t(Te!=null),Ye=Ne[0];var vn=Te[0];for(t(nt!=null),t(yt!=null),nt[0]=null,We[0]=null,yt[0]=0;;){if(Ne[0]=Ye,Te[0]=vn,8>vn){Ne=7;break e}var Nn=Je(ht,Ye+4);if(4294967286<Nn){Ne=3;break e}var mn=8+Nn+1&-2;if(Ot+=mn,0<gt&&Ot>gt){Ne=3;break e}if(!n(ht,Ye,"VP8 ")||!n(ht,Ye,"VP8L")){Ne=0;break e}if(vn[0]<mn){Ne=7;break e}n(ht,Ye,"ALPH")||(nt[0]=ht,We[0]=Ye+8,yt[0]=Nn),Ye+=mn,vn-=mn}}if(_=_[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Ne!=0)break}_=[_],De.Ja=[De.Ja],De.xa=[De.xa];e:if(gt=g,Ne=v,Te=_,nt=De.gb[0],We=De.Ja,yt=De.xa,ht=Ne[0],Ye=!n(gt,ht,"VP8 "),Ot=!n(gt,ht,"VP8L"),t(gt!=null),t(Te!=null),t(We!=null),t(yt!=null),8>Te[0])Ne=7;else{if(Ye||Ot){if(gt=Je(gt,ht+4),12<=nt&&gt>nt-12){Ne=3;break e}if(Be&&gt>Te[0]-8){Ne=7;break e}We[0]=gt,Ne[0]+=8,Te[0]-=8,yt[0]=Ot}else yt[0]=5<=Te[0]&&gt[ht+0]==47&&!(gt[ht+4]>>5),We[0]=Te[0];Ne=0}if(_=_[0],De.Ja=De.Ja[0],De.xa=De.xa[0],v=v[0],Ne!=0)break;if(4294967286<De.Ja)return 3;if(ee==null||ze||(ee[0]=De.xa?2:1),K=[K],Qe=[Qe],De.xa){if(5>_){Ne=7;break}ee=K,Be=Qe,ze=Z,g==null||5>_?g=0:5<=_&&g[v+0]==47&&!(g[v+4]>>5)?(Te=[0],gt=[0],nt=[0],ce(We=new U,g,v,_),Ct(We,Te,gt,nt)?(ee!=null&&(ee[0]=Te[0]),Be!=null&&(Be[0]=gt[0]),ze!=null&&(ze[0]=nt[0]),g=1):g=0):g=0}else{if(10>_){Ne=7;break}ee=Qe,g==null||10>_||!Xs(g,v+3,_-3)?g=0:(Be=g[v+0]|g[v+1]<<8|g[v+2]<<16,ze=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=De.Ja||!ze||!g?g=0:(K&&(K[0]=ze),ee&&(ee[0]=g),g=1))}if(!g||(K=K[0],Qe=Qe[0],je&&(he[0]!=K||Se[0]!=Qe)))return 3;ne!=null&&(ne[0]=De,ne.offset=v-ne.w,t(4294967286>v-ne.w),t(ne.offset==ne.ha-_));break}return Ne==0||Ne==7&&je&&ne==null?(Z!=null&&(Z[0]|=De.na!=null&&0<De.na.length),O!=null&&(O[0]=K),V!=null&&(V[0]=Qe),0):Ne}function As(g,v,_){var O=v.width,V=v.height,Z=0,K=0,ee=O,ne=V;if(v.Da=g!=null&&0<g.Da,v.Da&&(ee=g.cd,ne=g.bd,Z=g.v,K=g.j,11>_||(Z&=-2,K&=-2),0>Z||0>K||0>=ee||0>=ne||Z+ee>O||K+ne>V))return 0;if(v.v=Z,v.j=K,v.va=Z+ee,v.o=K+ne,v.U=ee,v.T=ne,v.da=g!=null&&0<g.da,v.da){if(!St(ee,ne,_=[g.ib],Z=[g.hb]))return 0;v.ib=_[0],v.hb=Z[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*V/4,v.Kb=0),1}function ul(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function Ss(g,v,_,O){if(O==null||0>=g||0>=v)return 2;if(_!=null){if(_.Da){var V=_.cd,Z=_.bd,K=-2&_.v,ee=-2&_.j;if(0>K||0>ee||0>=V||0>=Z||K+V>g||ee+Z>v)return 2;g=V,v=Z}if(_.da){if(!St(g,v,V=[_.ib],Z=[_.hb]))return 2;g=V[0],v=Z[0]}}O.width=g,O.height=v;e:{var ne=O.width,he=O.height;if(g=O.S,0>=ne||0>=he||!(g>=Nf&&13>g))g=2;else{if(0>=O.Rd&&O.sd==null){K=Z=V=v=0;var Se=(ee=ne*cg[g])*he;if(11>g||(Z=(he+1)/2*(v=(ne+1)/2),g==12&&(K=(V=ne)*he)),(he=o(Se+2*Z+K))==null){g=1;break e}O.sd=he,11>g?((ne=O.f.RGBA).eb=he,ne.fb=0,ne.A=ee,ne.size=Se):((ne=O.f.kb).y=he,ne.O=0,ne.fa=ee,ne.Fd=Se,ne.f=he,ne.N=0+Se,ne.Ab=v,ne.Cd=Z,ne.ea=he,ne.W=0+Se+Z,ne.Db=v,ne.Ed=Z,g==12&&(ne.F=he,ne.J=0+Se+2*Z),ne.Tc=K,ne.lb=V)}if(v=1,V=O.S,Z=O.width,K=O.height,V>=Nf&&13>V)if(11>V)g=O.f.RGBA,v&=(ee=Math.abs(g.A))*(K-1)+Z<=g.size,v&=ee>=Z*cg[V],v&=g.eb!=null;else{g=O.f.kb,ee=(Z+1)/2,Se=(K+1)/2,ne=Math.abs(g.fa),he=Math.abs(g.Ab);var je=Math.abs(g.Db),Be=Math.abs(g.lb),De=Be*(K-1)+Z;v&=ne*(K-1)+Z<=g.Fd,v&=he*(Se-1)+ee<=g.Cd,v=(v&=je*(Se-1)+ee<=g.Ed)&ne>=Z&he>=ee&je>=ee,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,V==12&&(v&=Be>=Z,v&=De<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||_!=null&&_.fd&&(g=ul(O)),g}var Ln=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],is=24,wa=32,Jt=8,Pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(g){return g},H.Predictor2=function(g,v,_){return v[_+0]},H.Predictor3=function(g,v,_){return v[_+1]},H.Predictor4=function(g,v,_){return v[_-1]},H.Predictor5=function(g,v,_){return Ee(Ee(g,v[_+1]),v[_+0])},H.Predictor6=function(g,v,_){return Ee(g,v[_-1])},H.Predictor7=function(g,v,_){return Ee(g,v[_+0])},H.Predictor8=function(g,v,_){return Ee(v[_-1],v[_+0])},H.Predictor9=function(g,v,_){return Ee(v[_+0],v[_+1])},H.Predictor10=function(g,v,_){return Ee(Ee(g,v[_-1]),Ee(v[_+0],v[_+1]))},H.Predictor11=function(g,v,_){var O=v[_+0];return 0>=ft(O>>24&255,g>>24&255,(v=v[_-1])>>24&255)+ft(O>>16&255,g>>16&255,v>>16&255)+ft(O>>8&255,g>>8&255,v>>8&255)+ft(255&O,255&g,255&v)?O:g},H.Predictor12=function(g,v,_){var O=v[_+0];return(He((g>>24&255)+(O>>24&255)-((v=v[_-1])>>24&255))<<24|He((g>>16&255)+(O>>16&255)-(v>>16&255))<<16|He((g>>8&255)+(O>>8&255)-(v>>8&255))<<8|He((255&g)+(255&O)-(255&v)))>>>0},H.Predictor13=function(g,v,_){var O=v[_-1];return(Ve((g=Ee(g,v[_+0]))>>24&255,O>>24&255)<<24|Ve(g>>16&255,O>>16&255)<<16|Ve(g>>8&255,O>>8&255)<<8|Ve(g>>0&255,O>>0&255))>>>0};var G=H.PredictorAdd0;H.PredictorAdd1=it,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var i=H.PredictorAdd2;Qt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var a,l=H.ColorIndexInverseTransform,c=H.MapARGB,u=H.VP8LColorIndexInverseTransformAlpha,h=H.MapAlpha,m=H.VP8LPredictorsAdd=[];m.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var b,C,R,q,Q,fe,be,Ae,_e,Fe,et,at,tt,Zt,Bt,mi,Fi,ui,cn,ii,Ci,Dr,Aa,kr,Pr,Hn,qn,Ei,Ui=o(511),Ns=o(2041),Kc=o(225),Vl=o(767),Af=0,C1=Ns,Sf=Kc,Jr=Vl,Sa=Ui,Nf=0,Cf=1,J2=2,Ef=3,Tf=4,E1=5,$2=6,T1=7,_1=8,_f=9,I1=10,gy=[2,3,7],py=[3,3,11],eg=[280,256,256,256,40],my=[0,1,1,1,0],xy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],by=8,D1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],L1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jc=null,wy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ay=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ny=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ey=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],no=[],Ua=[],Cs=[],Ty=1,ng=2,io=[],Na=[];qe("UpsampleRgbLinePair",tn,3),qe("UpsampleBgrLinePair",Zn,3),qe("UpsampleRgbaLinePair",Kr,4),qe("UpsampleBgraLinePair",ni,4),qe("UpsampleArgbLinePair",Qi,4),qe("UpsampleRgba4444LinePair",ti,2),qe("UpsampleRgb565LinePair",Sn,2);var _y=H.UpsampleRgbLinePair,Iy=H.UpsampleBgrLinePair,ig=H.UpsampleRgbaLinePair,rg=H.UpsampleBgraLinePair,ag=H.UpsampleArgbLinePair,sg=H.UpsampleRgba4444LinePair,Dy=H.UpsampleRgb565LinePair,If=16,Df=1<<If-1,$c=-227,M1=482,Ly=6,og=0,My=o(256),Oy=o(256),Ry=o(256),jy=o(256),By=o(M1-$c),ky=o(M1-$c);Ir("YuvToRgbRow",tn,3),Ir("YuvToBgrRow",Zn,3),Ir("YuvToRgbaRow",Kr,4),Ir("YuvToBgraRow",ni,4),Ir("YuvToArgbRow",Qi,4),Ir("YuvToRgba4444Row",ti,2),Ir("YuvToRgb565Row",Sn,2);var lg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lf=[0,2,8],Py=[8,7,6,4,4,2,2,2,1,1,1,1],Fy=1;this.WebPDecodeRGBA=function(g,v,_,O,V){var Z=Cf,K=new Ks,ee=new Gt;K.ba=ee,ee.S=Z,ee.width=[ee.width],ee.height=[ee.height];var ne=ee.width,he=ee.height,Se=new ir;if(Se==null||g==null)var je=2;else t(Se!=null),je=eo(g,v,_,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(je!=0?ne=0:(ne!=null&&(ne[0]=Se.width[0]),he!=null&&(he[0]=Se.height[0]),ne=1),ne){ee.width=ee.width[0],ee.height=ee.height[0],O!=null&&(O[0]=ee.width),V!=null&&(V[0]=ee.height);e:{if(O=new Xt,(V=new ll).data=g,V.w=v,V.ha=_,V.kd=1,v=[0],t(V!=null),((g=eo(V.data,V.w,V.ha,null,null,null,v,null,V))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(t(K!=null),O.data=V.data,O.w=V.w+V.offset,O.ha=V.ha-V.offset,O.put=rr,O.ac=un,O.bc=Er,O.ma=K,V.xa){if((g=ar())==null){K=1;break e}if(function(Be,De){var Qe=[0],ze=[0],Ne=[0];t:for(;;){if(Be==null)return 0;if(De==null)return Be.a=2,0;if(Be.l=De,Be.a=0,ce(Be.m,De.data,De.w,De.ha),!Ct(Be.m,Qe,ze,Ne)){Be.a=3;break t}if(Be.xb=ng,De.width=Qe[0],De.height=ze[0],!wi(Qe[0],ze[0],1,Be,null))break t;return 1}return t(Be.a!=0),0}(g,O)){if(O=(v=Ss(O.width,O.height,K.Oa,K.ba))==0){t:{O=g;n:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((_=O.l)!=null),t((V=_.ma)!=null),O.xb!=0){if(O.ca=V.ba,O.tb=V.tb,t(O.ca!=null),!As(V.Oa,_,Ef)){O.a=2;break n}if(!ys(O,_.width)||_.da)break n;if((_.da||an(O.ca.S))&&Le(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Le()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!_t(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!Zi(O,O.V,O.Ba,O.c,O.i,_.o,mt))break n;V.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(v=g.a)}else v=g.a}else{if((g=new Qo)==null){K=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,$n(g,O)){if((v=Ss(O.width,O.height,K.Oa,K.ba))==0){if(g.Aa=0,_=K.Oa,t((V=g)!=null),_!=null){if(0<(ne=0>(ne=_.Md)?0:100<ne?255:255*ne/100)){for(he=Se=0;4>he;++he)12>(je=V.pb[he]).lc&&(je.ia=ne*Py[0>je.lc?0:je.lc]>>3),Se|=je.ia;Se&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=_.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}Wn(g,O)||(v=g.a)}}else v=g.a}v==0&&K.Oa!=null&&K.Oa.fd&&(v=ul(K.ba))}K=v}Z=K!=0?null:11>Z?ee.f.RGBA.eb:ee.f.kb.y}else Z=null;return Z};var cg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function y(H,W){for(var de="",z=0;z<4;z++)de+=String.fromCharCode(H[W++]);return de}function N(H,W){return(H[W+0]<<0|H[W+1]<<8|H[W+2]<<16)>>>0}function S(H,W){return(H[W+0]<<0|H[W+1]<<8|H[W+2]<<16|H[W+3]<<24)>>>0}new p;var E=[0],w=[0],B=[],M=new p,P=e,T=function(H,W){var de={},z=0,j=!1,ie=0,re=0;if(de.frames=[],!function(te,se,me,oe){for(var Me=0;Me<oe;Me++)if(te[se+Me]!=me.charCodeAt(Me))return!0;return!1}(H,W,"RIFF",4)){var ae,J;for(S(H,W+=4),W+=8;W<H.length;){var $=y(H,W),ce=S(H,W+=4);W+=4;var ge=ce+(1&ce);switch($){case"VP8 ":case"VP8L":de.frames[z]===void 0&&(de.frames[z]={}),(U=de.frames[z]).src_off=j?re:W-8,U.src_size=ie+ce+8,z++,j&&(j=!1,ie=0,re=0);break;case"VP8X":(U=de.header={}).feature_flags=H[W];var ve=W+4;U.canvas_width=1+N(H,ve),ve+=3,U.canvas_height=1+N(H,ve),ve+=3;break;case"ALPH":j=!0,ie=ge+8,re=W-8;break;case"ANIM":(U=de.header).bgcolor=S(H,W),ve=W+4,U.loop_count=(ae=H)[(J=ve)+0]<<0|ae[J+1]<<8,ve+=2;break;case"ANMF":var ke,U;(U=de.frames[z]={}).offset_x=2*N(H,W),W+=3,U.offset_y=2*N(H,W),W+=3,U.width=1+N(H,W),W+=3,U.height=1+N(H,W),W+=3,U.duration=N(H,W),W+=3,ke=H[W++],U.dispose=1&ke,U.blend=ke>>1&1}$!="ANMF"&&(W+=ge)}return de}}(P,0);T.response=P,T.rgbaoutput=!0,T.dataurl=!1;var I=T.header?T.header:null,D=T.frames?T.frames:null;if(I){I.loop_counter=I.loop_count,E=[I.canvas_height],w=[I.canvas_width];for(var L=0;L<D.length&&D[L].blend!=0;L++);}var F=D[0],X=M.WebPDecodeRGBA(P,F.src_off,F.src_size,w,E);F.rgba=X,F.imgwidth=w[0],F.imgheight=E[0];for(var k=0;k<w[0]*E[0]*4;k++)B[k]=X[k];return this.width=w,this.height=E,this.data=B,this}(function(e){var t=function(){return typeof Rd=="function"},n=function(E,w,B,M){var P=4,T=f;switch(M){case e.image_compression.FAST:P=1,T=o;break;case e.image_compression.MEDIUM:P=6,T=d;break;case e.image_compression.SLOW:P=9,T=p}E=r(E,w,B,T);var I=Rd(E,{level:P});return e.__addimage__.arrayBufferToBinaryString(I)},r=function(E,w,B,M){for(var P,T,I,D=E.length/w,L=new Uint8Array(E.length+D),F=N(),X=0;X<D;X+=1){if(I=X*w,P=E.subarray(I,I+w),M)L.set(M(P,B,T),I+X);else{for(var k,H=F.length,W=[];k<H;k+=1)W[k]=F[k](P,B,T);var de=S(W.concat());L.set(W[de],I+X)}T=P}return L},s=function(E){var w=Array.apply([],E);return w.unshift(0),w},o=function(E,w){var B,M=[],P=E.length;M[0]=1;for(var T=0;T<P;T+=1)B=E[T-w]||0,M[T+1]=E[T]-B+256&255;return M},f=function(E,w,B){var M,P=[],T=E.length;P[0]=2;for(var I=0;I<T;I+=1)M=B&&B[I]||0,P[I+1]=E[I]-M+256&255;return P},d=function(E,w,B){var M,P,T=[],I=E.length;T[0]=3;for(var D=0;D<I;D+=1)M=E[D-w]||0,P=B&&B[D]||0,T[D+1]=E[D]+256-(M+P>>>1)&255;return T},p=function(E,w,B){var M,P,T,I,D=[],L=E.length;D[0]=4;for(var F=0;F<L;F+=1)M=E[F-w]||0,P=B&&B[F]||0,T=B&&B[F-w]||0,I=y(M,P,T),D[F+1]=E[F]-I+256&255;return D},y=function(E,w,B){if(E===w&&w===B)return E;var M=Math.abs(w-B),P=Math.abs(E-B),T=Math.abs(E+w-B-B);return M<=P&&M<=T?E:P<=T?w:B},N=function(){return[s,o,f,d,p]},S=function(E){var w=E.map(function(B){return B.reduce(function(M,P){return M+Math.abs(P)},0)});return w.indexOf(Math.min.apply(null,w))};e.processPNG=function(E,w,B,M){var P,T,I,D,L,F,X,k,H,W,de,z,j,ie,re,ae=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(E)&&(E=new Uint8Array(E)),this.__addimage__.isArrayBufferView(E)){if(E=(I=new Jw(E)).imgData,T=I.bits,P=I.colorSpace,L=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){H=(k=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,de=new Uint8Array(H*I.colors),W=new Uint8Array(H);var $,ce=I.pixelBitlength-I.bits;for(ie=0,re=0;ie<H;ie++){for(j=k[ie],$=0;$<ce;)de[re++]=j>>>$&255,$+=I.bits;W[ie]=j>>>$&255}}if(I.bits===16){H=(k=new Uint32Array(I.decodePixels().buffer)).length,de=new Uint8Array(H*(32/I.pixelBitlength)*I.colors),W=new Uint8Array(H*(32/I.pixelBitlength)),z=I.colors>1,ie=0,re=0;for(var ge=0;ie<H;)j=k[ie++],de[re++]=j>>>0&255,z&&(de[re++]=j>>>16&255,j=k[ie++],de[re++]=j>>>0&255),W[ge++]=j>>>16&255;T=8}M!==e.image_compression.NONE&&t()?(E=n(de,I.width*I.colors,I.colors,M),X=n(W,I.width,1,M)):(E=de,X=W,ae=void 0)}if(I.colorType===3&&(P=this.color_spaces.INDEXED,F=I.palette,I.transparency.indexed)){var ve=I.transparency.indexed,ke=0;for(ie=0,H=ve.length;ie<H;++ie)ke+=ve[ie];if((ke/=255)===H-1&&ve.indexOf(0)!==-1)D=[ve.indexOf(0)];else if(ke!==H){for(k=I.decodePixels(),W=new Uint8Array(k.length),ie=0,H=k.length;ie<H;ie++)W[ie]=ve[k[ie]];X=n(W,I.width,1)}}var U=function(te){var se;switch(te){case e.image_compression.FAST:se=11;break;case e.image_compression.MEDIUM:se=13;break;case e.image_compression.SLOW:se=14;break;default:se=12}return se}(M);return ae===this.decode.FLATE_DECODE&&(J="/Predictor "+U+" "),J+="/Colors "+L+" /BitsPerComponent "+T+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:B,data:E,index:w,filter:ae,decodeParameters:J,transparency:D,palette:F,sMask:X,predictor:U,width:I.width,height:I.height,bitsPerComponent:T,colorSpace:P}}}})(Rt.API),function(e){e.processGIF89A=function(t,n,r,s){var o=new $w(t),f=o.width,d=o.height,p=[];o.decodeAndBlitFrameRGBA(0,p);var y={data:p,width:f,height:d},N=new Lh(100).encode(y,100);return e.processJPEG.call(this,N,n,r,s)},e.processGIF87A=e.processGIF89A}(Rt.API),qa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Bn.log("bit decode error:"+n)}},qa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var p=this.palette[o>>7-d&1];this.data[f+4*d]=p.blue,this.data[f+4*d+1]=p.green,this.data[f+4*d+2]=p.red,this.data[f+4*d+3]=255}n!==0&&(this.pos+=4-n)}},qa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var o=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+2*s*4,d=o>>4,p=15&o,y=this.palette[d];if(this.data[f]=y.blue,this.data[f+1]=y.green,this.data[f+2]=y.red,this.data[f+3]=255,2*s+1>=this.width)break;y=this.palette[p],this.data[f+4]=y.blue,this.data[f+4+1]=y.green,this.data[f+4+2]=y.red,this.data[f+4+3]=255}t!==0&&(this.pos+=4-t)}},qa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(s<this.palette.length){var f=this.palette[s];this.data[o]=f.red,this.data[o+1]=f.green,this.data[o+2]=f.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},qa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(o&t)/t*255|0,d=(o>>5&t)/t*255|0,p=(o>>10&t)/t*255|0,y=o>>15?255:0,N=r*this.width*4+4*s;this.data[N]=p,this.data[N+1]=d,this.data[N+2]=f,this.data[N+3]=y}this.pos+=e}},qa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(f&t)/t*255|0,p=(f>>5&n)/n*255|0,y=(f>>11)/t*255|0,N=s*this.width*4+4*o;this.data[N]=y,this.data[N+1]=p,this.data[N+2]=d,this.data[N+3]=255}this.pos+=e}},qa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*n;this.data[f]=o,this.data[f+1]=s,this.data[f+2]=r,this.data[f+3]=255}this.pos+=this.width%4}},qa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*n;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=r,this.data[d+3]=f}},qa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var o=new qa(t,!1),f=o.width,d=o.height,p={data:o.getData(),width:f,height:d},y=new Lh(100).encode(p,100);return e.processJPEG.call(this,y,n,r,s)}}(Rt.API),bm.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var o=new bm(t),f=o.width,d=o.height,p={data:o.getData(),width:f,height:d},y=new Lh(100).encode(p,100);return e.processJPEG.call(this,y,n,r,s)}}(Rt.API),Rt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,o=new Uint8Array(s/4*3),f=new Uint8Array(s/4),d=0,p=0,y=0;y<s;y+=4){var N=r[y],S=r[y+1],E=r[y+2],w=r[y+3];o[d++]=N,o[d++]=S,o[d++]=E,f[p++]=w}var B=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:B,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$l=Rt.API,s0=$l.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),f=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:s.metadata.Unicode.widths,p=d.fof?d.fof:1,y=t.kerning?t.kerning:s.metadata.Unicode.kerning,N=y.fof?y.fof:1,S=t.doKerning!==!1,E=0,w=e.length,B=0,M=d[0]||p,P=[];for(n=0;n<w;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?P.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+f*(1e3/o)||0)/1e3):(E=S&&In(y[r])==="object"&&!isNaN(parseInt(y[r][B],10))?y[r][B]/N:0,P.push((d[r]||M)/p+E)),B=r;return P},mm=$l.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return $l.processArabic&&(e=$l.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:s0.apply(this,arguments).reduce(function(o,f){return o+f},0)},xm=function(e,t,n,r){for(var s=[],o=0,f=e.length,d=0;o!==f&&d+t[o]<n;)d+=t[o],o++;s.push(e.slice(0,o));var p=o;for(d=0;o!==f;)d+t[o]>r&&(s.push(e.slice(p,o)),d=0,p=o),d+=t[o],o++;return p!==o&&s.push(e.slice(p,o)),s},ym=function(e,t,n){n||(n={});var r,s,o,f,d,p,y,N=[],S=[N],E=n.textIndent||0,w=0,B=0,M=e.split(" "),P=s0.apply(this,[" ",n])[0];if(p=n.lineIndent===-1?M[0].length+2:n.lineIndent||0){var T=Array(p).join(" "),I=[];M.map(function(L){(L=L.split(/\s*\n/)).length>1?I=I.concat(L.map(function(F,X){return(X&&F.length?`
`:"")+F})):I.push(L[0])}),M=I,p=mm.apply(this,[T,n])}for(o=0,f=M.length;o<f;o++){var D=0;if(r=M[o],p&&r[0]==`
`&&(r=r.substr(1),D=1),E+w+(B=(s=s0.apply(this,[r,n])).reduce(function(L,F){return L+F},0))>t||D){if(B>t){for(d=xm.apply(this,[r,s,t-(E+w),t]),N.push(d.shift()),N=[d.pop()];d.length;)S.push([d.shift()]);B=s.slice(r.length-(N[0]?N[0].length:0)).reduce(function(L,F){return L+F},0)}else N=[r];S.push(N),E=B+p,w=P}else N.push(r),E+=w+B,w=P}return y=p?function(L,F){return(F?T:"")+L.join(" ")}:function(L){return L.join(" ")},S.map(y)},$l.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(N){if(N.widths&&N.kerning)return{widths:N.widths,kerning:N.kerning};var S=this.internal.getFont(N.fontName,N.fontStyle);return S.metadata.Unicode?{widths:S.metadata.Unicode.widths||{0:1},kerning:S.metadata.Unicode.kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var f=1*this.internal.scaleFactor*t/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var d,p,y=[];for(d=0,p=r.length;d<p;d++)y=y.concat(ym.apply(this,[r[d],f,o]));return y},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var o=function(S){return"0x"+parseInt(S,10).toString(16)},f=e.__fontmetrics__.compress=function(S){var E,w,B,M,P=["{"];for(var T in S){if(E=S[T],isNaN(parseInt(T,10))?w="'"+T+"'":(T=parseInt(T,10),w=(w=o(T).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof E=="number")E<0?(B=o(E).slice(3),M="-"):(B=o(E).slice(2),M=""),B=M+B.slice(0,-1)+r[B.slice(-1)];else{if(In(E)!=="object")throw new Error("Don't know what to do with value type "+In(E)+".");B=f(E)}P.push(w+B)}return P.push("}"),P.join("")},d=e.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,w,B,M,P={},T=1,I=P,D=[],L="",F="",X=S.length-1,k=1;k<X;k+=1)(M=S[k])=="'"?E?(B=E.join(""),E=void 0):E=[]:E?E.push(M):M=="{"?(D.push([I,B]),I={},B=void 0):M=="}"?((w=D.pop())[0][w[1]]=I,B=void 0,I=w[0]):M=="-"?T=-1:B===void 0?n.hasOwnProperty(M)?(L+=n[M],B=parseInt(L,16)*T,T=1,L=""):L+=M:n.hasOwnProperty(M)?(F+=n[M],I[B]=parseInt(F,16)*T,T=1,B=void 0,F=""):F+=M;return P},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},N={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(S){var E=S.font,w=N.Unicode[E.postScriptName];w&&(E.metadata.Unicode={},E.metadata.Unicode.widths=w.widths,E.metadata.Unicode.kerning=w.kerning);var B=y.Unicode[E.postScriptName];B&&(E.metadata.Unicode.encoding=B,E.encoding=B.codePages[0])}])}(Rt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=n.charCodeAt(o);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(f,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Bu(d)),f.metadata=e.API.TTFFont.open(d),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(s,r)}}])}(Rt),function(e){function t(){return(jt.canvg?Promise.resolve(jt.canvg):Id(()=>import("./index.es-DvpJCBJ3.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Rt.API.addSvgAsImage=function(n,r,s,o,f,d,p,y){if(isNaN(r)||isNaN(s))throw Bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(f))throw Bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var N=document.createElement("canvas");N.width=o,N.height=f;var S=N.getContext("2d");S.fillStyle="#fff",S.fillRect(0,0,N.width,N.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return t().then(function(B){return B.fromString(S,n,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(E)}).then(function(){w.addImage(N.toDataURL("image/jpeg",1),r,s,o,f,p,y)})}}(),Rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},Rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,o,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(f),p=[],y=0,N=0,S=0;function E(B,M){var P,T=!1;for(P=0;P<B.length;P+=1)B[P]===M&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var w=d.length;for(S=0;S<w;S+=1)n[d[S]].value=n[d[S]].defaultValue,n[d[S]].explicitSet=!1}if(In(e)==="object"){for(s in e)if(o=e[s],E(d,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&E(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(y=0;y<o.length;y+=1)if(r=!0,o[y].length===1&&typeof o[y][0]=="number")p.push(String(o[y]-1));else if(o[y].length>1){for(N=0;N<o[y].length;N+=1)typeof o[y][N]!="number"&&(r=!1);r===!0&&p.push([o[y][0]-1,o[y][1]-1].join(" "))}n[s].value="["+p.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var B,M=[];for(B in n)n[B].explicitSet===!0&&(n[B].type==="name"?M.push("/"+B+" /"+n[B].value):M.push("/"+B+" "+n[B].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),y=o.length+f.length+d.length+s.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+y+" >>"),this.internal.write("stream"),this.internal.write(s+o+f+d+p),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(o,f){for(var d,p=f.metadata.Unicode.widths,y=["","0","00","000","0000"],N=[""],S=0,E=o.length;S<E;++S){if(d=f.metadata.characterToGlyph(o.charCodeAt(S)),f.metadata.glyIdsUsed.push(d),f.metadata.toUnicode[d]=o.charCodeAt(S),p.indexOf(d)==-1&&(p.push(d),p.push([parseInt(f.metadata.widthOfGlyph(d),10)])),d=="0")return N.join("");d=d.toString(16),N.push(y[4-d.length],d)}return N.join("")},r=function(o){var f,d,p,y,N,S,E;for(N=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],S=0,E=(d=Object.keys(o).sort(function(w,B){return w-B})).length;S<E;S++)f=d[S],p.length>=100&&(N+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),o[f]!==void 0&&o[f]!==null&&typeof o[f].toString=="function"&&(y=("0000"+o[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),p.push("<"+f+"><"+y+">"));return p.length&&(N+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),N+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(f){var d=f.font,p=f.out,y=f.newObject,N=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="Identity-H"){for(var S=d.metadata.Unicode.widths,E=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),w="",B=0;B<E.length;B++)w+=String.fromCharCode(E[B]);var M=y();N({data:w,addLength1:!0,objectId:M}),p("endobj");var P=y();N({data:r(d.metadata.toUnicode),addLength1:!0,objectId:P}),p("endobj");var T=y();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+ac(d.fontName)),p("/FontFile2 "+M+" 0 R"),p("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),p("/Flags "+d.metadata.flags),p("/StemV "+d.metadata.stemV),p("/ItalicAngle "+d.metadata.italicAngle),p("/Ascent "+d.metadata.ascender),p("/Descent "+d.metadata.decender),p("/CapHeight "+d.metadata.capHeight),p(">>"),p("endobj");var I=y();p("<<"),p("/Type /Font"),p("/BaseFont /"+ac(d.fontName)),p("/FontDescriptor "+T+" 0 R"),p("/W "+e.API.PDFObject.convert(S)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+d.encoding+")"),p(">>"),p(">>"),p("endobj"),d.objectNumber=y(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+P+" 0 R"),p("/BaseFont /"+ac(d.fontName)),p("/Encoding /"+d.encoding),p("/DescendantFonts ["+I+" 0 R]"),p(">>"),p("endobj"),d.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(f){var d=f.font,p=f.out,y=f.newObject,N=f.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var S=d.metadata.rawData,E="",w=0;w<S.length;w++)E+=String.fromCharCode(S[w]);var B=y();N({data:E,addLength1:!0,objectId:B}),p("endobj");var M=y();N({data:r(d.metadata.toUnicode),addLength1:!0,objectId:M}),p("endobj");var P=y();p("<<"),p("/Descent "+d.metadata.decender),p("/CapHeight "+d.metadata.capHeight),p("/StemV "+d.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+B+" 0 R"),p("/Flags 96"),p("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),p("/FontName /"+ac(d.fontName)),p("/ItalicAngle "+d.metadata.italicAngle),p("/Ascent "+d.metadata.ascender),p(">>"),p("endobj"),d.objectNumber=y();for(var T=0;T<d.metadata.hmtx.widths.length;T++)d.metadata.hmtx.widths[T]=parseInt(d.metadata.hmtx.widths[T]*(1e3/d.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+ac(d.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),p("endobj"),d.isAlreadyPutted=!0}})(o)}]);var s=function(o){var f,d=o.text||"",p=o.x,y=o.y,N=o.options||{},S=o.mutex||{},E=S.pdfEscape,w=S.activeFontKey,B=S.fonts,M=w,P="",T=0,I="",D=B[M].encoding;if(B[M].encoding!=="Identity-H")return{text:d,x:p,y,options:N,mutex:S};for(I=d,M=w,Array.isArray(d)&&(I=d[0]),T=0;T<I.length;T+=1)B[M].metadata.hasOwnProperty("cmap")&&(f=B[M].metadata.cmap.unicode.codeMap[I[T].charCodeAt(0)]),f||I[T].charCodeAt(0)<256&&B[M].metadata.hasOwnProperty("Unicode")?P+=I[T]:P+="";var L="";return parseInt(M.slice(1))<14||D==="WinAnsiEncoding"?L=E(P,M).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(L=n(P,B[M])),S.isHex=!0,{text:L,x:p,y,options:N,mutex:S}};t.events.push(["postProcessText",function(o){var f=o.text||"",d=[],p={text:f,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(f)){var y=0;for(y=0;y<f.length;y+=1)Array.isArray(f[y])&&f[y].length===3?d.push([s(Object.assign({},p,{text:f[y][0]})).text,f[y][1],f[y][2]]):d.push(s(Object.assign({},p,{text:f[y]})).text);o.text=d}else o.text=s(Object.assign({},p,{text:f})).text}])}(Rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,o,f,d,p,y,N,S=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,D=0;this.__bidiEngine__={};var L=function(z){var j=z.charCodeAt(),ie=j>>8,re=M[ie];return re!==void 0?S[256*re+(255&j)]:ie===252||ie===253?"AL":T.test(ie)?"L":ie===8?"R":"N"},F=function(z){for(var j,ie=0;ie<z.length;ie++){if((j=L(z.charAt(ie)))==="L")return!1;if(j==="R")return!0}return!1},X=function(z,j,ie,re){var ae,J,$,ce,ge=j[re];switch(ge){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(ge="AN");break;case"AL":I=!0,ge="R";break;case"WS":ge="N";break;case"CS":re<1||re+1>=j.length||(ae=ie[re-1])!=="EN"&&ae!=="AN"||(J=j[re+1])!=="EN"&&J!=="AN"?ge="N":I&&(J="AN"),ge=J===ae?J:"N";break;case"ES":ge=(ae=re>0?ie[re-1]:"B")==="EN"&&re+1<j.length&&j[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&ie[re-1]==="EN"){ge="EN";break}if(I){ge="N";break}for($=re+1,ce=j.length;$<ce&&j[$]==="ET";)$++;ge=$<ce&&j[$]==="EN"?"EN":"N";break;case"NSM":if(f&&!d){for(ce=j.length,$=re+1;$<ce&&j[$]==="NSM";)$++;if($<ce){var ve=z[re],ke=ve>=1425&&ve<=2303||ve===64286;if(ae=j[$],ke&&(ae==="R"||ae==="AL")){ge="R";break}}}ge=re<1||(ae=j[re-1])==="B"?"N":ie[re-1];break;case"B":I=!1,s=!0,ge=D;break;case"S":o=!0,ge="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":ge="N"}return ge},k=function(z,j,ie){var re=z.split("");return ie&&H(re,ie,{hiLevel:D}),re.reverse(),j&&j.reverse(),re.join("")},H=function(z,j,ie){var re,ae,J,$,ce,ge=-1,ve=z.length,ke=0,U=[],te=D?w:E,se=[];for(I=!1,s=!1,o=!1,ae=0;ae<ve;ae++)se[ae]=L(z[ae]);for(J=0;J<ve;J++){if(ce=ke,U[J]=X(z,se,U,J),re=240&(ke=te[ce][B[U[J]]]),ke&=15,j[J]=$=te[ke][5],re>0)if(re===16){for(ae=ge;ae<J;ae++)j[ae]=1;ge=-1}else ge=-1;if(te[ke][6])ge===-1&&(ge=J);else if(ge>-1){for(ae=ge;ae<J;ae++)j[ae]=$;ge=-1}se[J]==="B"&&(j[J]=0),ie.hiLevel|=$}o&&function(me,oe,Me){for(var Ie=0;Ie<Me;Ie++)if(me[Ie]==="S"){oe[Ie]=D;for(var Re=Ie-1;Re>=0&&me[Re]==="WS";Re--)oe[Re]=D}}(se,j,ve)},W=function(z,j,ie,re,ae){if(!(ae.hiLevel<z)){if(z===1&&D===1&&!s)return j.reverse(),void(ie&&ie.reverse());for(var J,$,ce,ge,ve=j.length,ke=0;ke<ve;){if(re[ke]>=z){for(ce=ke+1;ce<ve&&re[ce]>=z;)ce++;for(ge=ke,$=ce-1;ge<$;ge++,$--)J=j[ge],j[ge]=j[$],j[$]=J,ie&&(J=ie[ge],ie[ge]=ie[$],ie[$]=J);ke=ce}ke++}}},de=function(z,j,ie){var re=z.split(""),ae={hiLevel:D};return ie||(ie=[]),H(re,ie,ae),function(J,$,ce){if(ce.hiLevel!==0&&N)for(var ge,ve=0;ve<J.length;ve++)$[ve]===1&&(ge=P.indexOf(J[ve]))>=0&&(J[ve]=P[ge+1])}(re,ie,ae),W(2,re,j,ie,ae),W(1,re,j,ie,ae),re.join("")};return this.__bidiEngine__.doBidiReorder=function(z,j,ie){if(function(ae,J){if(J)for(var $=0;$<ae.length;$++)J[$]=$;d===void 0&&(d=F(ae)),y===void 0&&(y=F(ae))}(z,j),f||!p||y)if(f&&p&&d^y)D=d?1:0,z=k(z,j,ie);else if(!f&&p&&y)D=d?1:0,z=de(z,j,ie),z=k(z,j);else if(!f||d||p||y){if(f&&!p&&d^y)z=k(z,j),d?(D=0,z=de(z,j,ie)):(D=1,z=de(z,j,ie),z=k(z,j));else if(f&&d&&!p&&y)D=1,z=de(z,j,ie),z=k(z,j);else if(!f&&!p&&d^y){var re=N;d?(D=1,z=de(z,j,ie),D=0,N=!1,z=de(z,j,ie),N=re):(D=0,z=de(z,j,ie),z=k(z,j),D=1,N=!1,z=de(z,j,ie),N=re,z=k(z,j))}}else D=0,z=de(z,j,ie);else D=d?1:0,z=de(z,j,ie);return z},this.__bidiEngine__.setOptions=function(z){z&&(f=z.isInputVisual,p=z.isOutputVisual,d=z.isInputRtl,y=z.isOutputRtl,N=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,o=(r.x,r.y,r.options||{}),f=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(f=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?f.push([n.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):f.push([n.doBidiReorder(s[d])]);r.text=f}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Go(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new g6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new e6(this.contents),this.head=new n6(this),this.name=new o6(this),this.cmap=new iy(this),this.toUnicode={},this.hhea=new i6(this),this.maxp=new l6(this),this.hmtx=new c6(this),this.post=new a6(this),this.os2=new r6(this),this.loca=new d6(this),this.glyf=new u6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,d,p,y;for(y=[],f=0,d=(p=this.bbox).length;f<d;f++)t=p[f],y.push(Math.round(t*this.scaleFactor));return y}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,o,f,d;for(f=0,o=0,d=(t=""+t).length;0<=d?o<d:o>d;o=0<=d?++o:--o)s=t.charCodeAt(o),f+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return f*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ka,Go=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,o,f,d,p;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),f=this.readByte(),d=this.readByte(),p=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^f)+256*(255^d)+(255^p)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*o+65536*f+256*d+p},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,o;for(o=[],r=0,s=t.length;r<s;r++)n=t[r],o.push(this.writeByte(n));return o},e}(),e6=function(){var e;function t(n){var r,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,o,f,d,p,y,N,S,E,w,B,M;for(M in w=Object.keys(n).length,p=Math.log(2),S=16*Math.floor(Math.log(w)/p),f=Math.floor(S/p),N=16*w-S,(s=new Go).writeInt(this.scalarType),s.writeShort(w),s.writeShort(S),s.writeShort(f),s.writeShort(N),o=16*w,y=s.pos+o,d=null,B=[],n)for(E=n[M],s.writeString(M),s.writeInt(e(E)),s.writeInt(y),s.writeInt(E.length),B=B.concat(E),M==="head"&&(d=y),y+=E.length;y%4;)B.push(0),y++;return s.write(B),r=2981146554-e(s.data),s.pos=d+8,s.writeUInt32(r),s.data},e=function(n){var r,s,o,f;for(n=ry.call(n);n.length%4;)n.push(0);for(o=new Go(n),s=0,r=0,f=n.length;r<f;r=r+=4)s+=o.readUInt32();return 4294967295&s},t}(),t6={}.hasOwnProperty,xs=function(e,t){for(var n in t)t6.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ka=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var n6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Go).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),wm=function(){function e(t,n){var r,s,o,f,d,p,y,N,S,E,w,B,M,P,T,I,D;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=t.readByte();break;case 4:for(w=t.readUInt16(),E=w/2,t.pos+=6,o=function(){var L,F;for(F=[],p=L=0;0<=E?L<E:L>E;p=0<=E?++L:--L)F.push(t.readUInt16());return F}(),t.pos+=2,M=function(){var L,F;for(F=[],p=L=0;0<=E?L<E:L>E;p=0<=E?++L:--L)F.push(t.readUInt16());return F}(),y=function(){var L,F;for(F=[],p=L=0;0<=E?L<E:L>E;p=0<=E?++L:--L)F.push(t.readUInt16());return F}(),N=function(){var L,F;for(F=[],p=L=0;0<=E?L<E:L>E;p=0<=E?++L:--L)F.push(t.readUInt16());return F}(),s=(this.length-t.pos+this.offset)/2,d=function(){var L,F;for(F=[],p=L=0;0<=s?L<s:L>s;p=0<=s?++L:--L)F.push(t.readUInt16());return F}(),p=T=0,D=o.length;T<D;p=++T)for(P=o[p],r=I=B=M[p];B<=P?I<=P:I>=P;r=B<=P?++I:--I)N[p]===0?f=r+y[p]:(f=d[N[p]/2+(r-B)-(E-p)]||0)!==0&&(f+=y[p]),this.codeMap[r]=65535&f}t.pos=S}return e.encode=function(t,n){var r,s,o,f,d,p,y,N,S,E,w,B,M,P,T,I,D,L,F,X,k,H,W,de,z,j,ie,re,ae,J,$,ce,ge,ve,ke,U,te,se,me,oe,Me,Ie,Re,rt,Xe,ut;switch(re=new Go,f=Object.keys(t).sort(function(Je,_t){return Je-_t}),n){case"macroman":for(M=0,P=function(){var Je=[];for(B=0;B<256;++B)Je.push(0);return Je}(),I={0:0},o={},ae=0,ge=f.length;ae<ge;ae++)I[Re=t[s=f[ae]]]==null&&(I[Re]=++M),o[s]={old:t[s],new:I[t[s]]},P[s]=I[t[s]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(P),{charMap:o,subtable:re.data,maxGlyphID:M+1};case"unicode":for(j=[],S=[],D=0,I={},r={},T=y=null,J=0,ve=f.length;J<ve;J++)I[F=t[s=f[J]]]==null&&(I[F]=++D),r[s]={old:F,new:I[F]},d=I[F]-s,T!=null&&d===y||(T&&S.push(T),j.push(s),y=d),T=s;for(T&&S.push(T),S.push(65535),j.push(65535),de=2*(W=j.length),H=2*Math.pow(Math.log(W)/Math.LN2,2),E=Math.log(H/2)/Math.LN2,k=2*W-H,p=[],X=[],w=[],B=$=0,ke=j.length;$<ke;B=++$){if(z=j[B],N=S[B],z===65535){p.push(0),X.push(0);break}if(z-(ie=r[z].new)>=32768)for(p.push(0),X.push(2*(w.length+W-B)),s=ce=z;z<=N?ce<=N:ce>=N;s=z<=N?++ce:--ce)w.push(r[s].new);else p.push(ie-z),X.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*W+2*w.length),re.writeUInt16(0),re.writeUInt16(de),re.writeUInt16(H),re.writeUInt16(E),re.writeUInt16(k),Me=0,U=S.length;Me<U;Me++)s=S[Me],re.writeUInt16(s);for(re.writeUInt16(0),Ie=0,te=j.length;Ie<te;Ie++)s=j[Ie],re.writeUInt16(s);for(rt=0,se=p.length;rt<se;rt++)d=p[rt],re.writeUInt16(d);for(Xe=0,me=X.length;Xe<me;Xe++)L=X[Xe],re.writeUInt16(L);for(ut=0,oe=w.length;ut<oe;ut++)M=w[ut],re.writeUInt16(M);return{charMap:r,subtable:re.data,maxGlyphID:D+1}}},e}(),iy=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)r=new wm(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,o;return r==null&&(r="macroman"),s=wm.encode(n,r),(o=new Go).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},t}(),i6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),r6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),a6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var f;for(s=n.readUInt16(),this.glyphNameIndex=[],f=0;0<=s?f<s:f>s;f=0<=s?++f:--f)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var d,p,y;for(y=[],f=d=0,p=this.file.maxp.numGlyphs;0<=p?d<p:d>p;f=0<=p?++d:--d)y.push(n.readUInt32());return y}).call(this)}},t}(),s6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},o6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,o,f,d,p,y,N,S,E,w;for(n.pos=this.offset,n.readShort(),r=n.readShort(),p=n.readShort(),s=[],f=0;0<=r?f<r:f>r;f=0<=r?++f:--f)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+p+n.readShort()});for(y={},f=S=0,E=s.length;S<E;f=++S)o=s[f],n.pos=o.offset,N=n.readString(o.length),d=new s6(N,o),y[w=o.nameID]==null&&(y[w]=[]),y[o.nameID].push(d);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},t}(),l6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),c6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,o,f,d,p,y;for(n.pos=this.offset,this.metrics=[],r=0,p=this.file.hhea.numberOfMetrics;0<=p?r<p:r>p;r=0<=p?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var N,S;for(S=[],r=N=0;0<=o?N<o:N>o;r=0<=o?++N:--N)S.push(n.readInt16());return S}(),this.widths=(function(){var N,S,E,w;for(w=[],N=0,S=(E=this.metrics).length;N<S;N++)f=E[N],w.push(f.advance);return w}).call(this),s=this.widths[this.widths.length-1],y=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)y.push(this.widths.push(s));return y},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),ry=[].slice,u6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,o,f,d,p,y,N,S,E;return n in this.cache?this.cache[n]:(f=this.file.loca,r=this.file.contents,s=f.indexOf(n),(o=f.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,d=(p=new Go(r.read(o))).readShort(),N=p.readShort(),E=p.readShort(),y=p.readShort(),S=p.readShort(),this.cache[n]=d===-1?new h6(p,N,E,y,S):new f6(p,d,N,E,y,S),this.cache[n]))},t.prototype.encode=function(n,r,s){var o,f,d,p,y;for(d=[],f=[],p=0,y=r.length;p<y;p++)o=n[r[p]],f.push(d.length),o&&(d=d.concat(o.encode(s)));return f.push(d.length),{table:d,offsets:f}},t}(),f6=function(){function e(t,n,r,s,o,f){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=f,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),h6=function(){function e(t,n,r,s,o){var f,d;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;d=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&d;)f.pos+=1&d?4:2,128&d?f.pos+=8:64&d?f.pos+=4:8&d&&(f.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Go(ry.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),d6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xs(t,Ka),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=2)f.push(2*n.readUInt16());return f}).call(this):(function(){var o,f;for(f=[],s=0,o=this.length;s<o;s+=4)f.push(n.readUInt32());return f}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),o=0,f=0,d=0;d<s.length;++d)if(s[d]=o,f<r.length&&r[f]==d){++f,s[d]=o;var p=this.offsets[d],y=this.offsets[d+1]-p;y>0&&(o+=y)}for(var N=new Array(4*s.length),S=0;S<s.length;++S)N[4*S+3]=255&s[S],N[4*S+2]=(65280&s[S])>>8,N[4*S+1]=(16711680&s[S])>>16,N[4*S]=(4278190080&s[S])>>24;return N},t}(),g6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,o;for(n in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,o,f,d,p;for(s={},f=0,d=t.length;f<d;f++)s[o=t[f]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(r=s[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in p=this.glyphsFor(n))r=p[o],s[o]=r;return s},e.prototype.encode=function(t,n){var r,s,o,f,d,p,y,N,S,E,w,B,M,P,T;for(s in r=iy.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(t),w={0:0},T=r.charMap)w[(p=T[s]).old]=p.new;for(B in E=r.maxGlyphID,f)B in w||(w[B]=E++);return N=function(I){var D,L;for(D in L={},I)L[I[D]]=D;return L}(w),S=Object.keys(N).sort(function(I,D){return I-D}),M=function(){var I,D,L;for(L=[],I=0,D=S.length;I<D;I++)d=S[I],L.push(N[d]);return L}(),o=this.font.glyf.encode(f,M,w),y=this.font.loca.encode(o.offsets,M),P={cmap:this.font.cmap.raw(),glyf:o.table,loca:y,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},e}();Rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,o,f;if(Array.isArray(n))return"["+function(){var d,p,y;for(y=[],d=0,p=n.length;d<p;d++)r=n[d],y.push(t.convert(r));return y}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)f=n[s],o.push("/"+s+" "+t.convert(f));return o.push(">>"),o.join(`
`)}return""+n},t}();const p6=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Yw,AcroFormAppearance:At,AcroFormButton:Hi,AcroFormCheckBox:Fu,AcroFormChoiceField:Tl,AcroFormComboBox:Il,AcroFormEditBox:ku,AcroFormListBox:_l,AcroFormPasswordField:Uu,AcroFormPushButton:Pu,AcroFormRadioButton:Dl,AcroFormTextField:Fo,GState:af,ShadingPattern:So,TilingPattern:yl,default:Rt,jsPDF:Rt},Symbol.toStringTag,{value:"Module"}));var m6={exports:{}};const x6=Jy(p6);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(r,s){e.exports=s(function(){try{return x6}catch{}}())})(typeof globalThis<"u"?globalThis:typeof yo<"u"?yo:typeof window<"u"?window:typeof self<"u"?self:yo,function(n){return function(){var r={172:function(d,p){var y=this&&this.__extends||function(){var E=function(w,B){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,P){M.__proto__=P}||function(M,P){for(var T in P)Object.prototype.hasOwnProperty.call(P,T)&&(M[T]=P[T])},E(w,B)};return function(w,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");E(w,B);function M(){this.constructor=w}w.prototype=B===null?Object.create(B):(M.prototype=B.prototype,new M)}}();Object.defineProperty(p,"__esModule",{value:!0}),p.CellHookData=p.HookData=void 0;var N=function(){function E(w,B,M){this.table=B,this.pageNumber=B.pageNumber,this.pageCount=this.pageNumber,this.settings=B.settings,this.cursor=M,this.doc=w.getDocument()}return E}();p.HookData=N;var S=function(E){y(w,E);function w(B,M,P,T,I,D){var L=E.call(this,B,M,D)||this;return L.cell=P,L.row=T,L.column=I,L.section=T.section,L}return w}(N);p.CellHookData=S},340:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0});var N=y(4),S=y(136),E=y(744),w=y(776),B=y(664),M=y(972);function P(T){T.API.autoTable=function(){for(var I=[],D=0;D<arguments.length;D++)I[D]=arguments[D];var L;I.length===1?L=I[0]:(console.error("Use of deprecated autoTable initiation"),L=I[2]||{},L.columns=I[0],L.body=I[1]);var F=(0,w.parseInput)(this,L),X=(0,M.createTable)(this,F);return(0,B.drawTable)(this,X),this},T.API.lastAutoTable=!1,T.API.previousAutoTable=!1,T.API.autoTable.previous=!1,T.API.autoTableText=function(I,D,L,F){(0,S.default)(I,D,L,F,this)},T.API.autoTableSetDefaults=function(I){return E.DocHandler.setDefaults(I,this),this},T.autoTableSetDefaults=function(I,D){E.DocHandler.setDefaults(I,D)},T.API.autoTableHtmlToJson=function(I,D){var L;if(D===void 0&&(D=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var F=new E.DocHandler(this),X=(0,N.parseHtml)(F,I,window,D,!1),k=X.head,H=X.body,W=((L=k[0])===null||L===void 0?void 0:L.map(function(de){return de.content}))||[];return{columns:W,rows:H,data:H}},T.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var I=this.lastAutoTable;return I&&I.finalY?I.finalY:0},T.API.autoTableAddPageContent=function(I){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),T.API.autoTable.globalDefaults||(T.API.autoTable.globalDefaults={}),T.API.autoTable.globalDefaults.addPageContent=I,this},T.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}p.default=P},136:function(d,p){Object.defineProperty(p,"__esModule",{value:!0});function y(N,S,E,w,B){w=w||{};var M=1.15,P=B.internal.scaleFactor,T=B.internal.getFontSize()/P,I=B.getLineHeightFactor?B.getLineHeightFactor():M,D=T*I,L=/\r\n|\r|\n/g,F="",X=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(F=typeof N=="string"?N.split(L):N,X=F.length||1),E+=T*(2-M),w.valign==="middle"?E-=X/2*D:w.valign==="bottom"&&(E-=X*D),w.halign==="center"||w.halign==="right"){var k=T;if(w.halign==="center"&&(k*=.5),F&&X>=1){for(var H=0;H<F.length;H++)B.text(F[H],S-B.getStringUnitWidth(F[H])*k,E),E+=D;return B}S-=B.getStringUnitWidth(N)*k}return w.halign==="justify"?B.text(N,S,E,{maxWidth:w.maxWidth||100,align:"justify"}):B.text(N,S,E),B}p.default=y},420:function(d,p){Object.defineProperty(p,"__esModule",{value:!0}),p.getPageAvailableWidth=p.parseSpacing=p.getFillStyle=p.addTableBorder=p.getStringWidth=void 0;function y(B,M,P){P.applyStyles(M,!0);var T=Array.isArray(B)?B:[B],I=T.map(function(D){return P.getTextWidth(D)}).reduce(function(D,L){return Math.max(D,L)},0);return I}p.getStringWidth=y;function N(B,M,P,T){var I=M.settings.tableLineWidth,D=M.settings.tableLineColor;B.applyStyles({lineWidth:I,lineColor:D});var L=S(I,!1);L&&B.rect(P.x,P.y,M.getWidth(B.pageSize().width),T.y-P.y,L)}p.addTableBorder=N;function S(B,M){var P=B>0,T=M||M===0;return P&&T?"DF":P?"S":T?"F":null}p.getFillStyle=S;function E(B,M){var P,T,I,D;if(B=B||M,Array.isArray(B)){if(B.length>=4)return{top:B[0],right:B[1],bottom:B[2],left:B[3]};if(B.length===3)return{top:B[0],right:B[1],bottom:B[2],left:B[1]};if(B.length===2)return{top:B[0],right:B[1],bottom:B[0],left:B[1]};B.length===1?B=B[0]:B=M}return typeof B=="object"?(typeof B.vertical=="number"&&(B.top=B.vertical,B.bottom=B.vertical),typeof B.horizontal=="number"&&(B.right=B.horizontal,B.left=B.horizontal),{left:(P=B.left)!==null&&P!==void 0?P:M,top:(T=B.top)!==null&&T!==void 0?T:M,right:(I=B.right)!==null&&I!==void 0?I:M,bottom:(D=B.bottom)!==null&&D!==void 0?D:M}):(typeof B!="number"&&(B=M),{top:B,right:B,bottom:B,left:B})}p.parseSpacing=E;function w(B,M){var P=E(M.settings.margin,0);return B.pageSize().width-(P.left+P.right)}p.getPageAvailableWidth=w},796:function(d,p){var y=this&&this.__extends||function(){var w=function(B,M){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,T){P.__proto__=T}||function(P,T){for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(P[I]=T[I])},w(B,M)};return function(B,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");w(B,M);function P(){this.constructor=B}B.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)}}();Object.defineProperty(p,"__esModule",{value:!0}),p.getTheme=p.defaultStyles=p.HtmlRowInput=void 0;var N=function(w){y(B,w);function B(M){var P=w.call(this)||this;return P._element=M,P}return B}(Array);p.HtmlRowInput=N;function S(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}p.defaultStyles=S;function E(w){var B={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return B[w]}p.getTheme=E},903:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.parseCss=void 0;var N=y(420);function S(P,T,I,D,L){var F={},X=1.3333333333333333,k=w(T,function(ge){return L.getComputedStyle(ge).backgroundColor});k!=null&&(F.fillColor=k);var H=w(T,function(ge){return L.getComputedStyle(ge).color});H!=null&&(F.textColor=H);var W=M(D,I);W&&(F.cellPadding=W);var de="borderTopColor",z=X*I,j=D.borderTopWidth;if(D.borderBottomWidth===j&&D.borderRightWidth===j&&D.borderLeftWidth===j){var ie=(parseFloat(j)||0)/z;ie&&(F.lineWidth=ie)}else F.lineWidth={top:(parseFloat(D.borderTopWidth)||0)/z,right:(parseFloat(D.borderRightWidth)||0)/z,bottom:(parseFloat(D.borderBottomWidth)||0)/z,left:(parseFloat(D.borderLeftWidth)||0)/z},F.lineWidth.top||(F.lineWidth.right?de="borderRightColor":F.lineWidth.bottom?de="borderBottomColor":F.lineWidth.left&&(de="borderLeftColor"));var re=w(T,function(ge){return L.getComputedStyle(ge)[de]});re!=null&&(F.lineColor=re);var ae=["left","right","center","justify"];ae.indexOf(D.textAlign)!==-1&&(F.halign=D.textAlign),ae=["middle","bottom","top"],ae.indexOf(D.verticalAlign)!==-1&&(F.valign=D.verticalAlign);var J=parseInt(D.fontSize||"");isNaN(J)||(F.fontSize=J/X);var $=E(D);$&&(F.fontStyle=$);var ce=(D.fontFamily||"").toLowerCase();return P.indexOf(ce)!==-1&&(F.font=ce),F}p.parseCss=S;function E(P){var T="";return(P.fontWeight==="bold"||P.fontWeight==="bolder"||parseInt(P.fontWeight)>=700)&&(T="bold"),(P.fontStyle==="italic"||P.fontStyle==="oblique")&&(T+="italic"),T}function w(P,T){var I=B(P,T);if(!I)return null;var D=I.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!D||!Array.isArray(D))return null;var L=[parseInt(D[1]),parseInt(D[2]),parseInt(D[3])],F=parseInt(D[4]);return F===0||isNaN(L[0])||isNaN(L[1])||isNaN(L[2])?null:L}function B(P,T){var I=T(P);return I==="rgba(0, 0, 0, 0)"||I==="transparent"||I==="initial"||I==="inherit"?P.parentElement==null?null:B(P.parentElement,T):I}function M(P,T){var I=[P.paddingTop,P.paddingRight,P.paddingBottom,P.paddingLeft],D=96/(72/T),L=(parseInt(P.lineHeight)-parseInt(P.fontSize))/T/2,F=I.map(function(k){return parseInt(k||"0")/D}),X=(0,N.parseSpacing)(F,0);return L>X.top&&(X.top=L),L>X.bottom&&(X.bottom=L),X}},744:function(d,p){Object.defineProperty(p,"__esModule",{value:!0}),p.DocHandler=void 0;var y={},N=function(){function S(E){this.jsPDFDocument=E,this.userStyles={textColor:E.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:E.internal.getFontSize(),fontStyle:E.internal.getFont().fontStyle,font:E.internal.getFont().fontName,lineWidth:E.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:E.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return S.setDefaults=function(E,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=E:y=E},S.unifyColor=function(E){return Array.isArray(E)?E:typeof E=="number"?[E,E,E]:typeof E=="string"?[E]:null},S.prototype.applyStyles=function(E,w){var B,M,P;w===void 0&&(w=!1),E.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E.fontStyle);var T=this.jsPDFDocument.internal.getFont(),I=T.fontStyle,D=T.fontName;if(E.font&&(D=E.font),E.fontStyle){I=E.fontStyle;var L=this.getFontList()[D];L&&L.indexOf(I)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(L[0]),I=L[0])}if(this.jsPDFDocument.setFont(D,I),E.fontSize&&this.jsPDFDocument.setFontSize(E.fontSize),!w){var F=S.unifyColor(E.fillColor);F&&(B=this.jsPDFDocument).setFillColor.apply(B,F),F=S.unifyColor(E.textColor),F&&(M=this.jsPDFDocument).setTextColor.apply(M,F),F=S.unifyColor(E.lineColor),F&&(P=this.jsPDFDocument).setDrawColor.apply(P,F),typeof E.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(E.lineWidth)}},S.prototype.splitTextToSize=function(E,w,B){return this.jsPDFDocument.splitTextToSize(E,w,B)},S.prototype.rect=function(E,w,B,M,P){return this.jsPDFDocument.rect(E,w,B,M,P)},S.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},S.prototype.getTextWidth=function(E){return this.jsPDFDocument.getTextWidth(E)},S.prototype.getDocument=function(){return this.jsPDFDocument},S.prototype.setPage=function(E){this.jsPDFDocument.setPage(E)},S.prototype.addPage=function(){return this.jsPDFDocument.addPage()},S.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},S.prototype.getGlobalOptions=function(){return y||{}},S.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},S.prototype.pageSize=function(){var E=this.jsPDFDocument.internal.pageSize;return E.width==null&&(E={width:E.getWidth(),height:E.getHeight()}),E},S.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},S.prototype.getLineHeightFactor=function(){var E=this.jsPDFDocument;return E.getLineHeightFactor?E.getLineHeightFactor():1.15},S.prototype.getLineHeight=function(E){return E/this.scaleFactor()*this.getLineHeightFactor()},S.prototype.pageNumber=function(){var E=this.jsPDFDocument.internal.getCurrentPageInfo();return E?E.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},S}();p.DocHandler=N},4:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.parseHtml=void 0;var N=y(903),S=y(796);function E(M,P,T,I,D){var L,F;I===void 0&&(I=!1),D===void 0&&(D=!1);var X;typeof P=="string"?X=T.document.querySelector(P):X=P;var k=Object.keys(M.getFontList()),H=M.scaleFactor(),W=[],de=[],z=[];if(!X)return console.error("Html table could not be found with input: ",P),{head:W,body:de,foot:z};for(var j=0;j<X.rows.length;j++){var ie=X.rows[j],re=(F=(L=ie==null?void 0:ie.parentElement)===null||L===void 0?void 0:L.tagName)===null||F===void 0?void 0:F.toLowerCase(),ae=w(k,H,T,ie,I,D);ae&&(re==="thead"?W.push(ae):re==="tfoot"?z.push(ae):de.push(ae))}return{head:W,body:de,foot:z}}p.parseHtml=E;function w(M,P,T,I,D,L){for(var F=new S.HtmlRowInput(I),X=0;X<I.cells.length;X++){var k=I.cells[X],H=T.getComputedStyle(k);if(D||H.display!=="none"){var W=void 0;L&&(W=(0,N.parseCss)(M,k,P,H,T)),F.push({rowSpan:k.rowSpan,colSpan:k.colSpan,styles:W,_element:k,content:B(k)})}}var de=T.getComputedStyle(I);if(F.length>0&&(D||de.display!=="none"))return F}function B(M){var P=M.cloneNode(!0);return P.innerHTML=P.innerHTML.replace(/\n/g,"").replace(/ +/g," "),P.innerHTML=P.innerHTML.split(/<br.*?>/).map(function(T){return T.trim()}).join(`
`),P.innerText||P.textContent||""}},776:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.parseInput=void 0;var N=y(4),S=y(356),E=y(420),w=y(744),B=y(792);function M(X,k){var H=new w.DocHandler(X),W=H.getDocumentOptions(),de=H.getGlobalOptions();(0,B.default)(H,de,W,k);var z=(0,S.assign)({},de,W,k),j;typeof window<"u"&&(j=window);var ie=P(de,W,k),re=T(de,W,k),ae=I(H,z),J=L(H,z,j);return{id:k.tableId,content:J,hooks:re,styles:ie,settings:ae}}p.parseInput=M;function P(X,k,H){for(var W={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},de=function(re){if(re==="columnStyles"){var ae=X[re],J=k[re],$=H[re];W.columnStyles=(0,S.assign)({},ae,J,$)}else{var ce=[X,k,H],ge=ce.map(function(ve){return ve[re]||{}});W[re]=(0,S.assign)({},ge[0],ge[1],ge[2])}},z=0,j=Object.keys(W);z<j.length;z++){var ie=j[z];de(ie)}return W}function T(X,k,H){for(var W=[X,k,H],de={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},z=0,j=W;z<j.length;z++){var ie=j[z];ie.didParseCell&&de.didParseCell.push(ie.didParseCell),ie.willDrawCell&&de.willDrawCell.push(ie.willDrawCell),ie.didDrawCell&&de.didDrawCell.push(ie.didDrawCell),ie.willDrawPage&&de.willDrawPage.push(ie.willDrawPage),ie.didDrawPage&&de.didDrawPage.push(ie.didDrawPage)}return de}function I(X,k){var H,W,de,z,j,ie,re,ae,J,$,ce,ge,ve=(0,E.parseSpacing)(k.margin,40/X.scaleFactor()),ke=(H=D(X,k.startY))!==null&&H!==void 0?H:ve.top,U;k.showFoot===!0?U="everyPage":k.showFoot===!1?U="never":U=(W=k.showFoot)!==null&&W!==void 0?W:"everyPage";var te;k.showHead===!0?te="everyPage":k.showHead===!1?te="never":te=(de=k.showHead)!==null&&de!==void 0?de:"everyPage";var se=(z=k.useCss)!==null&&z!==void 0?z:!1,me=k.theme||(se?"plain":"striped"),oe=!!k.horizontalPageBreak,Me=(j=k.horizontalPageBreakRepeat)!==null&&j!==void 0?j:null;return{includeHiddenHtml:(ie=k.includeHiddenHtml)!==null&&ie!==void 0?ie:!1,useCss:se,theme:me,startY:ke,margin:ve,pageBreak:(re=k.pageBreak)!==null&&re!==void 0?re:"auto",rowPageBreak:(ae=k.rowPageBreak)!==null&&ae!==void 0?ae:"auto",tableWidth:(J=k.tableWidth)!==null&&J!==void 0?J:"auto",showHead:te,showFoot:U,tableLineWidth:($=k.tableLineWidth)!==null&&$!==void 0?$:0,tableLineColor:(ce=k.tableLineColor)!==null&&ce!==void 0?ce:200,horizontalPageBreak:oe,horizontalPageBreakRepeat:Me,horizontalPageBreakBehaviour:(ge=k.horizontalPageBreakBehaviour)!==null&&ge!==void 0?ge:"afterAllRows"}}function D(X,k){var H=X.getLastAutoTable(),W=X.scaleFactor(),de=X.pageNumber(),z=!1;if(H&&H.startPageNumber){var j=H.startPageNumber+H.pageNumber-1;z=j===de}return typeof k=="number"?k:(k==null||k===!1)&&z&&(H==null?void 0:H.finalY)!=null?H.finalY+20/W:null}function L(X,k,H){var W=k.head||[],de=k.body||[],z=k.foot||[];if(k.html){var j=k.includeHiddenHtml;if(H){var ie=(0,N.parseHtml)(X,k.html,H,j,k.useCss)||{};W=ie.head||W,de=ie.body||W,z=ie.foot||W}else console.error("Cannot parse html in non browser environment")}var re=k.columns||F(W,de,z);return{columns:re,head:W,body:de,foot:z}}function F(X,k,H){var W=X[0]||k[0]||H[0]||[],de=[];return Object.keys(W).filter(function(z){return z!=="_element"}).forEach(function(z){var j=1,ie;Array.isArray(W)?ie=W[parseInt(z)]:ie=W[z],typeof ie=="object"&&!Array.isArray(ie)&&(j=(ie==null?void 0:ie.colSpan)||1);for(var re=0;re<j;re++){var ae=void 0;Array.isArray(W)?ae=de.length:ae=z+(re>0?"_".concat(re):"");var J={dataKey:ae};de.push(J)}}),de}},792:function(d,p){Object.defineProperty(p,"__esModule",{value:!0});function y(S,E,w,B){for(var M=function(D){D&&typeof D!="object"&&console.error("The options parameter should be of type object, is: "+typeof D),typeof D.extendWidth<"u"&&(D.tableWidth=D.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof D.margins<"u"&&(typeof D.margin>"u"&&(D.margin=D.margins),console.error("Use of deprecated option: margins, use margin instead.")),D.startY&&typeof D.startY!="number"&&(console.error("Invalid value for startY option",D.startY),delete D.startY),!D.didDrawPage&&(D.afterPageContent||D.beforePageContent||D.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),D.didDrawPage=function(z){S.applyStyles(S.userStyles),D.beforePageContent&&D.beforePageContent(z),S.applyStyles(S.userStyles),D.afterPageContent&&D.afterPageContent(z),S.applyStyles(S.userStyles),D.afterPageAdd&&z.pageNumber>1&&z.afterPageAdd(z),S.applyStyles(S.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(z){D[z]&&console.error('The "'.concat(z,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(z){var j=z[0],ie=z[1];D[ie]&&(console.error("Use of deprecated option ".concat(ie,". Use ").concat(j," instead")),D[j]=D[ie])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(z){var j=typeof z=="string"?z:z[0],ie=typeof z=="string"?z:z[1];typeof D[j]<"u"&&(typeof D.styles[ie]>"u"&&(D.styles[ie]=D[j]),console.error("Use of deprecated option: "+j+", use the style "+ie+" instead."))});for(var L=0,F=["styles","bodyStyles","headStyles","footStyles"];L<F.length;L++){var X=F[L];N(D[X]||{})}for(var k=D.columnStyles||{},H=0,W=Object.keys(k);H<W.length;H++){var de=W[H];N(k[de]||{})}},P=0,T=[E,w,B];P<T.length;P++){var I=T[P];M(I)}}p.default=y;function N(S){S.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),S.minCellHeight||(S.minCellHeight=S.rowHeight)):S.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),S.cellWidth||(S.cellWidth=S.columnWidth))}},260:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.Column=p.Cell=p.Row=p.Table=void 0;var N=y(796),S=y(172),E=y(420),w=function(){function T(I,D){this.pageNumber=1,this.pageCount=1,this.id=I.id,this.settings=I.settings,this.styles=I.styles,this.hooks=I.hooks,this.columns=D.columns,this.head=D.head,this.body=D.body,this.foot=D.foot}return T.prototype.getHeadHeight=function(I){return this.head.reduce(function(D,L){return D+L.getMaxCellHeight(I)},0)},T.prototype.getFootHeight=function(I){return this.foot.reduce(function(D,L){return D+L.getMaxCellHeight(I)},0)},T.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},T.prototype.callCellHooks=function(I,D,L,F,X,k){for(var H=0,W=D;H<W.length;H++){var de=W[H],z=new S.CellHookData(I,this,L,F,X,k),j=de(z)===!1;if(L.text=Array.isArray(L.text)?L.text:[L.text],j)return!1}return!0},T.prototype.callEndPageHooks=function(I,D){I.applyStyles(I.userStyles);for(var L=0,F=this.hooks.didDrawPage;L<F.length;L++){var X=F[L];X(new S.HookData(I,this,D))}},T.prototype.callWillDrawPageHooks=function(I,D){for(var L=0,F=this.hooks.willDrawPage;L<F.length;L++){var X=F[L];X(new S.HookData(I,this,D))}},T.prototype.getWidth=function(I){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var D=this.columns.reduce(function(F,X){return F+X.wrappedWidth},0);return D}else{var L=this.settings.margin;return I-L.left-L.right}},T}();p.Table=w;var B=function(){function T(I,D,L,F,X){X===void 0&&(X=!1),this.height=0,this.raw=I,I instanceof N.HtmlRowInput&&(this.raw=I._element,this.element=I._element),this.index=D,this.section=L,this.cells=F,this.spansMultiplePages=X}return T.prototype.getMaxCellHeight=function(I){var D=this;return I.reduce(function(L,F){var X;return Math.max(L,((X=D.cells[F.index])===null||X===void 0?void 0:X.height)||0)},0)},T.prototype.hasRowSpan=function(I){var D=this;return I.filter(function(L){var F=D.cells[L.index];return F?F.rowSpan>1:!1}).length>0},T.prototype.canEntireRowFit=function(I,D){return this.getMaxCellHeight(D)<=I},T.prototype.getMinimumRowHeight=function(I,D){var L=this;return I.reduce(function(F,X){var k=L.cells[X.index];if(!k)return 0;var H=D.getLineHeight(k.styles.fontSize),W=k.padding("vertical"),de=W+H;return de>F?de:F},0)},T}();p.Row=B;var M=function(){function T(I,D,L){var F,X;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=D,this.section=L,this.raw=I;var k=I;I!=null&&typeof I=="object"&&!Array.isArray(I)?(this.rowSpan=I.rowSpan||1,this.colSpan=I.colSpan||1,k=(X=(F=I.content)!==null&&F!==void 0?F:I.title)!==null&&X!==void 0?X:I,I._element&&(this.raw=I._element)):(this.rowSpan=1,this.colSpan=1);var H=k!=null?""+k:"",W=/\r\n|\r|\n/g;this.text=H.split(W)}return T.prototype.getTextPos=function(){var I;if(this.styles.valign==="top")I=this.y+this.padding("top");else if(this.styles.valign==="bottom")I=this.y+this.height-this.padding("bottom");else{var D=this.height-this.padding("vertical");I=this.y+D/2+this.padding("top")}var L;if(this.styles.halign==="right")L=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var F=this.width-this.padding("horizontal");L=this.x+F/2+this.padding("left")}else L=this.x+this.padding("left");return{x:L,y:I}},T.prototype.getContentHeight=function(I,D){D===void 0&&(D=1.15);var L=Array.isArray(this.text)?this.text.length:1,F=this.styles.fontSize/I*D,X=L*F+this.padding("vertical");return Math.max(X,this.styles.minCellHeight)},T.prototype.padding=function(I){var D=(0,E.parseSpacing)(this.styles.cellPadding,0);return I==="vertical"?D.top+D.bottom:I==="horizontal"?D.left+D.right:D[I]},T}();p.Cell=M;var P=function(){function T(I,D,L){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=I,this.raw=D,this.index=L}return T.prototype.getMaxCustomCellWidth=function(I){for(var D=0,L=0,F=I.allRows();L<F.length;L++){var X=F[L],k=X.cells[this.index];k&&typeof k.styles.cellWidth=="number"&&(D=Math.max(D,k.styles.cellWidth))}return D},T}();p.Column=P},356:function(d,p){Object.defineProperty(p,"__esModule",{value:!0}),p.assign=void 0;function y(N,S,E,w,B){if(N==null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(N),P=1;P<arguments.length;P++){var T=arguments[P];if(T!=null)for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(M[I]=T[I])}return M}p.assign=y},972:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.createTable=void 0;var N=y(744),S=y(260),E=y(324),w=y(796),B=y(356);function M(X,k){var H=new N.DocHandler(X),W=P(k,H.scaleFactor()),de=new S.Table(k,W);return(0,E.calculateWidths)(H,de),H.applyStyles(H.userStyles),de}p.createTable=M;function P(X,k){var H=X.content,W=L(H.columns);if(H.head.length===0){var de=I(W,"head");de&&H.head.push(de)}if(H.foot.length===0){var de=I(W,"foot");de&&H.foot.push(de)}var z=X.settings.theme,j=X.styles;return{columns:W,head:T("head",H.head,W,j,z,k),body:T("body",H.body,W,j,z,k),foot:T("foot",H.foot,W,j,z,k)}}function T(X,k,H,W,de,z){var j={},ie=k.map(function(re,ae){for(var J=0,$={},ce=0,ge=0,ve=0,ke=H;ve<ke.length;ve++){var U=ke[ve];if(j[U.index]==null||j[U.index].left===0)if(ge===0){var te=void 0;Array.isArray(re)?te=re[U.index-ce-J]:te=re[U.dataKey];var se={};typeof te=="object"&&!Array.isArray(te)&&(se=(te==null?void 0:te.styles)||{});var me=F(X,U,ae,de,W,z,se),oe=new S.Cell(te,me,X);$[U.dataKey]=oe,$[U.index]=oe,ge=oe.colSpan-1,j[U.index]={left:oe.rowSpan-1,times:ge}}else ge--,ce++;else j[U.index].left--,ge=j[U.index].times,J++}return new S.Row(re,ae,X,$)});return ie}function I(X,k){var H={};return X.forEach(function(W){if(W.raw!=null){var de=D(k,W.raw);de!=null&&(H[W.dataKey]=de)}}),Object.keys(H).length>0?H:null}function D(X,k){if(X==="head"){if(typeof k=="object")return k.header||k.title||null;if(typeof k=="string"||typeof k=="number")return k}else if(X==="foot"&&typeof k=="object")return k.footer;return null}function L(X){return X.map(function(k,H){var W,de,z;return typeof k=="object"?z=(de=(W=k.dataKey)!==null&&W!==void 0?W:k.key)!==null&&de!==void 0?de:H:z=H,new S.Column(z,k,H)})}function F(X,k,H,W,de,z,j){var ie=(0,w.getTheme)(W),re;X==="head"?re=de.headStyles:X==="body"?re=de.bodyStyles:X==="foot"&&(re=de.footStyles);var ae=(0,B.assign)({},ie.table,ie[X],de.styles,re),J=de.columnStyles[k.dataKey]||de.columnStyles[k.index]||{},$=X==="body"?J:{},ce=X==="body"&&H%2===0?(0,B.assign)({},ie.alternateRow,de.alternateRowStyles):{},ge=(0,w.defaultStyles)(z),ve=(0,B.assign)({},ge,ae,ce,$);return(0,B.assign)(ve,j)}},664:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.addPage=p.drawTable=void 0;var N=y(420),S=y(260),E=y(744),w=y(356),B=y(136),M=y(224);function P(J,$){var ce=$.settings,ge=ce.startY,ve=ce.margin,ke={x:ve.left,y:ge},U=$.getHeadHeight($.columns)+$.getFootHeight($.columns),te=ge+ve.bottom+U;if(ce.pageBreak==="avoid"){var se=$.body,me=se.reduce(function(Ie,Re){return Ie+Re.height},0);te+=me}var oe=new E.DocHandler(J);(ce.pageBreak==="always"||ce.startY!=null&&te>oe.pageSize().height)&&(ae(oe),ke.y=ve.top),$.callWillDrawPageHooks(oe,ke);var Me=(0,w.assign)({},ke);$.startPageNumber=oe.pageNumber(),ce.horizontalPageBreak?T(oe,$,Me,ke):(oe.applyStyles(oe.userStyles),(ce.showHead==="firstPage"||ce.showHead==="everyPage")&&$.head.forEach(function(Ie){return de(oe,$,Ie,ke,$.columns)}),oe.applyStyles(oe.userStyles),$.body.forEach(function(Ie,Re){var rt=Re===$.body.length-1;W(oe,$,Ie,rt,Me,ke,$.columns)}),oe.applyStyles(oe.userStyles),(ce.showFoot==="lastPage"||ce.showFoot==="everyPage")&&$.foot.forEach(function(Ie){return de(oe,$,Ie,ke,$.columns)})),(0,N.addTableBorder)(oe,$,Me,ke),$.callEndPageHooks(oe,ke),$.finalY=ke.y,J.lastAutoTable=$,J.previousAutoTable=$,J.autoTable&&(J.autoTable.previous=$),oe.applyStyles(oe.userStyles)}p.drawTable=P;function T(J,$,ce,ge){var ve=(0,M.calculateAllColumnsCanFitInPage)(J,$),ke=$.settings;if(ke.horizontalPageBreakBehaviour==="afterAllRows")ve.forEach(function(me,oe){J.applyStyles(J.userStyles),oe>0?re(J,$,ce,ge,me.columns,!0):I(J,$,ge,me.columns),D(J,$,ce,ge,me.columns),F(J,$,ge,me.columns)});else for(var U=-1,te=ve[0],se=function(){var me=U;if(te){J.applyStyles(J.userStyles);var oe=te.columns;U>=0?re(J,$,ce,ge,oe,!0):I(J,$,ge,oe),me=L(J,$,U+1,ge,oe),F(J,$,ge,oe)}var Me=me-U;ve.slice(1).forEach(function(Ie){J.applyStyles(J.userStyles),re(J,$,ce,ge,Ie.columns,!0),L(J,$,U+1,ge,Ie.columns,Me),F(J,$,ge,Ie.columns)}),U=me};U<$.body.length-1;)se()}function I(J,$,ce,ge){var ve=$.settings;J.applyStyles(J.userStyles),(ve.showHead==="firstPage"||ve.showHead==="everyPage")&&$.head.forEach(function(ke){return de(J,$,ke,ce,ge)})}function D(J,$,ce,ge,ve){J.applyStyles(J.userStyles),$.body.forEach(function(ke,U){var te=U===$.body.length-1;W(J,$,ke,te,ce,ge,ve)})}function L(J,$,ce,ge,ve,ke){J.applyStyles(J.userStyles),ke=ke??$.body.length;var U=Math.min(ce+ke,$.body.length),te=-1;return $.body.slice(ce,U).forEach(function(se,me){var oe=ce+me===$.body.length-1,Me=ie(J,$,oe,ge);se.canEntireRowFit(Me,ve)&&(de(J,$,se,ge,ve),te=ce+me)}),te}function F(J,$,ce,ge){var ve=$.settings;J.applyStyles(J.userStyles),(ve.showFoot==="lastPage"||ve.showFoot==="everyPage")&&$.foot.forEach(function(ke){return de(J,$,ke,ce,ge)})}function X(J,$,ce){var ge=ce.getLineHeight(J.styles.fontSize),ve=J.padding("vertical"),ke=Math.floor(($-ve)/ge);return Math.max(0,ke)}function k(J,$,ce,ge){var ve={};J.spansMultiplePages=!0,J.height=0;for(var ke=0,U=0,te=ce.columns;U<te.length;U++){var se=te[U],me=J.cells[se.index];if(me){Array.isArray(me.text)||(me.text=[me.text]);var oe=new S.Cell(me.raw,me.styles,me.section);oe=(0,w.assign)(oe,me),oe.text=[];var Me=X(me,$,ge);me.text.length>Me&&(oe.text=me.text.splice(Me,me.text.length));var Ie=ge.scaleFactor(),Re=ge.getLineHeightFactor();me.contentHeight=me.getContentHeight(Ie,Re),me.contentHeight>=$&&(me.contentHeight=$,oe.styles.minCellHeight-=$),me.contentHeight>J.height&&(J.height=me.contentHeight),oe.contentHeight=oe.getContentHeight(Ie,Re),oe.contentHeight>ke&&(ke=oe.contentHeight),ve[se.index]=oe}}var rt=new S.Row(J.raw,-1,J.section,ve,!0);rt.height=ke;for(var Xe=0,ut=ce.columns;Xe<ut.length;Xe++){var se=ut[Xe],oe=rt.cells[se.index];oe&&(oe.height=rt.height);var me=J.cells[se.index];me&&(me.height=J.height)}return rt}function H(J,$,ce,ge){var ve=J.pageSize().height,ke=ge.settings.margin,U=ke.top+ke.bottom,te=ve-U;$.section==="body"&&(te-=ge.getHeadHeight(ge.columns)+ge.getFootHeight(ge.columns));var se=$.getMinimumRowHeight(ge.columns,J),me=se<ce;if(se>te)return console.error("Will not be able to print row ".concat($.index," correctly since it's minimum height is larger than page height")),!0;if(!me)return!1;var oe=$.hasRowSpan(ge.columns),Me=$.getMaxCellHeight(ge.columns)>te;return Me?(oe&&console.error("The content of row ".concat($.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(oe||ge.settings.rowPageBreak==="avoid")}function W(J,$,ce,ge,ve,ke,U){var te=ie(J,$,ge,ke);if(ce.canEntireRowFit(te,U))de(J,$,ce,ke,U);else if(H(J,ce,te,$)){var se=k(ce,te,$,J);de(J,$,ce,ke,U),re(J,$,ve,ke,U),W(J,$,se,ge,ve,ke,U)}else re(J,$,ve,ke,U),W(J,$,ce,ge,ve,ke,U)}function de(J,$,ce,ge,ve){ge.x=$.settings.margin.left;for(var ke=0,U=ve;ke<U.length;ke++){var te=U[ke],se=ce.cells[te.index];if(!se){ge.x+=te.width;continue}J.applyStyles(se.styles),se.x=ge.x,se.y=ge.y;var me=$.callCellHooks(J,$.hooks.willDrawCell,se,ce,te,ge);if(me===!1){ge.x+=te.width;continue}z(J,se,ge);var oe=se.getTextPos();(0,B.default)(se.text,oe.x,oe.y,{halign:se.styles.halign,valign:se.styles.valign,maxWidth:Math.ceil(se.width-se.padding("left")-se.padding("right"))},J.getDocument()),$.callCellHooks(J,$.hooks.didDrawCell,se,ce,te,ge),ge.x+=te.width}ge.y+=ce.height}function z(J,$,ce){var ge=$.styles;if(J.getDocument().setFillColor(J.getDocument().getFillColor()),typeof ge.lineWidth=="number"){var ve=(0,N.getFillStyle)(ge.lineWidth,ge.fillColor);ve&&J.rect($.x,ce.y,$.width,$.height,ve)}else typeof ge.lineWidth=="object"&&(ge.fillColor&&J.rect($.x,ce.y,$.width,$.height,"F"),j(J,$,ce,ge.lineWidth))}function j(J,$,ce,ge){var ve,ke,U,te;ge.top&&(ve=ce.x,ke=ce.y,U=ce.x+$.width,te=ce.y,ge.right&&(U+=.5*ge.right),ge.left&&(ve-=.5*ge.left),se(ge.top,ve,ke,U,te)),ge.bottom&&(ve=ce.x,ke=ce.y+$.height,U=ce.x+$.width,te=ce.y+$.height,ge.right&&(U+=.5*ge.right),ge.left&&(ve-=.5*ge.left),se(ge.bottom,ve,ke,U,te)),ge.left&&(ve=ce.x,ke=ce.y,U=ce.x,te=ce.y+$.height,ge.top&&(ke-=.5*ge.top),ge.bottom&&(te+=.5*ge.bottom),se(ge.left,ve,ke,U,te)),ge.right&&(ve=ce.x+$.width,ke=ce.y,U=ce.x+$.width,te=ce.y+$.height,ge.top&&(ke-=.5*ge.top),ge.bottom&&(te+=.5*ge.bottom),se(ge.right,ve,ke,U,te));function se(me,oe,Me,Ie,Re){J.getDocument().setLineWidth(me),J.getDocument().line(oe,Me,Ie,Re,"S")}}function ie(J,$,ce,ge){var ve=$.settings.margin.bottom,ke=$.settings.showFoot;return(ke==="everyPage"||ke==="lastPage"&&ce)&&(ve+=$.getFootHeight($.columns)),J.pageSize().height-ge.y-ve}function re(J,$,ce,ge,ve,ke){ve===void 0&&(ve=[]),ke===void 0&&(ke=!1),J.applyStyles(J.userStyles),$.settings.showFoot==="everyPage"&&!ke&&$.foot.forEach(function(te){return de(J,$,te,ge,ve)}),$.callEndPageHooks(J,ge);var U=$.settings.margin;(0,N.addTableBorder)(J,$,ce,ge),ae(J),$.pageNumber++,$.pageCount++,ge.x=U.left,ge.y=U.top,ce.y=U.top,$.callWillDrawPageHooks(J,ge),$.settings.showHead==="everyPage"&&($.head.forEach(function(te){return de(J,$,te,ge,ve)}),J.applyStyles(J.userStyles))}p.addPage=re;function ae(J){var $=J.pageNumber();J.setPage($+1);var ce=J.pageNumber();return ce===$?(J.addPage(),!0):!1}},224:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.calculateAllColumnsCanFitInPage=void 0;var N=y(420);function S(w,B,M){var P;M===void 0&&(M={});var T=(0,N.getPageAvailableWidth)(w,B),I=new Map,D=[],L=[],F=[];B.settings.horizontalPageBreakRepeat,Array.isArray(B.settings.horizontalPageBreakRepeat)?F=B.settings.horizontalPageBreakRepeat:(typeof B.settings.horizontalPageBreakRepeat=="string"||typeof B.settings.horizontalPageBreakRepeat=="number")&&(F=[B.settings.horizontalPageBreakRepeat]),F.forEach(function(W){var de=B.columns.find(function(z){return z.dataKey===W||z.index===W});de&&!I.has(de.index)&&(I.set(de.index,!0),D.push(de.index),L.push(B.columns[de.index]),T-=de.wrappedWidth)});for(var X=!0,k=(P=M==null?void 0:M.start)!==null&&P!==void 0?P:0;k<B.columns.length;){if(I.has(k)){k++;continue}var H=B.columns[k].wrappedWidth;if(X||T>=H)X=!1,D.push(k),L.push(B.columns[k]),T-=H;else break;k++}return{colIndexes:D,columns:L,lastIndex:k-1}}function E(w,B){for(var M=[],P=0;P<B.columns.length;P++){var T=S(w,B,{start:P});T.columns.length&&(M.push(T),P=T.lastIndex)}return M}p.calculateAllColumnsCanFitInPage=E},324:function(d,p,y){Object.defineProperty(p,"__esModule",{value:!0}),p.ellipsize=p.resizeColumns=p.calculateWidths=void 0;var N=y(420);function S(D,L){E(D,L);var F=[],X=0;L.columns.forEach(function(H){var W=H.getMaxCustomCellWidth(L);W?H.width=W:(H.width=H.wrappedWidth,F.push(H)),X+=H.width});var k=L.getWidth(D.pageSize().width)-X;k&&(k=w(F,k,function(H){return Math.max(H.minReadableWidth,H.minWidth)})),k&&(k=w(F,k,function(H){return H.minWidth})),k=Math.abs(k),!L.settings.horizontalPageBreak&&k>.1/D.scaleFactor()&&(k=k<1?k:Math.round(k),console.warn("Of the table content, ".concat(k," units width could not fit page"))),M(L),P(L,D),B(L)}p.calculateWidths=S;function E(D,L){var F=D.scaleFactor(),X=L.settings.horizontalPageBreak,k=(0,N.getPageAvailableWidth)(D,L);L.allRows().forEach(function(H){for(var W=0,de=L.columns;W<de.length;W++){var z=de[W],j=H.cells[z.index];if(j){var ie=L.hooks.didParseCell;L.callCellHooks(D,ie,j,H,z,null);var re=j.padding("horizontal");j.contentWidth=(0,N.getStringWidth)(j.text,j.styles,D)+re;var ae=(0,N.getStringWidth)(j.text.join(" ").split(/[^\S\u00A0]+/),j.styles,D);if(j.minReadableWidth=ae+j.padding("horizontal"),typeof j.styles.cellWidth=="number")j.minWidth=j.styles.cellWidth,j.wrappedWidth=j.styles.cellWidth;else if(j.styles.cellWidth==="wrap"||X===!0)j.contentWidth>k?(j.minWidth=k,j.wrappedWidth=k):(j.minWidth=j.contentWidth,j.wrappedWidth=j.contentWidth);else{var J=10/F;j.minWidth=j.styles.minCellWidth||J,j.wrappedWidth=j.contentWidth,j.minWidth>j.wrappedWidth&&(j.wrappedWidth=j.minWidth)}}}}),L.allRows().forEach(function(H){for(var W=0,de=L.columns;W<de.length;W++){var z=de[W],j=H.cells[z.index];if(j&&j.colSpan===1)z.wrappedWidth=Math.max(z.wrappedWidth,j.wrappedWidth),z.minWidth=Math.max(z.minWidth,j.minWidth),z.minReadableWidth=Math.max(z.minReadableWidth,j.minReadableWidth);else{var ie=L.styles.columnStyles[z.dataKey]||L.styles.columnStyles[z.index]||{},re=ie.cellWidth||ie.minCellWidth;re&&typeof re=="number"&&(z.minWidth=re,z.wrappedWidth=re)}j&&(j.colSpan>1&&!z.minWidth&&(z.minWidth=j.minWidth),j.colSpan>1&&!z.wrappedWidth&&(z.wrappedWidth=j.minWidth))}})}function w(D,L,F){for(var X=L,k=D.reduce(function(J,$){return J+$.wrappedWidth},0),H=0;H<D.length;H++){var W=D[H],de=W.wrappedWidth/k,z=X*de,j=W.width+z,ie=F(W),re=j<ie?ie:j;L-=re-W.width,W.width=re}if(L=Math.round(L*1e10)/1e10,L){var ae=D.filter(function(J){return L<0?J.width>F(J):!0});ae.length&&(L=w(ae,L,F))}return L}p.resizeColumns=w;function B(D){for(var L={},F=1,X=D.allRows(),k=0;k<X.length;k++)for(var H=X[k],W=0,de=D.columns;W<de.length;W++){var z=de[W],j=L[z.index];if(F>1)F--,delete H.cells[z.index];else if(j)j.cell.height+=H.height,F=j.cell.colSpan,delete H.cells[z.index],j.left--,j.left<=1&&delete L[z.index];else{var ie=H.cells[z.index];if(!ie)continue;if(ie.height=H.height,ie.rowSpan>1){var re=X.length-k,ae=ie.rowSpan>re?re:ie.rowSpan;L[z.index]={cell:ie,left:ae,row:H}}}}}function M(D){for(var L=D.allRows(),F=0;F<L.length;F++)for(var X=L[F],k=null,H=0,W=0,de=0;de<D.columns.length;de++){var z=D.columns[de];if(W-=1,W>1&&D.columns[de+1])H+=z.width,delete X.cells[z.index];else if(k){var j=k;delete X.cells[z.index],k=null,j.width=z.width+H}else{var j=X.cells[z.index];if(!j)continue;if(W=j.colSpan,H=0,j.colSpan>1){k=j,H+=z.width;continue}j.width=z.width+H}}}function P(D,L){for(var F={count:0,height:0},X=0,k=D.allRows();X<k.length;X++){for(var H=k[X],W=0,de=D.columns;W<de.length;W++){var z=de[W],j=H.cells[z.index];if(j){L.applyStyles(j.styles,!0);var ie=j.width-j.padding("horizontal");if(j.styles.overflow==="linebreak")j.text=L.splitTextToSize(j.text,ie+1/L.scaleFactor(),{fontSize:j.styles.fontSize});else if(j.styles.overflow==="ellipsize")j.text=T(j.text,ie,j.styles,L,"...");else if(j.styles.overflow==="hidden")j.text=T(j.text,ie,j.styles,L,"");else if(typeof j.styles.overflow=="function"){var re=j.styles.overflow(j.text,ie);typeof re=="string"?j.text=[re]:j.text=re}j.contentHeight=j.getContentHeight(L.scaleFactor(),L.getLineHeightFactor());var ae=j.contentHeight/j.rowSpan;j.rowSpan>1&&F.count*F.height<ae*j.rowSpan?F={height:ae,count:j.rowSpan}:F&&F.count>0&&F.height>ae&&(ae=F.height),ae>H.height&&(H.height=ae)}}F.count--}}function T(D,L,F,X,k){return D.map(function(H){return I(H,L,F,X,k)})}p.ellipsize=T;function I(D,L,F,X,k){var H=1e4*X.scaleFactor();if(L=Math.ceil(L*H)/H,L>=(0,N.getStringWidth)(D,F,X))return D;for(;L<(0,N.getStringWidth)(D+k,F,X)&&!(D.length<=1);)D=D.substring(0,D.length-1);return D.trim()+k}},964:function(d){if(typeof n>"u"){var p=new Error("Cannot find module 'undefined'");throw p.code="MODULE_NOT_FOUND",p}d.exports=n}},s={};function o(d){var p=s[d];if(p!==void 0)return p.exports;var y=s[d]={exports:{}};return r[d].call(y.exports,y,y.exports,o),y.exports}var f={};return function(){var d=f;Object.defineProperty(d,"__esModule",{value:!0}),d.Cell=d.Column=d.Row=d.Table=d.CellHookData=d.__drawTable=d.__createTable=d.applyPlugin=void 0;var p=o(340),y=o(776),N=o(664),S=o(972),E=o(260);Object.defineProperty(d,"Table",{enumerable:!0,get:function(){return E.Table}});var w=o(172);Object.defineProperty(d,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var B=o(260);Object.defineProperty(d,"Cell",{enumerable:!0,get:function(){return B.Cell}}),Object.defineProperty(d,"Column",{enumerable:!0,get:function(){return B.Column}}),Object.defineProperty(d,"Row",{enumerable:!0,get:function(){return B.Row}});function M(L){(0,p.default)(L)}d.applyPlugin=M;function P(L,F){var X=(0,y.parseInput)(L,F),k=(0,S.createTable)(L,X);(0,N.drawTable)(L,k)}function T(L,F){var X=(0,y.parseInput)(L,F);return(0,S.createTable)(L,X)}d.__createTable=T;function I(L,F){(0,N.drawTable)(L,F)}d.__drawTable=I;try{var D=o(964);D.jsPDF&&(D=D.jsPDF),M(D)}catch{}d.default=P}(),f}()})})(m6);const y6=e=>{const t=String(e??"");return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},jl=(e,t,n)=>{const s=[e.join(","),...t.map(d=>d.map(y6).join(","))].join(`
`),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const d=URL.createObjectURL(o);f.setAttribute("href",d),f.setAttribute("download",`${n}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}},N1=({status:e})=>{const t={[st.PENDING_ASSIGNMENT]:"bg-yellow-100 text-yellow-800",[st.ASSIGNED_TO_COURIER]:"bg-blue-100 text-blue-800",[st.PICKED_UP]:"bg-indigo-100 text-indigo-800",[st.IN_TRANSIT]:"bg-purple-100 text-purple-800",[st.OUT_FOR_DELIVERY]:"bg-cyan-100 text-cyan-800",[st.DELIVERED]:"bg-green-100 text-green-800",[st.DELIVERY_FAILED]:"bg-red-100 text-red-800",[st.RETURN_REQUESTED]:"bg-orange-100 text-orange-800",[st.RETURN_IN_PROGRESS]:"bg-fuchsia-100 text-fuchsia-800",[st.RETURNED]:"bg-slate-100 text-slate-800"};return x.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t[e]}`,children:e})},Z2=({shipments:e,onSelect:t,showClientFee:n=!1,showCourierCommission:r=!1,showNetProfit:s=!1,showEditableFees:o=!1,updateShipmentFees:f})=>{const[d,p]=Ge.useState(null),[y,N]=Ge.useState(""),S=M=>![st.DELIVERED,st.RETURNED,st.DELIVERY_FAILED].includes(M),E=(M,P)=>{p({shipmentId:M.id,field:P});const T=P==="clientFee"?M.clientFlatRateFee:M.courierCommission;N(String(T||""))},w=()=>{if(!d||!f)return;const M=parseFloat(y);if(!isNaN(M)&&M>=0){const P=d.field==="clientFee"?{clientFlatRateFee:M}:{courierCommission:M};f(d.shipmentId,P)}p(null),N("")},B=(M,P)=>{const T=(d==null?void 0:d.shipmentId)===M.id&&(d==null?void 0:d.field)===P,I=P==="clientFee"?M.clientFlatRateFee:M.courierCommission,D=typeof I=="number"?`${I.toFixed(2)} EGP`:"N/A",L=o&&S(M.status)&&f;return T?x.jsx("input",{type:"number",value:y,onChange:F=>N(F.target.value),onBlur:w,onKeyDown:F=>F.key==="Enter"&&w(),autoFocus:!0,className:"w-24 p-1 border border-primary-500 rounded-md"}):x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("span",{children:D}),L&&x.jsx("button",{onClick:()=>E(M,P),className:"p-1 text-slate-400 hover:text-primary-600 rounded-md opacity-0 group-hover:opacity-100 transition",title:`Edit ${P==="clientFee"?"Client Fee":"Courier Commission"}`,children:x.jsx(b1,{className:"w-3.5 h-3.5"})})]})};return x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"ID"}),x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"From"}),x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Recipient"}),x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Price"}),n&&x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Client Fee"}),r&&x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Courier Commission"}),s&&x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600",children:"Net Profit"}),t&&x.jsx("th",{className:"px-6 py-3 text-sm font-semibold text-slate-600"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(M=>{const P=M.clientFlatRateFee,T=M.courierCommission;let I=0,D="N/A";return s&&typeof P=="number"&&typeof T=="number"?(I=P-T,D=`${I.toFixed(2)} EGP`):s&&typeof P=="number"&&(D=`${P.toFixed(2)} EGP`),x.jsxs("tr",{className:"hover:bg-slate-50 transition group",children:[x.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:M.id}),x.jsx("td",{className:"px-6 py-4 text-slate-800 font-medium",children:M.clientName}),x.jsx("td",{className:"px-6 py-4 text-slate-800 font-medium",children:M.recipientName}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(M.creationDate).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-4",children:x.jsx(N1,{status:M.status})}),x.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800",children:[M.price.toFixed(2)," EGP"]}),n&&x.jsx("td",{className:"px-6 py-4 font-semibold text-orange-600",children:B(M,"clientFee")}),r&&x.jsx("td",{className:"px-6 py-4 font-semibold text-indigo-600",children:B(M,"courierCommission")}),s&&x.jsx("td",{className:`px-6 py-4 font-bold ${I>0?"text-green-600":I<0?"text-red-600":"text-slate-600"}`,children:D}),t&&x.jsx("td",{className:"px-6 py-4",children:x.jsx("button",{onClick:()=>t(M),className:"text-primary-600 hover:text-primary-800 font-semibold",children:"Details"})})]},M.id)}),e.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:10,className:"text-center py-8 text-slate-500",children:"No shipments found for the selected period."})})]})]})})},v6=({onSelectShipment:e})=>{const{currentUser:t,shipments:n,users:r,updateShipmentFees:s}=di(),[o,f]=Ge.useState(""),[d,p]=Ge.useState("all"),[y,N]=Ge.useState("all"),[S,E]=Ge.useState(""),w=r.filter(T=>T.role===ot.CLIENT);if(!t)return null;const B=t.role===ot.ADMIN||t.role===ot.SUPER_USER,M=Ge.useMemo(()=>{let T=n;t.role===ot.CLIENT&&(T=n.filter(D=>D.clientId===t.id));let I=T;return S&&(I=I.filter(D=>D.creationDate.startsWith(S))),t.role===ot.ADMIN&&(d!=="all"&&(I=I.filter(D=>D.clientId===d)),o.trim()!==""&&(I=I.filter(D=>D.id.toLowerCase().includes(o.trim().toLowerCase()))),y!=="all"&&(I=I.filter(D=>D.status===y))),I.sort((D,L)=>new Date(L.creationDate).getTime()-new Date(D.creationDate).getTime())},[t,n,S,o,d,y]),P=()=>{if(!t)return;const T=M;if(B){const I=["ID","Client","Recipient","Recipient Phone","Date","Status","Courier","Price (EGP)","Client Fee (EGP)","Courier Commission (EGP)","Net Profit (EGP)"],D=T.map(L=>{var W;const F=((W=r.find(de=>de.id===L.courierId))==null?void 0:W.name)||"N/A",X=L.clientFlatRateFee||0,k=L.courierCommission||0;let H=0;return L.courierId&&L.clientFlatRateFee&&L.courierCommission&&(H=X-k),[L.id,L.clientName,L.recipientName,L.recipientPhone,new Date(L.creationDate).toLocaleDateString(),L.status,F,L.price.toFixed(2),X.toFixed(2),k.toFixed(2),H.toFixed(2)]});jl(I,D,"All_Shipments_Report")}else if(t.role===ot.CLIENT){const I=["ID","Recipient","Date","Status","Price (EGP)"],D=T.map(L=>[L.id,L.recipientName,new Date(L.creationDate).toLocaleDateString(),L.status,L.price.toFixed(2)]);jl(I,D,`Client_Shipments_${t.name.replace(/\s/g,"_")}`)}};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex justify-between items-center mb-4",children:x.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t.role===ot.CLIENT?"My Shipments":"All Shipments"})}),(t.role===ot.CLIENT||t.role===ot.ADMIN)&&x.jsxs("div",{className:"mb-6 bg-white p-4 rounded-xl shadow-sm flex flex-col md:flex-row gap-4 items-center flex-wrap",children:[t.role===ot.ADMIN&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex-grow w-full md:w-auto",children:x.jsx("input",{type:"text",placeholder:"Search by Shipment ID...",value:o,onChange:T=>f(T.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})}),x.jsx("div",{className:"flex-grow w-full md:w-auto",children:x.jsxs("select",{value:d,onChange:T=>p(T.target.value==="all"?"all":Number(T.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[x.jsx("option",{value:"all",children:"All Clients"}),w.map(T=>x.jsx("option",{value:T.id,children:T.name},T.id))]})}),x.jsx("div",{className:"flex-grow w-full md:w-auto",children:x.jsxs("select",{value:y,onChange:T=>N(T.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white",children:[x.jsx("option",{value:"all",children:"All Statuses"}),Object.values(st).map(T=>x.jsx("option",{value:T,children:T},T))]})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"date",value:S,onChange:T=>E(T.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white","aria-label":"Filter by creation date"}),S&&x.jsx("button",{onClick:()=>E(""),className:"px-4 py-2 text-sm font-semibold text-slate-600 rounded-lg hover:bg-slate-200 transition","aria-label":"Clear date filter",children:"Clear"})]}),x.jsx("div",{className:"md:ml-auto",children:x.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[x.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]})})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:x.jsx(Z2,{shipments:M,onSelect:e,showClientFee:B,showCourierCommission:B,showNetProfit:B,showEditableFees:B,updateShipmentFees:s})})]})},ay=({label:e,value:t,onChange:n})=>{const r=Ge.useRef(null),[s,o]=Ge.useState(t.street);Ge.useEffect(()=>{t.street!==s&&o(t.street)},[t.street,s]),Ge.useEffect(()=>{if(!window.google||!r.current)return;const d=new window.google.maps.places.Autocomplete(r.current,{componentRestrictions:{country:"eg"},fields:["address_components"]});return d.addListener("place_changed",()=>{var M,P;const p=d.getPlace();if(!p.address_components)return;const y=((M=p.address_components.find(T=>T.types.includes("street_number")))==null?void 0:M.long_name)||"",N=((P=p.address_components.find(T=>T.types.includes("route")))==null?void 0:P.long_name)||"",S=`${y} ${N}`.trim();o(S);const E=p.address_components.find(T=>T.types.includes("administrative_area_level_1"));let w=t.city;E!=null&&E.long_name.includes("Cairo")&&(w="Cairo"),E!=null&&E.long_name.includes("Giza")&&(w="Giza");const B=Object.values(kn).find(T=>T.toLowerCase().startsWith(w.toLowerCase()));n({...t,street:S,city:w,zone:B||t.zone})}),()=>{if(window.google&&d){window.google.maps.event.clearInstanceListeners(d);const p=document.getElementsByClassName("pac-container");for(;p.length>0;)p[0].remove()}}},[n,t]);const f=d=>{o(d.target.value),n({...t,street:d.target.value})};return x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:e}),x.jsx("input",{ref:r,type:"text",value:s,onChange:f,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"Start typing a street address...",required:!0})]})},b6=()=>{const{currentUser:e,addShipment:t,addToast:n}=di(),[r,s]=Ge.useState(""),[o,f]=Ge.useState(""),[d,p]=Ge.useState({street:"",city:"Cairo",zone:kn.CAIRO_ZONE_A,details:""}),[y,N]=Ge.useState(""),[S,E]=Ge.useState(fr.COD),[w,B]=Ge.useState(_o.STANDARD),[M,P]=Ge.useState(""),T=(e==null?void 0:e.flatRateFee)||0,I=parseFloat(M)||0,D=I+T,L=X=>{if(X.preventDefault(),!(e!=null&&e.address)){n("Please complete your profile address before creating a shipment.","error");return}const k=parseFloat(M);if(isNaN(k)||k<=0){n("Please enter a valid price for the package contents.","error");return}if(S===fr.WALLET&&((e==null?void 0:e.walletBalance)??0)<D){n(`Insufficient wallet balance to cover the shipping fee. Your balance is ${((e==null?void 0:e.walletBalance)??0).toFixed(2)} EGP, but the total cost is ${D.toFixed(2)} EGP.`,"error");return}t({recipientName:r,recipientPhone:o,fromAddress:e.address,toAddress:d,packageDescription:y,isLargeOrder:!1,price:D,paymentMethod:S,priority:w,packageValue:k}),s(""),f(""),p({street:"",city:"Cairo",zone:kn.CAIRO_ZONE_A,details:""}),N(""),E(fr.COD),B(_o.STANDARD),P("")},F=Object.values(kn).filter(X=>X.toLowerCase().startsWith(d.city.toLowerCase()));return x.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm max-w-4xl mx-auto",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Create a New Shipment"}),x.jsxs("form",{onSubmit:L,className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Name"}),x.jsx("input",{type:"text",value:r,onChange:X=>s(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient Phone"}),x.jsx("input",{type:"tel",value:o,onChange:X=>f(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),x.jsx(ay,{label:"Recipient Street Address",value:d,onChange:p}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),x.jsxs("select",{value:d.city,onChange:X=>p(k=>({...k,city:X.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-slate-100",disabled:!0,children:[x.jsx("option",{value:"Cairo",children:"Cairo"}),x.jsx("option",{value:"Giza",children:"Giza"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),x.jsx("select",{value:d.zone,onChange:X=>p(k=>({...k,zone:X.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:F.map(X=>x.jsx("option",{value:X,children:X},X))})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Description"}),x.jsx("textarea",{value:y,onChange:X=>N(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",rows:3})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Package Priority"}),x.jsx("select",{value:w,onChange:X=>B(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:Object.values(_o).map(X=>x.jsx("option",{value:X,children:X},X))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price of Package Contents (EGP)"}),x.jsx("input",{type:"number",value:M,onChange:X=>P(X.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",required:!0,placeholder:"e.g. 500",min:"0.01",step:"0.01"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method"}),x.jsx("div",{className:"flex gap-4",children:Object.values(fr).map(X=>x.jsx("button",{type:"button",onClick:()=>E(X),className:`px-4 py-2 rounded-lg border-2 transition font-semibold ${S===X?"bg-primary-600 text-white border-primary-600":"bg-white text-slate-700 border-slate-300 hover:border-primary-500"}`,children:X},X))})]}),x.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg text-right",children:[x.jsxs("div",{className:"text-sm text-slate-600",children:["Price of Contents: ",x.jsxs("span",{className:"font-semibold",children:[I.toFixed(2)," EGP"]})]}),x.jsxs("div",{className:"text-sm text-slate-600",children:["Shipping Fee: ",x.jsxs("span",{className:"font-semibold",children:[T.toFixed(2)," EGP"]})]}),x.jsxs("div",{className:"text-lg font-bold text-slate-800 mt-1",children:["Total (Price + Shipping): ",x.jsxs("span",{className:"text-primary-600",children:[D.toFixed(2)," EGP"]})]}),S===fr.COD&&x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total amount to be collected by courier."})]}),x.jsx("div",{className:"text-right pt-2",children:x.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition",children:[x.jsx(q2,{className:"w-5 h-5 mr-2"}),"Create Shipment"]})})]})]})},w6=()=>{const{shipments:e,users:t,assignShipmentToCourier:n,canCourierReceiveAssignment:r,addToast:s}=di(),o=e.filter(p=>p.status===st.PENDING_ASSIGNMENT),f=t.filter(p=>p.role===ot.COURIER),d=async(p,y)=>{if(!y){s("Please select a courier","error");return}try{if(await n(p,parseInt(y))){const S=document.querySelector(`select[data-shipment-id="${p}"]`);S&&(S.value="")}}catch{s("Failed to assign shipment","error")}};return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsxs("div",{className:"p-5 border-b border-slate-200",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Assign Shipments"}),x.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign pending shipments to available couriers based on their zone."})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Destination Zone"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[o.map(p=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:p.id}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:p.toAddress.zone})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("select",{onChange:y=>d(p.id,y.target.value),defaultValue:"","data-shipment-id":p.id,className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"",disabled:!0,children:"Select an available courier..."}),f.filter(y=>y.zone===p.toAddress.zone&&r(y.id)).map(y=>x.jsxs("option",{value:y.id,children:[y.name," (",y.zone,")"]},y.id)),f.filter(y=>y.zone===p.toAddress.zone&&r(y.id)).length===0&&x.jsxs("option",{value:"",disabled:!0,children:["No available couriers in ",p.toAddress.zone]})]})})]},p.id)),o.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:3,className:"text-center py-8 text-slate-500",children:"No shipments pending assignment."})})]})]})})]})};var wt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wt||(wt={}));var Am=new Map([[wt.QR_CODE,"QR_CODE"],[wt.AZTEC,"AZTEC"],[wt.CODABAR,"CODABAR"],[wt.CODE_39,"CODE_39"],[wt.CODE_93,"CODE_93"],[wt.CODE_128,"CODE_128"],[wt.DATA_MATRIX,"DATA_MATRIX"],[wt.MAXICODE,"MAXICODE"],[wt.ITF,"ITF"],[wt.EAN_13,"EAN_13"],[wt.EAN_8,"EAN_8"],[wt.PDF_417,"PDF_417"],[wt.RSS_14,"RSS_14"],[wt.RSS_EXPANDED,"RSS_EXPANDED"],[wt.UPC_A,"UPC_A"],[wt.UPC_E,"UPC_E"],[wt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Sm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Sm||(Sm={}));function A6(e){return Object.values(wt).includes(e)}var Vo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vo||(Vo={}));var Ya=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Vo.SCAN_TYPE_CAMERA,Vo.SCAN_TYPE_FILE],e}(),sy=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Am.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Am.get(t))},e}(),Nm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),zd;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zd||(zd={}));var oy=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:zd.UNKWOWN_ERROR}},e}(),ly=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function os(e){return typeof e>"u"||e===null}function S6(e,t,n){return e>n?n:e<t?t:e}var yc=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Tn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Cm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),cy=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),f=Object.keys(t),d=0,p=f;d<p.length;d++){var y=p[d];if(o.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e}(),Hd={exports:{}};(function(e,t){(function(n,r){r(t)})(yo,function(n){function r(G){return G==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,i){G.__proto__=i}||function(G,i){for(var a in i)i.hasOwnProperty(a)&&(G[a]=i[a])};function o(G,i){s(G,i);function a(){this.constructor=G}G.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function f(G,i){var a=Object.setPrototypeOf;a?a(G,i):G.__proto__=i}function d(G,i){i===void 0&&(i=G.constructor);var a=Error.captureStackTrace;a&&a(G,i)}var p=function(G){o(i,G);function i(a){var l=this.constructor,c=G.call(this,a)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),f(c,l.prototype),d(c),c}return i}(Error);class y extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}y.kind="Exception";class N extends y{}N.kind="ArgumentException";class S extends y{}S.kind="IllegalArgumentException";class E{constructor(i){if(this.binarizer=i,i===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,l,c){const u=this.binarizer.getLuminanceSource().crop(i,a,l,c);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class w extends y{static getChecksumInstance(){return new w}}w.kind="ChecksumException";class B{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(i,a,l,c,u){for(;u--;)l[c++]=i[a++]}static currentTimeMillis(){return Date.now()}}class P extends y{}P.kind="IndexOutOfBoundsException";class T extends P{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}T.kind="ArrayIndexOutOfBoundsException";class I{static fill(i,a){for(let l=0,c=i.length;l<c;l++)i[l]=a}static fillWithin(i,a,l,c){I.rangeCheck(i.length,a,l);for(let u=a;u<l;u++)i[u]=c}static rangeCheck(i,a,l){if(a>l)throw new S("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new T(a);if(l>i)throw new T(l)}static asList(...i){return i}static create(i,a,l){return Array.from({length:i}).map(u=>Array.from({length:a}).fill(l))}static createInt32Array(i,a,l){return Array.from({length:i}).map(u=>Int32Array.from({length:a}).fill(l))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let l=0,c=i.length;l<c;l++)if(i[l]!==a[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const l of i)a=31*a+l;return a}static fillUint8Array(i,a){for(let l=0;l!==i.length;l++)i[l]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const l=new Uint8Array(a);return l.set(i),l}return i.slice(0,a)}static copyOfRange(i,a,l){const c=l-a,u=new Int32Array(c);return M.arraycopy(i,a,u,0,c),u}static binarySearch(i,a,l){l===void 0&&(l=I.numberComparator);let c=0,u=i.length-1;for(;c<=u;){const h=u+c>>1,m=l(a,i[h]);if(m>0)c=h+1;else if(m<0)u=h-1;else return h}return-c-1}static numberComparator(i,a){return i-a}}class D{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let l=31;return a=i<<16,a!==0&&(l-=16,i=a),a=i<<8,a!==0&&(l-=8,i=a),a=i<<4,a!==0&&(l-=4,i=a),a=i<<2,a!==0&&(l-=2,i=a),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}D.MIN_VALUE_32_BITS=-2147483648,D.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=L.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=L.makeArray(i);M.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=l[c]}const m=c*32+D.numberOfTrailingZeros(u);return m>a?a:m}getNextUnset(i){const a=this.size;if(i>=a)return a;const l=this.bits;let c=Math.floor(i/32),u=~l[c];u&=~((1<<(i&31))-1);const h=l.length;for(;u===0;){if(++c===h)return a;u=~l[c]}const m=c*32+D.numberOfTrailingZeros(u);return m>a?a:m}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new S;if(a===i)return;a--;const l=Math.floor(i/32),c=Math.floor(a/32),u=this.bits;for(let h=l;h<=c;h++){const m=h>l?0:i&31,C=(2<<(h<c?31:a&31))-(1<<m);u[h]|=C}}clear(){const i=this.bits.length,a=this.bits;for(let l=0;l<i;l++)a[l]=0}isRange(i,a,l){if(a<i||i<0||a>this.size)throw new S;if(a===i)return!0;a--;const c=Math.floor(i/32),u=Math.floor(a/32),h=this.bits;for(let m=c;m<=u;m++){const b=m>c?0:i&31,R=(2<<(m<u?31:a&31))-(1<<b)&4294967295;if((h[m]&R)!==(l?R:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new S("Sizes don't match");const a=this.bits;for(let l=0,c=a.length;l<c;l++)a[l]^=i.bits[l]}toBytes(i,a,l,c){for(let u=0;u<c;u++){let h=0;for(let m=0;m<8;m++)this.get(i)&&(h|=1<<7-m),i++;a[l+u]=h}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,c=this.bits;for(let u=0;u<l;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,i[a-u]=h}if(this.size!==l*32){const u=l*32-this.size;let h=i[0]>>>u;for(let m=1;m<l;m++){const b=i[m];h|=b<<32-u,i[m-1]=h,h=b>>>u}i[l-1]=h}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof L))return!1;const a=i;return this.size===a.size&&I.equals(this.bits,a.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let i="";for(let a=0,l=this.size;a<l;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new L(this.size,this.bits.slice())}}var F;(function(G){G[G.OTHER=0]="OTHER",G[G.PURE_BARCODE=1]="PURE_BARCODE",G[G.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",G[G.TRY_HARDER=3]="TRY_HARDER",G[G.CHARACTER_SET=4]="CHARACTER_SET",G[G.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",G[G.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",G[G.ASSUME_GS1=7]="ASSUME_GS1",G[G.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",G[G.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",G[G.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var X=F;class k extends y{static getFormatInstance(){return new k}}k.kind="FormatException";var H;(function(G){G[G.Cp437=0]="Cp437",G[G.ISO8859_1=1]="ISO8859_1",G[G.ISO8859_2=2]="ISO8859_2",G[G.ISO8859_3=3]="ISO8859_3",G[G.ISO8859_4=4]="ISO8859_4",G[G.ISO8859_5=5]="ISO8859_5",G[G.ISO8859_6=6]="ISO8859_6",G[G.ISO8859_7=7]="ISO8859_7",G[G.ISO8859_8=8]="ISO8859_8",G[G.ISO8859_9=9]="ISO8859_9",G[G.ISO8859_10=10]="ISO8859_10",G[G.ISO8859_11=11]="ISO8859_11",G[G.ISO8859_13=12]="ISO8859_13",G[G.ISO8859_14=13]="ISO8859_14",G[G.ISO8859_15=14]="ISO8859_15",G[G.ISO8859_16=15]="ISO8859_16",G[G.SJIS=16]="SJIS",G[G.Cp1250=17]="Cp1250",G[G.Cp1251=18]="Cp1251",G[G.Cp1252=19]="Cp1252",G[G.Cp1256=20]="Cp1256",G[G.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",G[G.UTF8=22]="UTF8",G[G.ASCII=23]="ASCII",G[G.Big5=24]="Big5",G[G.GB18030=25]="GB18030",G[G.EUC_KR=26]="EUC_KR"})(H||(H={}));class W{constructor(i,a,l,...c){this.valueIdentifier=i,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=c,W.VALUE_IDENTIFIER_TO_ECI.set(i,this),W.NAME_TO_ECI.set(l,this);const u=this.values;for(let h=0,m=u.length;h!==m;h++){const b=u[h];W.VALUES_TO_ECI.set(b,this)}for(const h of c)W.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new k("incorect value");const a=W.VALUES_TO_ECI.get(i);if(a===void 0)throw new k("incorect value");return a}static getCharacterSetECIByName(i){const a=W.NAME_TO_ECI.get(i);if(a===void 0)throw new k("incorect value");return a}equals(i){if(!(i instanceof W))return!1;const a=i;return this.getName()===a.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(H.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(H.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(H.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(H.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(H.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(H.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(H.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(H.Big5,28,"Big5"),W.GB18030=new W(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(H.EUC_KR,30,"EUC_KR","EUC-KR");class de extends y{}de.kind="UnsupportedOperationException";class z{static decode(i,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!z.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof W?i:W.getCharacterSetECIByName(i)}static decodeFallback(i,a){const l=this.encodingCharacterSet(a);if(z.isDecodeFallbackSupported(l)){let c="";for(let u=0,h=i.length;u<h;u++){let m=i[u].toString(16);m.length<2&&(m="0"+m),c+="%"+m}return decodeURIComponent(c)}if(l.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new de(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(W.UTF8)||i.equals(W.ISO8859_1)||i.equals(W.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let u=0;u<l.length;u++)c.push(l[u].charCodeAt(0));return new Uint8Array(c)}}class j{static castAsNonUtf8Char(i,a=null){const l=a?a.getName():this.ISO88591;return z.decode(new Uint8Array([i]),l)}static guessEncoding(i,a){if(a!=null&&a.get(X.CHARACTER_SET)!==void 0)return a.get(X.CHARACTER_SET).toString();const l=i.length;let c=!0,u=!0,h=!0,m=0,b=0,C=0,R=0,q=0,Q=0,fe=0,be=0,Ae=0,_e=0,Fe=0;const et=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let at=0;at<l&&(c||u||h);at++){const tt=i[at]&255;h&&(m>0?tt&128?m--:h=!1:tt&128&&(tt&64?(m++,tt&32?(m++,tt&16?(m++,tt&8?h=!1:R++):C++):b++):h=!1)),c&&(tt>127&&tt<160?c=!1:tt>159&&(tt<192||tt===215||tt===247)&&Fe++),u&&(q>0?tt<64||tt===127||tt>252?u=!1:q--:tt===128||tt===160||tt>239?u=!1:tt>160&&tt<224?(Q++,be=0,fe++,fe>Ae&&(Ae=fe)):tt>127?(q++,fe=0,be++,be>_e&&(_e=be)):(fe=0,be=0))}return h&&m>0&&(h=!1),u&&q>0&&(u=!1),h&&(et||b+C+R>0)?j.UTF8:u&&(j.ASSUME_SHIFT_JIS||Ae>=3||_e>=3)?j.SHIFT_JIS:c&&u?Ae===2&&Q===2||Fe*10>=l?j.SHIFT_JIS:j.ISO88591:c?j.ISO88591:u?j.SHIFT_JIS:h?j.UTF8:j.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let l=-1;function c(h,m,b,C,R,q){if(h==="%%")return"%";if(a[++l]===void 0)return;h=C?parseInt(C.substr(1)):void 0;let Q=R?parseInt(R.substr(1)):void 0,fe;switch(q){case"s":fe=a[l];break;case"c":fe=a[l][0];break;case"f":fe=parseFloat(a[l]).toFixed(h);break;case"p":fe=parseFloat(a[l]).toPrecision(h);break;case"e":fe=parseFloat(a[l]).toExponential(h);break;case"x":fe=parseInt(a[l]).toString(Q||16);break;case"d":fe=parseFloat(parseInt(a[l],Q||10).toPrecision(h)).toFixed(0);break}fe=typeof fe=="object"?JSON.stringify(fe):(+fe).toString(Q);let be=parseInt(b),Ae=b&&b[0]+""=="0"?"0":" ";for(;fe.length<be;)fe=m!==void 0?fe+Ae:Ae+fe;return fe}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}static getBytes(i,a){return z.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}j.SHIFT_JIS=W.SJIS.getName(),j.GB2312="GB2312",j.ISO88591=W.ISO8859_1.getName(),j.EUC_JP="EUC_JP",j.UTF8=W.UTF8.getName(),j.PLATFORM_DEFAULT_ENCODING=j.UTF8,j.ASSUME_SHIFT_JIS=!1;class ie{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=j.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,l){for(let c=a;a<a+l;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class re{constructor(i,a,l,c){if(this.width=i,this.height=a,this.rowSize=l,this.bits=c,a==null&&(a=i),this.height=a,i<1||a<1)throw new S("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,l=i[0].length,c=new re(l,a);for(let u=0;u<a;u++){const h=i[u];for(let m=0;m<l;m++)h[m]&&c.set(m,u)}return c}static parseFromString(i,a,l){if(i===null)throw new S("stringRepresentation cannot be null");const c=new Array(i.length);let u=0,h=0,m=-1,b=0,C=0;for(;C<i.length;)if(i.charAt(C)===`
`||i.charAt(C)==="\r"){if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new S("row lengths do not match");h=u,b++}C++}else if(i.substring(C,C+a.length)===a)C+=a.length,c[u]=!0,u++;else if(i.substring(C,C+l.length)===l)C+=l.length,c[u]=!1,u++;else throw new S("illegal character encountered: "+i.substring(C));if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new S("row lengths do not match");b++}const R=new re(m,b);for(let q=0;q<u;q++)c[q]&&R.set(Math.floor(q%m),Math.floor(q/m));return R}get(i,a){const l=a*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new S("input matrix dimensions do not match");const a=new L(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const m=u*l,b=i.getRow(u,a).getBitArray();for(let C=0;C<l;C++)c[m+C]^=b[C]}}clear(){const i=this.bits,a=i.length;for(let l=0;l<a;l++)i[l]=0}setRegion(i,a,l,c){if(a<0||i<0)throw new S("Left and top must be nonnegative");if(c<1||l<1)throw new S("Height and width must be at least 1");const u=i+l,h=a+c;if(h>this.height||u>this.width)throw new S("The region must fit inside the matrix");const m=this.rowSize,b=this.bits;for(let C=a;C<h;C++){const R=C*m;for(let q=i;q<u;q++)b[R+Math.floor(q/32)]|=1<<(q&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new L(this.width):a.clear();const l=this.rowSize,c=this.bits,u=i*l;for(let h=0;h<l;h++)a.setBulk(h*32,c[u+h]);return a}setRow(i,a){M.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let l=new L(i),c=new L(i);for(let u=0,h=Math.floor((a+1)/2);u<h;u++)l=this.getRow(u,l),c=this.getRow(a-1-u,c),l.reverse(),c.reverse(),this.setRow(u,c),this.setRow(a-1-u,l)}getEnclosingRectangle(){const i=this.width,a=this.height,l=this.rowSize,c=this.bits;let u=i,h=a,m=-1,b=-1;for(let C=0;C<a;C++)for(let R=0;R<l;R++){const q=c[C*l+R];if(q!==0){if(C<h&&(h=C),C>b&&(b=C),R*32<u){let Q=0;for(;!(q<<31-Q&4294967295);)Q++;R*32+Q<u&&(u=R*32+Q)}if(R*32+31>m){let Q=31;for(;!(q>>>Q);)Q--;R*32+Q>m&&(m=R*32+Q)}}}return m<u||b<h?null:Int32Array.from([u,h,m-u+1,b-h+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const c=l/i;let u=l%i*32;const h=a[l];let m=0;for(;!(h<<31-m&4294967295);)m++;return u+=m,Int32Array.from([u,c])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/i);let u=Math.floor(l%i)*32;const h=a[l];let m=31;for(;!(h>>>m);)m--;return u+=m,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof re))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&I.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+I.hashCode(this.bits),i}toString(i="X ",a="  ",l=`
`){return this.buildToString(i,a,l)}buildToString(i,a,l){let c=new ie;for(let u=0,h=this.height;u<h;u++){for(let m=0,b=this.width;m<b;m++)c.append(this.get(m,u)?i:a);c.append(l)}return c.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class ae extends y{static getNotFoundInstance(){return new ae}}ae.kind="NotFoundException";class J extends B{constructor(i){super(i),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(i,a){const l=this.getLuminanceSource(),c=l.getWidth();a==null||a.getSize()<c?a=new L(c):a.clear(),this.initArrays(c);const u=l.getRow(i,this.luminances),h=this.buckets;for(let b=0;b<c;b++)h[(u[b]&255)>>J.LUMINANCE_SHIFT]++;const m=J.estimateBlackPoint(h);if(c<3)for(let b=0;b<c;b++)(u[b]&255)<m&&a.set(b);else{let b=u[0]&255,C=u[1]&255;for(let R=1;R<c-1;R++){const q=u[R+1]&255;(C*4-b-q)/2<m&&a.set(R),b=C,C=q}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight(),c=new re(a,l);this.initArrays(a);const u=this.buckets;for(let b=1;b<5;b++){const C=Math.floor(l*b/5),R=i.getRow(C,this.luminances),q=Math.floor(a*4/5);for(let Q=Math.floor(a/5);Q<q;Q++){const fe=R[Q]&255;u[fe>>J.LUMINANCE_SHIFT]++}}const h=J.estimateBlackPoint(u),m=i.getMatrix();for(let b=0;b<l;b++){const C=b*a;for(let R=0;R<a;R++)(m[C+R]&255)<h&&c.set(R,b)}return c}createBinarizer(i){return new J(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let l=0;l<J.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(i){const a=i.length;let l=0,c=0,u=0;for(let R=0;R<a;R++)i[R]>u&&(c=R,u=i[R]),i[R]>l&&(l=i[R]);let h=0,m=0;for(let R=0;R<a;R++){const q=R-c,Q=i[R]*q*q;Q>m&&(h=R,m=Q)}if(c>h){const R=c;c=h,h=R}if(h-c<=a/16)throw new ae;let b=h-1,C=-1;for(let R=h-1;R>c;R--){const q=R-c,Q=q*q*(h-R)*(l-i[R]);Q>C&&(b=R,C=Q)}return b<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class $ extends J{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight();if(a>=$.MINIMUM_DIMENSION&&l>=$.MINIMUM_DIMENSION){const c=i.getMatrix();let u=a>>$.BLOCK_SIZE_POWER;a&$.BLOCK_SIZE_MASK&&u++;let h=l>>$.BLOCK_SIZE_POWER;l&$.BLOCK_SIZE_MASK&&h++;const m=$.calculateBlackPoints(c,u,h,a,l),b=new re(a,l);$.calculateThresholdForBlock(c,u,h,a,l,m,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new $(i)}static calculateThresholdForBlock(i,a,l,c,u,h,m){const b=u-$.BLOCK_SIZE,C=c-$.BLOCK_SIZE;for(let R=0;R<l;R++){let q=R<<$.BLOCK_SIZE_POWER;q>b&&(q=b);const Q=$.cap(R,2,l-3);for(let fe=0;fe<a;fe++){let be=fe<<$.BLOCK_SIZE_POWER;be>C&&(be=C);const Ae=$.cap(fe,2,a-3);let _e=0;for(let et=-2;et<=2;et++){const at=h[Q+et];_e+=at[Ae-2]+at[Ae-1]+at[Ae]+at[Ae+1]+at[Ae+2]}const Fe=_e/25;$.thresholdBlock(i,be,q,Fe,c,m)}}}static cap(i,a,l){return i<a?a:i>l?l:i}static thresholdBlock(i,a,l,c,u,h){for(let m=0,b=l*u+a;m<$.BLOCK_SIZE;m++,b+=u)for(let C=0;C<$.BLOCK_SIZE;C++)(i[b+C]&255)<=c&&h.set(a+C,l+m)}static calculateBlackPoints(i,a,l,c,u){const h=u-$.BLOCK_SIZE,m=c-$.BLOCK_SIZE,b=new Array(l);for(let C=0;C<l;C++){b[C]=new Int32Array(a);let R=C<<$.BLOCK_SIZE_POWER;R>h&&(R=h);for(let q=0;q<a;q++){let Q=q<<$.BLOCK_SIZE_POWER;Q>m&&(Q=m);let fe=0,be=255,Ae=0;for(let Fe=0,et=R*c+Q;Fe<$.BLOCK_SIZE;Fe++,et+=c){for(let at=0;at<$.BLOCK_SIZE;at++){const tt=i[et+at]&255;fe+=tt,tt<be&&(be=tt),tt>Ae&&(Ae=tt)}if(Ae-be>$.MIN_DYNAMIC_RANGE)for(Fe++,et+=c;Fe<$.BLOCK_SIZE;Fe++,et+=c)for(let at=0;at<$.BLOCK_SIZE;at++)fe+=i[et+at]&255}let _e=fe>>$.BLOCK_SIZE_POWER*2;if(Ae-be<=$.MIN_DYNAMIC_RANGE&&(_e=be/2,C>0&&q>0)){const Fe=(b[C-1][q]+2*b[C][q-1]+b[C-1][q-1])/4;be<Fe&&(_e=Fe)}b[C][q]=_e}}return b}}$.BLOCK_SIZE_POWER=3,$.BLOCK_SIZE=1<<$.BLOCK_SIZE_POWER,$.BLOCK_SIZE_MASK=$.BLOCK_SIZE-1,$.MINIMUM_DIMENSION=$.BLOCK_SIZE*5,$.MIN_DYNAMIC_RANGE=24;class ce{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,l,c){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new ie;for(let l=0;l<this.height;l++){const c=this.getRow(l,i);for(let u=0;u<this.width;u++){const h=c[u]&255;let m;h<64?m="#":h<128?m="+":h<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class ge extends ce{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const l=this.delegate.getRow(i,a),c=this.getWidth();for(let u=0;u<c;u++)l[u]=255-(l[u]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let c=0;c<a;c++)l[c]=255-(i[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,l,c){return new ge(this.delegate.crop(i,a,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class ve extends ce{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=ve.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return ve.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,l){const c=new Uint8ClampedArray(a*l);for(let u=0,h=0,m=i.length;u<m;u+=4,h++){let b;if(i[u+3]===0)b=255;else{const R=i[u],q=i[u+1],Q=i[u+2];b=306*R+601*q+117*Q+512>>10}c[h]=b}return c}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth(),c=i*l;return a===null?a=this.buffer.slice(c,c+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(c,c+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,l,c){return super.crop(i,a,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),l=a.getContext("2d"),c=i*ve.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),b=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return a.width=m,a.height=b,l.translate(m/2,b/2),l.rotate(c),l.drawImage(this.canvas,u/-2,h/-2),this.buffer=ve.makeBufferFromCanvasImageData(a),this}invert(){return new ge(this)}}ve.DEGREE_TO_RADIANS=Math.PI/180;class ke{constructor(i,a,l){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||yo||self||window||void 0)&&(globalThis||yo||self||window||void 0).__awaiter||function(G,i,a,l){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(R){try{C(l.next(R))}catch(q){h(q)}}function b(R){try{C(l.throw(R))}catch(q){h(q)}}function C(R){R.done?u(R.value):c(R.value).then(m,b)}C((l=l.apply(G,i||[])).next())})};class te{constructor(i,a=500,l){this.reader=i,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of i){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const u=l.deviceId||l.id,h=l.label||`Video device ${a.length+1}`,m=l.groupId,b={deviceId:u,label:h,kind:c,groupId:m};a.push(b)}return a})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ke(a.deviceId,a.label))})}findDeviceById(i){return U(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return U(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,a)})}decodeOnceFromConstraints(i,a){return U(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(i,a){return U(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,a,l){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,l)})}decodeFromVideoDevice(i,a,l){return U(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,a,l)})}decodeFromConstraints(i,a,l){return U(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,a,l)})}decodeFromStream(i,a,l){return U(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return U(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((a,l)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const l=document.getElementById(i);if(!l)throw new N(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new N(`element with id '${i}' must be an ${a} element`);return l}decodeFromImage(i,a){if(!i&&!a)throw new N("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new N("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,l){if(i===void 0&&a===void 0)throw new N("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new N("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(i){if(!i)throw new N("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=i,l}decodeFromVideoUrl(i){if(!i)throw new N("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=i,l}decodeFromVideoUrlContinuously(i,a){if(!i)throw new N("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,a);return l.src=i,c}_decodeOnLoadImage(i){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,l=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new ae("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);u(m)}catch(m){const b=a&&m instanceof ae,R=(m instanceof w||m instanceof k)&&l;if(b||R)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(m)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);a(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){a(null,c);const u=c instanceof w||c instanceof k,h=c instanceof ae;(u||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,l){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new ve(a),c=new $(l);return new E(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),a.style.width=l+"px",a.style.height=c+"px",a.width=l,a.height=c,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(i,a,l=a==null?0:8*a.length,c,u,h=M.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=l,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=i,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=M.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(a.length+i.length);M.arraycopy(a,0,l,0,a.length),M.arraycopy(i,0,l,a.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var me;(function(G){G[G.AZTEC=0]="AZTEC",G[G.CODABAR=1]="CODABAR",G[G.CODE_39=2]="CODE_39",G[G.CODE_93=3]="CODE_93",G[G.CODE_128=4]="CODE_128",G[G.DATA_MATRIX=5]="DATA_MATRIX",G[G.EAN_8=6]="EAN_8",G[G.EAN_13=7]="EAN_13",G[G.ITF=8]="ITF",G[G.MAXICODE=9]="MAXICODE",G[G.PDF_417=10]="PDF_417",G[G.QR_CODE=11]="QR_CODE",G[G.RSS_14=12]="RSS_14",G[G.RSS_EXPANDED=13]="RSS_EXPANDED",G[G.UPC_A=14]="UPC_A",G[G.UPC_E=15]="UPC_E",G[G.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(me||(me={}));var oe=me,Me;(function(G){G[G.OTHER=0]="OTHER",G[G.ORIENTATION=1]="ORIENTATION",G[G.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",G[G.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",G[G.ISSUE_NUMBER=4]="ISSUE_NUMBER",G[G.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",G[G.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",G[G.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",G[G.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",G[G.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",G[G.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Me||(Me={}));var Ie=Me;class Re{constructor(i,a,l,c,u=-1,h=-1){this.rawBytes=i,this.text=a,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class rt{exp(i){return this.expTable[i]}log(i){if(i===0)throw new S;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class Xe{constructor(i,a){if(a.length===0)throw new S;this.field=i;const l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(i===1){l=0;for(let h=0,m=a.length;h!==m;h++){const b=a[h];l=rt.addOrSubtract(l,b)}return l}l=a[0];const c=a.length,u=this.field;for(let h=1;h<c;h++)l=rt.addOrSubtract(u.multiply(i,l),a[h]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){const h=a;a=l,l=h}let c=new Int32Array(l.length);const u=l.length-a.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=rt.addOrSubtract(a[h-u],l[h]);return new Xe(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1),m=this.field;for(let b=0;b<l;b++){const C=a[b];for(let R=0;R<u;R++)h[b+R]=rt.addOrSubtract(h[b+R],m.multiply(C,c[R]))}return new Xe(m,h)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,l=this.field,c=new Int32Array(a),u=this.coefficients;for(let h=0;h<a;h++)c[h]=l.multiply(u[h],i);return new Xe(l,c)}multiplyByMonomial(i,a){if(i<0)throw new S;if(a===0)return this.field.getZero();const l=this.coefficients,c=l.length,u=new Int32Array(c+i),h=this.field;for(let m=0;m<c;m++)u[m]=h.multiply(l[m],a);return new Xe(h,u)}divide(i){if(!this.field.equals(i.field))throw new S("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new S("Divide by 0");const a=this.field;let l=a.getZero(),c=this;const u=i.getCoefficient(i.getDegree()),h=a.inverse(u);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const m=c.getDegree()-i.getDegree(),b=a.multiply(c.getCoefficient(c.getDegree()),h),C=i.multiplyByMonomial(m,b),R=a.buildMonomial(m,b);l=l.addOrSubtract(R),c=c.addOrSubtract(C)}return[l,c]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),a===0||l!==1){const c=this.field.log(l);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class ut extends y{}ut.kind="ArithmeticException";class Je extends rt{constructor(i,a,l){super(),this.primitive=i,this.size=a,this.generatorBase=l;const c=new Int32Array(a);let u=1;for(let m=0;m<a;m++)c[m]=u,u*=2,u>=a&&(u^=i,u&=a-1);this.expTable=c;const h=new Int32Array(a);for(let m=0;m<a-1;m++)h[c[m]]=m;this.logTable=h,this.zero=new Xe(this,Int32Array.from([0])),this.one=new Xe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new S;if(a===0)return this.zero;const l=new Int32Array(i+1);return l[0]=a,new Xe(this,l)}inverse(i){if(i===0)throw new ut;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+D.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Je.AZTEC_DATA_12=new Je(4201,4096,1),Je.AZTEC_DATA_10=new Je(1033,1024,1),Je.AZTEC_DATA_6=new Je(67,64,1),Je.AZTEC_PARAM=new Je(19,16,1),Je.QR_CODE_FIELD_256=new Je(285,256,0),Je.DATA_MATRIX_FIELD_256=new Je(301,256,1),Je.AZTEC_DATA_8=Je.DATA_MATRIX_FIELD_256,Je.MAXICODE_FIELD_64=Je.AZTEC_DATA_6;class _t extends y{}_t.kind="ReedSolomonException";class Ue extends y{}Ue.kind="IllegalStateException";class ye{constructor(i){this.field=i}decode(i,a){const l=this.field,c=new Xe(l,i),u=new Int32Array(a);let h=!0;for(let fe=0;fe<a;fe++){const be=c.evaluateAt(l.exp(fe+l.getGeneratorBase()));u[u.length-1-fe]=be,be!==0&&(h=!1)}if(h)return;const m=new Xe(l,u),b=this.runEuclideanAlgorithm(l.buildMonomial(a,1),m,a),C=b[0],R=b[1],q=this.findErrorLocations(C),Q=this.findErrorMagnitudes(R,q);for(let fe=0;fe<q.length;fe++){const be=i.length-1-l.log(q[fe]);if(be<0)throw new _t("Bad error location");i[be]=Je.addOrSubtract(i[be],Q[fe])}}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){const fe=i;i=a,a=fe}const c=this.field;let u=i,h=a,m=c.getZero(),b=c.getOne();for(;h.getDegree()>=(l/2|0);){let fe=u,be=m;if(u=h,m=b,u.isZero())throw new _t("r_{i-1} was zero");h=fe;let Ae=c.getZero();const _e=u.getCoefficient(u.getDegree()),Fe=c.inverse(_e);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const et=h.getDegree()-u.getDegree(),at=c.multiply(h.getCoefficient(h.getDegree()),Fe);Ae=Ae.addOrSubtract(c.buildMonomial(et,at)),h=h.addOrSubtract(u.multiplyByMonomial(et,at))}if(b=Ae.multiply(m).addOrSubtract(be),h.getDegree()>=u.getDegree())throw new Ue("Division algorithm failed to reduce polynomial?")}const C=b.getCoefficient(0);if(C===0)throw new _t("sigmaTilde(0) was zero");const R=c.inverse(C),q=b.multiplyScalar(R),Q=h.multiplyScalar(R);return[q,Q]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(a);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<a;h++)i.evaluateAt(h)===0&&(l[c]=u.inverse(h),c++);if(c!==a)throw new _t("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,a){const l=a.length,c=new Int32Array(l),u=this.field;for(let h=0;h<l;h++){const m=u.inverse(a[h]);let b=1;for(let C=0;C<l;C++)if(h!==C){const R=u.multiply(a[C],m),q=R&1?R&-2:R|1;b=u.multiply(b,q)}c[h]=u.multiply(i.evaluateAt(m),u.inverse(b)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],m))}return c}}var St;(function(G){G[G.UPPER=0]="UPPER",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.DIGIT=3]="DIGIT",G[G.PUNCT=4]="PUNCT",G[G.BINARY=5]="BINARY"})(St||(St={}));class ct{decode(i){this.ddata=i;let a=i.getBits(),l=this.extractBits(a),c=this.correctBits(l),u=ct.convertBoolArrayToByteArray(c),h=ct.getEncodedData(c),m=new Re(u,h,null,null);return m.setNumBits(c.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,l=St.UPPER,c=St.UPPER,u="",h=0;for(;h<a;)if(c===St.BINARY){if(a-h<5)break;let m=ct.readCode(i,h,5);if(h+=5,m===0){if(a-h<11)break;m=ct.readCode(i,h,11)+31,h+=11}for(let b=0;b<m;b++){if(a-h<8){h=a;break}const C=ct.readCode(i,h,8);u+=j.castAsNonUtf8Char(C),h+=8}c=l}else{let m=c===St.DIGIT?4:5;if(a-h<m)break;let b=ct.readCode(i,h,m);h+=m;let C=ct.getCharacter(c,b);C.startsWith("CTRL_")?(l=c,c=ct.getTable(C.charAt(5)),C.charAt(6)==="L"&&(l=c)):(u+=C,c=l)}return u}static getTable(i){switch(i){case"L":return St.LOWER;case"P":return St.PUNCT;case"M":return St.MIXED;case"D":return St.DIGIT;case"B":return St.BINARY;case"U":default:return St.UPPER}}static getCharacter(i,a){switch(i){case St.UPPER:return ct.UPPER_TABLE[a];case St.LOWER:return ct.LOWER_TABLE[a];case St.MIXED:return ct.MIXED_TABLE[a];case St.PUNCT:return ct.PUNCT_TABLE[a];case St.DIGIT:return ct.DIGIT_TABLE[a];default:throw new Ue("Bad table")}}correctBits(i){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=Je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=Je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=Je.AZTEC_DATA_10):(l=12,a=Je.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=i.length/l;if(u<c)throw new k;let h=i.length%l,m=new Int32Array(u);for(let Q=0;Q<u;Q++,h+=l)m[Q]=ct.readCode(i,h,l);try{new ye(a).decode(m,u-c)}catch(Q){throw new k(Q)}let b=(1<<l)-1,C=0;for(let Q=0;Q<c;Q++){let fe=m[Q];if(fe===0||fe===b)throw new k;(fe===1||fe===b-1)&&C++}let R=new Array(c*l-C),q=0;for(let Q=0;Q<c;Q++){let fe=m[Q];if(fe===1||fe===b-1)R.fill(fe>1,q,q+l-1),q+=l-1;else for(let be=l-1;be>=0;--be)R[q++]=(fe&1<<be)!==0}return R}extractBits(i){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(a?11:14)+l*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let m=0;m<u.length;m++)u[m]=m;else{let m=c+1+2*D.truncDivision(D.truncDivision(c,2)-1,15),b=c/2,C=D.truncDivision(m,2);for(let R=0;R<b;R++){let q=R+D.truncDivision(R,15);u[b-R-1]=C-q-1,u[b+R]=C+q+1}}for(let m=0,b=0;m<l;m++){let C=(l-m)*4+(a?9:12),R=m*2,q=c-1-R;for(let Q=0;Q<C;Q++){let fe=Q*2;for(let be=0;be<2;be++)h[b+fe+be]=i.get(u[R+be],u[R+Q]),h[b+2*C+fe+be]=i.get(u[R+Q],u[q-be]),h[b+4*C+fe+be]=i.get(u[q-be],u[q-Q]),h[b+6*C+fe+be]=i.get(u[q-Q],u[R+be])}b+=C*8}return h}static readCode(i,a,l){let c=0;for(let u=a;u<a+l;u++)c<<=1,i[u]&&(c|=1);return c}static readByte(i,a){let l=i.length-a;return l>=8?ct.readCode(i,a,8):ct.readCode(i,a,l)<<8-l}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let l=0;l<a.length;l++)a[l]=ct.readByte(i,8*l);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class xe{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,l,c){const u=i-l,h=a-c;return Math.sqrt(u*u+h*h)}static sum(i){let a=0;for(let l=0,c=i.length;l!==c;l++){const u=i[l];a+=u}return a}}class Ce{static floatToIntBits(i){return i}}Ce.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pe{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof pe){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Ce.floatToIntBits(this.x)+Ce.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let u,h,m;if(l>=a&&l>=c?(h=i[0],u=i[1],m=i[2]):c>=l&&c>=a?(h=i[1],u=i[0],m=i[2]):(h=i[2],u=i[0],m=i[1]),this.crossProductZ(u,h,m)<0){const b=u;u=m,m=b}i[0]=u,i[1]=h,i[2]=m}static distance(i,a){return xe.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,l){const c=a.x,u=a.y;return(l.x-c)*(i.y-u)-(l.y-u)*(i.x-c)}}class Ee{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class He extends Ee{constructor(i,a,l,c,u){super(i,a),this.compact=l,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ve{constructor(i,a,l,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=Ve.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const u=a/2|0;if(this.leftInit=l-u,this.rightInit=l+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}detect(){let i=this.leftInit,a=this.rightInit,l=this.upInit,c=this.downInit,u=!1,h=!0,m=!1,b=!1,C=!1,R=!1,q=!1;const Q=this.width,fe=this.height;for(;h;){h=!1;let be=!0;for(;(be||!b)&&a<Q;)be=this.containsBlackPoint(l,c,a,!1),be?(a++,h=!0,b=!0):b||a++;if(a>=Q){u=!0;break}let Ae=!0;for(;(Ae||!C)&&c<fe;)Ae=this.containsBlackPoint(i,a,c,!0),Ae?(c++,h=!0,C=!0):C||c++;if(c>=fe){u=!0;break}let _e=!0;for(;(_e||!R)&&i>=0;)_e=this.containsBlackPoint(l,c,i,!1),_e?(i--,h=!0,R=!0):R||i--;if(i<0){u=!0;break}let Fe=!0;for(;(Fe||!q)&&l>=0;)Fe=this.containsBlackPoint(i,a,l,!0),Fe?(l--,h=!0,q=!0):q||l--;if(l<0){u=!0;break}h&&(m=!0)}if(!u&&m){const be=a-i;let Ae=null;for(let at=1;Ae===null&&at<be;at++)Ae=this.getBlackPointOnSegment(i,c-at,i+at,c);if(Ae==null)throw new ae;let _e=null;for(let at=1;_e===null&&at<be;at++)_e=this.getBlackPointOnSegment(i,l+at,i+at,l);if(_e==null)throw new ae;let Fe=null;for(let at=1;Fe===null&&at<be;at++)Fe=this.getBlackPointOnSegment(a,l+at,a-at,l);if(Fe==null)throw new ae;let et=null;for(let at=1;et===null&&at<be;at++)et=this.getBlackPointOnSegment(a,c-at,a-at,c);if(et==null)throw new ae;return this.centerEdges(et,Ae,Fe,_e)}else throw new ae}getBlackPointOnSegment(i,a,l,c){const u=xe.round(xe.distance(i,a,l,c)),h=(l-i)/u,m=(c-a)/u,b=this.image;for(let C=0;C<u;C++){const R=xe.round(i+C*h),q=xe.round(a+C*m);if(b.get(R,q))return new pe(R,q)}return null}centerEdges(i,a,l,c){const u=i.getX(),h=i.getY(),m=a.getX(),b=a.getY(),C=l.getX(),R=l.getY(),q=c.getX(),Q=c.getY(),fe=Ve.CORR;return u<this.width/2?[new pe(q-fe,Q+fe),new pe(m+fe,b+fe),new pe(C-fe,R-fe),new pe(u+fe,h-fe)]:[new pe(q+fe,Q+fe),new pe(m+fe,b-fe),new pe(C-fe,R+fe),new pe(u-fe,h-fe)]}containsBlackPoint(i,a,l,c){const u=this.image;if(c){for(let h=i;h<=a;h++)if(u.get(h,l))return!0}else for(let h=i;h<=a;h++)if(u.get(l,h))return!0;return!1}}Ve.INIT_SIZE=10,Ve.CORR=1;class ft{static checkAndNudgePoints(i,a){const l=i.getWidth(),c=i.getHeight();let u=!0;for(let h=0;h<a.length&&u;h+=2){const m=Math.floor(a[h]),b=Math.floor(a[h+1]);if(m<-1||m>l||b<-1||b>c)throw new ae;u=!1,m===-1?(a[h]=0,u=!0):m===l&&(a[h]=l-1,u=!0),b===-1?(a[h+1]=0,u=!0):b===c&&(a[h+1]=c-1,u=!0)}u=!0;for(let h=a.length-2;h>=0&&u;h-=2){const m=Math.floor(a[h]),b=Math.floor(a[h+1]);if(m<-1||m>l||b<-1||b>c)throw new ae;u=!1,m===-1?(a[h]=0,u=!0):m===l&&(a[h]=l-1,u=!0),b===-1?(a[h+1]=0,u=!0):b===c&&(a[h+1]=c-1,u=!0)}}}class it{constructor(i,a,l,c,u,h,m,b,C){this.a11=i,this.a21=a,this.a31=l,this.a12=c,this.a22=u,this.a32=h,this.a13=m,this.a23=b,this.a33=C}static quadrilateralToQuadrilateral(i,a,l,c,u,h,m,b,C,R,q,Q,fe,be,Ae,_e){const Fe=it.quadrilateralToSquare(i,a,l,c,u,h,m,b);return it.squareToQuadrilateral(C,R,q,Q,fe,be,Ae,_e).times(Fe)}transformPoints(i){const a=i.length,l=this.a11,c=this.a12,u=this.a13,h=this.a21,m=this.a22,b=this.a23,C=this.a31,R=this.a32,q=this.a33;for(let Q=0;Q<a;Q+=2){const fe=i[Q],be=i[Q+1],Ae=u*fe+b*be+q;i[Q]=(l*fe+h*be+C)/Ae,i[Q+1]=(c*fe+m*be+R)/Ae}}transformPointsWithValues(i,a){const l=this.a11,c=this.a12,u=this.a13,h=this.a21,m=this.a22,b=this.a23,C=this.a31,R=this.a32,q=this.a33,Q=i.length;for(let fe=0;fe<Q;fe++){const be=i[fe],Ae=a[fe],_e=u*be+b*Ae+q;i[fe]=(l*be+h*Ae+C)/_e,a[fe]=(c*be+m*Ae+R)/_e}}static squareToQuadrilateral(i,a,l,c,u,h,m,b){const C=i-l+u-m,R=a-c+h-b;if(C===0&&R===0)return new it(l-i,u-l,i,c-a,h-c,a,0,0,1);{const q=l-u,Q=m-u,fe=c-h,be=b-h,Ae=q*be-Q*fe,_e=(C*be-Q*R)/Ae,Fe=(q*R-C*fe)/Ae;return new it(l-i+_e*l,m-i+Fe*m,i,c-a+_e*c,b-a+Fe*b,a,_e,Fe,1)}}static quadrilateralToSquare(i,a,l,c,u,h,m,b){return it.squareToQuadrilateral(i,a,l,c,u,h,m,b).buildAdjoint()}buildAdjoint(){return new it(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new it(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class bt extends ft{sampleGrid(i,a,l,c,u,h,m,b,C,R,q,Q,fe,be,Ae,_e,Fe,et,at){const tt=it.quadrilateralToQuadrilateral(c,u,h,m,b,C,R,q,Q,fe,be,Ae,_e,Fe,et,at);return this.sampleGridWithTransform(i,a,l,tt)}sampleGridWithTransform(i,a,l,c){if(a<=0||l<=0)throw new ae;const u=new re(a,l),h=new Float32Array(2*a);for(let m=0;m<l;m++){const b=h.length,C=m+.5;for(let R=0;R<b;R+=2)h[R]=R/2+.5,h[R+1]=C;c.transformPoints(h),ft.checkAndNudgePoints(i,h);try{for(let R=0;R<b;R+=2)i.get(Math.floor(h[R]),Math.floor(h[R+1]))&&u.set(R/2,m)}catch{throw new ae}}return u}}class xt{static setGridSampler(i){xt.gridSampler=i}static getInstance(){return xt.gridSampler}}xt.gridSampler=new bt;class vt{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qt{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(i){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),u=this.getMatrixCornerPoints(l);return new He(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ae;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(l,a);let c=0;for(let h=0;h<4;h++){let m=l[(this.shift+h)%4];this.compact?(c<<=7,c+=m>>1&127):(c<<=10,c+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,a){let l=0;i.forEach((c,u,h)=>{let m=(c>>a-2<<1)+(c&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(D.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new ae}getCorrectedParameterData(i,a){let l,c;a?(l=7,c=2):(l=10,c=4);let u=l-c,h=new Int32Array(l);for(let b=l-1;b>=0;--b)h[b]=i&15,i>>=4;try{new ye(Je.AZTEC_PARAM).decode(h,u)}catch{throw new ae}let m=0;for(let b=0;b<c;b++)m=(m<<4)+h[b];return m}getBullsEyeCorners(i){let a=i,l=i,c=i,u=i,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let q=this.getFirstDifferent(a,h,1,-1),Q=this.getFirstDifferent(l,h,1,1),fe=this.getFirstDifferent(c,h,-1,1),be=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let Ae=this.distancePoint(be,q)*this.nbCenterLayers/(this.distancePoint(u,a)*(this.nbCenterLayers+2));if(Ae<.75||Ae>1.25||!this.isWhiteOrBlackRectangle(q,Q,fe,be))break}a=q,l=Q,c=fe,u=be,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;let m=new pe(a.getX()+.5,a.getY()-.5),b=new pe(l.getX()+.5,l.getY()+.5),C=new pe(c.getX()-.5,c.getY()+.5),R=new pe(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,b,C,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,l,c;try{let m=new Ve(this.image).detect();i=m[0],a=m[1],l=m[2],c=m[3]}catch{let b=this.image.getWidth()/2,C=this.image.getHeight()/2;i=this.getFirstDifferent(new vt(b+7,C-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new vt(b+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new vt(b-7,C+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new vt(b-7,C-7),!1,-1,-1).toResultPoint()}let u=xe.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=xe.round((i.getY()+c.getY()+a.getY()+l.getY())/4);try{let m=new Ve(this.image,15,u,h).detect();i=m[0],a=m[1],l=m[2],c=m[3]}catch{i=this.getFirstDifferent(new vt(u+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new vt(u+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new vt(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new vt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=xe.round((i.getX()+c.getX()+a.getX()+l.getX())/4),h=xe.round((i.getY()+c.getY()+a.getY()+l.getY())/4),new vt(u,h)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,l,c,u){let h=xt.getInstance(),m=this.getDimension(),b=m/2-this.nbCenterLayers,C=m/2+this.nbCenterLayers;return h.sampleGrid(i,m,m,b,b,C,b,C,C,b,C,a.getX(),a.getY(),l.getX(),l.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(i,a,l){let c=0,u=this.distanceResultPoint(i,a),h=u/l,m=i.getX(),b=i.getY(),C=h*(a.getX()-i.getX())/u,R=h*(a.getY()-i.getY())/u;for(let q=0;q<l;q++)this.image.get(xe.round(m+q*C),xe.round(b+q*R))&&(c|=1<<l-q-1);return c}isWhiteOrBlackRectangle(i,a,l,c){let u=3;i=new vt(i.getX()-u,i.getY()+u),a=new vt(a.getX()-u,a.getY()-u),l=new vt(l.getX()+u,l.getY()-u),c=new vt(c.getX()+u,c.getY()+u);let h=this.getColor(c,i);if(h===0)return!1;let m=this.getColor(i,a);return m!==h||(m=this.getColor(a,l),m!==h)?!1:(m=this.getColor(l,c),m===h)}getColor(i,a){let l=this.distancePoint(i,a),c=(a.getX()-i.getX())/l,u=(a.getY()-i.getY())/l,h=0,m=i.getX(),b=i.getY(),C=this.image.get(i.getX(),i.getY()),R=Math.ceil(l);for(let Q=0;Q<R;Q++)m+=c,b+=u,this.image.get(xe.round(m),xe.round(b))!==C&&h++;let q=h/l;return q>.1&&q<.9?0:q<=.1===C?1:-1}getFirstDifferent(i,a,l,c){let u=i.getX()+l,h=i.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l,h+=c;for(u-=l,h-=c;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=l;for(u-=l;this.isValid(u,h)&&this.image.get(u,h)===a;)h+=c;return h-=c,new vt(u,h)}expandSquare(i,a,l){let c=l/(2*a),u=i[0].getX()-i[2].getX(),h=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,b=(i[0].getY()+i[2].getY())/2,C=new pe(m+c*u,b+c*h),R=new pe(m-c*u,b-c*h);u=i[1].getX()-i[3].getX(),h=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,b=(i[1].getY()+i[3].getY())/2;let q=new pe(m+c*u,b+c*h),Q=new pe(m-c*u,b-c*h);return[C,q,R,Q]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=xe.round(i.getX()),l=xe.round(i.getY());return this.isValid(a,l)}distancePoint(i,a){return xe.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return xe.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(D.truncDivision(this.nbLayers-4,8)+1)+15}}class dt{decode(i,a=null){let l=null,c=new Qt(i.getBlackMatrix()),u=null,h=null;try{let R=c.detectMirror(!1);u=R.getPoints(),this.reportFoundResultPoints(a,u),h=new ct().decode(R)}catch(R){l=R}if(h==null)try{let R=c.detectMirror(!0);u=R.getPoints(),this.reportFoundResultPoints(a,u),h=new ct().decode(R)}catch(R){throw l??R}let m=new se(h.getText(),h.getRawBytes(),h.getNumBits(),u,oe.AZTEC,M.currentTimeMillis()),b=h.getByteSegments();b!=null&&m.putMetadata(Ie.BYTE_SEGMENTS,b);let C=h.getECLevel();return C!=null&&m.putMetadata(Ie.ERROR_CORRECTION_LEVEL,C),m}reportFoundResultPoints(i,a){if(i!=null){let l=i.get(X.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((c,u,h)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class Yi extends te{constructor(i=500){super(new dt,i)}}class Lt{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(X.TRY_HARDER)===!0&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),h=this.doDecode(u,a),m=h.getResultMetadata();let b=270;m!==null&&m.get(Ie.ORIENTATION)===!0&&(b=b+m.get(Ie.ORIENTATION)%360),h.putMetadata(Ie.ORIENTATION,b);const C=h.getResultPoints();if(C!==null){const R=u.getHeight();for(let q=0;q<C.length;q++)C[q]=new pe(R-C[q].getY()-1,C[q].getX())}return h}else throw new ae}}reset(){}doDecode(i,a){const l=i.getWidth(),c=i.getHeight();let u=new L(l);const h=a&&a.get(X.TRY_HARDER)===!0,m=Math.max(1,c>>(h?8:5));let b;h?b=c:b=15;const C=Math.trunc(c/2);for(let R=0;R<b;R++){const q=Math.trunc((R+1)/2),Q=(R&1)===0,fe=C+m*(Q?q:-q);if(fe<0||fe>=c)break;try{u=i.getBlackRow(fe,u)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(u.reverse(),a&&a.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const Ae=new Map;a.forEach((_e,Fe)=>Ae.set(Fe,_e)),Ae.delete(X.NEED_RESULT_POINT_CALLBACK),a=Ae}try{const Ae=this.decodeRow(fe,u,a);if(be===1){Ae.putMetadata(Ie.ORIENTATION,180);const _e=Ae.getResultPoints();_e!==null&&(_e[0]=new pe(l-_e[0].getX()-1,_e[0].getY()),_e[1]=new pe(l-_e[1].getX()-1,_e[1].getY()))}return Ae}catch{}}}throw new ae}static recordPattern(i,a,l){const c=l.length;for(let C=0;C<c;C++)l[C]=0;const u=i.getSize();if(a>=u)throw new ae;let h=!i.get(a),m=0,b=a;for(;b<u;){if(i.get(b)!==h)l[m]++;else{if(++m===c)break;l[m]=1,h=!h}b++}if(!(m===c||m===c-1&&b===u))throw new ae}static recordPatternInReverse(i,a,l){let c=l.length,u=i.get(a);for(;a>0&&c>=0;)i.get(--a)!==u&&(c--,u=!u);if(c>=0)throw new ae;Lt.recordPattern(i,a+1,l)}static patternMatchVariance(i,a,l){const c=i.length;let u=0,h=0;for(let C=0;C<c;C++)u+=i[C],h+=a[C];if(u<h)return Number.POSITIVE_INFINITY;const m=u/h;l*=m;let b=0;for(let C=0;C<c;C++){const R=i[C],q=a[C]*m,Q=R>q?R-q:q-R;if(Q>l)return Number.POSITIVE_INFINITY;b+=Q}return b/u}}class lt extends Lt{static findStartPattern(i){const a=i.getSize(),l=i.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=l,m=!1;const b=6;for(let C=l;C<a;C++)if(i.get(C)!==m)u[c]++;else{if(c===b-1){let R=lt.MAX_AVG_VARIANCE,q=-1;for(let Q=lt.CODE_START_A;Q<=lt.CODE_START_C;Q++){const fe=Lt.patternMatchVariance(u,lt.CODE_PATTERNS[Q],lt.MAX_INDIVIDUAL_VARIANCE);fe<R&&(R=fe,q=Q)}if(q>=0&&i.isRange(Math.max(0,h-(C-h)/2),h,!1))return Int32Array.from([h,C,q]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,m=!m}throw new ae}static decodeCode(i,a,l){Lt.recordPattern(i,l,a);let c=lt.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<lt.CODE_PATTERNS.length;h++){const m=lt.CODE_PATTERNS[h],b=this.patternMatchVariance(a,m,lt.MAX_INDIVIDUAL_VARIANCE);b<c&&(c=b,u=h)}if(u>=0)return u;throw new ae}decodeRow(i,a,l){const c=l&&l.get(X.ASSUME_GS1)===!0,u=lt.findStartPattern(a),h=u[2];let m=0;const b=new Uint8Array(20);b[m++]=h;let C;switch(h){case lt.CODE_START_A:C=lt.CODE_CODE_A;break;case lt.CODE_START_B:C=lt.CODE_CODE_B;break;case lt.CODE_START_C:C=lt.CODE_CODE_C;break;default:throw new k}let R=!1,q=!1,Q="",fe=u[0],be=u[1];const Ae=Int32Array.from([0,0,0,0,0,0]);let _e=0,Fe=0,et=h,at=0,tt=!0,Zt=!1,Bt=!1;for(;!R;){const Aa=q;switch(q=!1,_e=Fe,Fe=lt.decodeCode(a,Ae,be),b[m++]=Fe,Fe!==lt.CODE_STOP&&(tt=!0),Fe!==lt.CODE_STOP&&(at++,et+=at*Fe),fe=be,be+=Ae.reduce((kr,Pr)=>kr+Pr,0),Fe){case lt.CODE_START_A:case lt.CODE_START_B:case lt.CODE_START_C:throw new k}switch(C){case lt.CODE_CODE_A:if(Fe<64)Bt===Zt?Q+=String.fromCharCode(32+Fe):Q+=String.fromCharCode(32+Fe+128),Bt=!1;else if(Fe<96)Bt===Zt?Q+=String.fromCharCode(Fe-64):Q+=String.fromCharCode(Fe+64),Bt=!1;else switch(Fe!==lt.CODE_STOP&&(tt=!1),Fe){case lt.CODE_FNC_1:c&&(Q.length===0?Q+="]C1":Q+="");break;case lt.CODE_FNC_2:case lt.CODE_FNC_3:break;case lt.CODE_FNC_4_A:!Zt&&Bt?(Zt=!0,Bt=!1):Zt&&Bt?(Zt=!1,Bt=!1):Bt=!0;break;case lt.CODE_SHIFT:q=!0,C=lt.CODE_CODE_B;break;case lt.CODE_CODE_B:C=lt.CODE_CODE_B;break;case lt.CODE_CODE_C:C=lt.CODE_CODE_C;break;case lt.CODE_STOP:R=!0;break}break;case lt.CODE_CODE_B:if(Fe<96)Bt===Zt?Q+=String.fromCharCode(32+Fe):Q+=String.fromCharCode(32+Fe+128),Bt=!1;else switch(Fe!==lt.CODE_STOP&&(tt=!1),Fe){case lt.CODE_FNC_1:c&&(Q.length===0?Q+="]C1":Q+="");break;case lt.CODE_FNC_2:case lt.CODE_FNC_3:break;case lt.CODE_FNC_4_B:!Zt&&Bt?(Zt=!0,Bt=!1):Zt&&Bt?(Zt=!1,Bt=!1):Bt=!0;break;case lt.CODE_SHIFT:q=!0,C=lt.CODE_CODE_A;break;case lt.CODE_CODE_A:C=lt.CODE_CODE_A;break;case lt.CODE_CODE_C:C=lt.CODE_CODE_C;break;case lt.CODE_STOP:R=!0;break}break;case lt.CODE_CODE_C:if(Fe<100)Fe<10&&(Q+="0"),Q+=Fe;else switch(Fe!==lt.CODE_STOP&&(tt=!1),Fe){case lt.CODE_FNC_1:c&&(Q.length===0?Q+="]C1":Q+="");break;case lt.CODE_CODE_A:C=lt.CODE_CODE_A;break;case lt.CODE_CODE_B:C=lt.CODE_CODE_B;break;case lt.CODE_STOP:R=!0;break}break}Aa&&(C=C===lt.CODE_CODE_A?lt.CODE_CODE_B:lt.CODE_CODE_A)}const mi=be-fe;if(be=a.getNextUnset(be),!a.isRange(be,Math.min(a.getSize(),be+(be-fe)/2),!1))throw new ae;if(et-=at*_e,et%103!==_e)throw new w;const Fi=Q.length;if(Fi===0)throw new ae;Fi>0&&tt&&(C===lt.CODE_CODE_C?Q=Q.substring(0,Fi-2):Q=Q.substring(0,Fi-1));const ui=(u[1]+u[0])/2,cn=fe+mi/2,ii=b.length,Ci=new Uint8Array(ii);for(let Aa=0;Aa<ii;Aa++)Ci[Aa]=b[Aa];const Dr=[new pe(ui,i),new pe(cn,i)];return new se(Q,Ci,0,Dr,oe.CODE_128,new Date().getTime())}}lt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],lt.MAX_AVG_VARIANCE=.25,lt.MAX_INDIVIDUAL_VARIANCE=.7,lt.CODE_SHIFT=98,lt.CODE_CODE_C=99,lt.CODE_CODE_B=100,lt.CODE_CODE_A=101,lt.CODE_FNC_1=102,lt.CODE_FNC_2=97,lt.CODE_FNC_3=96,lt.CODE_FNC_4_A=101,lt.CODE_FNC_4_B=100,lt.CODE_START_A=103,lt.CODE_START_B=104,lt.CODE_START_C=105,lt.CODE_STOP=106;class Pt extends Lt{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Pt.findAsteriskPattern(a,c),h=a.getNextSet(u[1]),m=a.getSize(),b,C;do{Pt.recordPattern(a,h,c);let Ae=Pt.toNarrowWidePattern(c);if(Ae<0)throw new ae;b=Pt.patternToChar(Ae),this.decodeRowResult+=b,C=h;for(let _e of c)h+=_e;h=a.getNextSet(h)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let Ae of c)R+=Ae;let q=h-C-R;if(h!==m&&q*2<R)throw new ae;if(this.usingCheckDigit){let Ae=this.decodeRowResult.length-1,_e=0;for(let Fe=0;Fe<Ae;Fe++)_e+=Pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Fe));if(this.decodeRowResult.charAt(Ae)!==Pt.ALPHABET_STRING.charAt(_e%43))throw new w;this.decodeRowResult=this.decodeRowResult.substring(0,Ae)}if(this.decodeRowResult.length===0)throw new ae;let Q;this.extendedMode?Q=Pt.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let fe=(u[1]+u[0])/2,be=C+R/2;return new se(Q,null,0,[new pe(fe,i),new pe(be,i)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let l=i.getSize(),c=i.getNextSet(0),u=0,h=c,m=!1,b=a.length;for(let C=c;C<l;C++)if(i.get(C)!==m)a[u]++;else{if(u===b-1){if(this.toNarrowWidePattern(a)===Pt.ASTERISK_ENCODING&&i.isRange(Math.max(0,h-Math.floor((C-h)/2)),h,!1))return[h,C];h+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,m=!m}throw new ae}static toNarrowWidePattern(i){let a=i.length,l=0,c;do{let u=2147483647;for(let b of i)b<u&&b>l&&(u=b);l=u,c=0;let h=0,m=0;for(let b=0;b<a;b++){let C=i[b];C>l&&(m|=1<<a-1-b,c++,h+=C)}if(c===3){for(let b=0;b<a&&c>0;b++){let C=i[b];if(C>l&&(c--,C*2>=h))return-1}return m}}while(c>3);return-1}static patternToChar(i){for(let a=0;a<Pt.CHARACTER_ENCODINGS.length;a++)if(Pt.CHARACTER_ENCODINGS[a]===i)return Pt.ALPHABET_STRING.charAt(a);if(i===Pt.ASTERISK_ENCODING)return"*";throw new ae}static decodeExtended(i){let a=i.length,l="";for(let c=0;c<a;c++){let u=i.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=i.charAt(c+1),m="\0";switch(u){case"+":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)+32);else throw new k;break;case"$":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)-64);else throw new k;break;case"%":if(h>="A"&&h<="E")m=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")m=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")m=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")m="\0";else if(h==="V")m="@";else if(h==="W")m="`";else if(h==="X"||h==="Y"||h==="Z")m="";else throw new k;break;case"/":if(h>="A"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")m=":";else throw new k;break}l+=m,c++}else l+=u}return l}}Pt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Pt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Pt.ASTERISK_ENCODING=148;class Mt extends Lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,l){let c=this.decodeStart(a),u=this.decodeEnd(a),h=new ie;Mt.decodeMiddle(a,c[1],u[0],h);let m=h.toString(),b=null;l!=null&&(b=l.get(X.ALLOWED_LENGTHS)),b==null&&(b=Mt.DEFAULT_ALLOWED_LENGTHS);let C=m.length,R=!1,q=0;for(let be of b){if(C===be){R=!0;break}be>q&&(q=be)}if(!R&&C>q&&(R=!0),!R)throw new k;const Q=[new pe(c[1],i),new pe(u[0],i)];return new se(m,null,0,Q,oe.ITF,new Date().getTime())}static decodeMiddle(i,a,l,c){let u=new Int32Array(10),h=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),h.fill(0),m.fill(0);a<l;){Lt.recordPattern(i,a,u);for(let C=0;C<5;C++){let R=2*C;h[C]=u[R],m[C]=u[R+1]}let b=Mt.decodeDigit(h);c.append(b.toString()),b=this.decodeDigit(m),c.append(b.toString()),u.forEach(function(C){a+=C})}}decodeStart(i){let a=Mt.skipWhiteSpace(i),l=Mt.findGuardPattern(i,a,Mt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let c=a-1;l>0&&c>=0&&!i.get(c);c--)l--;if(l!==0)throw new ae}static skipWhiteSpace(i){const a=i.getSize(),l=i.getNextSet(0);if(l===a)throw new ae;return l}decodeEnd(i){i.reverse();try{let a=Mt.skipWhiteSpace(i),l;try{l=Mt.findGuardPattern(i,a,Mt.END_PATTERN_REVERSED[0])}catch(u){u instanceof ae&&(l=Mt.findGuardPattern(i,a,Mt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let c=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-c,l}finally{i.reverse()}}static findGuardPattern(i,a,l){let c=l.length,u=new Int32Array(c),h=i.getSize(),m=!1,b=0,C=a;u.fill(0);for(let R=a;R<h;R++)if(i.get(R)!==m)u[b]++;else{if(b===c-1){if(Lt.patternMatchVariance(u,l,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return[C,R];C+=u[0]+u[1],M.arraycopy(u,2,u,0,b-1),u[b-1]=0,u[b]=0,b--}else b++;u[b]=1,m=!m}throw new ae}static decodeDigit(i){let a=Mt.MAX_AVG_VARIANCE,l=-1,c=Mt.PATTERNS.length;for(let u=0;u<c;u++){let h=Mt.PATTERNS[u],m=Lt.patternMatchVariance(i,h,Mt.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,l=u):m===a&&(l=-1)}if(l>=0)return l%10;throw new ae}}Mt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Mt.MAX_AVG_VARIANCE=.38,Mt.MAX_INDIVIDUAL_VARIANCE=.5,Mt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Mt.START_PATTERN=Int32Array.from([1,1,1,1]),Mt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dn extends Lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,l,c=0,u=Int32Array.from([0,0,0]);for(;!a;){u=Int32Array.from([0,0,0]),l=dn.findGuardPattern(i,c,!1,this.START_END_PATTERN,u);let h=l[0];c=l[1];let m=h-(c-h);m>=0&&(a=i.isRange(m,h,!1))}return l}static checkChecksum(i){return dn.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return dn.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}return(1e3-l)%10}static decodeEnd(i,a){return dn.findGuardPattern(i,a,!1,dn.START_END_PATTERN,new Int32Array(dn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,l,c){return this.findGuardPattern(i,a,l,c,new Int32Array(c.length))}static findGuardPattern(i,a,l,c,u){let h=i.getSize();a=l?i.getNextUnset(a):i.getNextSet(a);let m=0,b=a,C=c.length,R=l;for(let q=a;q<h;q++)if(i.get(q)!==R)u[m]++;else{if(m===C-1){if(Lt.patternMatchVariance(u,c,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return Int32Array.from([b,q]);b+=u[0]+u[1];let Q=u.slice(2,u.length-1);for(let fe=0;fe<m-1;fe++)u[fe]=Q[fe];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,R=!R}throw new ae}static decodeDigit(i,a,l,c){this.recordPattern(i,l,a);let u=this.MAX_AVG_VARIANCE,h=-1,m=c.length;for(let b=0;b<m;b++){let C=c[b],R=Lt.patternMatchVariance(a,C,dn.MAX_INDIVIDUAL_VARIANCE);R<u&&(u=R,h=b)}if(h>=0)return h;throw new ae}}dn.MAX_AVG_VARIANCE=.48,dn.MAX_INDIVIDUAL_VARIANCE=.7,dn.START_END_PATTERN=Int32Array.from([1,1,1]),dn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class an{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),m=an.parseExtensionString(h),b=[new pe((l[0]+l[1])/2,i),new pe(u,i)],C=new se(h,null,0,b,oe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],m=0;for(let C=0;C<5&&h<u;C++){let R=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let q of c)h+=q;R>=10&&(m|=1<<4-C),C!==4&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==5)throw new ae;let b=this.determineCheckDigit(m);if(an.extensionChecksum(l.toString())!==b)throw new ae;return h}static extensionChecksum(i){let a=i.length,l=0;for(let c=a-2;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;l*=3;for(let c=a-1;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new ae}static parseExtensionString(i){if(i.length!==5)return null;let a=an.parseExtension5String(i);return a==null?null:new Map([[Ie.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(i.substring(1)),c=(l/100).toString(),u=l%100,h=u<10?"0"+u:u.toString();return a+c+"."+h}}class ja{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,l,c),h=c.toString(),m=ja.parseExtensionString(h),b=[new pe((l[0]+l[1])/2,i),new pe(u,i)],C=new se(h,null,0,b,oe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],m=0;for(let b=0;b<2&&h<u;b++){let C=dn.decodeDigit(i,c,h,dn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let R of c)h+=R;C>=10&&(m|=1<<1-b),b!==1&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(l.length!==2)throw new ae;if(parseInt(l.toString())%4!==m)throw new ae;return h}static parseExtensionString(i){return i.length!==2?null:new Map([[Ie.ISSUE_NUMBER,parseInt(i)]])}}class Vn{static decodeRow(i,a,l){let c=dn.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new an().decodeRow(i,a,c)}catch{return new ja().decodeRow(i,a,c)}}}Vn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Gt extends dn{constructor(){super(),this.decodeRowStringBuffer="",Gt.L_AND_G_PATTERNS=Gt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=Gt.L_PATTERNS[i-10],l=new Int32Array(a.length);for(let c=0;c<a.length;c++)l[c]=a[a.length-c-1];Gt.L_AND_G_PATTERNS[i]=l}}decodeRow(i,a,l){let c=Gt.findStartGuardPattern(a),u=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);if(u!=null){const tt=new pe((c[0]+c[1])/2,i);u.foundPossibleResultPoint(tt)}let h=this.decodeMiddle(a,c,this.decodeRowStringBuffer),m=h.rowOffset,b=h.resultString;if(u!=null){const tt=new pe(m,i);u.foundPossibleResultPoint(tt)}let C=this.decodeEnd(a,m);if(u!=null){const tt=new pe((C[0]+C[1])/2,i);u.foundPossibleResultPoint(tt)}let R=C[1],q=R+(R-C[0]);if(q>=a.getSize()||!a.isRange(R,q,!1))throw new ae;let Q=b.toString();if(Q.length<8)throw new k;if(!Gt.checkChecksum(Q))throw new w;let fe=(c[1]+c[0])/2,be=(C[1]+C[0])/2,Ae=this.getBarcodeFormat(),_e=[new pe(fe,i),new pe(be,i)],Fe=new se(Q,null,0,_e,Ae,new Date().getTime()),et=0;try{let tt=Vn.decodeRow(i,a,C[1]);Fe.putMetadata(Ie.UPC_EAN_EXTENSION,tt.getText()),Fe.putAllMetadata(tt.getResultMetadata()),Fe.addResultPoints(tt.getResultPoints()),et=tt.getText().length}catch{}let at=l==null?null:l.get(X.ALLOWED_EAN_EXTENSIONS);if(at!=null){let tt=!1;for(let Zt in at)if(et.toString()===Zt){tt=!0;break}if(!tt)throw new ae}return Fe}decodeEnd(i,a){return Gt.findGuardPattern(i,a,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Gt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return Gt.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let c=a-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}l*=3;for(let c=a-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new k;l+=u}return(1e3-l)%10}}class ir extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1],m=0;for(let C=0;C<6&&h<u;C++){let R=Gt.decodeDigit(i,c,h,Gt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let q of c)h+=q;R>=10&&(m|=1<<5-C)}l=ir.determineFirstDigit(l,m),h=Gt.findGuardPattern(i,h,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&h<u;C++){let R=Gt.decodeDigit(i,c,h,Gt.L_PATTERNS);l+=String.fromCharCode(48+R);for(let q of c)h+=q}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(i,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new ae}}ir.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Yn extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=a[1];for(let b=0;b<4&&h<u;b++){let C=Gt.decodeDigit(i,c,h,Gt.L_PATTERNS);l+=String.fromCharCode(48+C);for(let R of c)h+=R}h=Gt.findGuardPattern(i,h,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&h<u;b++){let C=Gt.decodeDigit(i,c,h,Gt.L_PATTERNS);l+=String.fromCharCode(48+C);for(let R of c)h+=R}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return oe.EAN_8}}class Ft extends Gt{constructor(){super(...arguments),this.ean13Reader=new ir}getBarcodeFormat(){return oe.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,l))}decodeMiddle(i,a,l){return this.ean13Reader.decodeMiddle(i,a,l)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let l=new se(a.substring(1),null,null,i.getResultPoints(),oe.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new ae}reset(){this.ean13Reader.reset()}}class Yt extends Gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,l){const c=this.decodeMiddleCounters.map(C=>C);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=i.getSize();let h=a[1],m=0;for(let C=0;C<6&&h<u;C++){const R=Yt.decodeDigit(i,c,h,Yt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let q of c)h+=q;R>=10&&(m|=1<<5-C)}let b=Yt.determineNumSysAndCheckDigit(l,m);return{rowOffset:h,resultString:b}}decodeEnd(i,a){return Yt.findGuardPatternWithoutCounters(i,a,!0,Yt.MIDDLE_END_PATTERN)}checkChecksum(i){return Gt.checkChecksum(Yt.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let u=String.fromCharCode(48+l),h=String.fromCharCode(48+c);return u+i+h}throw ae.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),l=new ie;l.append(i.charAt(0));let c=a[5];switch(c){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(c),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(c);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Yt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ba extends Lt{constructor(i){super();let a=i==null?null:i.get(X.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new ir),l.push(new Ft),l.push(new Yn),l.push(new Yt)):(a.indexOf(oe.EAN_13)>-1&&l.push(new ir),a.indexOf(oe.UPC_A)>-1&&l.push(new Ft),a.indexOf(oe.EAN_8)>-1&&l.push(new Yn),a.indexOf(oe.UPC_E)>-1&&l.push(new Yt)),this.readers=l}decodeRow(i,a,l){for(let c of this.readers)try{const u=c.decodeRow(i,a,l),h=u.getBarcodeFormat()===oe.EAN_13&&u.getText().charAt(0)==="0",m=l==null?null:l.get(X.POSSIBLE_FORMATS),b=m==null||m.includes(oe.UPC_A);if(h&&b){const C=u.getRawBytes(),R=new se(u.getText().substring(1),C,C?C.length:null,u.getResultPoints(),oe.UPC_A);return R.putAllMetadata(u.getResultMetadata()),R}return u}catch{}throw new ae}reset(){for(let i of this.readers)i.reset()}}class un extends Lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let l=0;l<a.length;l++)if(Lt.patternMatchVariance(i,a[l],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return l;throw new ae}static count(i){return xe.sum(new Int32Array(i))}static increment(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]>c&&(c=a[u],l=u);i[l]++}static decrement(i,a){let l=0,c=a[0];for(let u=1;u<i.length;u++)a[u]<c&&(c=a[u],l=u);i[l]--}static isFinderPattern(i){let a=i[0]+i[1],l=a+i[2]+i[3],c=a/l;if(c>=un.MIN_FINDER_PATTERN_RATIO&&c<=un.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let m of i)m>h&&(h=m),m<u&&(u=m);return h<10*u}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class rr{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof rr))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Er{constructor(i,a,l,c,u){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new pe(l,u)),this.resultPoints.push(new pe(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Er))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class Ct{constructor(){}static getRSSvalue(i,a,l){let c=0;for(let b of i)c+=b;let u=0,h=0,m=i.length;for(let b=0;b<m-1;b++){let C;for(C=1,h|=1<<b;C<i[b];C++,h&=~(1<<b)){let R=Ct.combins(c-C-1,m-b-2);if(l&&h===0&&c-C-(m-b-1)>=m-b-1&&(R-=Ct.combins(c-C-(m-b),m-b-2)),m-b-1>1){let q=0;for(let Q=c-C-(m-b-2);Q>a;Q--)q+=Ct.combins(c-C-Q-1,m-b-3);R-=q*(m-1-b)}else c-C>a&&R--;u+=R}c-=C}return u}static combins(i,a){let l,c;i-a>a?(c=a,l=i-a):(c=i-a,l=a);let u=1,h=1;for(let m=i;m>l;m--)u*=m,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class Wr{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let l=12*a,c=new L(l),u=0,m=i[0].getRightChar().getValue();for(let b=11;b>=0;--b)m&1<<b&&c.set(u),u++;for(let b=1;b<i.length;++b){let C=i[b],R=C.getLeftChar().getValue();for(let q=11;q>=0;--q)R&1<<q&&c.set(u),u++;if(C.getRightChar()!=null){let q=C.getRightChar().getValue();for(let Q=11;Q>=0;--Q)q&1<<Q&&c.set(u),u++}}return c}}class Xi{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Wi{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class fn extends Wi{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class Dn extends Wi{constructor(i,a,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Fn extends Wi{constructor(i,a,l){if(super(i),a<0||a>10||l<0||l>10)throw new k;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Fn.FNC1}isAnyFNC1(){return this.firstDigit===Fn.FNC1||this.secondDigit===Fn.FNC1}}Fn.FNC1=10;class mt{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ae;let a=i.substring(0,2);for(let u of mt.TWO_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(2,u[2],i):mt.processFixedAI(2,u[1],i);if(i.length<3)throw new ae;let l=i.substring(0,3);for(let u of mt.THREE_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(3,u[2],i):mt.processFixedAI(3,u[1],i);for(let u of mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(4,u[2],i):mt.processFixedAI(4,u[1],i);if(i.length<4)throw new ae;let c=i.substring(0,4);for(let u of mt.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(4,u[2],i):mt.processFixedAI(4,u[1],i);throw new ae}static processFixedAI(i,a,l){if(l.length<i)throw new ae;let c=l.substring(0,i);if(l.length<i+a)throw new ae;let u=l.substring(i,i+a),h=l.substring(i+a),m="("+c+")"+u,b=mt.parseFieldsInGeneralPurpose(h);return b==null?m:m+b}static processVariableAI(i,a,l){let c=l.substring(0,i),u;l.length<i+a?u=l.length:u=i+a;let h=l.substring(i,u),m=l.substring(u),b="("+c+")"+h,C=mt.parseFieldsInGeneralPurpose(m);return C==null?b:b+C}}mt.VARIABLE_LENGTH=[],mt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",mt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",mt.VARIABLE_LENGTH,20],["22",mt.VARIABLE_LENGTH,29],["30",mt.VARIABLE_LENGTH,8],["37",mt.VARIABLE_LENGTH,8],["90",mt.VARIABLE_LENGTH,30],["91",mt.VARIABLE_LENGTH,30],["92",mt.VARIABLE_LENGTH,30],["93",mt.VARIABLE_LENGTH,30],["94",mt.VARIABLE_LENGTH,30],["95",mt.VARIABLE_LENGTH,30],["96",mt.VARIABLE_LENGTH,30],["97",mt.VARIABLE_LENGTH,3],["98",mt.VARIABLE_LENGTH,30],["99",mt.VARIABLE_LENGTH,30]],mt.THREE_DIGIT_DATA_LENGTH=[["240",mt.VARIABLE_LENGTH,30],["241",mt.VARIABLE_LENGTH,30],["242",mt.VARIABLE_LENGTH,6],["250",mt.VARIABLE_LENGTH,30],["251",mt.VARIABLE_LENGTH,30],["253",mt.VARIABLE_LENGTH,17],["254",mt.VARIABLE_LENGTH,20],["400",mt.VARIABLE_LENGTH,30],["401",mt.VARIABLE_LENGTH,30],["402",17],["403",mt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",mt.VARIABLE_LENGTH,20],["421",mt.VARIABLE_LENGTH,15],["422",3],["423",mt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",mt.VARIABLE_LENGTH,15],["391",mt.VARIABLE_LENGTH,18],["392",mt.VARIABLE_LENGTH,15],["393",mt.VARIABLE_LENGTH,18],["703",mt.VARIABLE_LENGTH,30]],mt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",mt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",mt.VARIABLE_LENGTH,20],["8003",mt.VARIABLE_LENGTH,30],["8004",mt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",mt.VARIABLE_LENGTH,30],["8008",mt.VARIABLE_LENGTH,12],["8018",18],["8020",mt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",mt.VARIABLE_LENGTH,70],["8200",mt.VARIABLE_LENGTH,70]];class dr{constructor(i){this.buffer=new ie,this.information=i}decodeAllCodes(i,a){let l=a,c=null;do{let u=this.decodeGeneralPurposeField(l,c),h=mt.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&i.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,l===u.getNewPosition())break;l=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new Fn(this.information.getSize(),Fn.FNC1,Fn.FNC1):new Fn(this.information.getSize(),u-1,Fn.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),l=(a-8)/11,c=(a-8)%11;return new Fn(i+7,l,c)}extractNumericValueFromBitArray(i,a){return dr.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,l){let c=0;for(let u=0;u<l;++u)i.get(a+u)&&(c|=1<<l-u-1);return c}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Dn(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Dn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new Dn(this.current.getPosition(),this.buffer.toString()):a=new Dn(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Xi(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new Dn(this.current.getPosition(),this.buffer.toString());return new Xi(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Dn(this.current.getPosition(),this.buffer.toString());return new Xi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Dn(this.current.getPosition(),this.buffer.toString());return new Xi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xi(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new fn(i+7,""+(l+1));if(l>=90&&l<116)return new fn(i+7,""+(l+7));let c=this.extractNumericValueFromBitArray(i,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new k}return new fn(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new fn(i+5,fn.FNC1);if(a>=5&&a<15)return new fn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new fn(i+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Ue("Decoding invalid alphanumeric value: "+l)}return new fn(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class Tr{constructor(i){this.information=i,this.generalDecoder=new dr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Un extends Tr{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,l)}encodeCompressedGtinWithoutAI(i,a,l){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*c,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}Un.appendCheckDigit(i,l)}static appendCheckDigit(i,a){let l=0;for(let c=0;c<13;c++){let u=i.charAt(c+a).charCodeAt(0)-48;l+=c&1?u:3*u}l=10-l%10,l===10&&(l=0),i.append(l)}}Un.GTIN_SIZE=40;class Zi extends Un{constructor(i){super(i)}parseInformation(){let i=new ie;i.append("(01)");let a=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Zi.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,Zi.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,Zi.HEADER_SIZE+44)}}Zi.HEADER_SIZE=4;class _r extends Tr{constructor(i){super(i)}parseInformation(){let i=new ie;return this.getGeneralDecoder().decodeAllCodes(i,_r.HEADER_SIZE)}}_r.HEADER_SIZE=5;class ar extends Un{constructor(i){super(i)}encodeCompressedWeight(i,a,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(i,c);let u=this.checkWeight(c),h=1e5;for(let m=0;m<5;++m)u/h===0&&i.append("0"),h/=10;i.append(u)}}class wi extends ar{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=wi.HEADER_SIZE+ar.GTIN_SIZE+wi.WEIGHT_SIZE)throw new ae;let i=new ie;return this.encodeCompressedGtin(i,wi.HEADER_SIZE),this.encodeCompressedWeight(i,wi.HEADER_SIZE+ar.GTIN_SIZE,wi.WEIGHT_SIZE),i.toString()}}wi.HEADER_SIZE=5,wi.WEIGHT_SIZE=15;class ys extends wi{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class Ys extends wi{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class sr extends Un{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<sr.HEADER_SIZE+Un.GTIN_SIZE)throw new ae;let i=new ie;this.encodeCompressedGtin(i,sr.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE+Un.GTIN_SIZE,sr.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(sr.HEADER_SIZE+Un.GTIN_SIZE+sr.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}sr.HEADER_SIZE=8,sr.LAST_DIGIT_SIZE=2;class gi extends Un{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<gi.HEADER_SIZE+Un.GTIN_SIZE)throw new ae;let i=new ie;this.encodeCompressedGtin(i,gi.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE+Un.GTIN_SIZE,gi.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE+Un.GTIN_SIZE+gi.LAST_DIGIT_SIZE,gi.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(gi.HEADER_SIZE+Un.GTIN_SIZE+gi.LAST_DIGIT_SIZE+gi.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}gi.HEADER_SIZE=8,gi.LAST_DIGIT_SIZE=2,gi.FIRST_THREE_DIGITS_SIZE=10;class yn extends ar{constructor(i,a,l){super(i),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE+yn.DATE_SIZE)throw new ae;let i=new ie;return this.encodeCompressedGtin(i,yn.HEADER_SIZE),this.encodeCompressedWeight(i,yn.HEADER_SIZE+yn.GTIN_SIZE,yn.WEIGHT_SIZE),this.encodeCompressedDate(i,yn.HEADER_SIZE+yn.GTIN_SIZE+yn.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,yn.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=l%32;l/=32;let u=l%12+1;l/=12;let h=l;h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}yn.HEADER_SIZE=8,yn.WEIGHT_SIZE=20,yn.DATE_SIZE=16;function Wo(G){try{if(G.get(1))return new Zi(G);if(!G.get(2))return new _r(G);switch(dr.extractNumericValueFromBitArray(G,1,4)){case 4:return new ys(G);case 5:return new Ys(G)}switch(dr.extractNumericValueFromBitArray(G,1,5)){case 12:return new sr(G);case 13:return new gi(G)}switch(dr.extractNumericValueFromBitArray(G,1,7)){case 56:return new yn(G,"310","11");case 57:return new yn(G,"320","11");case 58:return new yn(G,"310","13");case 59:return new yn(G,"320","13");case 60:return new yn(G,"310","15");case 61:return new yn(G,"320","15");case 62:return new yn(G,"310","17");case 63:return new yn(G,"320","17")}}catch(i){throw console.log(i),new Ue("unknown decoder: "+G)}}class ma{constructor(i,a,l,c){this.leftchar=i,this.rightchar=a,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof ma?ma.equalsOrNull(i.leftchar,a.leftchar)&&ma.equalsOrNull(i.rightchar,a.rightchar)&&ma.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:ma.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zo{constructor(i,a,l){this.pairs=i,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof Zo?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let l;return i.forEach((c,u)=>{a.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ze extends un{constructor(i){super(...arguments),this.pairs=new Array(Ze.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,l){this.pairs.length=0,this.startFromEven=!1;try{return Ze.constructResult(this.decodeRow2pairs(i,a))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,Ze.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(u){if(u instanceof ae){if(!this.pairs.length)throw new ae;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ae}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let l=a;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let h of i)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!Ze.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(c);try{return this.checkRows(u,l+1)}catch(h){this.verbose&&console.log(h)}}throw new ae}static isValidSequence(i){for(let a of Ze.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let l=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=a[c]){l=!1;break}if(l)return!0}return!1}storeRow(i,a){let l=0,c=!1,u=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>i){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),l++}u||c||Ze.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Zo(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let l of a)if(l.getPairs().length!==i.length){for(let c of l.getPairs())for(let u of i)if(ma.equals(c,u))break}}static isPartialRow(i,a){for(let l of a){let c=!0;for(let u of i){let h=!1;for(let m of l.getPairs())if(u.equals(m)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=Wr.buildBitArray(i),c=Wo(a).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),h=i[i.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],h[0],h[1]];return new se(c,null,null,m,oe.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let b=this.pairs.get(m);c+=b.getLeftChar().getChecksumPortion(),u++;let C=b.getRightChar();C!=null&&(c+=C.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==a.getValue()}static getNextSecondBar(i,a){let l;return i.get(a)?(l=i.getNextUnset(a),l=i.getNextSet(l)):(l=i.getNextSet(a),l=i.getNextUnset(l)),l}retrieveNextPair(i,a,l){let c=a.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,m=-1;do this.findNextPair(i,a,m),u=this.parseFoundFinderPattern(i,l,c),u==null?m=Ze.getNextSecondBar(i,this.startEnd[0]):h=!1;while(h);let b=this.decodeDataCharacter(i,u,c,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new ae;let C;try{C=this.decodeDataCharacter(i,u,c,!1)}catch(R){C=null,this.verbose&&console.log(R)}return new ma(b,C,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h;l>=0?h=l:this.isEmptyPair(a)?h=0:h=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let b=!1;for(;h<u&&(b=!i.get(h),!!b);)h++;let C=0,R=h;for(let q=h;q<u;q++)if(i.get(q)!=b)c[C]++;else{if(C==3){if(m&&Ze.reverseCounters(c),Ze.isFinderPattern(c)){this.startEnd[0]=R,this.startEnd[1]=q;return}m&&Ze.reverseCounters(c),R+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,C--}else C++;c[C]=1,b=!b}throw new ae}static reverseCounters(i){let a=i.length;for(let l=0;l<a/2;++l){let c=i[l];i[l]=i[a-l-1],i[a-l-1]=c}}parseFoundFinderPattern(i,a,l){let c,u,h;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!i.get(C);)C--;C++,c=this.startEnd[0]-C,u=C,h=this.startEnd[1]}else u=this.startEnd[0],h=i.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let m=this.getDecodeFinderCounters();M.arraycopy(m,0,m,1,m.length-1),m[0]=c;let b;try{b=this.parseFinderValue(m,Ze.FINDER_PATTERNS)}catch{return null}return new Er(b,[u,h],u,h,a)}decodeDataCharacter(i,a,l,c){let u=this.getDataCharacterCounters();for(let cn=0;cn<u.length;cn++)u[cn]=0;if(c)Ze.recordPatternInReverse(i,a.getStartEnd()[0],u);else{Ze.recordPattern(i,a.getStartEnd()[1],u);for(let cn=0,ii=u.length-1;cn<ii;cn++,ii--){let Ci=u[cn];u[cn]=u[ii],u[ii]=Ci}}let h=17,m=xe.sum(new Int32Array(u))/h,b=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-b)/b>.3)throw new ae;let C=this.getOddCounts(),R=this.getEvenCounts(),q=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let cn=0;cn<u.length;cn++){let ii=1*u[cn]/m,Ci=ii+.5;if(Ci<1){if(ii<.3)throw new ae;Ci=1}else if(Ci>8){if(ii>8.7)throw new ae;Ci=8}let Dr=cn/2;cn&1?(R[Dr]=Ci,Q[Dr]=ii-Ci):(C[Dr]=Ci,q[Dr]=ii-Ci)}this.adjustOddEvenCounts(h);let fe=4*a.getValue()+(l?0:2)+(c?0:1)-1,be=0,Ae=0;for(let cn=C.length-1;cn>=0;cn--){if(Ze.isNotA1left(a,l,c)){let ii=Ze.WEIGHTS[fe][2*cn];Ae+=C[cn]*ii}be+=C[cn]}let _e=0;for(let cn=R.length-1;cn>=0;cn--)if(Ze.isNotA1left(a,l,c)){let ii=Ze.WEIGHTS[fe][2*cn+1];_e+=R[cn]*ii}let Fe=Ae+_e;if(be&1||be>13||be<4)throw new ae;let et=(13-be)/2,at=Ze.SYMBOL_WIDEST[et],tt=9-at,Zt=Ct.getRSSvalue(C,at,!0),Bt=Ct.getRSSvalue(R,tt,!1),mi=Ze.EVEN_TOTAL_SUBSET[et],Fi=Ze.GSUM[et],ui=Zt*mi+Bt+Fi;return new rr(ui,Fe)}static isNotA1left(i,a,l){return!(i.getValue()==0&&a&&l)}adjustOddEvenCounts(i){let a=xe.sum(new Int32Array(this.getOddCounts())),l=xe.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let h=!1,m=!1;l>13?m=!0:l<4&&(h=!0);let b=a+l-i,C=(a&1)==1,R=(l&1)==0;if(b==1)if(C){if(R)throw new ae;u=!0}else{if(!R)throw new ae;m=!0}else if(b==-1)if(C){if(R)throw new ae;c=!0}else{if(!R)throw new ae;h=!0}else if(b==0){if(C){if(!R)throw new ae;a<l?(c=!0,m=!0):(u=!0,h=!0)}else if(R)throw new ae}else throw new ae;if(c){if(u)throw new ae;Ze.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Ze.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new ae;Ze.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&Ze.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ze.SYMBOL_WIDEST=[7,5,4,3,1],Ze.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ze.GSUM=[0,348,1388,2948,3988],Ze.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ze.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ze.FINDER_PAT_A=0,Ze.FINDER_PAT_B=1,Ze.FINDER_PAT_C=2,Ze.FINDER_PAT_D=3,Ze.FINDER_PAT_E=4,Ze.FINDER_PAT_F=5,Ze.FINDER_PATTERN_SEQUENCES=[[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_C,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_C],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_E],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F]],Ze.MAX_PAIRS=11;class zl extends rr{constructor(i,a,l){super(i,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class zn extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,l){const c=this.decodePair(a,!1,i,l);zn.addOrTally(this.possibleLeftPairs,c),a.reverse();let u=this.decodePair(a,!0,i,l);zn.addOrTally(this.possibleRightPairs,u),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&zn.checkChecksum(h,m))return zn.constructResult(h,m)}throw new ae}static addOrTally(i,a){if(a==null)return;let l=!1;for(let c of i)if(c.getValue()===a.getValue()){c.incrementCount(),l=!0;break}l||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let l=4537077*i.getValue()+a.getValue(),c=new String(l).toString(),u=new ie;for(let C=13-c.length;C>0;C--)u.append("0");u.append(c);let h=0;for(let C=0;C<13;C++){let R=u.charAt(C).charCodeAt(0)-48;h+=C&1?R:3*R}h=10-h%10,h===10&&(h=0),u.append(h.toString());let m=i.getFinderPattern().getResultPoints(),b=a.getFinderPattern().getResultPoints();return new se(u.toString(),null,0,[m[0],m[1],b[0],b[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(i,a){let l=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(i,a,l,c){try{let u=this.findFinderPattern(i,a),h=this.parseFoundFinderPattern(i,l,a,u),m=c==null?null:c.get(X.NEED_RESULT_POINT_CALLBACK);if(m!=null){let R=(u[0]+u[1])/2;a&&(R=i.getSize()-1-R),m.foundPossibleResultPoint(new pe(R,l))}let b=this.decodeDataCharacter(i,h,!0),C=this.decodeDataCharacter(i,h,!1);return new zl(1597*b.getValue()+C.getValue(),b.getChecksumPortion()+4*C.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(i,a,l){let c=this.getDataCharacterCounters();for(let _e=0;_e<c.length;_e++)c[_e]=0;if(l)Lt.recordPatternInReverse(i,a.getStartEnd()[0],c);else{Lt.recordPattern(i,a.getStartEnd()[1]+1,c);for(let _e=0,Fe=c.length-1;_e<Fe;_e++,Fe--){let et=c[_e];c[_e]=c[Fe],c[Fe]=et}}let u=l?16:15,h=xe.sum(new Int32Array(c))/u,m=this.getOddCounts(),b=this.getEvenCounts(),C=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let _e=0;_e<c.length;_e++){let Fe=c[_e]/h,et=Math.floor(Fe+.5);et<1?et=1:et>8&&(et=8);let at=Math.floor(_e/2);_e&1?(b[at]=et,R[at]=Fe-et):(m[at]=et,C[at]=Fe-et)}this.adjustOddEvenCounts(l,u);let q=0,Q=0;for(let _e=m.length-1;_e>=0;_e--)Q*=9,Q+=m[_e],q+=m[_e];let fe=0,be=0;for(let _e=b.length-1;_e>=0;_e--)fe*=9,fe+=b[_e],be+=b[_e];let Ae=Q+3*fe;if(l){if(q&1||q>12||q<4)throw new ae;let _e=(12-q)/2,Fe=zn.OUTSIDE_ODD_WIDEST[_e],et=9-Fe,at=Ct.getRSSvalue(m,Fe,!1),tt=Ct.getRSSvalue(b,et,!0),Zt=zn.OUTSIDE_EVEN_TOTAL_SUBSET[_e],Bt=zn.OUTSIDE_GSUM[_e];return new rr(at*Zt+tt+Bt,Ae)}else{if(be&1||be>10||be<4)throw new ae;let _e=(10-be)/2,Fe=zn.INSIDE_ODD_WIDEST[_e],et=9-Fe,at=Ct.getRSSvalue(m,Fe,!0),tt=Ct.getRSSvalue(b,et,!1),Zt=zn.INSIDE_ODD_TOTAL_SUBSET[_e],Bt=zn.INSIDE_GSUM[_e];return new rr(tt*Zt+at+Bt,Ae)}}findFinderPattern(i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),u=!1,h=0;for(;h<c&&(u=!i.get(h),a!==u);)h++;let m=0,b=h;for(let C=h;C<c;C++)if(i.get(C)!==u)l[m]++;else{if(m===3){if(un.isFinderPattern(l))return[b,C];b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,u=!u}throw new ae}parseFoundFinderPattern(i,a,l,c){let u=i.get(c[0]),h=c[0]-1;for(;h>=0&&u!==i.get(h);)h--;h++;const m=c[0]-h,b=this.getDecodeFinderCounters(),C=new Int32Array(b.length);M.arraycopy(b,0,C,1,b.length-1),C[0]=m;const R=this.parseFinderValue(C,zn.FINDER_PATTERNS);let q=h,Q=c[1];return l&&(q=i.getSize()-1-q,Q=i.getSize()-1-Q),new Er(R,[h,c[1]],q,Q,a)}adjustOddEvenCounts(i,a){let l=xe.sum(new Int32Array(this.getOddCounts())),c=xe.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,m=!1,b=!1;i?(l>12?h=!0:l<4&&(u=!0),c>12?b=!0:c<4&&(m=!0)):(l>11?h=!0:l<5&&(u=!0),c>10?b=!0:c<4&&(m=!0));let C=l+c-a,R=(l&1)===(i?1:0),q=(c&1)===1;if(C===1)if(R){if(q)throw new ae;h=!0}else{if(!q)throw new ae;b=!0}else if(C===-1)if(R){if(q)throw new ae;u=!0}else{if(!q)throw new ae;m=!0}else if(C===0){if(R){if(!q)throw new ae;l<c?(u=!0,b=!0):(h=!0,m=!0)}else if(q)throw new ae}else throw new ae;if(u){if(h)throw new ae;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(b)throw new ae;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}zn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],zn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],zn.OUTSIDE_GSUM=[0,161,961,2015,2715],zn.INSIDE_GSUM=[0,336,1036,1516],zn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],zn.INSIDE_ODD_WIDEST=[2,4,6,8],zn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xa extends Lt{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const l=i?i.get(X.POSSIBLE_FORMATS):null,c=i&&i.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(oe.EAN_13)||l.includes(oe.UPC_A)||l.includes(oe.EAN_8)||l.includes(oe.UPC_E))&&this.readers.push(new Ba(i)),l.includes(oe.CODE_39)&&this.readers.push(new Pt(c)),l.includes(oe.CODE_128)&&this.readers.push(new lt),l.includes(oe.ITF)&&this.readers.push(new Mt),l.includes(oe.RSS_14)&&this.readers.push(new zn),l.includes(oe.RSS_EXPANDED)&&this.readers.push(new Ze(this.verbose))):(this.readers.push(new Ba(i)),this.readers.push(new Pt),this.readers.push(new Ba(i)),this.readers.push(new lt),this.readers.push(new Mt),this.readers.push(new zn),this.readers.push(new Ze(this.verbose)))}decodeRow(i,a,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,a,l)}catch{}throw new ae}reset(){this.readers.forEach(i=>i.reset())}}class Wc extends te{constructor(i=500,a){super(new xa(a),i,a)}}class on{constructor(i,a,l){this.ecCodewords=i,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ln{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xt{constructor(i,a,l,c,u,h){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let m=0;const b=h.getECCodewords(),C=h.getECBlocks();for(let R of C)m+=R.getCount()*(R.getDataCodewords()+b);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new k;for(let l of Xt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===a)return l;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new Xt(1,10,10,8,8,new on(5,new ln(1,3))),new Xt(2,12,12,10,10,new on(7,new ln(1,5))),new Xt(3,14,14,12,12,new on(10,new ln(1,8))),new Xt(4,16,16,14,14,new on(12,new ln(1,12))),new Xt(5,18,18,16,16,new on(14,new ln(1,18))),new Xt(6,20,20,18,18,new on(18,new ln(1,22))),new Xt(7,22,22,20,20,new on(20,new ln(1,30))),new Xt(8,24,24,22,22,new on(24,new ln(1,36))),new Xt(9,26,26,24,24,new on(28,new ln(1,44))),new Xt(10,32,32,14,14,new on(36,new ln(1,62))),new Xt(11,36,36,16,16,new on(42,new ln(1,86))),new Xt(12,40,40,18,18,new on(48,new ln(1,114))),new Xt(13,44,44,20,20,new on(56,new ln(1,144))),new Xt(14,48,48,22,22,new on(68,new ln(1,174))),new Xt(15,52,52,24,24,new on(42,new ln(2,102))),new Xt(16,64,64,14,14,new on(56,new ln(2,140))),new Xt(17,72,72,16,16,new on(36,new ln(4,92))),new Xt(18,80,80,18,18,new on(48,new ln(4,114))),new Xt(19,88,88,20,20,new on(56,new ln(4,144))),new Xt(20,96,96,22,22,new on(68,new ln(4,174))),new Xt(21,104,104,24,24,new on(56,new ln(6,136))),new Xt(22,120,120,18,18,new on(68,new ln(6,175))),new Xt(23,132,132,20,20,new on(62,new ln(8,163))),new Xt(24,144,144,22,22,new on(62,new ln(8,156),new ln(2,155))),new Xt(25,8,18,6,16,new on(7,new ln(1,5))),new Xt(26,8,32,6,14,new on(11,new ln(1,10))),new Xt(27,12,26,10,24,new on(14,new ln(1,16))),new Xt(28,12,36,10,16,new on(18,new ln(1,22))),new Xt(29,16,36,14,16,new on(24,new ln(1,32))),new Xt(30,16,48,14,22,new on(28,new ln(1,49)))]}}Xt.VERSIONS=Xt.buildVersions();class Qo{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new k;this.version=Qo.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),l=i.getWidth();return Xt.getVersionForDimensions(a,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let m=!1,b=!1,C=!1,R=!1;do if(l===u&&c===0&&!m)i[a++]=this.readCorner1(u,h)&255,l-=2,c+=2,m=!0;else if(l===u-2&&c===0&&h&3&&!b)i[a++]=this.readCorner2(u,h)&255,l-=2,c+=2,b=!0;else if(l===u+4&&c===2&&!(h&7)&&!C)i[a++]=this.readCorner3(u,h)&255,l-=2,c+=2,C=!0;else if(l===u-2&&c===0&&(h&7)===4&&!R)i[a++]=this.readCorner4(u,h)&255,l-=2,c+=2,R=!0;else{do l<u&&c>=0&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l-=2,c+=2;while(l>=0&&c<h);l+=1,c+=3;do l>=0&&c<h&&!this.readMappingMatrix.get(c,l)&&(i[a++]=this.readUtah(l,c,u,h)&255),l+=2,c-=2;while(l<u&&c>=0);l+=3,c+=1}while(l<u||c<h);if(a!==this.version.getTotalCodewords())throw new k;return i}readModule(i,a,l,c){return i<0&&(i+=l,a+=4-(l+4&7)),a<0&&(a+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,l,c){let u=0;return this.readModule(i-2,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-2,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i-1,a,l,c)&&(u|=1),u<<=1,this.readModule(i,a-2,l,c)&&(u|=1),u<<=1,this.readModule(i,a-1,l,c)&&(u|=1),u<<=1,this.readModule(i,a,l,c)&&(u|=1),u}readCorner1(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,1,i,a)&&(l|=1),l<<=1,this.readModule(i-1,2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}readCorner2(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-4,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner3(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-3,i,a)&&(l|=1),l<<=1,this.readModule(1,a-2,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner4(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new S("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=a/c|0,m=l/u|0,b=h*c,C=m*u,R=new re(C,b);for(let q=0;q<h;++q){const Q=q*c;for(let fe=0;fe<m;++fe){const be=fe*u;for(let Ae=0;Ae<c;++Ae){const _e=q*(c+2)+1+Ae,Fe=Q+Ae;for(let et=0;et<u;++et){const at=fe*(u+2)+1+et;if(i.get(at,_e)){const tt=be+et;R.set(tt,Fe)}}}}}return R}}class Xn{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const l=a.getECBlocks();let c=0;const u=l.getECBlocks();for(let Ae of u)c+=Ae.getCount();const h=new Array(c);let m=0;for(let Ae of u)for(let _e=0;_e<Ae.getCount();_e++){const Fe=Ae.getDataCodewords(),et=l.getECCodewords()+Fe;h[m++]=new Xn(Fe,new Uint8Array(et))}const C=h[0].codewords.length-l.getECCodewords(),R=C-1;let q=0;for(let Ae=0;Ae<R;Ae++)for(let _e=0;_e<m;_e++)h[_e].codewords[Ae]=i[q++];const Q=a.getVersionNumber()===24,fe=Q?8:m;for(let Ae=0;Ae<fe;Ae++)h[Ae].codewords[C-1]=i[q++];const be=h[0].codewords.length;for(let Ae=C;Ae<be;Ae++)for(let _e=0;_e<m;_e++){const Fe=Q?(_e+8)%m:_e,et=Q&&Fe>7?Ae-1:Ae;h[Fe].codewords[et]=i[q++]}if(q!==i.length)throw new S;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xs{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new S(""+i);let a=0,l=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(l>0){const h=8-l,m=i<h?i:h,b=h-m,C=255>>8-m<<b;a=(u[c]&C)>>b,i-=m,l+=m,l===8&&(l=0,c++)}if(i>0){for(;i>=8;)a=a<<8|u[c]&255,c++,i-=8;if(i>0){const h=8-i,m=255>>h<<h;a=a<<i|(u[c]&m)>>h,l+=i}}return this.bitOffset=l,this.byteOffset=c,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $n;(function(G){G[G.PAD_ENCODE=0]="PAD_ENCODE",G[G.ASCII_ENCODE=1]="ASCII_ENCODE",G[G.C40_ENCODE=2]="C40_ENCODE",G[G.TEXT_ENCODE=3]="TEXT_ENCODE",G[G.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",G[G.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",G[G.BASE256_ENCODE=6]="BASE256_ENCODE"})($n||($n={}));class Zr{static decode(i){const a=new Xs(i),l=new ie,c=new ie,u=new Array;let h=$n.ASCII_ENCODE;do if(h===$n.ASCII_ENCODE)h=this.decodeAsciiSegment(a,l,c);else{switch(h){case $n.C40_ENCODE:this.decodeC40Segment(a,l);break;case $n.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case $n.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case $n.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case $n.BASE256_ENCODE:this.decodeBase256Segment(a,l,u);break;default:throw new k}h=$n.ASCII_ENCODE}while(h!==$n.PAD_ENCODE&&a.available()>0);return c.length()>0&&l.append(c.toString()),new Re(i,l.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,a,l){let c=!1;do{let u=i.readBits(8);if(u===0)throw new k;if(u<=128)return c&&(u+=128),a.append(String.fromCharCode(u-1)),$n.ASCII_ENCODE;if(u===129)return $n.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&a.append("0"),a.append(""+h)}else switch(u){case 230:return $n.C40_ENCODE;case 231:return $n.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return $n.ANSIX12_ENCODE;case 239:return $n.TEXT_ENCODE;case 240:return $n.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new k;break}}while(i.available()>0);return $n.ASCII_ENCODE}static decodeC40Segment(i,a){let l=!1;const c=[];let u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let m=0;m<3;m++){const b=c[m];switch(u){case 0:if(b<3)u=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else throw new k;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new k}u=0;break;case 3:l?(a.append(String.fromCharCode(b+224)),l=!1):a.append(String.fromCharCode(b+96)),u=0;break;default:throw new k}}}while(i.available()>0)}static decodeTextSegment(i,a){let l=!1,c=[],u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let m=0;m<3;m++){const b=c[m];switch(u){case 0:if(b<3)u=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else throw new k;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),u=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new k}u=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[b];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C),u=0}else throw new k;break;default:throw new k}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const l=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),l);for(let u=0;u<3;u++){const h=l[u];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else if(h<40)a.append(String.fromCharCode(h+51));else throw new k;break}}}while(i.available()>0)}static parseTwoBytes(i,a,l){let c=(i<<8)+a-1,u=Math.floor(c/1600);l[0]=u,c-=u*1600,u=Math.floor(c/40),l[1]=u,l[2]=c-u*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let c=i.readBits(6);if(c===31){const u=8-i.getBitOffset();u!==8&&i.readBits(u);return}c&32||(c|=64),a.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,a,l){let c=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),c++);let h;if(u===0?h=i.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(i.readBits(8),c++),h<0)throw new k;const m=new Uint8Array(h);for(let b=0;b<h;b++){if(i.available()<8)throw new k;m[b]=this.unrandomize255State(i.readBits(8),c++)}l.push(m);try{a.append(z.decode(m,j.ISO88591))}catch(b){throw new Ue("Platform does not support required encoding: "+b.message)}}static unrandomize255State(i,a){const l=149*a%255+1,c=i-l;return c>=0?c:c+256}}Zr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Zr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Zr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Zr.TEXT_SHIFT2_SET_CHARS=Zr.C40_SHIFT2_SET_CHARS,Zr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ko{constructor(){this.rsDecoder=new ye(Je.DATA_MATRIX_FIELD_256)}decode(i){const a=new Qo(i),l=a.getVersion(),c=a.readCodewords(),u=Xn.getDataBlocks(c,l);let h=0;for(let C of u)h+=C.getNumDataCodewords();const m=new Uint8Array(h),b=u.length;for(let C=0;C<b;C++){const R=u[C],q=R.getCodewords(),Q=R.getNumDataCodewords();this.correctErrors(q,Q);for(let fe=0;fe<Q;fe++)m[fe*b+C]=q[fe]}return Zr.decode(m)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new w}for(let c=0;c<a;c++)i[c]=l[c]}}class Wn{constructor(i){this.image=i,this.rectangleDetector=new Ve(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new ae;a=this.shiftToModuleCenter(a);const l=a[0],c=a[1],u=a[2],h=a[3];let m=this.transitionsBetween(l,h)+1,b=this.transitionsBetween(u,h)+1;(m&1)===1&&(m+=1),(b&1)===1&&(b+=1),4*m<7*b&&4*b<7*m&&(m=b=Math.max(m,b));let C=Wn.sampleGrid(this.image,l,c,u,h,m,b);return new Ee(C,[l,c,u,h])}static shiftPoint(i,a,l){let c=(a.getX()-i.getX())/(l+1),u=(a.getY()-i.getY())/(l+1);return new pe(i.getX()+c,i.getY()+u)}static moveAway(i,a,l){let c=i.getX(),u=i.getY();return c<a?c-=1:c+=1,u<l?u-=1:u+=1,new pe(c,u)}detectSolid1(i){let a=i[0],l=i[1],c=i[3],u=i[2],h=this.transitionsBetween(a,l),m=this.transitionsBetween(l,c),b=this.transitionsBetween(c,u),C=this.transitionsBetween(u,a),R=h,q=[u,a,l,c];return R>m&&(R=m,q[0]=a,q[1]=l,q[2]=c,q[3]=u),R>b&&(R=b,q[0]=l,q[1]=c,q[2]=u,q[3]=a),R>C&&(q[0]=c,q[1]=u,q[2]=a,q[3]=l),q}detectSolid2(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),m=Wn.shiftPoint(l,c,(h+1)*4),b=Wn.shiftPoint(c,l,(h+1)*4),C=this.transitionsBetween(m,a),R=this.transitionsBetween(b,u);return C<R?(i[0]=a,i[1]=l,i[2]=c,i[3]=u):(i[0]=l,i[1]=c,i[2]=u,i[3]=a),i}correctTopRight(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u),m=this.transitionsBetween(l,u),b=Wn.shiftPoint(a,l,(m+1)*4),C=Wn.shiftPoint(c,l,(h+1)*4);h=this.transitionsBetween(b,u),m=this.transitionsBetween(C,u);let R=new pe(u.getX()+(c.getX()-l.getX())/(h+1),u.getY()+(c.getY()-l.getY())/(h+1)),q=new pe(u.getX()+(a.getX()-l.getX())/(m+1),u.getY()+(a.getY()-l.getY())/(m+1));if(!this.isValid(R))return this.isValid(q)?q:null;if(!this.isValid(q))return R;let Q=this.transitionsBetween(b,R)+this.transitionsBetween(C,R),fe=this.transitionsBetween(b,q)+this.transitionsBetween(C,q);return Q>fe?R:q}shiftToModuleCenter(i){let a=i[0],l=i[1],c=i[2],u=i[3],h=this.transitionsBetween(a,u)+1,m=this.transitionsBetween(c,u)+1,b=Wn.shiftPoint(a,l,m*4),C=Wn.shiftPoint(c,l,h*4);h=this.transitionsBetween(b,u)+1,m=this.transitionsBetween(C,u)+1,(h&1)===1&&(h+=1),(m&1)===1&&(m+=1);let R=(a.getX()+l.getX()+c.getX()+u.getX())/4,q=(a.getY()+l.getY()+c.getY()+u.getY())/4;a=Wn.moveAway(a,R,q),l=Wn.moveAway(l,R,q),c=Wn.moveAway(c,R,q),u=Wn.moveAway(u,R,q);let Q,fe;return b=Wn.shiftPoint(a,l,m*4),b=Wn.shiftPoint(b,u,h*4),Q=Wn.shiftPoint(l,a,m*4),Q=Wn.shiftPoint(Q,c,h*4),C=Wn.shiftPoint(c,u,m*4),C=Wn.shiftPoint(C,l,h*4),fe=Wn.shiftPoint(u,c,m*4),fe=Wn.shiftPoint(fe,a,h*4),[b,Q,C,fe]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,l,c,u,h,m){return xt.getInstance().sampleGrid(i,h,m,.5,.5,h-.5,.5,h-.5,m-.5,.5,m-.5,a.getX(),a.getY(),u.getX(),u.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(i,a){let l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),m=Math.abs(h-c)>Math.abs(u-l);if(m){let Ae=l;l=c,c=Ae,Ae=u,u=h,h=Ae}let b=Math.abs(u-l),C=Math.abs(h-c),R=-b/2,q=c<h?1:-1,Q=l<u?1:-1,fe=0,be=this.image.get(m?c:l,m?l:c);for(let Ae=l,_e=c;Ae!==u;Ae+=Q){let Fe=this.image.get(m?_e:Ae,m?Ae:_e);if(Fe!==be&&(fe++,be=Fe),R+=C,R>0){if(_e===h)break;_e+=q,R-=b}}return fe}}class Mi{constructor(){this.decoder=new Ko}decode(i,a=null){let l,c;if(a!=null&&a.has(X.PURE_BARCODE)){const C=Mi.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(C),c=Mi.NO_POINTS}else{const C=new Wn(i.getBlackMatrix()).detect();l=this.decoder.decode(C.getBits()),c=C.getPoints()}const u=l.getRawBytes(),h=new se(l.getText(),u,8*u.length,c,oe.DATA_MATRIX,M.currentTimeMillis()),m=l.getByteSegments();m!=null&&h.putMetadata(Ie.BYTE_SEGMENTS,m);const b=l.getECLevel();return b!=null&&h.putMetadata(Ie.ERROR_CORRECTION_LEVEL,b),h}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a==null||l==null)throw new ae;const c=this.moduleSize(a,i);let u=a[1];const h=l[1];let m=a[0];const C=(l[0]-m+1)/c,R=(h-u+1)/c;if(C<=0||R<=0)throw new ae;const q=c/2;u+=q,m+=q;const Q=new re(C,R);for(let fe=0;fe<R;fe++){const be=u+fe*c;for(let Ae=0;Ae<C;Ae++)i.get(m+Ae*c,be)&&Q.set(Ae,fe)}return Q}static moduleSize(i,a){const l=a.getWidth();let c=i[0];const u=i[1];for(;c<l&&a.get(c,u);)c++;if(c===l)throw new ae;const h=c-i[0];if(h===0)throw new ae;return h}}Mi.NO_POINTS=[];class Ws extends te{constructor(i=500){super(new Mi,i)}}var Ai;(function(G){G[G.L=0]="L",G[G.M=1]="M",G[G.Q=2]="Q",G[G.H=3]="H"})(Ai||(Ai={}));class xn{constructor(i,a,l){this.value=i,this.stringValue=a,this.bits=l,xn.FOR_BITS.set(l,this),xn.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return xn.L;case"M":return xn.M;case"Q":return xn.Q;case"H":return xn.H;default:throw new N(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof xn))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=xn.FOR_BITS.size)throw new S;return xn.FOR_BITS.get(i)}}xn.FOR_BITS=new Map,xn.FOR_VALUE=new Map,xn.L=new xn(Ai.L,"L",1),xn.M=new xn(Ai.M,"M",0),xn.Q=new xn(Ai.Q,"Q",3),xn.H=new xn(Ai.H,"H",2);class Si{constructor(i){this.errorCorrectionLevel=xn.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return D.bitCount(i^a)}static decodeFormatInformation(i,a){const l=Si.doDecodeFormatInformation(i,a);return l!==null?l:Si.doDecodeFormatInformation(i^Si.FORMAT_INFO_MASK_QR,a^Si.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let l=Number.MAX_SAFE_INTEGER,c=0;for(const u of Si.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===i||h===a)return new Si(u[1]);let m=Si.numBitsDiffering(i,h);m<l&&(c=u[1],l=m),i!==a&&(m=Si.numBitsDiffering(a,h),m<l&&(c=u[1],l=m))}return l<=3?new Si(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Si))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Si.FORMAT_INFO_MASK_QR=21522,Si.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Oe{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const l of a)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class le{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(i,a,...l){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=l;let c=0;const u=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const m of h)c+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new k;try{return this.getVersionForNumber((i-17)/4)}catch{throw new k}}static getVersionForNumber(i){if(i<1||i>40)throw new S;return Et.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Et.VERSION_DECODE_INFO.length;c++){const u=Et.VERSION_DECODE_INFO[c];if(u===i)return Et.getVersionForNumber(c+7);const h=Si.numBitsDiffering(i,u);h<a&&(l=c+7,a=h)}return a<=3?Et.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new re(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<l;h++)c===0&&(h===0||h===l-1)||c===l-1&&h===0||a.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}Et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Et.VERSIONS=[new Et(1,new Int32Array(0),new Oe(7,new le(1,19)),new Oe(10,new le(1,16)),new Oe(13,new le(1,13)),new Oe(17,new le(1,9))),new Et(2,Int32Array.from([6,18]),new Oe(10,new le(1,34)),new Oe(16,new le(1,28)),new Oe(22,new le(1,22)),new Oe(28,new le(1,16))),new Et(3,Int32Array.from([6,22]),new Oe(15,new le(1,55)),new Oe(26,new le(1,44)),new Oe(18,new le(2,17)),new Oe(22,new le(2,13))),new Et(4,Int32Array.from([6,26]),new Oe(20,new le(1,80)),new Oe(18,new le(2,32)),new Oe(26,new le(2,24)),new Oe(16,new le(4,9))),new Et(5,Int32Array.from([6,30]),new Oe(26,new le(1,108)),new Oe(24,new le(2,43)),new Oe(18,new le(2,15),new le(2,16)),new Oe(22,new le(2,11),new le(2,12))),new Et(6,Int32Array.from([6,34]),new Oe(18,new le(2,68)),new Oe(16,new le(4,27)),new Oe(24,new le(4,19)),new Oe(28,new le(4,15))),new Et(7,Int32Array.from([6,22,38]),new Oe(20,new le(2,78)),new Oe(18,new le(4,31)),new Oe(18,new le(2,14),new le(4,15)),new Oe(26,new le(4,13),new le(1,14))),new Et(8,Int32Array.from([6,24,42]),new Oe(24,new le(2,97)),new Oe(22,new le(2,38),new le(2,39)),new Oe(22,new le(4,18),new le(2,19)),new Oe(26,new le(4,14),new le(2,15))),new Et(9,Int32Array.from([6,26,46]),new Oe(30,new le(2,116)),new Oe(22,new le(3,36),new le(2,37)),new Oe(20,new le(4,16),new le(4,17)),new Oe(24,new le(4,12),new le(4,13))),new Et(10,Int32Array.from([6,28,50]),new Oe(18,new le(2,68),new le(2,69)),new Oe(26,new le(4,43),new le(1,44)),new Oe(24,new le(6,19),new le(2,20)),new Oe(28,new le(6,15),new le(2,16))),new Et(11,Int32Array.from([6,30,54]),new Oe(20,new le(4,81)),new Oe(30,new le(1,50),new le(4,51)),new Oe(28,new le(4,22),new le(4,23)),new Oe(24,new le(3,12),new le(8,13))),new Et(12,Int32Array.from([6,32,58]),new Oe(24,new le(2,92),new le(2,93)),new Oe(22,new le(6,36),new le(2,37)),new Oe(26,new le(4,20),new le(6,21)),new Oe(28,new le(7,14),new le(4,15))),new Et(13,Int32Array.from([6,34,62]),new Oe(26,new le(4,107)),new Oe(22,new le(8,37),new le(1,38)),new Oe(24,new le(8,20),new le(4,21)),new Oe(22,new le(12,11),new le(4,12))),new Et(14,Int32Array.from([6,26,46,66]),new Oe(30,new le(3,115),new le(1,116)),new Oe(24,new le(4,40),new le(5,41)),new Oe(20,new le(11,16),new le(5,17)),new Oe(24,new le(11,12),new le(5,13))),new Et(15,Int32Array.from([6,26,48,70]),new Oe(22,new le(5,87),new le(1,88)),new Oe(24,new le(5,41),new le(5,42)),new Oe(30,new le(5,24),new le(7,25)),new Oe(24,new le(11,12),new le(7,13))),new Et(16,Int32Array.from([6,26,50,74]),new Oe(24,new le(5,98),new le(1,99)),new Oe(28,new le(7,45),new le(3,46)),new Oe(24,new le(15,19),new le(2,20)),new Oe(30,new le(3,15),new le(13,16))),new Et(17,Int32Array.from([6,30,54,78]),new Oe(28,new le(1,107),new le(5,108)),new Oe(28,new le(10,46),new le(1,47)),new Oe(28,new le(1,22),new le(15,23)),new Oe(28,new le(2,14),new le(17,15))),new Et(18,Int32Array.from([6,30,56,82]),new Oe(30,new le(5,120),new le(1,121)),new Oe(26,new le(9,43),new le(4,44)),new Oe(28,new le(17,22),new le(1,23)),new Oe(28,new le(2,14),new le(19,15))),new Et(19,Int32Array.from([6,30,58,86]),new Oe(28,new le(3,113),new le(4,114)),new Oe(26,new le(3,44),new le(11,45)),new Oe(26,new le(17,21),new le(4,22)),new Oe(26,new le(9,13),new le(16,14))),new Et(20,Int32Array.from([6,34,62,90]),new Oe(28,new le(3,107),new le(5,108)),new Oe(26,new le(3,41),new le(13,42)),new Oe(30,new le(15,24),new le(5,25)),new Oe(28,new le(15,15),new le(10,16))),new Et(21,Int32Array.from([6,28,50,72,94]),new Oe(28,new le(4,116),new le(4,117)),new Oe(26,new le(17,42)),new Oe(28,new le(17,22),new le(6,23)),new Oe(30,new le(19,16),new le(6,17))),new Et(22,Int32Array.from([6,26,50,74,98]),new Oe(28,new le(2,111),new le(7,112)),new Oe(28,new le(17,46)),new Oe(30,new le(7,24),new le(16,25)),new Oe(24,new le(34,13))),new Et(23,Int32Array.from([6,30,54,78,102]),new Oe(30,new le(4,121),new le(5,122)),new Oe(28,new le(4,47),new le(14,48)),new Oe(30,new le(11,24),new le(14,25)),new Oe(30,new le(16,15),new le(14,16))),new Et(24,Int32Array.from([6,28,54,80,106]),new Oe(30,new le(6,117),new le(4,118)),new Oe(28,new le(6,45),new le(14,46)),new Oe(30,new le(11,24),new le(16,25)),new Oe(30,new le(30,16),new le(2,17))),new Et(25,Int32Array.from([6,32,58,84,110]),new Oe(26,new le(8,106),new le(4,107)),new Oe(28,new le(8,47),new le(13,48)),new Oe(30,new le(7,24),new le(22,25)),new Oe(30,new le(22,15),new le(13,16))),new Et(26,Int32Array.from([6,30,58,86,114]),new Oe(28,new le(10,114),new le(2,115)),new Oe(28,new le(19,46),new le(4,47)),new Oe(28,new le(28,22),new le(6,23)),new Oe(30,new le(33,16),new le(4,17))),new Et(27,Int32Array.from([6,34,62,90,118]),new Oe(30,new le(8,122),new le(4,123)),new Oe(28,new le(22,45),new le(3,46)),new Oe(30,new le(8,23),new le(26,24)),new Oe(30,new le(12,15),new le(28,16))),new Et(28,Int32Array.from([6,26,50,74,98,122]),new Oe(30,new le(3,117),new le(10,118)),new Oe(28,new le(3,45),new le(23,46)),new Oe(30,new le(4,24),new le(31,25)),new Oe(30,new le(11,15),new le(31,16))),new Et(29,Int32Array.from([6,30,54,78,102,126]),new Oe(30,new le(7,116),new le(7,117)),new Oe(28,new le(21,45),new le(7,46)),new Oe(30,new le(1,23),new le(37,24)),new Oe(30,new le(19,15),new le(26,16))),new Et(30,Int32Array.from([6,26,52,78,104,130]),new Oe(30,new le(5,115),new le(10,116)),new Oe(28,new le(19,47),new le(10,48)),new Oe(30,new le(15,24),new le(25,25)),new Oe(30,new le(23,15),new le(25,16))),new Et(31,Int32Array.from([6,30,56,82,108,134]),new Oe(30,new le(13,115),new le(3,116)),new Oe(28,new le(2,46),new le(29,47)),new Oe(30,new le(42,24),new le(1,25)),new Oe(30,new le(23,15),new le(28,16))),new Et(32,Int32Array.from([6,34,60,86,112,138]),new Oe(30,new le(17,115)),new Oe(28,new le(10,46),new le(23,47)),new Oe(30,new le(10,24),new le(35,25)),new Oe(30,new le(19,15),new le(35,16))),new Et(33,Int32Array.from([6,30,58,86,114,142]),new Oe(30,new le(17,115),new le(1,116)),new Oe(28,new le(14,46),new le(21,47)),new Oe(30,new le(29,24),new le(19,25)),new Oe(30,new le(11,15),new le(46,16))),new Et(34,Int32Array.from([6,34,62,90,118,146]),new Oe(30,new le(13,115),new le(6,116)),new Oe(28,new le(14,46),new le(23,47)),new Oe(30,new le(44,24),new le(7,25)),new Oe(30,new le(59,16),new le(1,17))),new Et(35,Int32Array.from([6,30,54,78,102,126,150]),new Oe(30,new le(12,121),new le(7,122)),new Oe(28,new le(12,47),new le(26,48)),new Oe(30,new le(39,24),new le(14,25)),new Oe(30,new le(22,15),new le(41,16))),new Et(36,Int32Array.from([6,24,50,76,102,128,154]),new Oe(30,new le(6,121),new le(14,122)),new Oe(28,new le(6,47),new le(34,48)),new Oe(30,new le(46,24),new le(10,25)),new Oe(30,new le(2,15),new le(64,16))),new Et(37,Int32Array.from([6,28,54,80,106,132,158]),new Oe(30,new le(17,122),new le(4,123)),new Oe(28,new le(29,46),new le(14,47)),new Oe(30,new le(49,24),new le(10,25)),new Oe(30,new le(24,15),new le(46,16))),new Et(38,Int32Array.from([6,32,58,84,110,136,162]),new Oe(30,new le(4,122),new le(18,123)),new Oe(28,new le(13,46),new le(32,47)),new Oe(30,new le(48,24),new le(14,25)),new Oe(30,new le(42,15),new le(32,16))),new Et(39,Int32Array.from([6,26,54,82,110,138,166]),new Oe(30,new le(20,117),new le(4,118)),new Oe(28,new le(40,47),new le(7,48)),new Oe(30,new le(43,24),new le(22,25)),new Oe(30,new le(10,15),new le(67,16))),new Et(40,Int32Array.from([6,30,58,86,114,142,170]),new Oe(30,new le(19,118),new le(6,119)),new Oe(28,new le(18,47),new le(31,48)),new Oe(30,new le(34,24),new le(34,25)),new Oe(30,new le(20,15),new le(61,16)))];var oi;(function(G){G[G.DATA_MASK_000=0]="DATA_MASK_000",G[G.DATA_MASK_001=1]="DATA_MASK_001",G[G.DATA_MASK_010=2]="DATA_MASK_010",G[G.DATA_MASK_011=3]="DATA_MASK_011",G[G.DATA_MASK_100=4]="DATA_MASK_100",G[G.DATA_MASK_101=5]="DATA_MASK_101",G[G.DATA_MASK_110=6]="DATA_MASK_110",G[G.DATA_MASK_111=7]="DATA_MASK_111"})(oi||(oi={}));class gr{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let l=0;l<a;l++)for(let c=0;c<a;c++)this.isMasked(l,c)&&i.flip(c,l)}}gr.values=new Map([[oi.DATA_MASK_000,new gr(oi.DATA_MASK_000,(G,i)=>(G+i&1)===0)],[oi.DATA_MASK_001,new gr(oi.DATA_MASK_001,(G,i)=>(G&1)===0)],[oi.DATA_MASK_010,new gr(oi.DATA_MASK_010,(G,i)=>i%3===0)],[oi.DATA_MASK_011,new gr(oi.DATA_MASK_011,(G,i)=>(G+i)%3===0)],[oi.DATA_MASK_100,new gr(oi.DATA_MASK_100,(G,i)=>(Math.floor(G/2)+Math.floor(i/3)&1)===0)],[oi.DATA_MASK_101,new gr(oi.DATA_MASK_101,(G,i)=>G*i%6===0)],[oi.DATA_MASK_110,new gr(oi.DATA_MASK_110,(G,i)=>G*i%6<3)],[oi.DATA_MASK_111,new gr(oi.DATA_MASK_111,(G,i)=>(G+i+G*i%3&1)===0)]]);class Jo{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new k;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const a=this.bitMatrix.getHeight();let l=0;const c=a-7;for(let u=a-1;u>=c;u--)l=this.copyBit(8,u,l);for(let u=a-8;u<a;u++)l=this.copyBit(u,8,l);if(this.parsedFormatInfo=Si.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return Et.getVersionForNumber(a);let l=0;const c=i-11;for(let h=5;h>=0;h--)for(let m=i-9;m>=c;m--)l=this.copyBit(m,h,l);let u=Et.decodeVersionInformation(l);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;l=0;for(let h=5;h>=0;h--)for(let m=i-9;m>=c;m--)l=this.copyBit(h,m,l);if(u=Et.decodeVersionInformation(l),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new k}copyBit(i,a,l){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),l=gr.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const u=a.buildFunctionPattern();let h=!0;const m=new Uint8Array(a.getTotalCodewords());let b=0,C=0,R=0;for(let q=c-1;q>0;q-=2){q===6&&q--;for(let Q=0;Q<c;Q++){const fe=h?c-1-Q:Q;for(let be=0;be<2;be++)u.get(q-be,fe)||(R++,C<<=1,this.bitMatrix.get(q-be,fe)&&(C|=1),R===8&&(m[b++]=C,R=0,C=0))}h=!h}if(b!==a.getTotalCodewords())throw new k;return m}remask(){if(this.parsedFormatInfo===null)return;const i=gr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,l=i.getWidth();a<l;a++)for(let c=a+1,u=i.getHeight();c<u;c++)i.get(a,c)!==i.get(c,a)&&(i.flip(c,a),i.flip(a,c))}}class $o{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,l){if(i.length!==a.getTotalCodewords())throw new S;const c=a.getECBlocksForLevel(l);let u=0;const h=c.getECBlocks();for(const be of h)u+=be.getCount();const m=new Array(u);let b=0;for(const be of h)for(let Ae=0;Ae<be.getCount();Ae++){const _e=be.getDataCodewords(),Fe=c.getECCodewordsPerBlock()+_e;m[b++]=new $o(_e,new Uint8Array(Fe))}const C=m[0].codewords.length;let R=m.length-1;for(;R>=0&&m[R].codewords.length!==C;)R--;R++;const q=C-c.getECCodewordsPerBlock();let Q=0;for(let be=0;be<q;be++)for(let Ae=0;Ae<b;Ae++)m[Ae].codewords[be]=i[Q++];for(let be=R;be<b;be++)m[be].codewords[q]=i[Q++];const fe=m[0].codewords.length;for(let be=q;be<fe;be++)for(let Ae=0;Ae<b;Ae++){const _e=Ae<R?be:be+1;m[Ae].codewords[_e]=i[Q++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var pr;(function(G){G[G.TERMINATOR=0]="TERMINATOR",G[G.NUMERIC=1]="NUMERIC",G[G.ALPHANUMERIC=2]="ALPHANUMERIC",G[G.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",G[G.BYTE=4]="BYTE",G[G.ECI=5]="ECI",G[G.KANJI=6]="KANJI",G[G.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",G[G.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",G[G.HANZI=9]="HANZI"})(pr||(pr={}));class Dt{constructor(i,a,l,c){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=c,Dt.FOR_BITS.set(c,this),Dt.FOR_VALUE.set(i,this)}static forBits(i){const a=Dt.FOR_BITS.get(i);if(a===void 0)throw new S;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Dt))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.TERMINATOR=new Dt(pr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Dt.NUMERIC=new Dt(pr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Dt.ALPHANUMERIC=new Dt(pr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Dt.STRUCTURED_APPEND=new Dt(pr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Dt.BYTE=new Dt(pr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Dt.ECI=new Dt(pr.ECI,"ECI",Int32Array.from([0,0,0]),7),Dt.KANJI=new Dt(pr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Dt.FNC1_FIRST_POSITION=new Dt(pr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Dt.FNC1_SECOND_POSITION=new Dt(pr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Dt.HANZI=new Dt(pr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gn{static decode(i,a,l,c){const u=new Xs(i);let h=new ie;const m=new Array;let b=-1,C=-1;try{let R=null,q=!1,Q;do{if(u.available()<4)Q=Dt.TERMINATOR;else{const fe=u.readBits(4);Q=Dt.forBits(fe)}switch(Q){case Dt.TERMINATOR:break;case Dt.FNC1_FIRST_POSITION:case Dt.FNC1_SECOND_POSITION:q=!0;break;case Dt.STRUCTURED_APPEND:if(u.available()<16)throw new k;b=u.readBits(8),C=u.readBits(8);break;case Dt.ECI:const fe=gn.parseECIValue(u);if(R=W.getCharacterSetECIByValue(fe),R===null)throw new k;break;case Dt.HANZI:const be=u.readBits(4),Ae=u.readBits(Q.getCharacterCountBits(a));be===gn.GB2312_SUBSET&&gn.decodeHanziSegment(u,h,Ae);break;default:const _e=u.readBits(Q.getCharacterCountBits(a));switch(Q){case Dt.NUMERIC:gn.decodeNumericSegment(u,h,_e);break;case Dt.ALPHANUMERIC:gn.decodeAlphanumericSegment(u,h,_e,q);break;case Dt.BYTE:gn.decodeByteSegment(u,h,_e,R,m,c);break;case Dt.KANJI:gn.decodeKanjiSegment(u,h,_e);break;default:throw new k}break}}while(Q!==Dt.TERMINATOR)}catch{throw new k}return new Re(i,h.toString(),m.length===0?null:m,l===null?null:l.toString(),b,C)}static decodeHanziSegment(i,a,l){if(l*13>i.available())throw new k;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let m=h/96<<8&4294967295|h%96;m<959?m+=41377:m+=42657,c[u]=m>>8&255,c[u+1]=m&255,u+=2,l--}try{a.append(z.decode(c,j.GB2312))}catch(h){throw new k(h)}}static decodeKanjiSegment(i,a,l){if(l*13>i.available())throw new k;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=i.readBits(13);let m=h/192<<8&4294967295|h%192;m<7936?m+=33088:m+=49472,c[u]=m>>8,c[u+1]=m,u+=2,l--}try{a.append(z.decode(c,j.SHIFT_JIS))}catch(h){throw new k(h)}}static decodeByteSegment(i,a,l,c,u,h){if(8*l>i.available())throw new k;const m=new Uint8Array(l);for(let C=0;C<l;C++)m[C]=i.readBits(8);let b;c===null?b=j.guessEncoding(m,h):b=c.getName();try{a.append(z.decode(m,b))}catch(C){throw new k(C)}u.push(m)}static toAlphaNumericChar(i){if(i>=gn.ALPHANUMERIC_CHARS.length)throw new k;return gn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,l,c){const u=a.length();for(;l>1;){if(i.available()<11)throw new k;const h=i.readBits(11);a.append(gn.toAlphaNumericChar(Math.floor(h/45))),a.append(gn.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(i.available()<6)throw new k;a.append(gn.toAlphaNumericChar(i.readBits(6)))}if(c)for(let h=u;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,""))}static decodeNumericSegment(i,a,l){for(;l>=3;){if(i.available()<10)throw new k;const c=i.readBits(10);if(c>=1e3)throw new k;a.append(gn.toAlphaNumericChar(Math.floor(c/100))),a.append(gn.toAlphaNumericChar(Math.floor(c/10)%10)),a.append(gn.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(i.available()<7)throw new k;const c=i.readBits(7);if(c>=100)throw new k;a.append(gn.toAlphaNumericChar(Math.floor(c/10))),a.append(gn.toAlphaNumericChar(c%10))}else if(l===1){if(i.available()<4)throw new k;const c=i.readBits(4);if(c>=10)throw new k;a.append(gn.toAlphaNumericChar(c))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=i.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=i.readBits(16);return(a&31)<<16&4294967295|l}throw new k}}gn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gn.GB2312_SUBSET=1;class vs{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class Zs{constructor(){this.rsDecoder=new ye(Je.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(re.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const l=new Jo(i);let c=null;try{return this.decodeBitMatrixParser(l,a)}catch(u){c=u}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const u=this.decodeBitMatrixParser(l,a);return u.setOther(new vs(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(i,a){const l=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),h=$o.getDataBlocks(u,l,c);let m=0;for(const R of h)m+=R.getNumDataCodewords();const b=new Uint8Array(m);let C=0;for(const R of h){const q=R.getCodewords(),Q=R.getNumDataCodewords();this.correctErrors(q,Q);for(let fe=0;fe<Q;fe++)b[C++]=q[fe]}return gn.decode(b,l,c,a)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new w}for(let c=0;c<a;c++)i[c]=l[c]}}class Qs extends pe{constructor(i,a,l){super(i,a),this.estimatedModuleSize=l}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=(this.getX()+a)/2,u=(this.getY()+i)/2,h=(this.estimatedModuleSize+l)/2;return new Qs(c,u,h)}}class Ni{constructor(i,a,l,c,u,h,m){this.image=i,this.startX=a,this.startY=l,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,l=this.width,c=i+l,u=this.startY+a/2,h=new Int32Array(3),m=this.image;for(let b=0;b<a;b++){const C=u+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));h[0]=0,h[1]=0,h[2]=0;let R=i;for(;R<c&&!m.get(R,C);)R++;let q=0;for(;R<c;){if(m.get(R,C))if(q===1)h[1]++;else if(q===2){if(this.foundPatternCross(h)){const Q=this.handlePossibleCenter(h,C,R);if(Q!==null)return Q}h[0]=h[2],h[1]=1,h[2]=0,q=1}else h[++q]++;else q===1&&q++,h[q]++;R++}if(this.foundPatternCross(h)){const Q=this.handlePossibleCenter(h,C,c);if(Q!==null)return Q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,l=a/2;for(let c=0;c<3;c++)if(Math.abs(a-i[c])>=l)return!1;return!0}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let b=i;for(;b>=0&&u.get(a,b)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&!u.get(a,b)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=i+1;b<h&&u.get(a,b)&&m[1]<=l;)m[1]++,b++;if(b===h||m[1]>l)return NaN;for(;b<h&&!u.get(a,b)&&m[2]<=l;)m[2]++,b++;if(m[2]>l)return NaN;const C=m[0]+m[1]+m[2];return 5*Math.abs(C-c)>=2*c?NaN:this.foundPatternCross(m)?Ni.centerFromEnd(m,b):NaN}handlePossibleCenter(i,a,l){const c=i[0]+i[1]+i[2],u=Ni.centerFromEnd(i,l),h=this.crossCheckVertical(a,u,2*i[1],c);if(!isNaN(h)){const m=(i[0]+i[1]+i[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(m,h,u))return C.combineEstimate(h,u,m);const b=new Qs(u,h,m);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class el extends pe{constructor(i,a,l,c){super(i,a),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const c=this.count+1,u=(this.count*this.getX()+a)/c,h=(this.count*this.getY()+i)/c,m=(this.count*this.estimatedModuleSize+l)/c;return new el(u,h,m,c)}}class Hl{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Nt{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(X.TRY_HARDER)!==void 0,l=i!=null&&i.get(X.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let m=Math.floor(3*u/(4*Nt.MAX_MODULES));(m<Nt.MIN_SKIP||a)&&(m=Nt.MIN_SKIP);let b=!1;const C=new Int32Array(5);for(let q=m-1;q<u&&!b;q+=m){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let Q=0;for(let fe=0;fe<h;fe++)if(c.get(fe,q))(Q&1)===1&&Q++,C[Q]++;else if(Q&1)C[Q]++;else if(Q===4)if(Nt.foundPatternCross(C)){if(this.handlePossibleCenter(C,q,fe,l)===!0)if(m=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const Ae=this.findRowSkip();Ae>C[2]&&(q+=Ae-C[2]-m,fe=h-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Q=3;continue}Q=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Q=3;else C[++Q]++;Nt.foundPatternCross(C)&&this.handlePossibleCenter(C,q,h,l)===!0&&(m=C[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return pe.orderBestPatterns(R),new Hl(R)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let u=0;u<5;u++){const h=i[u];if(h===0)return!1;a+=h}if(a<7)return!1;const l=a/7,c=l/2;return Math.abs(l-i[0])<c&&Math.abs(l-i[1])<c&&Math.abs(3*l-i[2])<3*c&&Math.abs(l-i[3])<c&&Math.abs(l-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,l,c){const u=this.getCrossCheckStateCount();let h=0;const m=this.image;for(;i>=h&&a>=h&&m.get(a-h,i-h);)u[2]++,h++;if(i<h||a<h)return!1;for(;i>=h&&a>=h&&!m.get(a-h,i-h)&&u[1]<=l;)u[1]++,h++;if(i<h||a<h||u[1]>l)return!1;for(;i>=h&&a>=h&&m.get(a-h,i-h)&&u[0]<=l;)u[0]++,h++;if(u[0]>l)return!1;const b=m.getHeight(),C=m.getWidth();for(h=1;i+h<b&&a+h<C&&m.get(a+h,i+h);)u[2]++,h++;if(i+h>=b||a+h>=C)return!1;for(;i+h<b&&a+h<C&&!m.get(a+h,i+h)&&u[3]<l;)u[3]++,h++;if(i+h>=b||a+h>=C||u[3]>=l)return!1;for(;i+h<b&&a+h<C&&m.get(a+h,i+h)&&u[4]<l;)u[4]++,h++;if(u[4]>=l)return!1;const R=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(R-c)<2*c&&Nt.foundPatternCross(u)}crossCheckVertical(i,a,l,c){const u=this.image,h=u.getHeight(),m=this.getCrossCheckStateCount();let b=i;for(;b>=0&&u.get(a,b);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(a,b)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&u.get(a,b)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=i+1;b<h&&u.get(a,b);)m[2]++,b++;if(b===h)return NaN;for(;b<h&&!u.get(a,b)&&m[3]<l;)m[3]++,b++;if(b===h||m[3]>=l)return NaN;for(;b<h&&u.get(a,b)&&m[4]<l;)m[4]++,b++;if(m[4]>=l)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-c)>=2*c?NaN:Nt.foundPatternCross(m)?Nt.centerFromEnd(m,b):NaN}crossCheckHorizontal(i,a,l,c){const u=this.image,h=u.getWidth(),m=this.getCrossCheckStateCount();let b=i;for(;b>=0&&u.get(b,a);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!u.get(b,a)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&u.get(b,a)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=i+1;b<h&&u.get(b,a);)m[2]++,b++;if(b===h)return NaN;for(;b<h&&!u.get(b,a)&&m[3]<l;)m[3]++,b++;if(b===h||m[3]>=l)return NaN;for(;b<h&&u.get(b,a)&&m[4]<l;)m[4]++,b++;if(m[4]>=l)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-c)>=c?NaN:Nt.foundPatternCross(m)?Nt.centerFromEnd(m,b):NaN}handlePossibleCenter(i,a,l,c){const u=i[0]+i[1]+i[2]+i[3]+i[4];let h=Nt.centerFromEnd(i,l),m=this.crossCheckVertical(a,Math.floor(h),i[2],u);if(!isNaN(m)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(m),i[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(m),Math.floor(h),i[2],u)))){const b=u/7;let C=!1;const R=this.possibleCenters;for(let q=0,Q=R.length;q<Q;q++){const fe=R[q];if(fe.aboutEquals(b,m,h)){R[q]=fe.combineEstimate(m,h,b),C=!0;break}}if(!C){const q=new el(h,m,b);R.push(q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(q)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Nt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Nt.CENTER_QUORUM&&(i++,a+=h.getEstimatedModuleSize());if(i<3)return!1;const c=a/l;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ae;const a=this.possibleCenters;let l;if(i>3){let c=0,u=0;for(const b of this.possibleCenters){const C=b.getEstimatedModuleSize();c+=C,u+=C*C}l=c/i;let h=Math.sqrt(u/i-l*l);a.sort((b,C)=>{const R=Math.abs(C.getEstimatedModuleSize()-l),q=Math.abs(b.getEstimatedModuleSize()-l);return R<q?-1:R>q?1:0});const m=Math.max(.2*l,h);for(let b=0;b<a.length&&a.length>3;b++){const C=a[b];Math.abs(C.getEstimatedModuleSize()-l)>m&&(a.splice(b,1),b--)}}if(a.length>3){let c=0;for(const u of a)c+=u.getEstimatedModuleSize();l=c/a.length,a.sort((u,h)=>{if(h.getCount()===u.getCount()){const m=Math.abs(h.getEstimatedModuleSize()-l),b=Math.abs(u.getEstimatedModuleSize()-l);return m<b?1:m>b?-1:0}else return h.getCount()-u.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Nt.CENTER_QUORUM=2,Nt.MIN_SKIP=3,Nt.MAX_MODULES=57;class bs{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(X.NEED_RESULT_POINT_CALLBACK);const l=new Nt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const a=i.getTopLeft(),l=i.getTopRight(),c=i.getBottomLeft(),u=this.calculateModuleSize(a,l,c);if(u<1)throw new ae("No pattern found in proccess finder.");const h=bs.computeDimension(a,l,c,u),m=Et.getProvisionalVersionForDimension(h),b=m.getDimensionForVersion()-7;let C=null;if(m.getAlignmentPatternCenters().length>0){const fe=l.getX()-a.getX()+c.getX(),be=l.getY()-a.getY()+c.getY(),Ae=1-3/b,_e=Math.floor(a.getX()+Ae*(fe-a.getX())),Fe=Math.floor(a.getY()+Ae*(be-a.getY()));for(let et=4;et<=16;et<<=1)try{C=this.findAlignmentInRegion(u,_e,Fe,et);break}catch(at){if(!(at instanceof ae))throw at}}const R=bs.createTransform(a,l,c,C,h),q=bs.sampleGrid(this.image,R,h);let Q;return C===null?Q=[c,a,l]:Q=[c,a,l,C],new Ee(q,Q)}static createTransform(i,a,l,c,u){const h=u-3.5;let m,b,C,R;return c!==null?(m=c.getX(),b=c.getY(),C=h-3,R=C):(m=a.getX()-i.getX()+l.getX(),b=a.getY()-i.getY()+l.getY(),C=h,R=h),it.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,C,R,3.5,h,i.getX(),i.getY(),a.getX(),a.getY(),m,b,l.getX(),l.getY())}static sampleGrid(i,a,l){return xt.getInstance().sampleGridWithTransform(i,l,l,a)}static computeDimension(i,a,l,c){const u=xe.round(pe.distance(i,a)/c),h=xe.round(pe.distance(i,l)/c);let m=Math.floor((u+h)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new ae("Dimensions could be not found.")}return m}calculateModuleSize(i,a,l){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,l,c){let u=this.sizeOfBlackWhiteBlackRun(i,a,l,c),h=1,m=i-(l-i);m<0?(h=i/(i-m),m=0):m>=this.image.getWidth()&&(h=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let b=Math.floor(a-(c-a)*h);return h=1,b<0?(h=a/(a-b),b=0):b>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(b-a),b=this.image.getHeight()-1),m=Math.floor(i+(m-i)*h),u+=this.sizeOfBlackWhiteBlackRun(i,a,m,b),u-1}sizeOfBlackWhiteBlackRun(i,a,l,c){const u=Math.abs(c-a)>Math.abs(l-i);if(u){let fe=i;i=a,a=fe,fe=l,l=c,c=fe}const h=Math.abs(l-i),m=Math.abs(c-a);let b=-h/2;const C=i<l?1:-1,R=a<c?1:-1;let q=0;const Q=l+C;for(let fe=i,be=a;fe!==Q;fe+=C){const Ae=u?be:fe,_e=u?fe:be;if(q===1===this.image.get(Ae,_e)){if(q===2)return xe.distance(fe,be,i,a);q++}if(b+=m,b>0){if(be===c)break;be+=R,b-=h}}return q===2?xe.distance(l+C,c,i,a):NaN}findAlignmentInRegion(i,a,l,c){const u=Math.floor(c*i),h=Math.max(0,a-u),m=Math.min(this.image.getWidth()-1,a+u);if(m-h<i*3)throw new ae("Alignment top exceeds estimated module size.");const b=Math.max(0,l-u),C=Math.min(this.image.getHeight()-1,l+u);if(C-b<i*3)throw new ae("Alignment bottom exceeds estimated module size.");return new Ni(this.image,h,b,m-h,C-b,i,this.resultPointCallback).find()}}class ya{constructor(){this.decoder=new Zs}getDecoder(){return this.decoder}decode(i,a){let l,c;if(a!=null&&a.get(X.PURE_BARCODE)!==void 0){const b=ya.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(b,a),c=ya.NO_POINTS}else{const b=new bs(i.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(b.getBits(),a),c=b.getPoints()}l.getOther()instanceof vs&&l.getOther().applyMirroredCorrection(c);const u=new se(l.getText(),l.getRawBytes(),void 0,c,oe.QR_CODE,void 0),h=l.getByteSegments();h!==null&&u.putMetadata(Ie.BYTE_SEGMENTS,h);const m=l.getECLevel();return m!==null&&u.putMetadata(Ie.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(u.putMetadata(Ie.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),u.putMetadata(Ie.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a===null||l===null)throw new ae;const c=this.moduleSize(a,i);let u=a[1],h=l[1],m=a[0],b=l[0];if(m>=b||u>=h)throw new ae;if(h-u!==b-m&&(b=m+(h-u),b>=i.getWidth()))throw new ae;const C=Math.round((b-m+1)/c),R=Math.round((h-u+1)/c);if(C<=0||R<=0)throw new ae;if(R!==C)throw new ae;const q=Math.floor(c/2);u+=q,m+=q;const Q=m+Math.floor((C-1)*c)-b;if(Q>0){if(Q>q)throw new ae;m-=Q}const fe=u+Math.floor((R-1)*c)-h;if(fe>0){if(fe>q)throw new ae;u-=fe}const be=new re(C,R);for(let Ae=0;Ae<R;Ae++){const _e=u+Math.floor(Ae*c);for(let Fe=0;Fe<C;Fe++)i.get(m+Math.floor(Fe*c),_e)&&be.set(Fe,Ae)}return be}static moduleSize(i,a){const l=a.getHeight(),c=a.getWidth();let u=i[0],h=i[1],m=!0,b=0;for(;u<c&&h<l;){if(m!==a.get(u,h)){if(++b===5)break;m=!m}u++,h++}if(u===c||h===l)throw new ae;return(u-i[0])/7}}ya.NO_POINTS=new Array;class Tt{PDF417Common(){}static getBitCountSum(i){return xe.sum(i)}static toIntArray(i){if(i==null||!i.length)return Tt.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let l=0;for(const c of i)a[l++]=c;return a}static getCodeword(i){const a=I.binarySearch(Tt.SYMBOL_TABLE,i&262143);return a<0?-1:(Tt.CODEWORD_TABLE[a]-1)%Tt.NUMBER_OF_CODEWORDS}}Tt.NUMBER_OF_CODEWORDS=929,Tt.MAX_CODEWORDS_IN_BARCODE=Tt.NUMBER_OF_CODEWORDS-1,Tt.MIN_ROWS_IN_BARCODE=3,Tt.MAX_ROWS_IN_BARCODE=90,Tt.MODULES_IN_CODEWORD=17,Tt.MODULES_IN_STOP_PATTERN=18,Tt.BARS_IN_MODULE=8,Tt.EMPTY_INT_ARRAY=new Int32Array([]),Tt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Tt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ql{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ht{static detectMultiple(i,a,l){let c=i.getBlackMatrix(),u=Ht.detect(l,c);return u.length||(c=c.clone(),c.rotate180(),u=Ht.detect(l,c)),new ql(c,u)}static detect(i,a){const l=new Array;let c=0,u=0,h=!1;for(;c<a.getHeight();){const m=Ht.findVertices(a,c,u);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,u=0;for(const b of l)b[1]!=null&&(c=Math.trunc(Math.max(c,b[1].getY()))),b[3]!=null&&(c=Math.max(c,Math.trunc(b[3].getY())));c+=Ht.ROW_STEP;continue}if(h=!0,l.push(m),!i)break;m[2]!=null?(u=Math.trunc(m[2].getX()),c=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),c=Math.trunc(m[4].getY()))}return l}static findVertices(i,a,l){const c=i.getHeight(),u=i.getWidth(),h=new Array(8);return Ht.copyToResult(h,Ht.findRowsWithPattern(i,c,u,a,l,Ht.START_PATTERN),Ht.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),Ht.copyToResult(h,Ht.findRowsWithPattern(i,c,u,a,l,Ht.STOP_PATTERN),Ht.INDEXES_STOP_PATTERN),h}static copyToResult(i,a,l){for(let c=0;c<l.length;c++)i[l[c]]=a[c]}static findRowsWithPattern(i,a,l,c,u,h){const m=new Array(4);let b=!1;const C=new Int32Array(h.length);for(;c<a;c+=Ht.ROW_STEP){let q=Ht.findGuardPattern(i,u,c,l,!1,h,C);if(q!=null){for(;c>0;){const Q=Ht.findGuardPattern(i,u,--c,l,!1,h,C);if(Q!=null)q=Q;else{c++;break}}m[0]=new pe(q[0],c),m[1]=new pe(q[1],c),b=!0;break}}let R=c+1;if(b){let q=0,Q=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;R<a;R++){const fe=Ht.findGuardPattern(i,Q[0],R,l,!1,h,C);if(fe!=null&&Math.abs(Q[0]-fe[0])<Ht.MAX_PATTERN_DRIFT&&Math.abs(Q[1]-fe[1])<Ht.MAX_PATTERN_DRIFT)Q=fe,q=0;else{if(q>Ht.SKIPPED_ROW_COUNT_MAX)break;q++}}R-=q+1,m[2]=new pe(Q[0],R),m[3]=new pe(Q[1],R)}return R-c<Ht.BARCODE_MIN_HEIGHT&&I.fill(m,null),m}static findGuardPattern(i,a,l,c,u,h,m){I.fillWithin(m,0,m.length,0);let b=a,C=0;for(;i.get(b,l)&&b>0&&C++<Ht.MAX_PIXEL_DRIFT;)b--;let R=b,q=0,Q=h.length;for(let fe=u;R<c;R++)if(i.get(R,l)!==fe)m[q]++;else{if(q===Q-1){if(Ht.patternMatchVariance(m,h,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return new Int32Array([b,R]);b+=m[0]+m[1],M.arraycopy(m,2,m,0,q-1),m[q-1]=0,m[q]=0,q--}else q++;m[q]=1,fe=!fe}return q===Q-1&&Ht.patternMatchVariance(m,h,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE?new Int32Array([b,R-1]):null}static patternMatchVariance(i,a,l){let c=i.length,u=0,h=0;for(let C=0;C<c;C++)u+=i[C],h+=a[C];if(u<h)return 1/0;let m=u/h;l*=m;let b=0;for(let C=0;C<c;C++){let R=i[C],q=a[C]*m,Q=R>q?R-q:q-R;if(Q>l)return 1/0;b+=Q}return b/u}}Ht.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ht.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ht.MAX_AVG_VARIANCE=.42,Ht.MAX_INDIVIDUAL_VARIANCE=.8,Ht.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ht.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ht.MAX_PIXEL_DRIFT=3,Ht.MAX_PATTERN_DRIFT=5,Ht.SKIPPED_ROW_COUNT_MAX=25,Ht.ROW_STEP=5,Ht.BARCODE_MIN_HEIGHT=10;class ei{constructor(i,a){if(a.length===0)throw new S;this.field=i;let l=a.length;if(l>1&&a[0]===0){let c=1;for(;c<l&&a[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let a=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)a=this.field.add(this.field.multiply(i,a),this.coefficients[c]);return a}add(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){let h=a;a=l,l=h}let c=new Int32Array(l.length),u=l.length-a.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=this.field.add(a[h-u],l[h]);return new ei(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof ei?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new ei(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,c=i.coefficients,u=c.length,h=new Int32Array(l+u-1);for(let m=0;m<l;m++){let b=a[m];for(let C=0;C<u;C++)h[m+C]=this.field.add(h[m+C],this.field.multiply(b,c[C]))}return new ei(this.field,h)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new ei(this.field,a)}multiplyScalar(i){if(i===0)return new ei(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let c=0;c<a;c++)l[c]=this.field.multiply(this.coefficients[c],i);return new ei(this.field,l)}multiplyByMonomial(i,a){if(i<0)throw new S;if(a===0)return new ei(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+i);for(let u=0;u<l;u++)c[u]=this.field.multiply(this.coefficients[u],a);return new ei(this.field,c)}toString(){let i=new ie;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(a===0||l!==1)&&i.append(l),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class tl{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new S;return this.logTable[i]}inverse(i){if(i===0)throw new ut;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class nl extends tl{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let c=0;c<i;c++)this.expTable[c]=l,l=l*a%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new ei(this,new Int32Array([0])),this.one=new ei(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new S;if(a===0)return this.zero;let l=new Int32Array(i+1);return l[0]=a,new ei(this,l)}}nl.PDF417_GF=new nl(Tt.NUMBER_OF_CODEWORDS,3);class Gl{constructor(){this.field=nl.PDF417_GF}decode(i,a,l){let c=new ei(this.field,i),u=new Int32Array(a),h=!1;for(let be=a;be>0;be--){let Ae=c.evaluateAt(this.field.exp(be));u[a-be]=Ae,Ae!==0&&(h=!0)}if(!h)return 0;let m=this.field.getOne();if(l!=null)for(const be of l){let Ae=this.field.exp(i.length-1-be),_e=new ei(this.field,new Int32Array([this.field.subtract(0,Ae),1]));m=m.multiply(_e)}let b=new ei(this.field,u),C=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),b,a),R=C[0],q=C[1],Q=this.findErrorLocations(R),fe=this.findErrorMagnitudes(q,R,Q);for(let be=0;be<Q.length;be++){let Ae=i.length-1-this.field.log(Q[be]);if(Ae<0)throw w.getChecksumInstance();i[Ae]=this.field.subtract(i[Ae],fe[be])}return Q.length}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){let Q=i;i=a,a=Q}let c=i,u=a,h=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(l/2);){let Q=c,fe=h;if(c=u,h=m,c.isZero())throw w.getChecksumInstance();u=Q;let be=this.field.getZero(),Ae=c.getCoefficient(c.getDegree()),_e=this.field.inverse(Ae);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let Fe=u.getDegree()-c.getDegree(),et=this.field.multiply(u.getCoefficient(u.getDegree()),_e);be=be.add(this.field.buildMonomial(Fe,et)),u=u.subtract(c.multiplyByMonomial(Fe,et))}m=be.multiply(h).subtract(fe).negative()}let b=m.getCoefficient(0);if(b===0)throw w.getChecksumInstance();let C=this.field.inverse(b),R=m.multiply(C),q=u.multiply(C);return[R,q]}findErrorLocations(i){let a=i.getDegree(),l=new Int32Array(a),c=0;for(let u=1;u<this.field.getSize()&&c<a;u++)i.evaluateAt(u)===0&&(l[c]=this.field.inverse(u),c++);if(c!==a)throw w.getChecksumInstance();return l}findErrorMagnitudes(i,a,l){let c=a.getDegree(),u=new Int32Array(c);for(let C=1;C<=c;C++)u[c-C]=this.field.multiply(C,a.getCoefficient(C));let h=new ei(this.field,u),m=l.length,b=new Int32Array(m);for(let C=0;C<m;C++){let R=this.field.inverse(l[C]),q=this.field.subtract(0,i.evaluateAt(R)),Q=this.field.inverse(h.evaluateAt(R));b[C]=this.field.multiply(q,Q)}return b}}class ka{constructor(i,a,l,c,u){i instanceof ka?this.constructor_2(i):this.constructor_1(i,a,l,c,u)}constructor_1(i,a,l,c,u){const h=a==null||l==null,m=c==null||u==null;if(h&&m)throw new ae;h?(a=new pe(0,c.getY()),l=new pe(0,u.getY())):m&&(c=new pe(i.getWidth()-1,a.getY()),u=new pe(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=a,this.bottomLeft=l,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(a.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new ka(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,l){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,m=this.bottomRight;if(i>0){let b=l?this.topLeft:this.topRight,C=Math.trunc(b.getY()-i);C<0&&(C=0);let R=new pe(b.getX(),C);l?c=R:h=R}if(a>0){let b=l?this.bottomLeft:this.bottomRight,C=Math.trunc(b.getY()+a);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let R=new pe(b.getX(),C);l?u=R:m=R}return new ka(this.image,c,u,h,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class il{constructor(i,a,l,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Qr{constructor(){this.buffer=""}static form(i,a){let l=-1;function c(h,m,b,C,R,q){if(h==="%%")return"%";if(a[++l]===void 0)return;h=C?parseInt(C.substr(1)):void 0;let Q=R?parseInt(R.substr(1)):void 0,fe;switch(q){case"s":fe=a[l];break;case"c":fe=a[l][0];break;case"f":fe=parseFloat(a[l]).toFixed(h);break;case"p":fe=parseFloat(a[l]).toPrecision(h);break;case"e":fe=parseFloat(a[l]).toExponential(h);break;case"x":fe=parseInt(a[l]).toString(Q||16);break;case"d":fe=parseFloat(parseInt(a[l],Q||10).toPrecision(h)).toFixed(0);break}fe=typeof fe=="object"?JSON.stringify(fe):(+fe).toString(Q);let be=parseInt(b),Ae=b&&b[0]+""=="0"?"0":" ";for(;fe.length<be;)fe=m!==void 0?fe+Ae:Ae+fe;return fe}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}format(i,...a){this.buffer+=Qr.form(i,a)}toString(){return this.buffer}}class jr{constructor(i){this.boundingBox=new ka(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let l=1;l<jr.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(i)-l;if(c>=0&&(a=this.codewords[c],a!=null)||(c=this.imageRowToCodewordIndex(i)+l,c<this.codewords.length&&(a=this.codewords[c],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Qr;let a=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return i.toString()}}jr.MAX_NEARBY_DISTANCE=5;class ws{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[l,c]of this.values.entries()){const u={getKey:()=>l,getValue:()=>c};u.getValue()>i?(i=u.getValue(),a=[],a.push(u.getKey())):u.getValue()===i&&a.push(u.getKey())}return Tt.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class Ja extends jr{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),u=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),b=-1,C=1,R=0;for(let q=h;q<m;q++){if(a[q]==null)continue;let Q=a[q],fe=Q.getRowNumber()-b;if(fe===0)R++;else if(fe===1)C=Math.max(C,R),R=1,b=Q.getRowNumber();else if(fe<0||Q.getRowNumber()>=i.getRowCount()||fe>q)a[q]=null;else{let be;C>2?be=(C-2)*fe:be=fe;let Ae=be>=q;for(let _e=1;_e<=be&&!Ae;_e++)Ae=a[q-_e]!=null;Ae?a[q]=null:(b=Q.getRowNumber(),R=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=a.length)continue;a[c]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.getCodewords(),b=-1;for(let C=u;C<h;C++){if(m[C]==null)continue;let R=m[C];R.setRowNumberAsRowIndicatorColumn();let q=R.getRowNumber()-b;q===0||(q===1?b=R.getRowNumber():R.getRowNumber()>=i.getRowCount()?m[C]=null:b=R.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new ws,l=new ws,c=new ws,u=new ws;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let b=m.getValue()%30,C=m.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(b*3+1);break;case 1:u.setValue(b/3),c.setValue(b%3);break;case 2:a.setValue(b+1);break}}if(a.getValue().length===0||l.getValue().length===0||c.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Tt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Tt.MAX_ROWS_IN_BARCODE)return null;let h=new il(a.getValue()[0],l.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,h),h}removeIncorrectCodewords(i,a){for(let l=0;l<i.length;l++){let c=i[l];if(i[l]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>a.getRowCount()){i[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==a.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(u/3)!==a.getErrorCorrectionLevel()||u%3!==a.getRowCountLowerPart())&&(i[l]=null);break;case 2:u+1!==a.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Pa{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Tt.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(a,c,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&a[l]!=null&&i[l].getRowNumber()===a[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[l];u!=null&&(u.setRowNumber(i[l].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let m=this.detectionResultColumns[h].getCodewords()[l];m!=null&&(u=Pa.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let c=a[l].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let m=this.detectionResultColumns[h].getCodewords()[l];m!=null&&(u=Pa.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,l){if(!this.detectionResultColumns[i-1])return;let c=l[a],u=this.detectionResultColumns[i-1].getCodewords(),h=u;this.detectionResultColumns[i+1]!=null&&(h=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=u[a],m[3]=h[a],a>0&&(m[0]=l[a-1],m[4]=u[a-1],m[5]=h[a-1]),a>1&&(m[8]=l[a-2],m[10]=u[a-2],m[11]=h[a-2]),a<l.length-1&&(m[1]=l[a+1],m[6]=u[a+1],m[7]=h[a+1]),a<l.length-2&&(m[9]=l[a+2],m[12]=u[a+2],m[13]=h[a+2]);for(let b of m)if(Pa.adjustRowNumber(c,b))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Qr;for(let l=0;l<i.getCodewords().length;l++){a.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){a.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[l];if(u==null){a.format("    |   ");continue}a.format(" %3d|%3d",u.getRowNumber(),u.getValue())}a.format("%n")}return a.toString()}}class va{constructor(i,a,l,c){this.rowNumber=va.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==va.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}va.BARCODE_ROW_UNKNOWN=-1;class ki{static initialize(){for(let i=0;i<Tt.SYMBOL_TABLE.length;i++){let a=Tt.SYMBOL_TABLE[i],l=a&1;for(let c=0;c<Tt.BARS_IN_MODULE;c++){let u=0;for(;(a&1)===l;)u+=1,a>>=1;l=a&1,ki.RATIOS_TABLE[i]||(ki.RATIOS_TABLE[i]=new Array(Tt.BARS_IN_MODULE)),ki.RATIOS_TABLE[i][Tt.BARS_IN_MODULE-c-1]=Math.fround(u/Tt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=ki.getDecodedCodewordValue(ki.sampleBitCounts(i));return a!==-1?a:ki.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=xe.sum(i),l=new Int32Array(Tt.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<Tt.MODULES_IN_CODEWORD;h++){let m=a/(2*Tt.MODULES_IN_CODEWORD)+h*a/Tt.MODULES_IN_CODEWORD;u+i[c]<=m&&(u+=i[c],c++),l[c]++}return l}static getDecodedCodewordValue(i){let a=ki.getBitValue(i);return Tt.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let l=0;l<i.length;l++)for(let c=0;c<i[l];c++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=xe.sum(i),l=new Array(Tt.BARS_IN_MODULE);if(a>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(i[h]/a);let c=Ce.MAX_VALUE,u=-1;this.bSymbolTableReady||ki.initialize();for(let h=0;h<ki.RATIOS_TABLE.length;h++){let m=0,b=ki.RATIOS_TABLE[h];for(let C=0;C<Tt.BARS_IN_MODULE;C++){let R=Math.fround(b[C]-l[C]);if(m+=Math.fround(R*R),m>=c)break}m<c&&(c=m,u=Tt.SYMBOL_TABLE[h])}return u}}ki.bSymbolTableReady=!1,ki.RATIOS_TABLE=new Array(Tt.SYMBOL_TABLE.length).map(G=>new Array(Tt.BARS_IN_MODULE));class rl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class al{static parseLong(i,a=void 0){return parseInt(i,a)}}class sl extends y{}sl.kind="NullPointerException";class ba{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,l){if(i==null)throw new sl;if(a<0||a>i.length||l<0||a+l>i.length||a+l<0)throw new P;if(l===0)return;for(let c=0;c<l;c++)this.write(i[a+c])}flush(){}close(){}}class Fa extends y{}class Zc extends ba{constructor(i=32){if(super(),this.count=0,i<0)throw new S("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Fa;l=D.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,l){if(a<0||a>i.length||l<0||a+l-i.length>0)throw new P;this.ensureCapacity(this.count+l),M.arraycopy(i,a,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var en;(function(G){G[G.ALPHA=0]="ALPHA",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.PUNCT=3]="PUNCT",G[G.ALPHA_SHIFT=4]="ALPHA_SHIFT",G[G.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(en||(en={}));function Br(){if(typeof window<"u")return window.BigInt||null;if(typeof yo<"u")return yo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let $a;function mr(G){if(typeof $a>"u"&&($a=Br()),$a===null)throw new Error("BigInt is not supported!");return $a(G)}function Qc(){let G=[];G[0]=mr(1);let i=mr(900);G[1]=i;for(let a=2;a<16;a++)G[a]=G[a-1]*i;return G}class Pe{static decode(i,a){let l=new ie(""),c=W.ISO8859_1;l.enableDecoding(c);let u=1,h=i[u++],m=new rl;for(;u<i[0];){switch(h){case Pe.TEXT_COMPACTION_MODE_LATCH:u=Pe.textCompaction(i,u,l);break;case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:u=Pe.byteCompaction(h,i,c,u,l);break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u++]);break;case Pe.NUMERIC_COMPACTION_MODE_LATCH:u=Pe.numericCompaction(i,u,l);break;case Pe.ECI_CHARSET:W.getCharacterSetECIByValue(i[u++]);break;case Pe.ECI_GENERAL_PURPOSE:u+=2;break;case Pe.ECI_USER_DEFINED:u++;break;case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Pe.decodeMacroBlock(i,u,m);break;case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:throw new k;default:u--,u=Pe.textCompaction(i,u,l);break}if(u<i.length)h=i[u++];else throw k.getFormatInstance()}if(l.length()===0)throw k.getFormatInstance();let b=new Re(null,l.toString(),null,a);return b.setOther(m),b}static decodeMacroBlock(i,a,l){if(a+Pe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw k.getFormatInstance();let c=new Int32Array(Pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Pe.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)c[m]=i[a];l.setSegmentIndex(D.parseInt(Pe.decodeBase900toBase10(c,Pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ie;a=Pe.textCompaction(i,a,u),l.setFileId(u.toString());let h=-1;for(i[a]===Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<i[0];)switch(i[a]){case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new ie;a=Pe.textCompaction(i,a+1,m),l.setFileName(m.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new ie;a=Pe.textCompaction(i,a+1,b),l.setSender(b.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new ie;a=Pe.textCompaction(i,a+1,C),l.setAddressee(C.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new ie;a=Pe.numericCompaction(i,a+1,R),l.setSegmentCount(D.parseInt(R.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let q=new ie;a=Pe.numericCompaction(i,a+1,q),l.setTimestamp(al.parseLong(q.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Q=new ie;a=Pe.numericCompaction(i,a+1,Q),l.setChecksum(D.parseInt(Q.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let fe=new ie;a=Pe.numericCompaction(i,a+1,fe),l.setFileSize(al.parseLong(fe.toString()));break;default:throw k.getFormatInstance()}break;case Pe.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(h!==-1){let m=a-h;l.isLastSegment()&&m--,l.setOptionalData(I.copyOfRange(i,h,h+m))}return a}static textCompaction(i,a,l){let c=new Int32Array((i[0]-a)*2),u=new Int32Array((i[0]-a)*2),h=0,m=!1;for(;a<i[0]&&!m;){let b=i[a++];if(b<Pe.TEXT_COMPACTION_MODE_LATCH)c[h]=b/30,c[h+1]=b%30,h+=2;else switch(b){case Pe.TEXT_COMPACTION_MODE_LATCH:c[h++]=Pe.TEXT_COMPACTION_MODE_LATCH;break;case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=i[a++],u[h]=b,h++;break}}return Pe.decodeTextCompaction(c,u,h,l),a}static decodeTextCompaction(i,a,l,c){let u=en.ALPHA,h=en.ALPHA,m=0;for(;m<l;){let b=i[m],C="";switch(u){case en.ALPHA:if(b<26)C=String.fromCharCode(65+b);else switch(b){case 26:C=" ";break;case Pe.LL:u=en.LOWER;break;case Pe.ML:u=en.MIXED;break;case Pe.PS:h=u,u=en.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.LOWER:if(b<26)C=String.fromCharCode(97+b);else switch(b){case 26:C=" ";break;case Pe.AS:h=u,u=en.ALPHA_SHIFT;break;case Pe.ML:u=en.MIXED;break;case Pe.PS:h=u,u=en.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.MIXED:if(b<Pe.PL)C=Pe.MIXED_CHARS[b];else switch(b){case Pe.PL:u=en.PUNCT;break;case 26:C=" ";break;case Pe.LL:u=en.LOWER;break;case Pe.AL:u=en.ALPHA;break;case Pe.PS:h=u,u=en.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.PUNCT:if(b<Pe.PAL)C=Pe.PUNCT_CHARS[b];else switch(b){case Pe.PAL:u=en.ALPHA;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.ALPHA_SHIFT:if(u=h,b<26)C=String.fromCharCode(65+b);else switch(b){case 26:C=" ";break;case Pe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break;case en.PUNCT_SHIFT:if(u=h,b<Pe.PAL)C=Pe.PUNCT_CHARS[b];else switch(b){case Pe.PAL:u=en.ALPHA;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:u=en.ALPHA;break}break}C!==""&&c.append(C),m++}}static byteCompaction(i,a,l,c,u){let h=new Zc,m=0,b=0,C=!1;switch(i){case Pe.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),q=a[c++];for(;c<a[0]&&!C;)switch(R[m++]=q,b=900*b+q,q=a[c++],q){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:c--,C=!0;break;default:if(m%5===0&&m>0){for(let Q=0;Q<6;++Q)h.write(Number(mr(b)>>mr(8*(5-Q))));b=0,m=0}break}c===a[0]&&q<Pe.TEXT_COMPACTION_MODE_LATCH&&(R[m++]=q);for(let Q=0;Q<m;Q++)h.write(R[Q]);break;case Pe.BYTE_COMPACTION_MODE_LATCH_6:for(;c<a[0]&&!C;){let Q=a[c++];if(Q<Pe.TEXT_COMPACTION_MODE_LATCH)m++,b=900*b+Q;else switch(Q){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:c--,C=!0;break}if(m%5===0&&m>0){for(let fe=0;fe<6;++fe)h.write(Number(mr(b)>>mr(8*(5-fe))));b=0,m=0}}break}return u.append(z.decode(h.toByteArray(),l)),c}static numericCompaction(i,a,l){let c=0,u=!1,h=new Int32Array(Pe.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!u;){let m=i[a++];if(a===i[0]&&(u=!0),m<Pe.TEXT_COMPACTION_MODE_LATCH)h[c]=m,c++;else switch(m){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:a--,u=!0;break}(c%Pe.MAX_NUMERIC_CODEWORDS===0||m===Pe.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(l.append(Pe.decodeBase900toBase10(h,c)),c=0)}return a}static decodeBase900toBase10(i,a){let l=mr(0);for(let u=0;u<a;u++)l+=Pe.EXP900[a-u-1]*mr(i[u]);let c=l.toString();if(c.charAt(0)!=="1")throw new k;return c.substring(1)}}Pe.TEXT_COMPACTION_MODE_LATCH=900,Pe.BYTE_COMPACTION_MODE_LATCH=901,Pe.NUMERIC_COMPACTION_MODE_LATCH=902,Pe.BYTE_COMPACTION_MODE_LATCH_6=924,Pe.ECI_USER_DEFINED=925,Pe.ECI_GENERAL_PURPOSE=926,Pe.ECI_CHARSET=927,Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Pe.MACRO_PDF417_TERMINATOR=922,Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Pe.MAX_NUMERIC_CODEWORDS=15,Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Pe.PL=25,Pe.LL=27,Pe.AS=27,Pe.ML=28,Pe.AL=28,Pe.PS=29,Pe.PAL=29,Pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Pe.EXP900=Br()?Qc():[],Pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Vt{constructor(){}static decode(i,a,l,c,u,h,m){let b=new ka(i,a,l,c,u),C=null,R=null,q;for(let be=!0;;be=!1){if(a!=null&&(C=Vt.getRowIndicatorColumn(i,b,a,!0,h,m)),c!=null&&(R=Vt.getRowIndicatorColumn(i,b,c,!1,h,m)),q=Vt.merge(C,R),q==null)throw ae.getNotFoundInstance();let Ae=q.getBoundingBox();if(be&&Ae!=null&&(Ae.getMinY()<b.getMinY()||Ae.getMaxY()>b.getMaxY()))b=Ae;else break}q.setBoundingBox(b);let Q=q.getBarcodeColumnCount()+1;q.setDetectionResultColumn(0,C),q.setDetectionResultColumn(Q,R);let fe=C!=null;for(let be=1;be<=Q;be++){let Ae=fe?be:Q-be;if(q.getDetectionResultColumn(Ae)!==void 0)continue;let _e;Ae===0||Ae===Q?_e=new Ja(b,Ae===0):_e=new jr(b),q.setDetectionResultColumn(Ae,_e);let Fe=-1,et=Fe;for(let at=b.getMinY();at<=b.getMaxY();at++){if(Fe=Vt.getStartColumn(q,Ae,at,fe),Fe<0||Fe>b.getMaxX()){if(et===-1)continue;Fe=et}let tt=Vt.detectCodeword(i,b.getMinX(),b.getMaxX(),fe,Fe,at,h,m);tt!=null&&(_e.setCodeword(at,tt),et=Fe,h=Math.min(h,tt.getWidth()),m=Math.max(m,tt.getWidth()))}}return Vt.createDecoderResult(q)}static merge(i,a){if(i==null&&a==null)return null;let l=Vt.getBarcodeMetadata(i,a);if(l==null)return null;let c=ka.merge(Vt.adjustBoundingBox(i),Vt.adjustBoundingBox(a));return new Pa(l,c)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let l=Vt.getMax(a),c=0;for(let m of a)if(c+=l-m,m>0)break;let u=i.getCodewords();for(let m=0;c>0&&u[m]==null;m++)c--;let h=0;for(let m=a.length-1;m>=0&&(h+=l-a[m],!(a[m]>0));m--);for(let m=u.length-1;h>0&&u[m]==null;m--)h--;return i.getBoundingBox().addMissingRows(c,h,i.isLeft())}static getMax(i){let a=-1;for(let l of i)a=Math.max(a,l);return a}static getBarcodeMetadata(i,a){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let c;return a==null||(c=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(i,a,l,c,u,h){let m=new Ja(a,c);for(let b=0;b<2;b++){let C=b===0?1:-1,R=Math.trunc(Math.trunc(l.getX()));for(let q=Math.trunc(Math.trunc(l.getY()));q<=a.getMaxY()&&q>=a.getMinY();q+=C){let Q=Vt.detectCodeword(i,0,i.getWidth(),c,R,q,u,h);Q!=null&&(m.setCodeword(q,Q),c?R=Q.getStartX():R=Q.getEndX())}}return m}static adjustCodewordCount(i,a){let l=a[0][1],c=l.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Vt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(u<1||u>Tt.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();l.setValue(u)}else c[0]!==u&&l.setValue(u)}static createDecoderResult(i){let a=Vt.createBarcodeMatrix(i);Vt.adjustCodewordCount(i,a);let l=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],h=new Array;for(let b=0;b<i.getBarcodeRowCount();b++)for(let C=0;C<i.getBarcodeColumnCount();C++){let R=a[b][C+1].getValue(),q=b*i.getBarcodeColumnCount()+C;R.length===0?l.push(q):R.length===1?c[q]=R[0]:(h.push(q),u.push(R))}let m=new Array(u.length);for(let b=0;b<m.length;b++)m[b]=u[b];return Vt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,Tt.toIntArray(l),Tt.toIntArray(h),m)}static createDecoderResultFromAmbiguousValues(i,a,l,c,u){let h=new Int32Array(c.length),m=100;for(;m-- >0;){for(let b=0;b<h.length;b++)a[c[b]]=u[b][h[b]];try{return Vt.decodeCodewords(a,i,l)}catch(b){if(!(b instanceof w))throw b}if(h.length===0)throw w.getChecksumInstance();for(let b=0;b<h.length;b++)if(h[b]<u[b].length-1){h[b]++;break}else if(h[b]=0,b===h.length-1)throw w.getChecksumInstance()}throw w.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<a.length;c++)for(let u=0;u<a[c].length;u++)a[c][u]=new ws;let l=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][l].setValue(u.getValue())}}}l++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,l,c){let u=c?1:-1,h=null;if(Vt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodeword(l)),h!=null)return c?h.getEndX():h.getStartX();if(h=i.getDetectionResultColumn(a).getCodewordNearby(l),h!=null)return c?h.getStartX():h.getEndX();if(Vt.isValidBarcodeColumn(i,a-u)&&(h=i.getDetectionResultColumn(a-u).getCodewordNearby(l)),h!=null)return c?h.getEndX():h.getStartX();let m=0;for(;Vt.isValidBarcodeColumn(i,a-u);){a-=u;for(let b of i.getDetectionResultColumn(a).getCodewords())if(b!=null)return(c?b.getEndX():b.getStartX())+u*m*(b.getEndX()-b.getStartX());m++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,l,c,u,h,m,b){u=Vt.adjustCodewordStartColumn(i,a,l,c,u,h);let C=Vt.getModuleBitCount(i,a,l,c,u,h);if(C==null)return null;let R,q=xe.sum(C);if(c)R=u+q;else{for(let be=0;be<C.length/2;be++){let Ae=C[be];C[be]=C[C.length-1-be],C[C.length-1-be]=Ae}R=u,u=R-q}if(!Vt.checkCodewordSkew(q,m,b))return null;let Q=ki.getDecodedValue(C),fe=Tt.getCodeword(Q);return fe===-1?null:new va(u,R,Vt.getCodewordBucketNumber(Q),fe)}static getModuleBitCount(i,a,l,c,u,h){let m=u,b=new Int32Array(8),C=0,R=c?1:-1,q=c;for(;(c?m<l:m>=a)&&C<b.length;)i.get(m,h)===q?(b[C]++,m+=R):(C++,q=!q);return C===b.length||m===(c?l:a)&&C===b.length-1?b:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,l,c,u,h){let m=u,b=c?-1:1;for(let C=0;C<2;C++){for(;(c?m>=a:m<l)&&c===i.get(m,h);){if(Math.abs(u-m)>Vt.CODEWORD_SKEW_SIZE)return u;m+=b}b=-b,c=!c}return m}static checkCodewordSkew(i,a,l){return a-Vt.CODEWORD_SKEW_SIZE<=i&&i<=l+Vt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,l){if(i.length===0)throw k.getFormatInstance();let c=1<<a+1,u=Vt.correctErrors(i,l,c);Vt.verifyCodewordCount(i,c);let h=Pe.decode(i,""+a);return h.setErrorsCorrected(u),h.setErasures(l.length),h}static correctErrors(i,a,l){if(a!=null&&a.length>l/2+Vt.MAX_ERRORS||l<0||l>Vt.MAX_EC_CODEWORDS)throw w.getChecksumInstance();return Vt.errorCorrection.decode(i,l,a)}static verifyCodewordCount(i,a){if(i.length<4)throw k.getFormatInstance();let l=i[0];if(l>i.length)throw k.getFormatInstance();if(l===0)if(a<i.length)i[0]=i.length-a;else throw k.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),l=0,c=a.length-1;for(;!((i&1)!==l&&(l=i&1,c--,c<0));)a[c]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Vt.getCodewordBucketNumber(Vt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new Qr;for(let l=0;l<i.length;l++){a.format("Row %2d: ",l);for(let c=0;c<i[l].length;c++){let u=i[l][c];u.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}a.format("%n")}return a.toString()}}Vt.CODEWORD_SKEW_SIZE=2,Vt.MAX_ERRORS=3,Vt.MAX_EC_CODEWORDS=512,Vt.errorCorrection=new Gl;class li{decode(i,a=null){let l=li.decode(i,a,!1);if(l==null||l.length===0||l[0]==null)throw ae.getNotFoundInstance();return l[0]}decodeMultiple(i,a=null){try{return li.decode(i,a,!0)}catch(l){throw l instanceof k||l instanceof w?ae.getNotFoundInstance():l}}static decode(i,a,l){const c=new Array,u=Ht.detectMultiple(i,a,l);for(const h of u.getPoints()){const m=Vt.decode(u.getBits(),h[4],h[5],h[6],h[7],li.getMinCodewordWidth(h),li.getMaxCodewordWidth(h)),b=new se(m.getText(),m.getRawBytes(),void 0,h,oe.PDF_417);b.putMetadata(Ie.ERROR_CORRECTION_LEVEL,m.getECLevel());const C=m.getOther();C!=null&&b.putMetadata(Ie.PDF417_EXTRA_METADATA,C),c.push(b)}return c.map(h=>h)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?D.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(li.getMaxWidth(i[0],i[4]),li.getMaxWidth(i[6],i[2])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN),Math.max(li.getMaxWidth(i[1],i[5]),li.getMaxWidth(i[7],i[3])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(li.getMinWidth(i[0],i[4]),li.getMinWidth(i[6],i[2])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN),Math.min(li.getMinWidth(i[1],i[5]),li.getMinWidth(i[7],i[3])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN)))}reset(){}}class es extends y{}es.kind="ReaderException";class ol{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!r(i)&&i.get(X.TRY_HARDER)===!0,l=r(i)?null:i.get(X.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const u=l.some(h=>h===oe.UPC_A||h===oe.UPC_E||h===oe.EAN_13||h===oe.EAN_8||h===oe.CODABAR||h===oe.CODE_39||h===oe.CODE_93||h===oe.CODE_128||h===oe.ITF||h===oe.RSS_14||h===oe.RSS_EXPANDED);u&&!a&&c.push(new xa(i,this.verbose)),l.includes(oe.QR_CODE)&&c.push(new ya),l.includes(oe.DATA_MATRIX)&&c.push(new Mi),l.includes(oe.AZTEC)&&c.push(new dt),l.includes(oe.PDF_417)&&c.push(new li),u&&a&&c.push(new xa(i,this.verbose))}c.length===0&&(a||c.push(new xa(i,this.verbose)),c.push(new ya),c.push(new Mi),c.push(new dt),c.push(new li),a&&c.push(new xa(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new es("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(l){if(l instanceof es)continue}throw new ae("No MultiFormat Readers were able to detect the code.")}}class Ks extends te{constructor(i=null,a=500){const l=new ol;l.setHints(i),super(l,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class ll extends te{constructor(i=500){super(new li,i)}}class cl extends te{constructor(i=500){super(new ya,i)}}var Js;(function(G){G[G.ERROR_CORRECTION=0]="ERROR_CORRECTION",G[G.CHARACTER_SET=1]="CHARACTER_SET",G[G.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",G[G.MIN_SIZE=3]="MIN_SIZE",G[G.MAX_SIZE=4]="MAX_SIZE",G[G.MARGIN=5]="MARGIN",G[G.PDF417_COMPACT=6]="PDF417_COMPACT",G[G.PDF417_COMPACTION=7]="PDF417_COMPACTION",G[G.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",G[G.AZTEC_LAYERS=9]="AZTEC_LAYERS",G[G.QR_VERSION=10]="QR_VERSION"})(Js||(Js={}));var ci=Js;class ts{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Xe(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let l=a[a.length-1];const c=this.field;for(let u=a.length;u<=i;u++){const h=l.multiply(new Xe(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));a.push(h),l=h}}return a[i]}encode(i,a){if(a===0)throw new S("No error correction bytes");const l=i.length-a;if(l<=0)throw new S("No data bytes provided");const c=this.buildGenerator(a),u=new Int32Array(l);M.arraycopy(i,0,u,0,l);let h=new Xe(this.field,u);h=h.multiplyByMonomial(a,1);const b=h.divide(c)[1].getCoefficients(),C=a-b.length;for(let R=0;R<C;R++)i[l+R]=0;M.arraycopy(b,0,i,l+C,b.length)}}class An{constructor(){}static applyMaskPenaltyRule1(i){return An.applyMaskPenaltyRule1Internal(i,!0)+An.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u-1;h++){const m=l[h];for(let b=0;b<c-1;b++){const C=m[b];C===m[b+1]&&C===l[h+1][b]&&C===l[h+1][b+1]&&a++}}return An.N2*a}static applyMaskPenaltyRule3(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u;h++)for(let m=0;m<c;m++){const b=l[h];m+6<c&&b[m]===1&&b[m+1]===0&&b[m+2]===1&&b[m+3]===1&&b[m+4]===1&&b[m+5]===0&&b[m+6]===1&&(An.isWhiteHorizontal(b,m-4,m)||An.isWhiteHorizontal(b,m+7,m+11))&&a++,h+6<u&&l[h][m]===1&&l[h+1][m]===0&&l[h+2][m]===1&&l[h+3][m]===1&&l[h+4][m]===1&&l[h+5][m]===0&&l[h+6][m]===1&&(An.isWhiteVertical(l,m,h-4,h)||An.isWhiteVertical(l,m,h+7,h+11))&&a++}return a*An.N3}static isWhiteHorizontal(i,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let c=a;c<l;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,a,l,c){l=Math.max(l,0),c=Math.min(c,i.length);for(let u=l;u<c;u++)if(i[u][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const l=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let b=0;b<u;b++){const C=l[b];for(let R=0;R<c;R++)C[R]===1&&a++}const h=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*An.N4}static getDataMaskBit(i,a,l){let c,u;switch(i){case 0:c=l+a&1;break;case 1:c=l&1;break;case 2:c=a%3;break;case 3:c=(l+a)%3;break;case 4:c=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:u=l*a,c=(u&1)+u%3;break;case 6:u=l*a,c=(u&1)+u%3&1;break;case 7:u=l*a,c=u%3+(l+a&1)&1;break;default:throw new S("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,a){let l=0;const c=a?i.getHeight():i.getWidth(),u=a?i.getWidth():i.getHeight(),h=i.getArray();for(let m=0;m<c;m++){let b=0,C=-1;for(let R=0;R<u;R++){const q=a?h[m][R]:h[R][m];q===C?b++:(b>=5&&(l+=An.N1+(b-5)),b=1,C=q)}b>=5&&(l+=An.N1+(b-5))}return l}}An.N1=3,An.N2=3,An.N3=40,An.N4=10;class ns{constructor(i,a){this.width=i,this.height=a;const l=new Array(a);for(let c=0;c!==a;c++)l[c]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,l){this.bytes[a][i]=l}setBoolean(i,a,l){this.bytes[a][i]=l?1:0}clear(i){for(const a of this.bytes)I.fill(a,i)}equals(i){if(!(i instanceof ns))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,c=this.height;l<c;++l){const u=this.bytes[l],h=a.bytes[l];for(let m=0,b=this.width;m<b;++m)if(u[m]!==h[m])return!1}return!0}toString(){const i=new ie;for(let a=0,l=this.height;a<l;++a){const c=this.bytes[a];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class xr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ie;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<xr.NUM_MASK_PATTERNS}}xr.NUM_MASK_PATTERNS=8;class pn extends y{}pn.kind="WriterException";class A{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,l,c,u){A.clearMatrix(u),A.embedBasicPatterns(l,u),A.embedTypeInfo(a,c,u),A.maybeEmbedVersionInfo(l,u),A.embedDataBits(i,c,u)}static embedBasicPatterns(i,a){A.embedPositionDetectionPatternsAndSeparators(a),A.embedDarkDotAtLeftBottomCorner(a),A.maybeEmbedPositionAdjustmentPatterns(i,a),A.embedTimingPatterns(a)}static embedTypeInfo(i,a,l){const c=new L;A.makeTypeInfoBits(i,a,c);for(let u=0,h=c.getSize();u<h;++u){const m=c.get(c.getSize()-1-u),b=A.TYPE_INFO_COORDINATES[u],C=b[0],R=b[1];if(l.setBoolean(C,R,m),u<8){const q=l.getWidth()-u-1;l.setBoolean(q,8,m)}else{const Q=l.getHeight()-7+(u-8);l.setBoolean(8,Q,m)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const l=new L;A.makeVersionInfoBits(i,l);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const m=l.get(c);c--,a.setBoolean(u,a.getHeight()-11+h,m),a.setBoolean(a.getHeight()-11+h,u,m)}}static embedDataBits(i,a,l){let c=0,u=-1,h=l.getWidth()-1,m=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);m>=0&&m<l.getHeight();){for(let b=0;b<2;++b){const C=h-b;if(!A.isEmpty(l.get(C,m)))continue;let R;c<i.getSize()?(R=i.get(c),++c):R=!1,a!==255&&An.getDataMaskBit(a,C,m)&&(R=!R),l.setBoolean(C,m,R)}m+=u}u=-u,m+=u,h-=2}if(c!==i.getSize())throw new pn("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-D.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new S("0 polynomial");const l=A.findMSBSet(a);for(i<<=l-1;A.findMSBSet(i)>=l;)i^=a<<A.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,a,l){if(!xr.isValidMaskPattern(a))throw new pn("Invalid mask pattern");const c=i.getBits()<<3|a;l.appendBits(c,5);const u=A.calculateBCHCode(c,A.TYPE_INFO_POLY);l.appendBits(u,10);const h=new L;if(h.appendBits(A.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new pn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const l=A.calculateBCHCode(i.getVersionNumber(),A.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new pn("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const l=(a+1)%2;A.isEmpty(i.get(a,6))&&i.setNumber(a,6,l),A.isEmpty(i.get(6,a))&&i.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new pn;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,l){for(let c=0;c<8;++c){if(!A.isEmpty(l.get(i+c,a)))throw new pn;l.setNumber(i+c,a,0)}}static embedVerticalSeparationPattern(i,a,l){for(let c=0;c<7;++c){if(!A.isEmpty(l.get(i,a+c)))throw new pn;l.setNumber(i,a+c,0)}}static embedPositionAdjustmentPattern(i,a,l){for(let c=0;c<5;++c){const u=A.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPattern(i,a,l){for(let c=0;c<7;++c){const u=A.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)l.setNumber(i+h,a+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(i){const a=A.POSITION_DETECTION_PATTERN[0].length;A.embedPositionDetectionPattern(0,0,i),A.embedPositionDetectionPattern(i.getWidth()-a,0,i),A.embedPositionDetectionPattern(0,i.getWidth()-a,i);const l=8;A.embedHorizontalSeparationPattern(0,l-1,i),A.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),A.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const c=7;A.embedVerticalSeparationPattern(c,0,i),A.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),A.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,c=A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let u=0,h=c.length;u!==h;u++){const m=c[u];if(m>=0)for(let b=0;b!==h;b++){const C=c[b];C>=0&&A.isEmpty(a.get(C,m))&&A.embedPositionAdjustmentPattern(C-2,m-2,a)}}}}A.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),A.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),A.VERSION_INFO_POLY=7973,A.TYPE_INFO_POLY=1335,A.TYPE_INFO_MASK_PATTERN=21522;class Y{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ue{constructor(){}static calculateMaskPenalty(i){return An.applyMaskPenaltyRule1(i)+An.applyMaskPenaltyRule2(i)+An.applyMaskPenaltyRule3(i)+An.applyMaskPenaltyRule4(i)}static encode(i,a,l=null){let c=ue.DEFAULT_BYTE_MODE_ENCODING;const u=l!==null&&l.get(ci.CHARACTER_SET)!==void 0;u&&(c=l.get(ci.CHARACTER_SET).toString());const h=this.chooseMode(i,c),m=new L;if(h===Dt.BYTE&&(u||ue.DEFAULT_BYTE_MODE_ENCODING!==c)){const at=W.getCharacterSetECIByName(c);at!==void 0&&this.appendECI(at,m)}this.appendModeInfo(h,m);const b=new L;this.appendBytes(i,h,b,c);let C;if(l!==null&&l.get(ci.QR_VERSION)!==void 0){const at=Number.parseInt(l.get(ci.QR_VERSION).toString(),10);C=Et.getVersionForNumber(at);const tt=this.calculateBitsNeeded(h,m,b,C);if(!this.willFit(tt,C,a))throw new pn("Data too big for requested version")}else C=this.recommendVersion(a,h,m,b);const R=new L;R.appendBitArray(m);const q=h===Dt.BYTE?b.getSizeInBytes():i.length;this.appendLengthInfo(q,C,h,R),R.appendBitArray(b);const Q=C.getECBlocksForLevel(a),fe=C.getTotalCodewords()-Q.getTotalECCodewords();this.terminateBits(fe,R);const be=this.interleaveWithECBytes(R,C.getTotalCodewords(),fe,Q.getNumBlocks()),Ae=new xr;Ae.setECLevel(a),Ae.setMode(h),Ae.setVersion(C);const _e=C.getDimensionForVersion(),Fe=new ns(_e,_e),et=this.chooseMaskPattern(be,a,C,Fe);return Ae.setMaskPattern(et),A.buildMatrix(be,a,C,et,Fe),Ae.setMatrix(Fe),Ae}static recommendVersion(i,a,l,c){const u=this.calculateBitsNeeded(a,l,c,Et.getVersionForNumber(1)),h=this.chooseVersion(u,i),m=this.calculateBitsNeeded(a,l,c,h);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,a,l,c){return a.getSize()+i.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(i){return i<ue.ALPHANUMERIC_TABLE.length?ue.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(W.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return Dt.KANJI;let l=!1,c=!1;for(let u=0,h=i.length;u<h;++u){const m=i.charAt(u);if(ue.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)c=!0;else return Dt.BYTE}return c?Dt.ALPHANUMERIC:l?Dt.NUMERIC:Dt.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=z.encode(i,W.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const u=a[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,a,l,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let m=0;m<xr.NUM_MASK_PATTERNS;m++){A.buildMatrix(i,a,l,m,c);let b=this.calculateMaskPenalty(c);b<u&&(u=b,h=m)}return h}static chooseVersion(i,a){for(let l=1;l<=40;l++){const c=Et.getVersionForNumber(l);if(ue.willFit(i,c,a))return c}throw new pn("Data too big")}static willFit(i,a,l){const c=a.getTotalCodewords(),h=a.getECBlocksForLevel(l).getTotalECCodewords(),m=c-h,b=(i+7)/8;return m>=b}static terminateBits(i,a){const l=i*8;if(a.getSize()>l)throw new pn("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let h=0;h<4&&a.getSize()<l;++h)a.appendBit(!1);const c=a.getSize()&7;if(c>0)for(let h=c;h<8;h++)a.appendBit(!1);const u=i-a.getSizeInBytes();for(let h=0;h<u;++h)a.appendBits(h&1?17:236,8);if(a.getSize()!==l)throw new pn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,l,c,u,h){if(c>=l)throw new pn("Block ID too large");const m=i%l,b=l-m,C=Math.floor(i/l),R=C+1,q=Math.floor(a/l),Q=q+1,fe=C-q,be=R-Q;if(fe!==be)throw new pn("EC bytes mismatch");if(l!==b+m)throw new pn("RS blocks mismatch");if(i!==(q+fe)*b+(Q+be)*m)throw new pn("Total bytes mismatch");c<b?(u[0]=q,h[0]=fe):(u[0]=Q,h[0]=be)}static interleaveWithECBytes(i,a,l,c){if(i.getSizeInBytes()!==l)throw new pn("Number of bits and data bytes does not match");let u=0,h=0,m=0;const b=new Array;for(let R=0;R<c;++R){const q=new Int32Array(1),Q=new Int32Array(1);ue.getNumDataBytesAndNumECBytesForBlockID(a,l,c,R,q,Q);const fe=q[0],be=new Uint8Array(fe);i.toBytes(8*u,be,0,fe);const Ae=ue.generateECBytes(be,Q[0]);b.push(new Y(be,Ae)),h=Math.max(h,fe),m=Math.max(m,Ae.length),u+=q[0]}if(l!==u)throw new pn("Data bytes does not match offset");const C=new L;for(let R=0;R<h;++R)for(const q of b){const Q=q.getDataBytes();R<Q.length&&C.appendBits(Q[R],8)}for(let R=0;R<m;++R)for(const q of b){const Q=q.getErrorCorrectionBytes();R<Q.length&&C.appendBits(Q[R],8)}if(a!==C.getSizeInBytes())throw new pn("Interleaving error: "+a+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(i,a){const l=i.length,c=new Int32Array(l+a);for(let h=0;h<l;h++)c[h]=i[h]&255;new ts(Je.QR_CODE_FIELD_256).encode(c,a);const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=c[l+h];return u}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,l,c){const u=l.getCharacterCountBits(a);if(i>=1<<u)throw new pn(i+" is bigger than "+((1<<u)-1));c.appendBits(i,u)}static appendBytes(i,a,l,c){switch(a){case Dt.NUMERIC:ue.appendNumericBytes(i,l);break;case Dt.ALPHANUMERIC:ue.appendAlphanumericBytes(i,l);break;case Dt.BYTE:ue.append8BitBytes(i,l,c);break;case Dt.KANJI:ue.appendKanjiBytes(i,l);break;default:throw new pn("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=ue.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=ue.getDigit(i.charAt(c));if(c+2<l){const h=ue.getDigit(i.charAt(c+1)),m=ue.getDigit(i.charAt(c+2));a.appendBits(u*100+h*10+m,10),c+=3}else if(c+1<l){const h=ue.getDigit(i.charAt(c+1));a.appendBits(u*10+h,7),c+=2}else a.appendBits(u,4),c++}}static appendAlphanumericBytes(i,a){const l=i.length;let c=0;for(;c<l;){const u=ue.getAlphanumericCode(i.charCodeAt(c));if(u===-1)throw new pn;if(c+1<l){const h=ue.getAlphanumericCode(i.charCodeAt(c+1));if(h===-1)throw new pn;a.appendBits(u*45+h,11),c+=2}else a.appendBits(u,6),c++}}static append8BitBytes(i,a,l){let c;try{c=z.encode(i,l)}catch(u){throw new pn(u)}for(let u=0,h=c.length;u!==h;u++){const m=c[u];a.appendBits(m,8)}}static appendKanjiBytes(i,a){let l;try{l=z.encode(i,W.SJIS)}catch(u){throw new pn(u)}const c=l.length;for(let u=0;u<c;u+=2){const h=l[u]&255,m=l[u+1]&255,b=h<<8&4294967295|m;let C=-1;if(b>=33088&&b<=40956?C=b-33088:b>=57408&&b<=60351&&(C=b-49472),C===-1)throw new pn("Invalid byte sequence");const R=(C>>8)*192+(C&255);a.appendBits(R,13)}}static appendECI(i,a){a.appendBits(Dt.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}ue.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ue.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class we{write(i,a,l,c=null){if(i.length===0)throw new S("Found empty contents");if(a<0||l<0)throw new S("Requested dimensions are too small: "+a+"x"+l);let u=xn.L,h=we.QUIET_ZONE_SIZE;c!==null&&(c.get(ci.ERROR_CORRECTION)!==void 0&&(u=xn.fromString(c.get(ci.ERROR_CORRECTION).toString())),c.get(ci.MARGIN)!==void 0&&(h=Number.parseInt(c.get(ci.MARGIN).toString(),10)));const m=ue.encode(i,u,c);return this.renderResult(m,a,l,h)}writeToDom(i,a,l,c,u=null){typeof i=="string"&&(i=document.querySelector(i));const h=this.write(a,l,c,u);i&&i.appendChild(h)}renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new Ue;const h=u.getWidth(),m=u.getHeight(),b=h+c*2,C=m+c*2,R=Math.max(a,b),q=Math.max(l,C),Q=Math.min(Math.floor(R/b),Math.floor(q/C)),fe=Math.floor((R-h*Q)/2),be=Math.floor((q-m*Q)/2),Ae=this.createSVGElement(R,q);for(let _e=0,Fe=be;_e<m;_e++,Fe+=Q)for(let et=0,at=fe;et<h;et++,at+=Q)if(u.get(et,_e)===1){const tt=this.createSvgRectElement(at,Fe,Q,Q);Ae.appendChild(tt)}return Ae}createSVGElement(i,a){const l=document.createElementNS(we.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(i,a,l,c){const u=document.createElementNS(we.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"height",l.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}we.QUIET_ZONE_SIZE=4,we.SVG_NS="http://www.w3.org/2000/svg";class Le{encode(i,a,l,c,u){if(i.length===0)throw new S("Found empty contents");if(a!==oe.QR_CODE)throw new S("Can only encode QR_CODE, but got "+a);if(l<0||c<0)throw new S(`Requested dimensions are too small: ${l}x${c}`);let h=xn.L,m=Le.QUIET_ZONE_SIZE;u!==null&&(u.get(ci.ERROR_CORRECTION)!==void 0&&(h=xn.fromString(u.get(ci.ERROR_CORRECTION).toString())),u.get(ci.MARGIN)!==void 0&&(m=Number.parseInt(u.get(ci.MARGIN).toString(),10)));const b=ue.encode(i,h,u);return Le.renderResult(b,l,c,m)}static renderResult(i,a,l,c){const u=i.getMatrix();if(u===null)throw new Ue;const h=u.getWidth(),m=u.getHeight(),b=h+c*2,C=m+c*2,R=Math.max(a,b),q=Math.max(l,C),Q=Math.min(Math.floor(R/b),Math.floor(q/C)),fe=Math.floor((R-h*Q)/2),be=Math.floor((q-m*Q)/2),Ae=new re(R,q);for(let _e=0,Fe=be;_e<m;_e++,Fe+=Q)for(let et=0,at=fe;et<h;et++,at+=Q)u.get(et,_e)===1&&Ae.setRegion(at,Fe,Q,Q);return Ae}}Le.QUIET_ZONE_SIZE=4;class qe{encode(i,a,l,c,u){let h;switch(a){case oe.QR_CODE:h=new Le;break;default:throw new S("No encoder available for format "+a)}return h.encode(i,a,l,c,u)}}class Ke extends ce{constructor(i,a,l,c,u,h,m,b){if(super(h,m),this.yuvData=i,this.dataWidth=a,this.dataHeight=l,this.left=c,this.top=u,c+h>a||u+m>l)throw new S("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(h,m)}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.yuvData,u,c,0,l),c;for(let h=0;h<a;h++){const m=h*i;M.arraycopy(this.yuvData,u,c,m,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new Ke(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,l,c,!1)}renderThumbnail(){const i=this.getWidth()/Ke.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ke.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*a),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const m=h*i;for(let b=0;b<i;b++){const C=c[u+b*Ke.THUMBNAIL_SCALE_FACTOR]&255;l[m+b]=4278190080|C*65793}u+=this.dataWidth*Ke.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Ke.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ke.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const l=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<a;c++,u+=this.dataWidth){const h=u+i/2;for(let m=u,b=u+i-1;m<h;m++,b--){const C=l[m];l[m]=l[b],l[b]=C}}}invert(){return new ge(this)}}Ke.THUMBNAIL_SCALE_FACTOR=2;class pt extends ce{constructor(i,a,l,c,u,h,m){if(super(a,l),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=m,i.BYTES_PER_ELEMENT===4){const b=a*l,C=new Uint8ClampedArray(b);for(let R=0;R<b;R++){const q=i[R],Q=q>>16&255,fe=q>>7&510,be=q&255;C[R]=(Q+fe+be)/4&255}this.luminances=C}else this.luminances=i;if(c===void 0&&(this.dataWidth=a),u===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new S("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,c,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=i*a,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.luminances,u,c,0,l),c;for(let h=0;h<a;h++){const m=h*i;M.arraycopy(this.luminances,u,c,m,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,a,l,c){return new pt(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new ge(this)}}class It extends W{static forName(i){return this.getCharacterSetECIByName(i)}}class Ut{}Ut.ISO_8859_1=W.ISO8859_1;class zt{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class tn{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class Zn{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Sn extends Zn{constructor(i,a,l){super(i),this.value=a,this.bitCount=l}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new Sn(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Sn(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+D.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ti extends Sn{constructor(i,a,l){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(i,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(i,a){return new ti(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Qi(G,i,a){return new ti(G,i,a)}function ni(G,i,a){return new Sn(G,i,a)}const Kr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pi=0,Ir=1,or=2,$s=3,yr=4,eo=new Sn(null,0,0),As=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ul(G){for(let i of G)I.fill(i,-1);return G[pi][yr]=0,G[Ir][yr]=0,G[Ir][pi]=28,G[$s][yr]=0,G[or][yr]=0,G[or][pi]=15,G}const Ss=ul(I.createInt32Array(6,6));class Ln{constructor(i,a,l,c){this.token=i,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let l=this.bitCount,c=this.token;if(i!==this.mode){let h=As[this.mode][i];c=ni(c,h&65535,h>>16),l+=h>>16}let u=i===or?4:5;return c=ni(c,a,u),new Ln(c,i,0,l+u)}shiftAndAppend(i,a){let l=this.token,c=this.mode===or?4:5;return l=ni(l,Ss[this.mode][i],c),l=ni(l,a,5),new Ln(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let a=this.token,l=this.mode,c=this.bitCount;if(this.mode===yr||this.mode===or){let m=As[l][pi];a=ni(a,m&65535,m>>16),c+=m>>16,l=pi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Ln(a,l,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(i+1)),h}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Qi(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ln(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(As[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Ln.calculateBinaryShiftCost(i)-Ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())a.unshift(c);let l=new L;for(const c of a)c.appendTo(l,i);return l}toString(){return j.format("%s bits=%d bytes=%d",Kr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Ln.INITIAL_STATE=new Ln(eo,pi,0,0);function to(G){const i=j.getCharCode(" "),a=j.getCharCode("."),l=j.getCharCode(",");G[pi][i]=1;const c=j.getCharCode("Z"),u=j.getCharCode("A");for(let Q=u;Q<=c;Q++)G[pi][Q]=Q-u+2;G[Ir][i]=1;const h=j.getCharCode("z"),m=j.getCharCode("a");for(let Q=m;Q<=h;Q++)G[Ir][Q]=Q-m+2;G[or][i]=1;const b=j.getCharCode("9"),C=j.getCharCode("0");for(let Q=C;Q<=b;Q++)G[or][Q]=Q-C+2;G[or][l]=12,G[or][a]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Q=0;Q<R.length;Q++)G[$s][j.getCharCode(R[Q])]=Q;const q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Q=0;Q<q.length;Q++)j.getCharCode(q[Q])>0&&(G[yr][j.getCharCode(q[Q])]=Q);return G}const is=to(I.createInt32Array(5,256));class wa{constructor(i){this.text=i}encode(){const i=j.getCharCode(" "),a=j.getCharCode(`
`);let l=tn.singletonList(Ln.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case j.getCharCode("\r"):h=m===a?2:0;break;case j.getCharCode("."):h=m===i?3:0;break;case j.getCharCode(","):h=m===i?4:0;break;case j.getCharCode(":"):h=m===i?5:0;break;default:h=0}h>0?(l=wa.updateStateListForPair(l,u,h),u++):l=this.updateStateListForChar(l,u)}return tn.min(l,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const l=[];for(let c of i)this.updateStateForChar(c,a,l);return wa.simplifyStates(l)}updateStateForChar(i,a,l){let c=this.text[a]&255,u=is[i.getMode()][c]>0,h=null;for(let m=0;m<=yr;m++){let b=is[m][c];if(b>0){if(h==null&&(h=i.endBinaryShift(a)),!u||m===i.getMode()||m===or){const C=h.latchAndAppend(m,b);l.push(C)}if(!u&&Ss[i.getMode()][m]>=0){const C=h.shiftAndAppend(m,b);l.push(C)}}}if(i.getBinaryShiftByteCount()>0||is[i.getMode()][c]===0){let m=i.addBinaryShiftChar(a);l.push(m)}}static updateStateListForPair(i,a,l){const c=[];for(let u of i)this.updateStateForPair(u,a,l,c);return this.simplifyStates(c)}static updateStateForPair(i,a,l,c){let u=i.endBinaryShift(a);if(c.push(u.latchAndAppend(yr,l)),i.getMode()!==yr&&c.push(u.shiftAndAppend(yr,l)),l===3||l===4){let h=u.latchAndAppend(or,16-l).latchAndAppend(or,1);c.push(h)}if(i.getBinaryShiftByteCount()>0){let h=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);c.push(h)}}static simplifyStates(i){let a=[];for(const l of i){let c=!0;for(const u of a){if(u.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(u)&&(a=a.filter(h=>h!==u))}c&&a.push(l)}return a}}class Jt{constructor(){}static encodeBytes(i){return Jt.encode(i,Jt.DEFAULT_EC_PERCENT,Jt.DEFAULT_AZTEC_LAYERS)}static encode(i,a,l){let c=new wa(i).encode(),u=D.truncDivision(c.getSize()*a,100)+11,h=c.getSize()+u,m,b,C,R,q;if(l!==Jt.DEFAULT_AZTEC_LAYERS){if(m=l<0,b=Math.abs(l),b>(m?Jt.MAX_NB_BITS_COMPACT:Jt.MAX_NB_BITS))throw new S(j.format("Illegal value %s for layers",l));C=Jt.totalBitsInLayer(b,m),R=Jt.WORD_SIZE[b];let tt=C-C%R;if(q=Jt.stuffBits(c,R),q.getSize()+u>tt)throw new S("Data to large for user specified layer");if(m&&q.getSize()>R*64)throw new S("Data to large for user specified layer")}else{R=0,q=null;for(let tt=0;;tt++){if(tt>Jt.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(m=tt<=3,b=m?tt+1:tt,C=Jt.totalBitsInLayer(b,m),h>C)continue;(q==null||R!==Jt.WORD_SIZE[b])&&(R=Jt.WORD_SIZE[b],q=Jt.stuffBits(c,R));let Zt=C-C%R;if(!(m&&q.getSize()>R*64)&&q.getSize()+u<=Zt)break}}let Q=Jt.generateCheckWords(q,C,R),fe=q.getSize()/R,be=Jt.generateModeMessage(m,b,fe),Ae=(m?11:14)+b*4,_e=new Int32Array(Ae),Fe;if(m){Fe=Ae;for(let tt=0;tt<_e.length;tt++)_e[tt]=tt}else{Fe=Ae+1+2*D.truncDivision(D.truncDivision(Ae,2)-1,15);let tt=D.truncDivision(Ae,2),Zt=D.truncDivision(Fe,2);for(let Bt=0;Bt<tt;Bt++){let mi=Bt+D.truncDivision(Bt,15);_e[tt-Bt-1]=Zt-mi-1,_e[tt+Bt]=Zt+mi+1}}let et=new re(Fe);for(let tt=0,Zt=0;tt<b;tt++){let Bt=(b-tt)*4+(m?9:12);for(let mi=0;mi<Bt;mi++){let Fi=mi*2;for(let ui=0;ui<2;ui++)Q.get(Zt+Fi+ui)&&et.set(_e[tt*2+ui],_e[tt*2+mi]),Q.get(Zt+Bt*2+Fi+ui)&&et.set(_e[tt*2+mi],_e[Ae-1-tt*2-ui]),Q.get(Zt+Bt*4+Fi+ui)&&et.set(_e[Ae-1-tt*2-ui],_e[Ae-1-tt*2-mi]),Q.get(Zt+Bt*6+Fi+ui)&&et.set(_e[Ae-1-tt*2-mi],_e[tt*2+ui])}Zt+=Bt*8}if(Jt.drawModeMessage(et,m,Fe,be),m)Jt.drawBullsEye(et,D.truncDivision(Fe,2),5);else{Jt.drawBullsEye(et,D.truncDivision(Fe,2),7);for(let tt=0,Zt=0;tt<D.truncDivision(Ae,2)-1;tt+=15,Zt+=16)for(let Bt=D.truncDivision(Fe,2)&1;Bt<Fe;Bt+=2)et.set(D.truncDivision(Fe,2)-Zt,Bt),et.set(D.truncDivision(Fe,2)+Zt,Bt),et.set(Bt,D.truncDivision(Fe,2)-Zt),et.set(Bt,D.truncDivision(Fe,2)+Zt)}let at=new zt;return at.setCompact(m),at.setSize(Fe),at.setLayers(b),at.setCodeWords(fe),at.setMatrix(et),at}static drawBullsEye(i,a,l){for(let c=0;c<l;c+=2)for(let u=a-c;u<=a+c;u++)i.set(u,a-c),i.set(u,a+c),i.set(a-c,u),i.set(a+c,u);i.set(a-l,a-l),i.set(a-l+1,a-l),i.set(a-l,a-l+1),i.set(a+l,a-l),i.set(a+l,a-l+1),i.set(a+l,a+l-1)}static generateModeMessage(i,a,l){let c=new L;return i?(c.appendBits(a-1,2),c.appendBits(l-1,6),c=Jt.generateCheckWords(c,28,4)):(c.appendBits(a-1,5),c.appendBits(l-1,11),c=Jt.generateCheckWords(c,40,4)),c}static drawModeMessage(i,a,l,c){let u=D.truncDivision(l,2);if(a)for(let h=0;h<7;h++){let m=u-3+h;c.get(h)&&i.set(m,u-5),c.get(h+7)&&i.set(u+5,m),c.get(20-h)&&i.set(m,u+5),c.get(27-h)&&i.set(u-5,m)}else for(let h=0;h<10;h++){let m=u-5+h+D.truncDivision(h,5);c.get(h)&&i.set(m,u-7),c.get(h+10)&&i.set(u+7,m),c.get(29-h)&&i.set(m,u+7),c.get(39-h)&&i.set(u-7,m)}}static generateCheckWords(i,a,l){let c=i.getSize()/l,u=new ts(Jt.getGF(l)),h=D.truncDivision(a,l),m=Jt.bitsToWords(i,l,h);u.encode(m,h-c);let b=a%l,C=new L;C.appendBits(0,b);for(const R of Array.from(m))C.appendBits(R,l);return C}static bitsToWords(i,a,l){let c=new Int32Array(l),u,h;for(u=0,h=i.getSize()/a;u<h;u++){let m=0;for(let b=0;b<a;b++)m|=i.get(u*a+b)?1<<a-b-1:0;c[u]=m}return c}static getGF(i){switch(i){case 4:return Je.AZTEC_PARAM;case 6:return Je.AZTEC_DATA_6;case 8:return Je.AZTEC_DATA_8;case 10:return Je.AZTEC_DATA_10;case 12:return Je.AZTEC_DATA_12;default:throw new S("Unsupported word size "+i)}}static stuffBits(i,a){let l=new L,c=i.getSize(),u=(1<<a)-2;for(let h=0;h<c;h+=a){let m=0;for(let b=0;b<a;b++)(h+b>=c||i.get(h+b))&&(m|=1<<a-1-b);(m&u)===u?(l.appendBits(m&u,a),h--):m&u?l.appendBits(m,a):(l.appendBits(m|1,a),h--)}return l}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Jt.DEFAULT_EC_PERCENT=33,Jt.DEFAULT_AZTEC_LAYERS=0,Jt.MAX_NB_BITS=32,Jt.MAX_NB_BITS_COMPACT=4,Jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Pi{encode(i,a,l,c){return this.encodeWithHints(i,a,l,c,null)}encodeWithHints(i,a,l,c,u){let h=Ut.ISO_8859_1,m=Jt.DEFAULT_EC_PERCENT,b=Jt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(ci.CHARACTER_SET)&&(h=It.forName(u.get(ci.CHARACTER_SET).toString())),u.has(ci.ERROR_CORRECTION)&&(m=D.parseInt(u.get(ci.ERROR_CORRECTION).toString())),u.has(ci.AZTEC_LAYERS)&&(b=D.parseInt(u.get(ci.AZTEC_LAYERS).toString()))),Pi.encodeLayers(i,a,l,c,h,m,b)}static encodeLayers(i,a,l,c,u,h,m){if(a!==oe.AZTEC)throw new S("Can only encode AZTEC, but got "+a);let b=Jt.encode(j.getBytes(i,u),h,m);return Pi.renderResult(b,l,c)}static renderResult(i,a,l){let c=i.getMatrix();if(c==null)throw new Ue;let u=c.getWidth(),h=c.getHeight(),m=Math.max(a,u),b=Math.max(l,h),C=Math.min(m/u,b/h),R=(m-u*C)/2,q=(b-h*C)/2,Q=new re(m,b);for(let fe=0,be=q;fe<h;fe++,be+=C)for(let Ae=0,_e=R;Ae<u;Ae++,_e+=C)c.get(Ae,fe)&&Q.setRegion(_e,be,C,C);return Q}}n.AbstractExpandedDecoder=Tr,n.ArgumentException=N,n.ArithmeticException=ut,n.AztecCode=zt,n.AztecCodeReader=dt,n.AztecCodeWriter=Pi,n.AztecDecoder=ct,n.AztecDetector=Qt,n.AztecDetectorResult=He,n.AztecEncoder=Jt,n.AztecHighLevelEncoder=wa,n.AztecPoint=vt,n.BarcodeFormat=oe,n.Binarizer=B,n.BinaryBitmap=E,n.BitArray=L,n.BitMatrix=re,n.BitSource=Xs,n.BrowserAztecCodeReader=Yi,n.BrowserBarcodeReader=Wc,n.BrowserCodeReader=te,n.BrowserDatamatrixCodeReader=Ws,n.BrowserMultiFormatReader=Ks,n.BrowserPDF417Reader=ll,n.BrowserQRCodeReader=cl,n.BrowserQRCodeSvgWriter=we,n.CharacterSetECI=W,n.ChecksumException=w,n.Code128Reader=lt,n.Code39Reader=Pt,n.DataMatrixDecodedBitStreamParser=Zr,n.DataMatrixReader=Mi,n.DecodeHintType=X,n.DecoderResult=Re,n.DefaultGridSampler=bt,n.DetectorResult=Ee,n.EAN13Reader=ir,n.EncodeHintType=ci,n.Exception=y,n.FormatException=k,n.GenericGF=Je,n.GenericGFPoly=Xe,n.GlobalHistogramBinarizer=J,n.GridSampler=ft,n.GridSamplerInstance=xt,n.HTMLCanvasElementLuminanceSource=ve,n.HybridBinarizer=$,n.ITFReader=Mt,n.IllegalArgumentException=S,n.IllegalStateException=Ue,n.InvertedLuminanceSource=ge,n.LuminanceSource=ce,n.MathUtils=xe,n.MultiFormatOneDReader=xa,n.MultiFormatReader=ol,n.MultiFormatWriter=qe,n.NotFoundException=ae,n.OneDReader=Lt,n.PDF417DecodedBitStreamParser=Pe,n.PDF417DecoderErrorCorrection=Gl,n.PDF417Reader=li,n.PDF417ResultMetadata=rl,n.PerspectiveTransform=it,n.PlanarYUVLuminanceSource=Ke,n.QRCodeByteMatrix=ns,n.QRCodeDataMask=gr,n.QRCodeDecodedBitStreamParser=gn,n.QRCodeDecoderErrorCorrectionLevel=xn,n.QRCodeDecoderFormatInformation=Si,n.QRCodeEncoder=ue,n.QRCodeEncoderQRCode=xr,n.QRCodeMaskUtil=An,n.QRCodeMatrixUtil=A,n.QRCodeMode=Dt,n.QRCodeReader=ya,n.QRCodeVersion=Et,n.QRCodeWriter=Le,n.RGBLuminanceSource=pt,n.RSS14Reader=zn,n.RSSExpandedReader=Ze,n.ReaderException=es,n.ReedSolomonDecoder=ye,n.ReedSolomonEncoder=ts,n.ReedSolomonException=_t,n.Result=se,n.ResultMetadataType=Ie,n.ResultPoint=pe,n.StringUtils=j,n.UnsupportedOperationException=de,n.VideoInputDevice=ke,n.WhiteRectangleDetector=Ve,n.WriterException=pn,n.ZXingArrays=I,n.ZXingCharset=It,n.ZXingInteger=D,n.ZXingStandardCharsets=Ut,n.ZXingStringBuilder=ie,n.ZXingStringEncoding=z,n.ZXingSystem=M,n.createAbstractExpandedDecoder=Wo,Object.defineProperty(n,"__esModule",{value:!0})})})(Hd,Hd.exports);var Qn=Hd.exports;const N6=qd(Qn),C6=Ky({__proto__:null,default:N6},[Qn]);var Em=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,Qn.BarcodeFormat.QR_CODE],[wt.AZTEC,Qn.BarcodeFormat.AZTEC],[wt.CODABAR,Qn.BarcodeFormat.CODABAR],[wt.CODE_39,Qn.BarcodeFormat.CODE_39],[wt.CODE_93,Qn.BarcodeFormat.CODE_93],[wt.CODE_128,Qn.BarcodeFormat.CODE_128],[wt.DATA_MATRIX,Qn.BarcodeFormat.DATA_MATRIX],[wt.MAXICODE,Qn.BarcodeFormat.MAXICODE],[wt.ITF,Qn.BarcodeFormat.ITF],[wt.EAN_13,Qn.BarcodeFormat.EAN_13],[wt.EAN_8,Qn.BarcodeFormat.EAN_8],[wt.PDF_417,Qn.BarcodeFormat.PDF_417],[wt.RSS_14,Qn.BarcodeFormat.RSS_14],[wt.RSS_EXPANDED,Qn.BarcodeFormat.RSS_EXPANDED],[wt.UPC_A,Qn.BarcodeFormat.UPC_A],[wt.UPC_E,Qn.BarcodeFormat.UPC_E],[wt.UPC_EAN_EXTENSION,Qn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!C6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),o=new Map;o.set(Qn.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Qn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(o){s(o)}})},e.prototype.decode=function(t){var n=new Qn.MultiFormatReader(this.verbose,this.hints),r=new Qn.HTMLCanvasElementLuminanceSource(t),s=new Qn.BinaryBitmap(new Qn.HybridBinarizer(r)),o=n.decode(s);return{text:o.text,format:sy.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),E6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{y(r.next(N))}catch(S){f(S)}}function p(N){try{y(r.throw(N))}catch(S){f(S)}}function y(N){N.done?o(N.value):s(N.value).then(d,p)}y((r=r.apply(e,t||[])).next())})},T6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(N){return p([y,N])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(N){y=[6,N],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Tm=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,"qr_code"],[wt.AZTEC,"aztec"],[wt.CODABAR,"codabar"],[wt.CODE_39,"code_39"],[wt.CODE_93,"code_93"],[wt.CODE_128,"code_128"],[wt.DATA_MATRIX,"data_matrix"],[wt.ITF,"itf"],[wt.EAN_13,"ean_13"],[wt.EAN_8,"ean_8"],[wt.PDF_417,"pdf417"],[wt.UPC_A,"upc_a"],[wt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return E6(this,void 0,void 0,function(){var n,r;return T6(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:sy.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,o=t;s<o.length;s++){var f=o[s],d=f.boundingBox.width*f.boundingBox.height;d>r&&(r=d,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),_m=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{y(r.next(N))}catch(S){f(S)}}function p(N){try{y(r.throw(N))}catch(S){f(S)}}function y(N){N.done?o(N.value):s(N.value).then(d,p)}y((r=r.apply(e,t||[])).next())})},Im=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(N){return p([y,N])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(N){y=[6,N],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},_6=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Tm.isSupported()?(this.primaryDecoder=new Tm(t,r,s),this.secondaryDecoder=new Em(t,r,s)):this.primaryDecoder=new Em(t,r,s)}return e.prototype.decodeAsync=function(t){return _m(this,void 0,void 0,function(){var n;return Im(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return _m(this,void 0,void 0,function(){var n,r;return Im(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Q2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$0=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{y(r.next(N))}catch(S){f(S)}}function p(N){try{y(r.throw(N))}catch(S){f(S)}}function y(N){N.done?o(N.value):s(N.value).then(d,p)}y((r=r.apply(e,t||[])).next())})},e1=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(N){return p([y,N])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(N){y=[6,N],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},uy=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),I6=function(e){Q2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(uy),D6=function(e){Q2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(I6),L6=function(e){Q2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(uy),M6=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new D6(this.track)},e.prototype.torchFeature=function(){return new L6(this.track)},e}(),O6=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return $0(this,void 0,void 0,function(){var o,f;return e1(this,function(d){switch(d.label){case 0:return o=new e(t,n,s),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:d.sent(),d.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return $0(this,void 0,void 0,function(){return e1(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),o=s.length,f=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++f,f>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new M6(this.getFirstTrackOrFail())},e}(),R6=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return $0(this,void 0,void 0,function(){return e1(this,function(s){return[2,O6.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return $0(this,void 0,void 0,function(){var n,r;return e1(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),Dm=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{y(r.next(N))}catch(S){f(S)}}function p(N){try{y(r.throw(N))}catch(S){f(S)}}function y(N){N.done?o(N.value):s(N.value).then(d,p)}y((r=r.apply(e,t||[])).next())})},Lm=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(N){return p([y,N])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(N){y=[6,N],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},j6=function(){function e(){}return e.failIfNotSupported=function(){return Dm(this,void 0,void 0,function(){return Lm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Dm(this,void 0,void 0,function(){return Lm(this,function(n){return[2,R6.create(t)]})})},e}(),B6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{y(r.next(N))}catch(S){f(S)}}function p(N){try{y(r.throw(N))}catch(S){f(S)}}function y(N){N.done?o(N.value):s(N.value).then(d,p)}y((r=r.apply(e,t||[])).next())})},k6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(N){return p([y,N])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(N){y=[6,N],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},P6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=yc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=yc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return B6(this,void 0,void 0,function(){var t,n,r,s,o,f,d;return k6(this,function(p){switch(p.label){case 0:return t=function(y){for(var N=y.getVideoTracks(),S=0,E=N;S<E.length;S++){var w=E[S];w.enabled=!1,w.stop(),y.removeTrack(w)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),s=[],o=0,f=r;o<f.length;o++)d=f[o],d.kind==="videoinput"&&s.push({id:d.deviceId,label:d.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var f=[],d=0,p=o;d<p.length;d++){var y=p[d];y.kind==="video"&&f.push({id:y.id,label:y.label})}t(f)},s=MediaStreamTrack;s.getSources(r)})},e}(),hi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(hi||(hi={}));var F6=function(){function e(){this.state=hi.NOT_STARTED,this.onGoingTransactionNewState=hi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===hi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=hi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===hi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=hi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==hi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case hi.UNKNOWN:throw"Transition from unknown is not allowed";case hi.NOT_STARTED:this.failIfNewStateIs(t,[hi.PAUSED]);break;case hi.SCANNING:break;case hi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var o=s[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),U6=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===hi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==hi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===hi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===hi.PAUSED},e}(),z6=function(){function e(){}return e.create=function(){return new U6(new F6)},e}(),H6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ia=function(e){H6(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ya),q6=function(){function e(t,n){this.logger=n,this.fps=ia.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ia.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?cy.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!os(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Mm=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new ly(this.verbose),this.qrcode=new _6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=z6.create()}return e.prototype.start=function(t,n,r,s){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;s?f=s:f=this.verbose?this.logger.log:function(){};var d=q6.create(n,this.logger);this.clearElement();var p=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=p,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:ia.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var S=this,E=this.stateManagerProxy.startTransition(hi.SCANNING);return new Promise(function(w,B){var M=y?d.videoConstraints:S.createVideoConstraints(t);if(!M){E.cancel(),B("videoConstraints should be defined");return}var P={};(!y||d.aspectRatio)&&(P.aspectRatio=d.aspectRatio);var T={onRenderSurfaceReady:function(I,D){S.setupUi(I,D,d),S.isScanning=!0,S.foreverScan(d,r,f)}};j6.failIfNotSupported().then(function(I){I.create(M).then(function(D){return D.render(o.element,P,T).then(function(L){S.renderedCamera=L,E.execute(),w(null)}).catch(function(L){E.cancel(),B(L)})}).catch(function(D){E.cancel(),B(yc.errorGettingUserMedia(D))})}).catch(function(I){E.cancel(),B(yc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(hi.PAUSED),this.showPausedState(),(os(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(hi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(hi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(ia.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(os(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var d=f.width,p=f.height,y=document.getElementById(r.elementId),N=y.clientWidth?y.clientWidth:ia.DEFAULT_WIDTH,S=Math.max(y.clientHeight?y.clientHeight:p,ia.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(d,p,N,S);if(n){var w=r.createCanvasElement(N,S,"qr-canvas-visible");w.style.display="inline-block",y.appendChild(w);var B=w.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=N,B.canvas.height=S,B.drawImage(f,0,0,d,p,E.x,E.y,E.width,E.height)}var M=ia.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(f.width,E.width),T=Math.max(f.height,E.height),I=P+2*M,D=T+2*M,L=r.createCanvasElement(I,D);y.appendChild(L);var F=L.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=I,F.canvas.height=D,F.drawImage(f,0,0,d,p,M,M,P,T);try{r.qrcode.decodeRobustlyAsync(L).then(function(X){s(Nm.createFromQrcodeResult(X))}).catch(o)}catch(X){o("QR code parse error, error = ".concat(X))}},f.onerror=o,f.onabort=o,f.onstalled=o,f.onsuspend=o,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return P6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!cy.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[wt.QR_CODE,wt.AZTEC,wt.CODABAR,wt.CODE_39,wt.CODE_93,wt.CODE_128,wt.DATA_MATRIX,wt.MAXICODE,wt.ITF,wt.EAN_13,wt.EAN_8,wt.PDF_417,wt.RSS_14,wt.RSS_EXPANDED,wt.UPC_A,wt.UPC_E,wt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=t.formatsToSupport;s<o.length;s++){var f=o[s];A6(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(os(t))return!0;if(!os(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(os(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return os(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var f=this.toQrdimensions(t,n,o),d=function(y){if(y<ia.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ia.MIN_QR_BOX_SIZE,"px.")},p=function(y){return y>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};d(f.width),d(f.height),f.width=p(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=os(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&o.height<=n,d={x:0,y:0,width:t,height:n},p=f?this.getShadedRegionBounds(t,n,o):d,y=this.createCanvasElement(p.width,p.height),N={willReadFrequently:!0},S=y.getContext("2d",N);S.canvas.width=p.width,S.canvas.height=p.height,this.element.append(y),f&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=S,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=yc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Nm.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=yc.codeParseError(s);return n(o,oy.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),f=o.videoWidth/o.clientWidth,d=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*f,y=this.qrRegion.height*d,N=this.qrRegion.x*f,S=this.qrRegion.y*d;this.context.drawImage(o,N,S,p,y,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(w){!w&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){E()})):E()}).catch(function(w){s.logger.logError("Error happend while scanning context",w),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={},o="exact",f=function(B){if(B in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(B,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var y=t.facingMode;if(typeof y=="string"){if(f(y))return{facingMode:y}}else if(typeof y=="object")if(o in y){if(f(y["".concat(o)]))return{facingMode:{exact:y["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var N=typeof y;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(o in S)return{deviceId:{exact:S["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var E=typeof S;throw"Invalid type of 'deviceId' = ".concat(E)}}}var w=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(w)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var o=(r-t)/2,f=(s-n)/2;return{x:o,y:f,width:t,height:n}}else{var d=t,p=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ia.BORDER_SHADER_MATCH_COLOR:ia.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,o=n,f=document.createElement("canvas");return f.style.width="".concat(s,"px"),f.style.height="".concat(o,"px"),f.style.display="none",f.id=os(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var f=(n-s.width)/2,d=(r-s.height)/2;if(o.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(ia.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var p=5,y=40;this.insertShaderBorders(o,y,p,-p,null,0,!0),this.insertShaderBorders(o,y,p,-p,null,0,!1),this.insertShaderBorders(o,y,p,null,-p,0,!0),this.insertShaderBorders(o,y,p,null,-p,0,!1),this.insertShaderBorders(o,p,y+p,-p,null,-p,!0),this.insertShaderBorders(o,p,y+p,null,-p,-p,!0),this.insertShaderBorders(o,p,y+p,-p,null,-p,!1),this.insertShaderBorders(o,p,y+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,s,o,f,d){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=ia.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),s!==null&&(p.style.top="".concat(s,"px")),o!==null&&(p.style.bottom="".concat(o,"px")),d?p.style.left="".concat(f,"px"):p.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),K2="data:image/svg+xml;base64,",G6=K2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",V6=K2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Om=K2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Y6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Rm=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),X6=function(){function e(){this.data=Rm.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Rm.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),W6=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Cm.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=Cm.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Z6=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Om,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Y6,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Om,this.infoIcon.style.opacity="0.6")},e}(),Q6=function(){function e(){var t=this;this.infoDiv=new W6,this.infoIcon=new Z6(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),K6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{y(r.next(N))}catch(S){f(S)}}function p(N){try{y(r.throw(N))}catch(S){f(S)}}function y(N){N.done?o(N.value):s(N.value).then(d,p)}y((r=r.apply(e,t||[])).next())})},J6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(N){return p([y,N])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(N){y=[6,N],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},jm=function(){function e(){}return e.hasPermissions=function(){return K6(this,void 0,void 0,function(){var t,n,r,s;return J6(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),go=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Vo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Vo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ya.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ya.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var o=s[r];if(!Ya.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),ca=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Ps=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(ca.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),fy=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function d(N){try{y(r.next(N))}catch(S){f(S)}}function p(N){try{y(r.throw(N))}catch(S){f(S)}}function y(N){N.done?o(N.value):s(N.value).then(d,p)}y((r=r.apply(e,t||[])).next())})},hy=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(N){return p([y,N])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){n.label=y[1];break}if(y[0]===6&&n.label<o[1]){n.label=o[1],o=y;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(y);break}o[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(N){y=[6,N],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Bm=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return fy(this,void 0,void 0,function(){var t,n;return hy(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Tn.torchOffButton():Tn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Tn.torchOnFailedMessage():Tn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),$6=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Ps.createElement("button",ca.TORCH_BUTTON_ID),this.torchController=new Bm(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Tn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return fy(r,void 0,void 0,function(){return hy(this,function(f){switch(f.label){case 0:return[4,s.torchController.flipState()];case 1:return f.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(ca.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(ca.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(ca.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(ca.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Bm(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Tn.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var o=new e(n,s);return o.render(t,r),o},e}(),eA=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Ps.createElement("button",ca.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Ps.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var p=d.target;if(!(p.files&&p.files.length===0)){var y=p.files,N=y[0],S=N.name;o.setImageNameToButton(S),r(N)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var p=d.dataTransfer;if(p){var y=p.files;if(!y||y.length===0)return;for(var N=!1,S=0;S<y.length;++S){var E=y.item(S);if(E){var w=/image.*/;if(E.type.match(w)){N=!0;var B=E.name;o.setImageNameToButton(B),r(E),f.innerText=Tn.dragAndDropMessage();break}}}N||(f.innerText=Tn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Tn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,o=t.substring(s-8,s);t="".concat(r,"....").concat(o)}var f=Tn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=Tn.fileSelectionChooseImage()+" - "+Tn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),tA=function(){function e(t){this.selectElement=Ps.createElement("select",ca.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Tn.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,f=0,d=this.cameras;f<d.length;f++){var p=d[f],y=p.id,N=p.label==null?y:p.label;(!N||N==="")&&(N=[Tn.anonymousCameraPrefix(),o++].join(" "));var S=document.createElement("option");S.value=y,S.innerText=N,this.options.push(S),this.selectElement.appendChild(S)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),nA=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ps.createElement("input",ca.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),ra;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ra||(ra={}));function iA(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function rA(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var aA=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new go(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ly(this.verbose),this.persistedDataManager=new X6,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,f){if(t)t(o,f);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Tn.lastMatch(o),ra.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,f){n&&n(o,f)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Mm(this.getScanRegionId(),rA(this.config,this.verbose))},e.prototype.pause=function(t){(os(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ya.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ya.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ya.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ya.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ya.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ya.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ya.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),go.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new Q6;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Tn.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(t,n)};Mm.getCameras().then(function(f){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),s.renderCameraSelection(f)):(s.setHeaderMessage(Tn.noCameraFound(),ra.STATUS_WARNING),o())}).catch(function(f){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(f,ra.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Ps.createElement("button",this.getCameraPermissionButtonId());s.innerText=Tn.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(go.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){jm.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=go.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=go.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";go.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Tn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,ra.STATUS_WARNING),r.qrCodeErrorCallback(f,oy.createFrom(f))}))};this.fileSelectionUi=eA.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=nA.create(s,!1),f=function(M){var P=M.zoomFeature();if(P.isSupported()){o.setOnCameraZoomValueChangeCallback(function(I){P.apply(I)});var T=1;n.config.defaultZoomValueIfSupported&&(T=n.config.defaultZoomValueIfSupported),T=S6(T,P.min(),P.max()),o.setValues(P.min(),P.max(),T,P.step()),o.show()}},d=tA.create(s,t),p=document.createElement("span"),y=Ps.createElement("button",ca.CAMERA_START_BUTTON_ID);y.innerText=Tn.scanButtonStartScanningText(),p.appendChild(y);var N=Ps.createElement("button",ca.CAMERA_STOP_BUTTON_ID);N.innerText=Tn.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,p.appendChild(N);var S,E=function(M){if(!M.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(M.torchFeature()):S=$6.create(p,M.torchFeature(),{display:"none",marginLeft:"5px"},function(P){r.setHeaderMessage(P,ra.STATUS_WARNING)}),S.show()};s.appendChild(p);var w=function(M){M||(y.style.display="none"),y.innerText=Tn.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,M&&(y.style.display="inline-block")};if(y.addEventListener("click",function(M){y.innerText=Tn.scanButtonScanningStarting(),d.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var P=d.getValue();r.persistedDataManager.setLastUsedCameraId(P),r.html5Qrcode.start(P,iA(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(T){N.disabled=!1,N.style.display="inline-block",w(!1);var I=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(I),n.config.showZoomSliderIfSupported===!0&&f(I)}).catch(function(T){r.showHideScanTypeSwapLink(!0),d.enable(),w(!0),r.setHeaderMessage(T,ra.STATUS_WARNING)})}),d.hasSingleItem()&&y.click(),N.addEventListener("click",function(M){if(!r.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,r.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),y.disabled=!1,N.style.display="none",y.style.display="inline-block",S&&(S.reset(),S.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(P){N.disabled=!1,r.setHeaderMessage(P,ra.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var B=r.persistedDataManager.getLastUsedCameraId();d.hasValue(B)?(d.setValue(B),y.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Tn.textIfCameraScanSelected(),r=Tn.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var f=Ps.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=go.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,go.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=r,t.currentScanType=Vo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=Vo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(f),s.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){jm.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ra.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case ra.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ra.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ra.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=G6,this.cameraScanImage.alt=Tn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=V6,this.fileScanImage.alt=Tn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ca.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ca.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const sA=({onScanSuccess:e})=>(Ge.useEffect(()=>{const t=new aA("reader",{fps:10,qrbox:{width:250,height:250}},!1),n=s=>{t.clear(),e(s)},r=s=>{};return t.render(n,r),()=>{t&&t.getState()!==hi.NOT_STARTED&&t.clear().catch(s=>{console.error("Failed to clear html5-qrcode-scanner.",s)})}},[e]),x.jsx("div",{id:"reader",className:"w-full"})),oA=({onSave:e})=>{const t=Ge.useRef(null),[n,r]=Ge.useState(!1),s=N=>{const S=t.current;if(!S)return{x:0,y:0};const E=S.getBoundingClientRect();return N.nativeEvent instanceof MouseEvent?{x:N.nativeEvent.offsetX,y:N.nativeEvent.offsetY}:N.nativeEvent instanceof TouchEvent?{x:N.nativeEvent.touches[0].clientX-E.left,y:N.nativeEvent.touches[0].clientY-E.top}:{x:0,y:0}},o=N=>{const S=t.current,E=S==null?void 0:S.getContext("2d");if(!E)return;r(!0);const{x:w,y:B}=s(N);E.beginPath(),E.moveTo(w,B)},f=N=>{if(!n)return;const S=t.current,E=S==null?void 0:S.getContext("2d");if(!E)return;const{x:w,y:B}=s(N);E.lineTo(w,B),E.stroke()},d=()=>{r(!1)},p=()=>{const N=t.current,S=N==null?void 0:N.getContext("2d");S&&N&&S.clearRect(0,0,N.width,N.height)},y=()=>{const N=t.current;N&&e(N.toDataURL("image/png"))};return Ge.useEffect(()=>{const N=t.current,S=N==null?void 0:N.getContext("2d");S&&(S.strokeStyle="#000",S.lineWidth=2)},[]),x.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[x.jsx("canvas",{ref:t,width:"400",height:"200",className:"bg-slate-100 border-2 border-dashed border-slate-300 rounded-lg cursor-crosshair",onMouseDown:o,onMouseMove:f,onMouseUp:d,onMouseLeave:d,onTouchStart:o,onTouchMove:f,onTouchEnd:d}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:p,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 transition font-semibold",children:"Clear"}),x.jsx("button",{onClick:y,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition font-semibold",children:"Save Signature"})]})]})},Wa=({isOpen:e,onClose:t,title:n,children:r,size:s="2xl"})=>e?x.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-60 z-50 flex justify-center items-center p-4",children:x.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full max-w-${s} max-h-[90vh] flex flex-col`,children:[x.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200",children:[x.jsx("h3",{className:"text-xl font-bold text-slate-800",children:n}),x.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition",children:x.jsx(G2,{className:"w-7 h-7"})})]}),x.jsx("div",{className:"p-6 overflow-y-auto",children:r})]})}):null,lA=()=>{const{currentUser:e,shipments:t,updateShipmentStatus:n,addToast:r}=di(),[s,o]=Ge.useState(null),[f,d]=Ge.useState(!1),[p,y]=Ge.useState(!1),[N,S]=Ge.useState(null),E=Ge.useRef({});if(!e)return null;const w=t.filter(F=>F.courierId===e.id&&[st.IN_TRANSIT,st.OUT_FOR_DELIVERY].includes(F.status)),B=t.filter(F=>F.courierId===e.id&&F.status===st.RETURN_IN_PROGRESS),M=(F,X)=>{n(F,X)},P=F=>{o(F),d(!0)},T=F=>{s&&n(s.id,st.DELIVERED,{signature:F}),d(!1),o(null)},I=Ge.useCallback(F=>{if(y(!1),[...w,...B].find(H=>H.id===F)){r(`Scanned: ${F}. Task is ready.`,"success");const H=E.current[F];H&&(H.scrollIntoView({behavior:"smooth",block:"center"}),S(F),setTimeout(()=>S(null),3e3))}else r(`Scanned code ${F} not found in your current tasks.`,"error")},[w,B,r]),D={[st.ASSIGNED_TO_COURIER]:null,[st.PICKED_UP]:null,[st.IN_TRANSIT]:{label:"Mark Out for Delivery",nextStatus:st.OUT_FOR_DELIVERY},[st.OUT_FOR_DELIVERY]:null,[st.PENDING_ASSIGNMENT]:null,[st.DELIVERED]:null,[st.DELIVERY_FAILED]:null,[st.RETURN_REQUESTED]:null,[st.RETURN_IN_PROGRESS]:null,[st.RETURNED]:null},L=({task:F,isReturn:X=!1})=>x.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 ${X?"border-l-4 border-orange-500":""}`,children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-mono text-sm text-slate-500 flex items-center gap-2",children:[X&&x.jsx(nf,{className:"w-4 h-4 text-orange-600"})," ",F.id]}),x.jsx("p",{className:"text-lg font-bold text-slate-800",children:X?`Return from: ${F.recipientName}`:`Deliver to: ${F.recipientName}`}),x.jsxs("p",{className:"text-slate-600",children:[F.toAddress.street,", ",F.toAddress.zone]}),x.jsxs("p",{className:"text-sm font-semibold text-slate-700 mt-1",children:["Payment: ",F.paymentMethod," (",F.price," EGP)"]})]}),x.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3 w-full md:w-auto",children:[x.jsx("div",{className:"flex-grow",children:x.jsx(N1,{status:F.status})}),X?x.jsx("button",{onClick:()=>M(F.id,st.RETURNED),className:"px-4 py-2 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 transition w-full md:w-auto",children:"Confirm Return Pickup"}):x.jsxs(x.Fragment,{children:[D[F.status]&&x.jsx("button",{onClick:()=>M(F.id,D[F.status].nextStatus),className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition w-full md:w-auto",children:D[F.status].label}),F.status===st.OUT_FOR_DELIVERY&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>P(F),className:"px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition w-full md:w-auto",children:"Mark as Delivered"}),x.jsx("button",{onClick:()=>M(F.id,st.DELIVERY_FAILED),className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition w-full md:w-auto",children:"Delivery Failed"})]})]})]})]});return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Delivery Tasks"}),x.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[x.jsx(cw,{className:"w-5 h-5"}),"Scan Package"]})]}),x.jsxs("div",{className:"space-y-4",children:[w.length===0&&x.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active delivery tasks."}),w.map(F=>x.jsx("div",{ref:X=>{E.current[F.id]=X},className:`rounded-xl transition-all duration-500 ${N===F.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:x.jsx(L,{task:F})},F.id))]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Return Tasks"}),x.jsxs("div",{className:"space-y-4 mt-4",children:[B.length===0&&x.jsx("p",{className:"text-slate-500 bg-white p-4 rounded-lg",children:"You have no active return tasks."}),B.map(F=>x.jsx("div",{ref:X=>{E.current[F.id]=X},className:`rounded-xl transition-all duration-500 ${N===F.id?"ring-4 ring-primary-400 ring-offset-2":""}`,children:x.jsx(L,{task:F,isReturn:!0})},F.id))]})]}),x.jsx(Wa,{isOpen:f,onClose:()=>d(!1),title:"Capture Signature for Proof of Delivery",children:s&&x.jsx(oA,{onSave:T})}),x.jsx(Wa,{isOpen:p,onClose:()=>y(!1),title:"Scan Package Barcode",children:x.jsx("div",{className:"w-full h-96 flex justify-center items-center",children:p&&x.jsx(sA,{onScanSuccess:I})})})]})},cA=()=>{const{users:e,addUser:t,updateUser:n,removeUser:r,resetPassword:s,currentUser:o,canCreateUsers:f,updateClientTaxCard:d,getTaxCardNumber:p,addToast:y}=di(),[N,S]=Ge.useState(null),[E,w]=Ge.useState(null),[B,M]=Ge.useState({}),[P,T]=Ge.useState("");if(!o||!f(o))return x.jsx("div",{className:"flex items-center justify-center h-96",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),x.jsx("p",{className:"text-slate-600",children:"Only administrators and super users can manage users."})]})});const D=(j=>{if(o.role===ot.ADMIN)return Object.values(ot);if(o.role===ot.SUPER_USER){const ie=Object.values(ot).filter(re=>re!==ot.ADMIN);return j&&j.role===ot.ADMIN?[ot.ADMIN]:ie}return[]})(N==="edit"&&E||void 0),L=(j,ie)=>{if(j==="taxCard"&&(o==null?void 0:o.role)!==ot.ADMIN&&(o==null?void 0:o.role)!==ot.SUPER_USER){y("Only administrators and super users can manage tax card numbers","error");return}if((j==="edit"||j==="delete")&&(ie==null?void 0:ie.role)===ot.ADMIN&&(o==null?void 0:o.role)===ot.SUPER_USER){y("Super users cannot modify administrator accounts","error");return}S(j),w(ie||null),M(ie?{...ie}:{role:ot.CLIENT,zone:kn.CAIRO_ZONE_A,flatRateFee:75}),j==="taxCard"&&ie&&T(p(ie.id)||"")},F=()=>{S(null),w(null),M({})},X=j=>{const{name:ie,value:re}=j.target;M(ae=>({...ae,[ie]:re}))},k=j=>{if(j.preventDefault(),N==="add")t(B);else if(N==="edit"&&E)n(E.id,B);else if(N==="reset"&&E&&B.password)s(E.id,B.password);else if(N==="taxCard"&&E){H();return}F()},H=()=>{if(!E)return;if((o==null?void 0:o.role)!==ot.ADMIN&&(o==null?void 0:o.role)!==ot.SUPER_USER){y("Only administrators and super users can manage tax card numbers","error"),F();return}if(P&&!/^\d{3}-\d{3}-\d{3}$/.test(P)){y("Tax card number must be in format XXX-XXX-XXX","error");return}d(E.id,P),y(`Tax card number updated for ${E.name}`,"success"),F()},W=()=>{E&&r(E.id),F()},de=()=>{const j=["ID","Name","Email","Role","Zone","Wallet Balance (EGP)"],ie=e.map(re=>[re.id,re.name,re.email,re.role,re.zone||"N/A",re.walletBalance!=null?re.walletBalance.toFixed(2):"N/A"]);jl(j,ie,"User_List_Export")},z=()=>N==="delete"&&E?x.jsxs("div",{children:[x.jsxs("p",{children:["Are you sure you want to delete the user ",x.jsx("strong",{children:E.name}),"? This action cannot be undone."]}),x.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[x.jsx("button",{onClick:F,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),x.jsx("button",{onClick:W,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold",children:"Delete User"})]})]}):N==="taxCard"&&E?x.jsxs("form",{onSubmit:k,className:"space-y-4",children:[x.jsxs("p",{children:["Setting tax card number for client ",x.jsx("strong",{children:E.name}),"."]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tax Card Number (XXX-XXX-XXX format)"}),x.jsx("input",{type:"text",value:P,onChange:j=>T(j.target.value),placeholder:"123-456-789",pattern:"\\d{3}-\\d{3}-\\d{3}",className:"w-full px-4 py-2 border border-slate-300 rounded-lg font-mono"}),x.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Leave empty to remove the tax card number. Only administrators and super users can modify this value."})]}),x.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[x.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold",children:"Update Tax Card"})]})]}):N==="reset"&&E?x.jsxs("form",{onSubmit:k,className:"space-y-4",children:[x.jsxs("p",{children:["Resetting password for ",x.jsx("strong",{children:E.name}),"."]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),x.jsx("input",{type:"password",name:"password",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),x.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[x.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:"Reset Password"})]})]}):N==="add"||N==="edit"?x.jsxs("form",{onSubmit:k,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),x.jsx("input",{type:"text",name:"name",value:B.name||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),x.jsx("input",{type:"email",name:"email",value:B.email||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),N==="add"&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),x.jsx("input",{type:"password",name:"password",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),x.jsx("select",{name:"role",value:B.role||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",disabled:N==="edit"&&(E==null?void 0:E.role)===ot.ADMIN&&(o==null?void 0:o.role)===ot.SUPER_USER,children:D.map(j=>x.jsx("option",{value:j,children:j},j))}),N==="edit"&&(E==null?void 0:E.role)===ot.ADMIN&&(o==null?void 0:o.role)===ot.SUPER_USER&&x.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Super users cannot change admin roles."})]}),B.role===ot.COURIER&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),x.jsx("select",{name:"zone",value:B.zone||"",onChange:X,className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:Object.values(kn).map(j=>x.jsx("option",{value:j,children:j},j))})]}),B.role===ot.CLIENT&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Flat Rate Fee (EGP)"}),x.jsx("input",{type:"number",step:"0.01",min:"0",name:"flatRateFee",value:B.flatRateFee??"",onChange:j=>M(ie=>({...ie,flatRateFee:parseFloat(j.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]})]}),x.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[x.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:N==="add"?"Create User":"Save Changes"})]})]}):null;return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[x.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),x.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Add, edit, or remove users from the platform."})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{onClick:de,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[x.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]}),x.jsxs("button",{onClick:()=>L("add"),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[x.jsx(q2,{className:"w-5 h-5"}),"Add User"]})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Zone"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tax Card"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(j=>x.jsxs("tr",{className:j.role===ot.ADMIN&&(o==null?void 0:o.role)===ot.SUPER_USER?"bg-slate-50":"",children:[x.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800",children:[j.name,j.role===ot.ADMIN&&(o==null?void 0:o.role)===ot.SUPER_USER&&x.jsx("span",{className:"ml-2 text-xs text-slate-500",children:"(Protected)"})]}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:j.email}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:j.role}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:j.zone||"N/A"}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:j.role===ot.CLIENT?x.jsx("span",{className:"font-mono text-sm",children:p(j.id)||x.jsx("span",{className:"text-slate-400",children:"Not Set"})}):x.jsx("span",{className:"text-slate-400",children:"N/A"})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-1",children:[!(j.role===ot.ADMIN&&(o==null?void 0:o.role)===ot.SUPER_USER)&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>L("edit",j),title:"Edit",className:"p-2 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md",children:x.jsx(b1,{})}),x.jsx("button",{onClick:()=>L("reset",j),title:"Reset Password",className:"p-2 text-slate-500 hover:text-orange-600 hover:bg-slate-100 rounded-md",children:x.jsx(B3,{})})]}),j.role===ot.CLIENT&&((o==null?void 0:o.role)===ot.ADMIN||(o==null?void 0:o.role)===ot.SUPER_USER)&&x.jsx("button",{onClick:()=>L("taxCard",j),title:"Set Tax Card",className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600",children:"Tax Card"}),!(j.role===ot.ADMIN&&(o==null?void 0:o.role)===ot.SUPER_USER)&&x.jsx("button",{onClick:()=>L("delete",j),title:"Delete",className:"p-2 text-slate-500 hover:text-red-600 hover:bg-slate-100 rounded-md",children:x.jsx(sw,{})})]})})]},j.id))})]})}),x.jsx(Wa,{isOpen:!!N,onClose:F,title:N==="add"?"Add New User":N==="edit"?"Edit User":N==="reset"?"Reset Password":N==="taxCard"?"Set Tax Card Number":"Confirm Deletion",children:z()})]})},uA=()=>{const{shipments:e,users:t,assignReturn:n,canCourierReceiveAssignment:r}=di(),s=e.filter(d=>d.status===st.RETURN_REQUESTED),o=t.filter(d=>d.role===ot.COURIER),f=(d,p)=>{p&&n(d,parseInt(p))};return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsxs("div",{className:"p-5 border-b border-slate-200",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Manage Return Requests"}),x.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Assign couriers to pick up returned items from customers."})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pickup Zone"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assign To"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.map(d=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 font-mono text-slate-600",children:d.id}),x.jsx("td",{className:"px-6 py-4 text-slate-800",children:d.clientName}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-700 rounded text-sm font-medium",children:d.toAddress.zone})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("select",{onChange:p=>f(d.id,p.target.value),defaultValue:"",className:"w-full max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"",disabled:!0,children:"Select an available courier..."}),o.filter(p=>p.zone===d.toAddress.zone&&r(p.id)).map(p=>x.jsxs("option",{value:p.id,children:[p.name," (",p.zone,")"]},p.id))]})})]},d.id)),s.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No pending return requests."})})]})]})})]})},fA=()=>{const{currentUser:e,clientTransactions:t}=di();if(!e)return null;const n=t.filter(r=>r.userId===e.id);return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Wallet"}),x.jsx("p",{className:"text-slate-500 mt-1",children:"Your wallet is credited with the value of your delivered packages. You can use this balance to pay for future shipping fees."})]}),x.jsx("div",{className:"max-w-md",children:x.jsx(zi,{title:"Current Balance",value:`${(e.walletBalance??0).toFixed(2)} EGP`,icon:x.jsx(Pc,{className:"w-7 h-7"}),color:"#22c55e"})}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-5 border-b border-slate-200",children:x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Transaction History"})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Description"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Amount"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[n.sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()).map(r=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(r.date).toLocaleString()}),x.jsx("td",{className:"px-6 py-4 text-slate-800",children:r.description}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.type===xl.DEPOSIT?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.type})}),x.jsxs("td",{className:`px-6 py-4 font-semibold text-right ${r.type===xl.DEPOSIT?"text-green-600":"text-red-600"}`,children:[r.amount.toFixed(2)," EGP"]})]},r.id)),n.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No transactions yet."})})]})]})})]})]})},hA=()=>{const{currentUser:e,shipments:t,getTaxCardNumber:n}=di(),r=t.filter(M=>M.status===st.DELIVERED&&M.deliveryDate),s=(e==null?void 0:e.role)===ot.CLIENT?r.filter(M=>M.clientId===e.id):r,o=s.reduce((M,P)=>M+P.price,0),f=s.length,d=s.reduce((M,P)=>M+P.packageValue,0),p=s.filter(M=>M.paymentMethod===fr.COD).reduce((M,P)=>M+P.price,0),y=(e==null?void 0:e.role)===ot.CLIENT&&e.id?n(e.id):"",N={},S=new Date;for(let M=29;M>=0;M--){const P=new Date(S);P.setDate(S.getDate()-M);const T=P.toISOString().split("T")[0];N[T]=0}s.forEach(M=>{if(M.deliveryDate){const P=M.deliveryDate.split("T")[0];N.hasOwnProperty(P)&&(N[P]+=M.price)}});const E=Object.entries(N).map(([M,P])=>({date:new Date(M).getDate().toString(),revenue:P})),w=Math.max(...E.map(M=>M.revenue),1),B=()=>{const M=["Shipment ID","Delivery Date","Client","Payment Method","Revenue (EGP)"],P=s.sort((T,I)=>new Date(I.deliveryDate).getTime()-new Date(T.deliveryDate).getTime()).map(T=>[T.id,new Date(T.deliveryDate).toLocaleDateString(),T.clientName,T.paymentMethod,T.price.toFixed(2)]);jl(M,P,"Financial_Report")};return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Financial Reports"}),x.jsx("p",{className:"text-slate-500 mt-1",children:(e==null?void 0:e.role)===ot.CLIENT?"Your order history and financial summary.":"An overview of the company's financial performance."})]}),x.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[x.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]})]}),(e==null?void 0:e.role)===ot.CLIENT&&y&&x.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-xl",children:[x.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Tax Information"}),x.jsxs("p",{className:"text-blue-800",children:["Tax Card Number: ",x.jsx("span",{className:"font-mono font-bold",children:y})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsx(zi,{title:"Total Revenue",value:`${o.toFixed(2)} EGP`,icon:x.jsx(ju,{className:"w-7 h-7"}),color:"#16a34a"}),x.jsx(zi,{title:"Shipments Delivered",value:f,icon:x.jsx(v1,{className:"w-7 h-7"}),color:"#3b82f6"}),x.jsx(zi,{title:"COD to Collect",value:`${p.toFixed(2)} EGP`,icon:x.jsx(Pc,{className:"w-7 h-7"}),color:"#f97316"}),x.jsx(zi,{title:"Net Profit",value:`${d.toFixed(2)} EGP`,icon:x.jsx(b0,{className:"w-7 h-7"}),color:"#8b5cf6"})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Daily Revenue (Last 30 Days)"}),x.jsx("div",{className:"h-64 flex items-end gap-2 border-l border-b border-slate-200 pl-4 pb-4",children:E.map(({date:M,revenue:P})=>x.jsxs("div",{className:"flex-1 h-full flex flex-col justify-end items-center group",children:[x.jsx("div",{className:"w-full bg-primary-400 hover:bg-primary-500 transition-colors rounded-t-md",style:{height:`${P/w*100}%`},title:`Day ${M}: ${P.toFixed(2)} EGP`}),x.jsx("span",{className:"text-xs text-slate-500 mt-1",children:M})]},M))})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-5",children:x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Delivery Date"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payment Method"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Revenue"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.sort((M,P)=>new Date(P.deliveryDate).getTime()-new Date(M.deliveryDate).getTime()).map(M=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:M.id}),x.jsx("td",{className:"px-6 py-4 text-slate-800",children:new Date(M.deliveryDate).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:M.clientName}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:M.paymentMethod}),x.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800 text-right",children:[M.price.toFixed(2)," EGP"]})]},M.id)),s.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500",children:"No delivered shipments yet."})})]})]})})]})]})},dA=()=>{const{currentUser:e,getAdminFinancials:t,getClientFinancials:n,canAccessAdminFinancials:r,updateClientFlatRate:s}=di(),[o,f]=Ge.useState(!1),[d,p]=Ge.useState(null),[y,N]=Ge.useState(0);if(!e||!r(e))return x.jsx("div",{className:"flex items-center justify-center h-96",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),x.jsx("p",{className:"text-slate-600",children:"Only administrators can access financial data."})]})});const S=t(),E=n(),w=(T,I)=>{p(T),N(I),f(!0)},B=T=>{T.preventDefault(),d!==null&&y>=0&&(s(d,y),f(!1))},M=()=>{const T=["Metric","Value"],I=[["Gross Revenue (Shipment Prices)",`${S.grossRevenue.toFixed(2)} EGP`],["Total Client Fees (Company Income)",`${S.totalClientFees.toFixed(2)} EGP`],["Total Courier Payouts (Company Cost)",`${S.totalCourierPayouts.toFixed(2)} EGP`],["Net Revenue (Income - Cost)",`${S.netRevenue.toFixed(2)} EGP`],["Total Orders",S.totalOrders.toString()]];jl(T,I,"Admin_Financial_Report")},P=()=>{const T=["Client Name","Total Orders","Order Sum (EGP)","Flat Rate Fee (EGP)"],I=E.map(D=>[D.clientName,D.totalOrders.toString(),D.orderSum.toFixed(2),D.flatRateFee.toFixed(2)]);jl(T,I,"Client_Financial_Summary")};return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Admin Financial Dashboard"}),x.jsx("p",{className:"text-slate-500 mt-1",children:"Complete financial overview for administrators only."})]}),x.jsx("div",{className:"flex gap-2",children:x.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[x.jsx(Fc,{className:"w-5 h-5"}),"Export Report"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsx(zi,{title:"Total Client Fees",value:`${S.totalClientFees.toFixed(2)} EGP`,icon:x.jsx(El,{className:"w-7 h-7"}),color:"#16a34a"}),x.jsx(zi,{title:"Total Courier Payouts",value:`${S.totalCourierPayouts.toFixed(2)} EGP`,icon:x.jsx(Po,{className:"w-7 h-7"}),color:"#f97316"}),x.jsx(zi,{title:"Net Revenue",value:`${S.netRevenue.toFixed(2)} EGP`,icon:x.jsx(Pc,{className:"w-7 h-7"}),color:"#3b82f6"}),x.jsx(zi,{title:"Delivered Orders",value:S.totalOrders,icon:x.jsx(v1,{className:"w-7 h-7"}),color:"#8b5cf6"})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Client Financial Summary"}),x.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Revenue breakdown by client with adjustable flat rates."})]}),x.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[x.jsx(Fc,{className:"w-5 h-5"}),"Export CSV"]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total Orders"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Order Sum"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Flat Rate Fee"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[E.map(T=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 font-semibold text-slate-800",children:T.clientName}),x.jsx("td",{className:"px-6 py-4 text-slate-600",children:T.totalOrders}),x.jsxs("td",{className:"px-6 py-4 text-slate-600",children:[T.orderSum.toFixed(2)," EGP"]}),x.jsxs("td",{className:"px-6 py-4 font-semibold text-orange-600",children:[T.flatRateFee.toFixed(2)," EGP"]}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("button",{onClick:()=>w(T.clientId,T.flatRateFee),className:"p-2 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md",title:"Edit Flat Rate",children:x.jsx(b1,{className:"w-4 h-4"})})})]},T.clientId)),E.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500",children:"No client financial data available."})})]})]})})]}),x.jsx(Wa,{isOpen:o,onClose:()=>f(!1),title:"Update Client Flat Rate",children:x.jsxs("form",{onSubmit:B,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Flat Rate Fee (EGP)"}),x.jsx("input",{type:"number",step:"0.01",min:"0",value:y,onChange:T=>N(parseFloat(T.target.value)||0),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",required:!0}),x.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"This fee is charged per package but not visible to the client."})]}),x.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold",children:"Update Rate"})]})]})})]})},gA=()=>{const{notifications:e,notificationStatus:t,resendNotification:n}=di(),r={sending:{text:"Sending...",color:"bg-yellow-100 text-yellow-800"},sent:{text:"Sent",color:"bg-green-100 text-green-800"},failed:{text:"Failed",color:"bg-red-100 text-red-800"}};return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[x.jsxs("div",{className:"p-5 border-b border-slate-200",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Notifications Log"}),x.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"A log of all automated email notifications and their delivery status."})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Recipient"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Subject"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Shipment ID"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.sort((s,o)=>new Date(o.date).getTime()-new Date(s.date).getTime()).map(s=>{const o=t[s.id]||(s.sent?"sent":"failed");return x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:new Date(s.date).toLocaleString()}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r[o].color}`,children:r[o].text})}),x.jsx("td",{className:"px-6 py-4 text-sm",children:s.recipient}),x.jsx("td",{className:"px-6 py-4 text-sm",children:s.message.split(`

`)[0]}),x.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:s.shipmentId}),x.jsx("td",{className:"px-6 py-4",children:o==="failed"&&x.jsxs("button",{onClick:()=>n(s.id),className:"flex items-center gap-2 px-3 py-1 bg-primary-500 text-white text-xs font-semibold rounded-lg hover:bg-primary-600 transition",children:[x.jsx(nf,{className:"w-4 h-4 transform -scale-x-100"}),"Resend"]})})]},s.id)}),e.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"No notifications have been generated yet."})})]})]})})]})},pA=()=>{var y,N,S;const{currentUser:e,updateUser:t}=di(),[n,r]=Ge.useState(!1),[s,o]=Ge.useState({});if(Ge.useEffect(()=>{e&&o({name:e.name,phone:e.phone||"",address:e.address||{street:"",city:"Cairo",zone:kn.CAIRO_ZONE_A,details:""}})},[e]),!e)return null;const f=E=>{o(w=>({...w,address:E}))},d=()=>{t(e.id,s),r(!1)},p=Object.values(kn).filter(E=>{var w;return E.toLowerCase().startsWith(((w=s.address)==null?void 0:w.city.toLowerCase())||"")});return x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Profile"}),x.jsx("p",{className:"text-slate-500 mt-1",children:"View and edit your personal information and default address."})]}),n?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Cancel"}),x.jsx("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Save Changes"})]}):x.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[x.jsx(b1,{className:"w-5 h-5"}),"Edit Profile"]})]}),x.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm space-y-8",children:[x.jsxs("div",{className:"border-b border-slate-200 pb-8",children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Personal Information"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),n?x.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:E=>o(w=>({...w,name:E.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):x.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.name})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),x.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),n?x.jsx("input",{type:"tel",name:"phone",value:s.phone||"",onChange:E=>o(w=>({...w,phone:E.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}):x.jsx("p",{className:"text-lg text-slate-800 p-2",children:e.phone||"Not set"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),x.jsx("p",{className:"text-lg text-slate-500 p-2 bg-slate-50 rounded-lg",children:e.role})]})]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Default Pickup Address"}),n?x.jsxs("div",{className:"space-y-4",children:[x.jsx(ay,{label:"Street Address",value:s.address,onChange:f}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),x.jsxs("select",{name:"address.city",value:((y=s.address)==null?void 0:y.city)||"Cairo",onChange:E=>f({...s.address,city:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-100",disabled:!0,children:[x.jsx("option",{value:"Cairo",children:"Cairo"}),x.jsx("option",{value:"Giza",children:"Giza"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Zone"}),x.jsx("select",{name:"address.zone",value:((N=s.address)==null?void 0:N.zone)||"",onChange:E=>f({...s.address,zone:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",children:p.map(E=>x.jsx("option",{value:E,children:E},E))})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Apartment, Suite, etc."}),x.jsx("input",{type:"text",name:"address.details",value:((S=s.address)==null?void 0:S.details)||"",onChange:E=>f({...s.address,details:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]})]}):e.address?x.jsxs("div",{className:"text-lg text-slate-800 p-4 bg-slate-50 rounded-lg",children:[x.jsx("p",{className:"font-semibold",children:e.address.street}),x.jsx("p",{children:e.address.details}),x.jsxs("p",{children:[e.address.city,", ",e.address.zone]})]}):x.jsx("p",{className:"text-slate-500",children:"Please set your default address."})]})]})]})},mA=()=>{const{users:e}=di(),t=Ge.useRef(null),[n,r]=Ge.useState(!1),s=e.filter(o=>o.role===ot.COURIER&&o.location);return Ge.useEffect(()=>{const o=()=>{window.google&&window.google.maps?r(!0):setTimeout(o,100)};o()},[]),Ge.useEffect(()=>{if(!n||!t.current)return;const o=new window.google.maps.Map(t.current,{center:{lat:30.0444,lng:31.2357},zoom:11,mapTypeControl:!1,streetViewControl:!1}),f=new window.google.maps.InfoWindow;s.forEach(d=>{if(!d.location)return;const p=new window.google.maps.Marker({position:d.location,map:o,title:d.name,animation:window.google.maps.Animation.DROP});p.addListener("click",()=>{f.setContent(`
                    <div class="font-sans">
                        <div class="font-bold text-md">${d.name}</div>
                        <div class="text-sm text-slate-600">Zone: ${d.zone}</div>
                    </div>
                `),f.open(o,p)})})},[n,s]),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm h-full w-full flex flex-col overflow-hidden",children:[x.jsxs("div",{className:"p-5 border-b border-slate-200",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Live Courier Tracking"}),x.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Real-time locations of all active couriers."})]}),x.jsx("div",{className:"flex-1 bg-slate-200",children:n?x.jsx("div",{ref:t,className:"w-full h-full"}):x.jsxs("div",{className:"w-full h-full flex items-center justify-center flex-col gap-4",children:[x.jsx("p",{className:"text-slate-600 font-semibold",children:"Loading Map..."}),x.jsx("p",{className:"text-xs text-slate-500 max-w-sm text-center",children:`If the map doesn't load, please ensure the Google Maps API key is set correctly in your environment and has the "Maps JavaScript API" enabled.`})]})})]})},xA=({onSelectShipment:e})=>{const{users:t,shipments:n}=di(),[r,s]=Ge.useState("asc"),[o,f]=Ge.useState(null),[d,p]=Ge.useState(""),[y,N]=Ge.useState(""),[S,E]=Ge.useState("all"),w=Ge.useMemo(()=>t.filter(X=>X.role===ot.CLIENT).map(X=>({id:X.id,name:X.name,shipmentCount:n.filter(k=>k.clientId===X.id).length,flatRateFee:X.flatRateFee||0})).sort((X,k)=>r==="asc"?X.shipmentCount-k.shipmentCount:k.shipmentCount-X.shipmentCount),[t,n,r]),B=Ge.useMemo(()=>{if(!o)return[];let L=n.filter(F=>F.clientId===o.id);return d&&(L=L.filter(F=>F.creationDate.startsWith(d))),y.trim()!==""&&(L=L.filter(F=>F.id.toLowerCase().includes(y.trim().toLowerCase()))),S!=="all"&&(L=L.filter(F=>F.status===S)),L.sort((F,X)=>new Date(X.creationDate).getTime()-new Date(F.creationDate).getTime())},[o,n,d,y,S]),M=()=>{f(null),N(""),E("all"),p("")},P=L=>{e(L),M()},T=L=>{const F=t.find(X=>X.id===L.id);F&&f(F)},I=()=>{s(L=>L==="asc"?"desc":"asc")},D=()=>{const L=["Client Name","Number of Shipments","Flat Rate Fee (EGP)"],F=w.map(X=>[X.name,X.shipmentCount,X.flatRateFee.toFixed(2)]);jl(L,F,"Client_Shipment_Analytics")};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[x.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Client Shipment Analytics"}),x.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"A summary of shipment volumes per client."})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:[x.jsx(Fc,{className:"w-5 h-5"}),"Export as CSV"]}),x.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition","aria-label":`Sort by ${r==="asc"?"highest first":"lowest first"}`,children:[x.jsx(ow,{className:`w-5 h-5 transition-transform duration-300 ${r==="desc"?"rotate-180":""}`}),x.jsxs("span",{children:["Sort by ",r==="asc"?"Highest":"Lowest"]})]})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client Name"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Number of Shipments"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider text-right",children:"Flat Rate Fee (EGP)"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[w.map(L=>x.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>T(L),children:[x.jsxs("td",{className:"px-6 py-4 font-semibold text-slate-800 flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-bold text-sm flex-shrink-0",children:L.name.charAt(0)}),L.name]}),x.jsx("td",{className:"px-6 py-4 font-semibold text-slate-800 text-right font-mono text-lg",children:L.shipmentCount}),x.jsx("td",{className:"px-6 py-4 font-semibold text-orange-600 text-right font-mono text-lg",children:L.flatRateFee.toFixed(2)})]},L.id)),w.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:3,className:"text-center py-8 text-slate-500",children:"No client data available."})})]})]})})]}),o&&x.jsx(Wa,{isOpen:!!o,onClose:M,title:`Client Details: ${o.name}`,size:"4xl",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Contact Information"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(V2,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Name"}),x.jsx("p",{className:"font-semibold text-slate-800",children:o.name})]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(k3,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Email"}),x.jsx("p",{className:"font-semibold text-slate-800",children:o.email})]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(j3,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Phone"}),x.jsx("p",{className:"font-semibold text-slate-800",children:o.phone||"N/A"})]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(Ru,{className:"w-6 h-6 text-slate-500 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Address"}),o.address?x.jsx("p",{className:"font-semibold text-slate-800",children:`${o.address.street}, ${o.address.city}`}):x.jsx("p",{className:"font-semibold text-slate-800",children:"N/A"})]})]})]})]}),x.jsxs("div",{children:[x.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:["Shipment History (",B.length,")"]}),x.jsxs("div",{className:"mb-4 bg-slate-100 p-3 rounded-lg flex flex-col sm:flex-row gap-3 items-center",children:[x.jsx("input",{type:"text",placeholder:"Search by Shipment ID...",value:y,onChange:L=>N(L.target.value),className:"w-full sm:w-auto flex-grow px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 text-sm"}),x.jsxs("select",{value:S,onChange:L=>E(L.target.value),className:"w-full sm:w-auto px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white text-sm",children:[x.jsx("option",{value:"all",children:"All Statuses"}),Object.values(st).map(L=>x.jsx("option",{value:L,children:L},L))]}),x.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsx("input",{type:"date",value:d,onChange:L=>p(L.target.value),className:"w-full sm:w-auto px-3 py-1.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white text-sm","aria-label":"Filter by date"}),d&&x.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 text-sm font-semibold text-slate-600 rounded-lg hover:bg-slate-200 transition","aria-label":"Clear date filter",children:"Clear"})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200",children:x.jsx("div",{className:"max-h-96 overflow-y-auto",children:x.jsx(Z2,{shipments:B,onSelect:P})})})]})]})})]})},yA=({courierStats:e})=>{const t=e.deliveriesCompleted+e.deliveriesFailed>0?e.deliveriesCompleted/(e.deliveriesCompleted+e.deliveriesFailed)*100:100,n=e.deliveriesCompleted>0?e.totalEarnings/e.deliveriesCompleted:0;return x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-slate-500",children:"Total Earnings"}),x.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.totalEarnings.toFixed(2)," EGP"]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-slate-500",children:"Current Balance"}),x.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[e.currentBalance.toFixed(2)," EGP"]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-slate-500",children:"Pending Earnings"}),x.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.pendingEarnings.toFixed(2)," EGP"]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-slate-500",children:"Avg. Per Delivery"}),x.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[n.toFixed(2)," EGP"]})]})]}),x.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Performance:"}),x.jsxs("div",{className:"flex items-center",title:`Rating: ${e.performanceRating}`,children:[[...Array(5)].map((r,s)=>x.jsx("span",{className:`text-xl ${s<Math.floor(e.performanceRating)?"text-yellow-400":"text-gray-300"}`,children:"⭐"},s)),x.jsxs("span",{className:"ml-1 text-sm font-medium",children:["(",e.performanceRating,"/5.0)"]})]})]}),x.jsxs("div",{className:"text-sm text-gray-600",children:["Success Rate: ",x.jsxs("span",{className:"font-bold",children:[t.toFixed(1),"%"]})]}),e.isRestricted&&x.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"🚫 Restricted"})]})]})},vA=({transactions:e})=>{const t={[Gr.PENDING]:"bg-yellow-100 text-yellow-800",[Gr.PROCESSED]:"bg-green-100 text-green-800",[Gr.FAILED]:"bg-red-100 text-red-800"};return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-5 border-b border-slate-200",children:x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Transaction History"})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Description"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase",children:"Type"}),x.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase text-right",children:"Amount (EGP)"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(n=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 whitespace-nowrap",children:new Date(n.timestamp).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-4 text-sm text-slate-800",children:n.description}),x.jsxs("td",{className:"px-6 py-4 text-sm",children:[x.jsx("span",{className:`px-2 py-1 font-semibold text-xs rounded-full ${n.amount>=0?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:n.type}),n.type===aa.WITHDRAWAL_REQUEST&&x.jsx("span",{className:`ml-2 px-2 py-1 font-semibold text-xs rounded-full ${t[n.status]}`,children:n.status})]}),x.jsx("td",{className:`px-6 py-4 text-right font-bold ${n.amount>=0?"text-green-600":"text-red-600"}`,children:n.amount.toFixed(2)})]},n.id)),e.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No transactions recorded."})})]})]})})]})},bA=()=>{const{currentUser:e,courierStats:t,courierTransactions:n,requestCourierPayout:r}=di(),[s,o]=Ge.useState(!1);if(!e)return null;const f=t.find(y=>y.courierId===e.id),d=n.filter(y=>y.courierId===e.id).sort((y,N)=>new Date(N.timestamp).getTime()-new Date(y.timestamp).getTime()),p=()=>{!f||f.pendingEarnings<=0||(r(e.id,f.pendingEarnings),o(!1))};return f?x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Earnings"}),x.jsx("p",{className:"text-slate-500 mt-1",children:"Your performance and financial summary."})]}),x.jsxs("button",{onClick:()=>o(!0),disabled:f.pendingEarnings<=0,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-sm hover:bg-green-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed",children:["Request Payout (",f.pendingEarnings.toFixed(2)," EGP)"]})]}),x.jsx(yA,{courierStats:f}),x.jsx(vA,{transactions:d}),x.jsx(Wa,{isOpen:s,onClose:()=>o(!1),title:"Confirm Payout Request",children:x.jsxs("div",{children:[x.jsxs("p",{className:"text-lg",children:["You are about to request a payout for all your pending earnings of ",x.jsxs("strong",{className:"text-green-600",children:[f.pendingEarnings.toFixed(2)," EGP"]}),"."]}),x.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Once confirmed, an administrator will process your request. The funds will then be deducted from your pending balance and transferred to you."}),x.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[x.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),x.jsx("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold",children:"Confirm Request"})]})]})})]}):x.jsx("div",{className:"text-center p-8 bg-white rounded-lg",children:"Could not load your financial data."})},wA=({onSelectShipment:e})=>{const{users:t,shipments:n,courierStats:r,courierTransactions:s,updateCourierSettings:o,applyManualPenalty:f,processCourierPayout:d}=di(),[p,y]=Ge.useState(null),[N,S]=Ge.useState(!1),[E,w]=Ge.useState(null),[B,M]=Ge.useState(""),P=F=>{const X=r.find(k=>k.courierId===F);X&&(y(X),S(!0))},T=()=>{S(!1),y(null)},I=(F,X,k)=>{let H=[];k==="delivered"?(H=n.filter(W=>W.courierId===F&&(W.status===st.DELIVERED||W.status===st.RETURNED)),M(`Delivered Shipments for ${X}`)):(H=n.filter(W=>W.courierId===F&&[st.IN_TRANSIT,st.OUT_FOR_DELIVERY,st.RETURN_IN_PROGRESS].includes(W.status)),M(`Pending Shipments for ${X}`)),w(H)},D=F=>{e(F),w(null)},L=t.filter(F=>F.role==="Courier").map(F=>{const X=r.find(W=>W.courierId===F.id),k=s.filter(W=>W.courierId===F.id&&W.type===aa.WITHDRAWAL_REQUEST&&W.status===Gr.PENDING),H=n.filter(W=>W.courierId===F.id&&[st.IN_TRANSIT,st.OUT_FOR_DELIVERY,st.RETURN_IN_PROGRESS].includes(W.status)).length;return{user:F,stats:X,pendingPayouts:k,pendingCount:H}});return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Courier Performance"}),x.jsx("p",{className:"text-slate-500 mt-1",children:"Manage courier financials, restrictions, and view performance metrics."})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Courier"}),x.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase text-center",children:"Delivered"}),x.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase text-center",children:"Pending"}),x.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Earnings (Total / Balance)"}),x.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Commission"}),x.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Status"}),x.jsx("th",{className:"p-4 text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200",children:L.map(({user:F,stats:X,pendingPayouts:k,pendingCount:H})=>x.jsxs("tr",{children:[x.jsx("td",{className:"p-4 font-semibold",children:F.name}),x.jsx("td",{className:"p-4 font-mono text-center",children:x.jsx("button",{onClick:()=>I(F.id,F.name,"delivered"),className:"font-mono text-blue-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:!X||X.deliveriesCompleted===0,children:(X==null?void 0:X.deliveriesCompleted)??0})}),x.jsx("td",{className:"p-4 font-mono text-center",children:x.jsx("button",{onClick:()=>I(F.id,F.name,"pending"),className:"font-mono text-blue-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:H===0,children:H})}),x.jsx("td",{className:"p-4 font-mono",children:X?`${X.totalEarnings.toFixed(2)} / ${X.currentBalance.toFixed(2)}`:"N/A"}),x.jsx("td",{className:"p-4 text-sm",children:(X==null?void 0:X.commissionType)==="flat"?`${X.commissionValue} EGP`:`${X==null?void 0:X.commissionValue}%`}),x.jsxs("td",{className:"p-4",children:[X!=null&&X.isRestricted?x.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Restricted"}):x.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}),k.length>0&&x.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Payout Pending"})]}),x.jsx("td",{className:"p-4",children:x.jsx("button",{onClick:()=>P(F.id),className:"px-3 py-1.5 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 text-sm",children:"Manage"})})]},F.id))})]})})}),p&&N&&x.jsx(AA,{isOpen:N,onClose:T,courierStats:p,courierUser:t.find(F=>F.id===p.courierId),payoutRequests:s.filter(F=>F.courierId===p.courierId&&F.type===aa.WITHDRAWAL_REQUEST&&F.status===Gr.PENDING),onUpdateSettings:o,onApplyPenalty:f,onProcessPayout:d}),x.jsx(Wa,{isOpen:!!E,onClose:()=>w(null),title:B,size:"4xl",children:E&&x.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:x.jsx(Z2,{shipments:E,onSelect:D})})})]})},AA=({isOpen:e,onClose:t,courierStats:n,courierUser:r,payoutRequests:s,onUpdateSettings:o,onApplyPenalty:f,onProcessPayout:d})=>{const[p,y]=Ge.useState({commissionType:n.commissionType,commissionValue:n.commissionValue}),[N,S]=Ge.useState(0),[E,w]=Ge.useState("");Ge.useEffect(()=>{y({commissionType:n.commissionType,commissionValue:n.commissionValue})},[n]);const B=()=>{o(r.id,p),t()},M=()=>{N>0&&E&&(f(r.id,N,E),S(0),w(""),t())};return x.jsx(Wa,{isOpen:e,onClose:t,title:`Manage ${r.name}`,size:"4xl",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-6 p-6 bg-slate-50 rounded-lg",children:[x.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Financial Settings"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Commission Type"}),x.jsxs("select",{value:p.commissionType,onChange:P=>y(T=>({...T,commissionType:P.target.value})),className:"w-full mt-1 p-2 border border-slate-300 rounded-md",children:[x.jsx("option",{value:oa.FLAT,children:"Flat Rate (EGP)"}),x.jsx("option",{value:oa.PERCENTAGE,children:"Percentage (%)"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Commission Value"}),x.jsx("input",{type:"number",value:p.commissionValue,onChange:P=>y(T=>({...T,commissionValue:Number(P.target.value)})),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),x.jsx("button",{onClick:B,className:"w-full bg-primary-600 text-white font-semibold py-2 rounded-lg",children:"Save Settings"})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-4 p-6 bg-red-50 rounded-lg",children:[x.jsx("h3",{className:"font-bold text-lg text-red-800",children:"Apply Manual Penalty"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Penalty Amount (EGP)"}),x.jsx("input",{type:"number",value:N,onChange:P=>S(Number(P.target.value)),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),x.jsx("input",{type:"text",placeholder:"e.g., Damaged item, Stolen item",value:E,onChange:P=>w(P.target.value),className:"w-full mt-1 p-2 border border-slate-300 rounded-md"})]}),x.jsx("button",{onClick:M,disabled:N<=0||!E,className:"w-full bg-red-600 text-white font-semibold py-2 rounded-lg disabled:bg-red-300",children:"Apply Penalty"})]}),x.jsxs("div",{className:"space-y-4 p-6 bg-green-50 rounded-lg",children:[x.jsx("h3",{className:"font-bold text-lg text-green-800",children:"Process Payouts"}),s.length>0?s.map(P=>x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("p",{children:["Request for ",-P.amount," EGP"]}),x.jsx("button",{onClick:()=>{d(P.id),t()},className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm",children:"Process"})]},P.id)):x.jsx("p",{className:"text-slate-600 text-sm text-center",children:"No pending payout requests."})]})]})]})})},SA=({shipment:e})=>{const t=()=>x.jsxs("svg",{x:"0px",y:"0px",viewBox:"0 0 200 60",className:"w-full h-12",children:[x.jsx("rect",{x:"0",y:"0",width:"4",height:"50",fill:"#000000"}),x.jsx("rect",{x:"7",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"15",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"18",y:"0",width:"5",height:"50",fill:"#000000"}),x.jsx("rect",{x:"26",y:"0",width:"1",height:"50",fill:"#000000"}),x.jsx("rect",{x:"30",y:"0",width:"3",height:"50",fill:"#000000"}),x.jsx("rect",{x:"36",y:"0",width:"3",height:"50",fill:"#000000"}),x.jsx("rect",{x:"42",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"47",y:"0",width:"1",height:"50",fill:"#000000"}),x.jsx("rect",{x:"51",y:"0",width:"5",height:"50",fill:"#000000"}),x.jsx("rect",{x:"59",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"64",y:"0",width:"4",height:"50",fill:"#000000"}),x.jsx("rect",{x:"71",y:"0",width:"1",height:"50",fill:"#000000"}),x.jsx("rect",{x:"75",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"80",y:"0",width:"4",height:"50",fill:"#000000"}),x.jsx("rect",{x:"87",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"92",y:"0",width:"3",height:"50",fill:"#000000"}),x.jsx("rect",{x:"98",y:"0",width:"3",height:"50",fill:"#000000"}),x.jsx("rect",{x:"104",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"109",y:"0",width:"1",height:"50",fill:"#000000"}),x.jsx("rect",{x:"113",y:"0",width:"5",height:"50",fill:"#000000"}),x.jsx("rect",{x:"121",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"126",y:"0",width:"4",height:"50",fill:"#000000"}),x.jsx("rect",{x:"133",y:"0",width:"1",height:"50",fill:"#000000"}),x.jsx("rect",{x:"137",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"142",y:"0",width:"4",height:"50",fill:"#000000"}),x.jsx("rect",{x:"149",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"154",y:"0",width:"3",height:"50",fill:"#000000"}),x.jsx("rect",{x:"160",y:"0",width:"3",height:"50",fill:"#000000"}),x.jsx("rect",{x:"166",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"171",y:"0",width:"1",height:"50",fill:"#000000"}),x.jsx("rect",{x:"175",y:"0",width:"5",height:"50",fill:"#000000"}),x.jsx("rect",{x:"183",y:"0",width:"2",height:"50",fill:"#000000"}),x.jsx("rect",{x:"188",y:"0",width:"4",height:"50",fill:"#000000"}),x.jsx("rect",{x:"195",y:"0",width:"1",height:"50",fill:"#000000"})]});return x.jsx("div",{className:"bg-white p-8 border-4 border-dashed border-slate-300 w-full printable-label-container",children:x.jsxs("div",{className:"printable-label",style:{fontFamily:"sans-serif",color:"black"},children:[x.jsxs("header",{className:"flex justify-between items-center pb-4 border-b-2 border-black",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(tf,{className:"w-12 h-12"}),x.jsx("div",{children:x.jsx("h1",{className:"text-2xl font-extrabold text-black",children:"Flash Express"})})]}),x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"text-sm",children:["Date: ",new Date(e.creationDate).toLocaleDateString()]}),x.jsx("p",{className:"text-sm",children:"Shipment ID:"}),x.jsx("p",{className:"font-bold font-mono text-lg",children:e.id})]})]}),x.jsxs("main",{className:"grid grid-cols-2 gap-8 my-8",children:[x.jsxs("div",{className:"pr-8 border-r-2 border-dashed border-slate-400",children:[x.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"FROM"}),x.jsx("p",{className:"font-bold text-lg",children:e.clientName}),x.jsxs("p",{children:[e.fromAddress.street,", ",e.fromAddress.details]}),x.jsxs("p",{children:[e.fromAddress.city,", ",e.fromAddress.zone]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xs font-bold uppercase text-slate-600 mb-2",children:"TO"}),x.jsx("p",{className:"font-bold text-xl",children:e.recipientName}),x.jsxs("p",{className:"text-lg",children:[e.toAddress.street,", ",e.toAddress.details]}),x.jsxs("p",{className:"text-lg",children:[e.toAddress.city,", ",e.toAddress.zone]}),x.jsxs("p",{className:"font-bold text-lg mt-2",children:["Phone: ",e.recipientPhone]})]})]}),x.jsx("footer",{className:"border-t-2 border-black pt-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase font-bold text-slate-600",children:"Payment Details"}),x.jsx("p",{className:"text-2xl font-bold",children:e.paymentMethod}),e.paymentMethod===fr.COD&&x.jsxs("p",{className:"text-3xl font-extrabold text-green-600",children:[e.price.toFixed(2)," EGP"]}),x.jsx("p",{className:"text-xs uppercase font-bold text-slate-600 mt-4",children:"Package"}),x.jsxs("p",{children:[e.packageDescription,e.isLargeOrder&&" (Large Order)"]})]}),x.jsxs("div",{className:"text-center",children:[x.jsx(t,{}),x.jsx("p",{className:"font-mono tracking-widest text-sm",children:e.id})]})]})})]})})},NA=()=>{var X;const{currentUser:e,logout:t,users:n,updateShipmentStatus:r,reassignCourier:s}=di(),[o,f]=Ge.useState("dashboard"),[d,p]=Ge.useState(null),[y,N]=Ge.useState(null),[S,E]=Ge.useState(null),[w,B]=Ge.useState(!1),[M,P]=Ge.useState(null),T=()=>{p(null),B(!1),P(null)},I=()=>{d&&M&&(s(d.id,M),T())};if(Ge.useEffect(()=>(y?document.body.classList.add("printing-label"):document.body.classList.remove("printing-label"),()=>document.body.classList.remove("printing-label")),[y]),!e)return null;const D=()=>{window.print()},L=()=>{S&&r(S.id,st.RETURN_REQUESTED),E(null)},F=()=>{switch(o){case"dashboard":return x.jsx(em,{setActiveView:f});case"shipments":return x.jsx(v6,{onSelectShipment:p});case"create":return x.jsx(b6,{});case"assign":return x.jsx(w6,{});case"tasks":return x.jsx(lA,{});case"users":return x.jsx(cA,{});case"returns":return x.jsx(uA,{});case"wallet":return x.jsx(fA,{});case"financials":return x.jsx(hA,{});case"admin-financials":return x.jsx(dA,{});case"client-analytics":return x.jsx(xA,{onSelectShipment:p});case"notifications":return x.jsx(gA,{});case"profile":return x.jsx(pA,{});case"map":return x.jsx(mA,{});case"courier-financials":return x.jsx(bA,{});case"courier-performance":return x.jsx(wA,{onSelectShipment:p});default:return x.jsx(em,{setActiveView:f})}};return x.jsxs("div",{className:"flex h-screen bg-slate-100",children:[x.jsx(dw,{role:e.role,activeView:o,setActiveView:f}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsx(gw,{onLogout:t,user:e,onNavigate:f}),x.jsx("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:F()})]}),x.jsx(Wa,{isOpen:!!d,onClose:T,title:`Shipment Details: ${d==null?void 0:d.id}`,children:d&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-start gap-4",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"mb-1",children:[x.jsx("strong",{children:"Status:"})," ",x.jsx(N1,{status:d.status})]}),x.jsxs("p",{className:"text-sm text-slate-600",children:[x.jsx("strong",{children:"From:"})," ",d.fromAddress.street,", ",d.fromAddress.city]}),x.jsxs("p",{className:"text-sm text-slate-600",children:[x.jsx("strong",{children:"To:"})," ",d.toAddress.street,", ",d.toAddress.city]}),x.jsxs("p",{className:"text-sm text-slate-600",children:[x.jsx("strong",{children:"Courier:"})," ",((X=n.find(k=>k.id===d.courierId))==null?void 0:X.name)||"Not Assigned"]})]}),x.jsxs("div",{className:"flex flex-col gap-2 items-end flex-shrink-0",children:[(e.role===ot.ADMIN||e.role===ot.CLIENT)&&x.jsxs("button",{onClick:()=>N(d),className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition w-full justify-center text-sm",children:[x.jsx(Jp,{className:"w-5 h-5"}),"Print Label"]}),e.role===ot.CLIENT&&d.status===st.DELIVERED&&x.jsxs("button",{onClick:()=>E(d),className:"flex items-center gap-2 px-3 py-2 bg-orange-100 text-orange-800 font-semibold rounded-lg hover:bg-orange-200 transition w-full justify-center text-sm",children:[x.jsx(nf,{className:"w-5 h-5"}),"Request Return"]})]})]}),d.signature&&x.jsxs("div",{children:[x.jsx("strong",{children:"Signature:"}),x.jsx("img",{src:d.signature,alt:"Recipient Signature",className:"border rounded-lg mt-2"})]}),e.role===ot.ADMIN&&d.courierId&&![st.DELIVERED,st.RETURNED,st.DELIVERY_FAILED].includes(d.status)&&x.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:w?x.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg",children:[x.jsx("h4",{className:"font-semibold text-slate-700",children:"Select new courier:"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{onChange:k=>P(parseInt(k.target.value)),defaultValue:"",className:"flex-grow px-3 py-2 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"",disabled:!0,children:"Available Couriers..."}),n.filter(k=>k.role===ot.COURIER).map(k=>x.jsxs("option",{value:k.id,children:[k.name," (",k.zone,")"]},k.id))]}),x.jsx("button",{onClick:I,disabled:!M,className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition disabled:bg-slate-400",children:"Save"}),x.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Cancel"})]})]}):x.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-3 py-2 bg-yellow-100 text-yellow-800 font-semibold rounded-lg hover:bg-yellow-200 transition text-sm",children:[x.jsx(lw,{className:"w-5 h-5"}),"Re-assign Courier"]})})]})}),x.jsx(Wa,{isOpen:!!y,onClose:()=>N(null),title:"Print Shipment Label",size:"4xl",children:y&&x.jsxs("div",{className:"flex flex-col gap-6",children:[x.jsx(SA,{shipment:y}),x.jsxs("div",{className:"flex justify-end gap-4 p-4 -mb-6 -mx-6 bg-slate-50 rounded-b-xl",children:[x.jsx("button",{onClick:()=>N(null),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 font-semibold",children:"Close"}),x.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition",children:[x.jsx(Jp,{className:"w-5 h-5"}),"Print"]})]})]})}),x.jsx(Wa,{isOpen:!!S,onClose:()=>E(null),title:"Confirm Return Request",size:"md",children:S&&x.jsxs("div",{children:[x.jsxs("p",{children:["Are you sure you want to request a return for shipment ",x.jsx("strong",{children:S.id}),"? A courier will be assigned to pick up the item from ",x.jsx("strong",{children:S.recipientName}),"."]}),x.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[x.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 bg-slate-200 rounded-lg font-semibold",children:"Cancel"}),x.jsx("button",{onClick:L,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold",children:"Confirm Request"})]})]})})]})},CA=[st.PENDING_ASSIGNMENT,st.ASSIGNED_TO_COURIER,st.PICKED_UP,st.IN_TRANSIT,st.OUT_FOR_DELIVERY,st.DELIVERED],EA=[{status:st.PENDING_ASSIGNMENT,icon:x.jsx(K0,{}),title:"Shipment Created",description:"The shipment request has been received."},{status:st.ASSIGNED_TO_COURIER,icon:x.jsx(V2,{}),title:"Courier Assigned",description:"A courier is on their way to pick up the package."},{status:st.PICKED_UP,icon:x.jsx(Po,{}),title:"Picked Up",description:"The courier has collected the package."},{status:st.IN_TRANSIT,icon:x.jsx(Po,{}),title:"In Transit",description:"The package is on its way to the destination city."},{status:st.OUT_FOR_DELIVERY,icon:x.jsx(Ru,{}),title:"Out for Delivery",description:"The package is on its final leg of the journey."},{status:st.DELIVERED,icon:x.jsx(v1,{}),title:"Delivered",description:"The package has been successfully delivered."}],TA=({shipment:e})=>{const t=CA.indexOf(e.status),n=e.status===st.DELIVERY_FAILED;return x.jsxs("div",{className:"relative pl-8",children:[x.jsx("div",{className:"absolute left-4 top-4 bottom-4 w-0.5 bg-slate-200"}),x.jsxs("div",{className:"space-y-8",children:[EA.map((r,s)=>{const o=t>=s,f=t===s;return x.jsxs("div",{className:"relative flex items-start gap-4",children:[x.jsx("div",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 flex items-center justify-center w-8 h-8 rounded-full z-10 ${o?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"}`,children:zc.cloneElement(r.icon,{className:"w-5 h-5"})}),x.jsxs("div",{className:"pt-1",children:[x.jsx("p",{className:`font-bold ${o?"text-slate-800":"text-slate-500"}`,children:r.title}),x.jsx("p",{className:"text-sm text-slate-600",children:r.description}),f&&e.deliveryDate&&r.status===st.DELIVERED&&x.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:new Date(e.deliveryDate).toLocaleString()})]})]},r.status)}),n&&x.jsxs("div",{className:"relative flex items-start gap-4",children:[x.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 flex items-center justify-center w-8 h-8 rounded-full z-10 bg-red-600 text-white",children:x.jsx(G2,{className:"w-5 h-5"})}),x.jsxs("div",{className:"pt-1",children:[x.jsx("p",{className:"font-bold text-red-800",children:"Delivery Attempt Failed"}),x.jsx("p",{className:"text-sm text-slate-600",children:"The courier was unable to deliver the package. They will try again."})]})]})]})]})},_A=({onBackToApp:e})=>{const{trackShipment:t,addToast:n}=di(),[r,s]=Ge.useState(""),[o,f]=Ge.useState(""),[d,p]=Ge.useState(null),[y,N]=Ge.useState(!1),S=E=>{if(E.preventDefault(),!r.trim()||!o.trim()){n("Please enter both a tracking ID and phone number.","error");return}N(!0),p(null),setTimeout(()=>{const w=t(r,o);w?(p(w),n("Shipment found!","success")):n("No shipment found with those details.","error"),N(!1)},500)};return x.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[x.jsx("header",{className:"p-4 border-b border-slate-200 bg-white",children:x.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(tf,{className:"w-9 h-9"}),x.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Flash Express Tracking"})]}),x.jsx("button",{onClick:e,className:"text-sm font-semibold text-primary-600 hover:text-primary-800",children:"Back to Portal"})]})}),x.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:x.jsx("div",{className:"w-full max-w-6xl mx-auto",children:d?x.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg animate-fade-in-up",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6 pb-6 border-b border-slate-200",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Shipment Details"}),x.jsx("p",{className:"font-mono text-slate-600",children:d.id})]}),x.jsx(N1,{status:d.status})]}),x.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"From"}),x.jsx("p",{className:"text-lg font-medium text-slate-800",children:d.clientName}),x.jsxs("p",{className:"text-slate-600",children:[d.fromAddress.street,", ",d.fromAddress.city]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"To"}),x.jsx("p",{className:"text-lg font-medium text-slate-800",children:d.recipientName}),x.jsxs("p",{className:"text-slate-600",children:[d.toAddress.street,", ",d.toAddress.city]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase",children:"Last Updated"}),x.jsx("p",{className:"text-lg font-medium text-slate-800",children:new Date(d.creationDate).toLocaleString()})]})]}),x.jsxs("div",{className:"lg:col-span-2",children:[x.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Tracking History"}),x.jsx(TA,{shipment:d})]})]})]}):x.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white p-8 rounded-xl shadow-lg",children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center",children:"Track Your Shipment"}),x.jsx("p",{className:"text-slate-600 text-center mt-2 mb-8",children:"Enter the shipment ID and your phone number to see its status."}),x.jsxs("form",{onSubmit:S,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"trackingId",className:"block text-sm font-medium text-slate-700",children:"Shipment ID"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:x.jsx("svg",{className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-4V3a1 1 0 00-1-1H9zm-1 4a1 1 0 100 2 1 1 0 000-2zM8 9a1 1 0 112 0 1 1 0 01-2 0z",clipRule:"evenodd"})})}),x.jsx("input",{id:"trackingId",type:"text",value:r,onChange:E=>s(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., FLS123456",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-slate-700",children:"Phone Number (Sender or Recipient)"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:x.jsx(j3,{className:"h-5 w-5 text-slate-400"})}),x.jsx("input",{id:"phoneNumber",type:"tel",value:o,onChange:E=>f(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 01012345678",required:!0})]})]}),x.jsx("button",{type:"submit",disabled:y,className:"w-full flex justify-center bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-300 disabled:bg-slate-400",children:y?"Searching...":"Track Now"})]})]})})})]})},IA=()=>{var s,o;const{currentUser:e,addToast:t}=di(),[n,r]=Ge.useState(!1);return nw((o=(s=globalThis.process)==null?void 0:s.env)==null?void 0:o.API_KEY,t),n?x.jsx(_A,{onBackToApp:()=>r(!1)}):x.jsxs(x.Fragment,{children:[(e==null?void 0:e.role)===ot.COURIER&&x.jsx(iw,{}),x.jsx("div",{className:"transition-opacity duration-500 opacity-100",children:e?x.jsx(NA,{}):x.jsx(hw,{onTrackPackageClick:()=>r(!0)})}),x.jsx(fw,{})]})},DA=()=>x.jsx(ew,{children:x.jsx(IA,{})}),dy=document.getElementById("root");if(!dy)throw new Error("Could not find root element to mount to");const LA=Zb.createRoot(dy);LA.render(x.jsx(zc.StrictMode,{children:x.jsx(DA,{})}));export{In as _,yo as c,qd as g};
